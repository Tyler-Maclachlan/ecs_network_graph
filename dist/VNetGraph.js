!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=19)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e,i,r){void 0===i&&(i=!1),n(this,t),this._fn=e,this._once=i,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,e.default=a,t.exports=e.default},function(t,e,i){var r,n,s;!function(i){var o=/iPhone/i,a=/iPod/i,h=/iPad/i,u=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,c=/\bAndroid(?:.+)SD4930UR\b/i,d=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,p=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,g=/BlackBerry/i,v=/BB10/i,y=/Opera Mini/i,m=/\b(CriOS|Chrome)(?:.+)Mobile/i,_=/Mobile(?:.+)Firefox\b/i;function x(t,e){return t.test(e)}function b(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var r={apple:{phone:x(o,e)&&!x(p,e),ipod:x(a,e),tablet:!x(o,e)&&x(h,e)&&!x(p,e),device:(x(o,e)||x(a,e)||x(h,e))&&!x(p,e)},amazon:{phone:x(c,e),tablet:!x(c,e)&&x(d,e),device:x(c,e)||x(d,e)},android:{phone:!x(p,e)&&x(c,e)||!x(p,e)&&x(u,e),tablet:!x(p,e)&&!x(c,e)&&!x(u,e)&&(x(d,e)||x(l,e)),device:!x(p,e)&&(x(c,e)||x(d,e)||x(u,e)||x(l,e))||x(/\bokhttp\b/i,e)},windows:{phone:x(p,e),tablet:x(f,e),device:x(p,e)||x(f,e)},other:{blackberry:x(g,e),blackberry10:x(v,e),opera:x(y,e),firefox:x(_,e),chrome:x(m,e),device:x(g,e)||x(v,e)||x(y,e)||x(_,e)||x(m,e)}};return r.any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}t.exports&&"undefined"==typeof window?t.exports=b:t.exports&&"undefined"!=typeof window?(t.exports=b(),t.exports.isMobile=b):(n=[],r=i.isMobile=b(),void 0===(s="function"==typeof r?r.apply(e,n):r)||(t.exports=s))}(this)},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";var r=i(13),n=i(15);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){n.isString(t)&&(t=_(t));return t instanceof s?t.format():s.prototype.format.call(t)},e.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=i(16);function _(t,e,i){if(t&&n.isObject(t)&&t instanceof s)return t;var r=new s;return r.parse(t,e,i),r}s.prototype.parse=function(t,e,i){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),a=-1!==s&&s<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!i&&1===t.split("#").length){var x=h.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=o.exec(_);if(b){var w=(b=b[0]).toLowerCase();this.protocol=w,_=_.substr(b.length)}if(i||b||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===_.substr(0,2);!T||b&&v[b]||(_=_.substr(2),this.slashes=!0)}if(!v[b]&&(T||b&&!y[b])){for(var E,S,A=-1,O=0;O<d.length;O++){-1!==(C=_.indexOf(d[O]))&&(-1===A||C<A)&&(A=C)}-1!==(S=-1===A?_.lastIndexOf("@"):_.lastIndexOf("@",A))&&(E=_.slice(0,S),_=_.slice(S+1),this.auth=decodeURIComponent(E)),A=-1;for(O=0;O<c.length;O++){var C;-1!==(C=_.indexOf(c[O]))&&(-1===A||C<A)&&(A=C)}-1===A&&(A=_.length),this.host=_.slice(0,A),_=_.slice(A),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),M=(O=0,P.length);O<M;O++){var D=P[O];if(D&&!D.match(p)){for(var R="",L=0,F=D.length;L<F;L++)D.charCodeAt(L)>127?R+="x":R+=D[L];if(!R.match(p)){var N=P.slice(0,O),B=P.slice(O+1),U=D.match(f);U&&(N.push(U[1]),B.unshift(U[2])),B.length&&(_="/"+B.join(".")+_),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=r.toASCII(this.hostname));var k=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+k,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[w])for(O=0,M=l.length;O<M;O++){var X=l[O];if(-1!==_.indexOf(X)){var G=encodeURIComponent(X);G===X&&(G=escape(X)),_=_.split(X).join(G)}}var z=_.indexOf("#");-1!==z&&(this.hash=_.substr(z),_=_.slice(0,z));var H=_.indexOf("?");if(-1!==H?(this.search=_.substr(H),this.query=_.substr(H+1),e&&(this.query=m.parse(this.query)),_=_.slice(0,H)):e&&(this.search="",this.query={}),_&&(this.pathname=_),y[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var Y=this.search||"";this.path=k+Y}return this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",s=!1,o="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(o=m.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==s?(s="//"+(s||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):s||(s=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+s+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+r},s.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(n.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var i=new s,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];i[a]=this[a]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(i[l]=t[l])}return y[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||v[t.protocol])i.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var g=i.pathname||"",m=i.search||"";i.path=g+m}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var _=i.pathname&&"/"===i.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=x||_||i.host&&t.pathname,w=b,T=i.pathname&&i.pathname.split("/")||[],E=(f=t.pathname&&t.pathname.split("/")||[],i.protocol&&!y[i.protocol]);if(E&&(i.hostname="",i.port=null,i.host&&(""===T[0]?T[0]=i.host:T.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===T[0])),x)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,T=f;else if(f.length)T||(T=[]),T.pop(),T=T.concat(f),i.search=t.search,i.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(E)i.hostname=i.host=T.shift(),(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift());return i.search=t.search,i.query=t.query,n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!T.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var S=T.slice(-1)[0],A=(i.host||t.host||T.length>1)&&("."===S||".."===S)||""===S,O=0,C=T.length;C>=0;C--)"."===(S=T[C])?T.splice(C,1):".."===S?(T.splice(C,1),O++):O&&(T.splice(C,1),O--);if(!b&&!w)for(;O--;O)T.unshift("..");!b||""===T[0]||T[0]&&"/"===T[0].charAt(0)||T.unshift(""),A&&"/"!==T.join("/").substr(-1)&&T.push("");var I,P=""===T[0]||T[0]&&"/"===T[0].charAt(0);E&&(i.hostname=i.host=P?"":T.length?T.shift():"",(I=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=I.shift(),i.host=i.hostname=I.shift()));return(b=b||i.host&&T.length)&&!P&&T.unshift(""),T.length?i.pathname=T.join("/"):(i.pathname=null,i.path=null),n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},s.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,i){"use strict";t.exports=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},s=14;s--;)n[i.key[s]]=r[s]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(t,e,r){e&&(n[i.q.name][e]=r)}),n}},function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function s(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(t,e,i,r,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new o(i,r||t,s),h=n?n+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function u(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,s=i.length,o=new Array(s);r<s;r++)o[r]=i[r].fn;return o},u.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},u.prototype.emit=function(t,e,i,r,s,o){var a=n?n+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,r),!0;case 5:return l.fn.call(l.context,e,i,r,s),!0;case 6:return l.fn.call(l.context,e,i,r,s,o),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,i);break;case 4:l[u].fn.call(l[u].context,e,i,r);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},u.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},u.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},u.prototype.removeListener=function(t,e,i,r){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return h(this,s),this;var o=this._events[s];if(o.fn)o.fn!==e||r&&!o.once||i&&o.context!==i||h(this,s);else{for(var a=0,u=[],l=o.length;a<l;a++)(o[a].fn!==e||r&&!o[a].once||i&&o[a].context!==i)&&u.push(o[a]);u.length?this._events[s]=1===u.length?u[0]:u:h(this,s)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&h(this,e)):(this._events=new s,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u},function(t,e,i){"use strict";function r(t,e,i){i=i||2;var r,a,h,u,l,p,g,v=e&&e.length,y=v?e[0]*i:t.length,m=n(t,0,y,i,!0),_=[];if(!m||m.next===m.prev)return _;if(v&&(m=function(t,e,i,r){var o,a,h,u,l,p=[];for(o=0,a=e.length;o<a;o++)h=e[o]*r,u=o<a-1?e[o+1]*r:t.length,(l=n(t,h,u,r,!1))===l.next&&(l.steiner=!0),p.push(f(l));for(p.sort(c),o=0;o<p.length;o++)d(p[o],i),i=s(i,i.next);return i}(t,e,m,i)),t.length>80*i){r=h=t[0],a=u=t[1];for(var x=i;x<y;x+=i)(l=t[x])<r&&(r=l),(p=t[x+1])<a&&(a=p),l>h&&(h=l),p>u&&(u=p);g=0!==(g=Math.max(h-r,u-a))?1/g:0}return o(m,_,i,r,a,g),_}function n(t,e,i,r,n){var s,o;if(n===S(t,e,i,r)>0)for(s=e;s<i;s+=r)o=w(s,t[s],t[s+1],o);else for(s=i-r;s>=e;s-=r)o=w(s,t[s],t[s+1],o);return o&&m(o,o.next)&&(T(o),o=o.next),o}function s(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!m(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(T(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function o(t,e,i,r,n,c,d){if(t){!d&&c&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=p(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,s,o,a,h,u=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,r=i,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(h=u;a>0||h>0&&r;)0!==a&&(0===h||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,h--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=r}s.nextZ=null,u*=2}while(o>1)}(n)}(t,r,n,c);for(var f,g,v=t;t.prev!==t.next;)if(f=t.prev,g=t.next,c?h(t,r,n,c):a(t))e.push(f.i/i),e.push(t.i/i),e.push(g.i/i),T(t),t=g.next,v=g.next;else if((t=g)===v){d?1===d?o(t=u(t,e,i),e,i,r,n,c,2):2===d&&l(t,e,i,r,n,c):o(s(t),e,i,r,n,c,1);break}}}function a(t){var e=t.prev,i=t,r=t.next;if(y(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(g(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,i,r){var n=t.prev,s=t,o=t.next;if(y(n,s,o)>=0)return!1;for(var a=n.x<s.x?n.x<o.x?n.x:o.x:s.x<o.x?s.x:o.x,h=n.y<s.y?n.y<o.y?n.y:o.y:s.y<o.y?s.y:o.y,u=n.x>s.x?n.x>o.x?n.x:o.x:s.x>o.x?s.x:o.x,l=n.y>s.y?n.y>o.y?n.y:o.y:s.y>o.y?s.y:o.y,c=p(a,h,e,i,r),d=p(u,l,e,i,r),f=t.prevZ,v=t.nextZ;f&&f.z>=c&&v&&v.z<=d;){if(f!==t.prev&&f!==t.next&&g(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,v!==t.prev&&v!==t.next&&g(n.x,n.y,s.x,s.y,o.x,o.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&g(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;v&&v.z<=d;){if(v!==t.prev&&v!==t.next&&g(n.x,n.y,s.x,s.y,o.x,o.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function u(t,e,i){var r=t;do{var n=r.prev,s=r.next.next;!m(n,s)&&_(n,r,r.next,s)&&x(n,s)&&x(s,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(s.i/i),T(r),T(r.next),r=t=s),r=r.next}while(r!==t);return r}function l(t,e,i,r,n,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&v(h,u)){var l=b(h,u);return h=s(h,h.next),l=s(l,l.next),o(h,e,i,r,n,a),void o(l,e,i,r,n,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var i,r=e,n=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o){if(o=a,a===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===o)return i.prev;var h,u=i,l=i.x,c=i.y,d=1/0;r=i.next;for(;r!==u;)n>=r.x&&r.x>=l&&n!==r.x&&g(s<c?n:o,s,l,c,s<c?o:n,s,r.x,r.y)&&((h=Math.abs(s-r.y)/(n-r.x))<d||h===d&&r.x>i.x)&&x(r,t)&&(i=r,d=h),r=r.next;return i}(t,e)){var i=b(e,t);s(i,i.next)}}function p(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function g(t,e,i,r,n,s,o,a){return(n-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(r-a)-(i-o)*(e-a)>=0&&(i-o)*(s-a)-(n-o)*(r-a)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&_(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&x(t,e)&&x(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function y(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,i,r){return!!(m(t,e)&&m(i,r)||m(t,r)&&m(i,e))||y(t,e,i)>0!=y(t,e,r)>0&&y(i,r,t)>0!=y(i,r,e)>0}function x(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function b(t,e){var i=new E(t.i,t.x,t.y),r=new E(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function w(t,e,i,r){var n=new E(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function T(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function E(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,i,r){for(var n=0,s=e,o=i-r;s<i;s+=r)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}t.exports=r,t.exports.default=r,r.deviation=function(t,e,i,r){var n=e&&e.length,s=n?e[0]*i:t.length,o=Math.abs(S(t,0,s,i));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,l=a<h-1?e[a+1]*i:t.length;o-=Math.abs(S(t,u,l,i))}var c=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,p=r[a+1]*i,f=r[a+2]*i;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},r.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[n][s][o]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i}},function(t,e,i){(function(r,n){var s;!function(r){var o=r.Promise,a=o&&"resolve"in o&&"reject"in o&&"all"in o&&"race"in o&&function(){var t;return new o(function(e){t=e}),"function"==typeof t}();e?(e.Promise=a?o:O,e.Polyfill=O):void 0===(s=function(){return a?o:O}.call(e,i,e,t))||(t.exports=s);var h="pending",u="sealed",l="fulfilled",c="rejected",d=function(){};function p(t){return"[object Array]"===Object.prototype.toString.call(t)}var f,g=void 0!==n?n:setTimeout,v=[];function y(){for(var t=0;t<v.length;t++)v[t][0](v[t][1]);v=[],f=!1}function m(t,e){v.push([t,e]),f||(f=!0,g(y,0))}function _(t){var e=t.owner,i=e.state_,r=e.data_,n=t[i],s=t.then;if("function"==typeof n){i=l;try{r=n(r)}catch(t){T(s,t)}}x(s,r)||(i===l&&b(s,r),i===c&&T(s,r))}function x(t,e){var i;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,function(r){i||(i=!0,e!==r?b(t,r):w(t,r))},function(e){i||(i=!0,T(t,e))}),!0}}catch(e){return i||T(t,e),!0}return!1}function b(t,e){t!==e&&x(t,e)||w(t,e)}function w(t,e){t.state_===h&&(t.state_=u,t.data_=e,m(S,t))}function T(t,e){t.state_===h&&(t.state_=u,t.data_=e,m(A,t))}function E(t){var e=t.then_;t.then_=void 0;for(var i=0;i<e.length;i++)_(e[i])}function S(t){t.state_=l,E(t)}function A(t){t.state_=c,E(t)}function O(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof O==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function i(t){T(e,t)}try{t(function(t){b(e,t)},i)}catch(t){i(t)}}(t,this)}O.prototype={constructor:O,state_:h,then_:null,data_:void 0,then:function(t,e){var i={owner:this,then:new this.constructor(d),fulfilled:t,rejected:e};return this.state_===l||this.state_===c?m(_,i):this.then_.push(i),i.then},catch:function(t){return this.then(null,t)}},O.all=function(t){if(!p(t))throw new TypeError("You must pass an array to Promise.all().");return new this(function(e,i){var r=[],n=0;function s(t){return n++,function(i){r[t]=i,--n||e(r)}}for(var o,a=0;a<t.length;a++)(o=t[a])&&"function"==typeof o.then?o.then(s(a),i):r[a]=o;n||e(r)})},O.race=function(t){if(!p(t))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,i){for(var r,n=0;n<t.length;n++)(r=t[n])&&"function"==typeof r.then?r.then(e,i):e(r)})},O.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})},O.reject=function(t){return new this(function(e,i){i(t)})}}("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this)}).call(this,i(2),i(10).setImmediate)},function(t,e,i){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,a,h=o(t),u=1;u<arguments.length;u++){for(var l in i=Object(arguments[u]))n.call(i,l)&&(h[l]=i[l]);if(r){a=r(i);for(var c=0;c<a.length;c++)s.call(i,a[c])&&(h[a[c]]=i[a[c]])}}return h}},function(t,e,i){"use strict";(function(t){var e=i(7),r=i(8),n=i.n(r);
/*!
 * @pixi/polyfill - v5.1.0
 * Compiled Fri, 19 Jul 2019 21:54:36 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
window.Promise||(window.Promise=e.Polyfill),Object.assign||(Object.assign=n.a);var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!s.performance||!s.performance.now){var o=Date.now();s.performance||(s.performance={}),s.performance.now=function(){return Date.now()-o}}for(var a=Date.now(),h=["ms","moz","webkit","o"],u=0;u<h.length&&!s.requestAnimationFrame;++u){var l=h[u];s.requestAnimationFrame=s[l+"RequestAnimationFrame"],s.cancelAnimationFrame=s[l+"CancelAnimationFrame"]||s[l+"CancelRequestAnimationFrame"]}s.requestAnimationFrame||(s.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+a-e;return i<0&&(i=0),a=e,setTimeout(function(){a=Date.now(),t(performance.now())},i)}),s.cancelAnimationFrame||(s.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array)}).call(this,i(2))},function(t,e,i){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(n.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new s(n.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(11),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(2))},function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var r,n,s,o,a,h=1,u={},l=!1,c=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){f(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((s=new MessageChannel).port1.onmessage=function(t){f(t.data)},r=function(t){s.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,r=function(t){var e=c.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):r=function(t){setTimeout(f,0,t)}:(o="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&f(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(o+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return u[h]=n,r(h),h++},d.clearImmediate=p}function p(t){delete u[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(i,r)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(2),i(12))},function(t,e){var i,r,n=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(t){i=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var h,u=[],l=!1,c=-1;function d(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new f(t,e)),1!==u.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,i){(function(t,r){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var a,h=2147483647,u=36,l=1,c=26,d=38,p=700,f=72,g=128,v="-",y=/^xn--/,m=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=u-l,w=Math.floor,T=String.fromCharCode;function E(t){throw new RangeError(x[t])}function S(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function A(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+S((t=t.replace(_,".")).split("."),e).join(".")}function O(t){for(var e,i,r=[],n=0,s=t.length;n<s;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<s?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function C(t){return S(t,function(t){var e="";return t>65535&&(e+=T((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=T(t)}).join("")}function I(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,i){var r=0;for(t=i?w(t/p):t>>1,t+=w(t/e);t>b*c>>1;r+=u)t=w(t/b);return w(r+(b+1)*t/(t+d))}function M(t){var e,i,r,n,s,o,a,d,p,y,m,_=[],x=t.length,b=0,T=g,S=f;for((i=t.lastIndexOf(v))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&E("not-basic"),_.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<x;){for(s=b,o=1,a=u;n>=x&&E("invalid-input"),((d=(m=t.charCodeAt(n++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:u)>=u||d>w((h-b)/o))&&E("overflow"),b+=d*o,!(d<(p=a<=S?l:a>=S+c?c:a-S));a+=u)o>w(h/(y=u-p))&&E("overflow"),o*=y;S=P(b-s,e=_.length+1,0==s),w(b/e)>h-T&&E("overflow"),T+=w(b/e),b%=e,_.splice(b++,0,T)}return C(_)}function D(t){var e,i,r,n,s,o,a,d,p,y,m,_,x,b,S,A=[];for(_=(t=O(t)).length,e=g,i=0,s=f,o=0;o<_;++o)(m=t[o])<128&&A.push(T(m));for(r=n=A.length,n&&A.push(v);r<_;){for(a=h,o=0;o<_;++o)(m=t[o])>=e&&m<a&&(a=m);for(a-e>w((h-i)/(x=r+1))&&E("overflow"),i+=(a-e)*x,e=a,o=0;o<_;++o)if((m=t[o])<e&&++i>h&&E("overflow"),m==e){for(d=i,p=u;!(d<(y=p<=s?l:p>=s+c?c:p-s));p+=u)S=d-y,b=u-y,A.push(T(I(y+S%b,0))),d=w(S/b);A.push(T(I(d,0))),s=P(i,x,r==n),i=0,++r}++i,++e}return A.join("")}a={version:"1.4.1",ucs2:{decode:O,encode:C},decode:M,encode:D,toASCII:function(t){return A(t,function(t){return m.test(t)?"xn--"+D(t):t})},toUnicode:function(t){return A(t,function(t){return y.test(t)?M(t.slice(4).toLowerCase()):t})}},void 0===(n=function(){return a}.call(e,i,e,t))||(t.exports=n)}()}).call(this,i(14)(t),i(2))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,i){"use strict";e.decode=e.parse=i(17),e.encode=e.stringify=i(18)},function(t,e,i){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,s){e=e||"&",i=i||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var h=1e3;s&&"number"==typeof s.maxKeys&&(h=s.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;l<u;++l){var c,d,p,f,g=t[l].replace(a,"%20"),v=g.indexOf(i);v>=0?(c=g.substr(0,v),d=g.substr(v+1)):(c=g,d=""),p=decodeURIComponent(c),f=decodeURIComponent(d),r(o,p)?n(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,i){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,i,a){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?s(o(t),function(o){var a=encodeURIComponent(r(o))+i;return n(t[o])?s(t[o],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[o]))}).join(e):a?encodeURIComponent(r(a))+i+encodeURIComponent(r(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r++)i.push(e(t[r],r));return i}var o=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},function(t,e,i){"use strict";i.r(e);var r={};i.r(r),i.d(r,"InteractionData",function(){return Zi}),i.d(r,"InteractionEvent",function(){return Ji}),i.d(r,"InteractionManager",function(){return rr}),i.d(r,"InteractionTrackingData",function(){return $i}),i.d(r,"interactiveTarget",function(){return tr});i(9);var n=i(1),s=i.n(n);var o={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:
/*!
 * @pixi/settings - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function(t){var e=!0;if(s.a.tablet||s.a.phone){if(e=!1,s.a.apple.device){var i=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(i)parseInt(i[1],10)>=11&&(e=!0)}if(s.a.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r)parseInt(r[1],10)>=7&&(e=!0)}}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:s.a.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!s.a.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},a=i(5),h=i.n(a),u=i(6),l=i.n(u),c=i(3),d=i.n(c),p={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},f={UNKNOWN:0,WEBGL:1,CANVAS:2},g={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19,NONE:20,SRC_OVER:0,SRC_IN:21,SRC_OUT:22,SRC_ATOP:23,DST_OVER:24,DST_IN:25,DST_OUT:26,DST_ATOP:27,ERASE:26,SUBTRACT:28},v={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},y={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},m={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},_={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},x=1,b=0,w=33071,T=10497,E=1,S=1,A={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};
/*!
 * @pixi/utils - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
o.RETINA_PREFIX=/@([0-9\.]+)x/,o.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var O,C=!1,I="5.1.1";function P(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function M(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}var D=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[g.NORMAL_NPM]=g.NORMAL,t[g.ADD_NPM]=g.ADD,t[g.SCREEN_NPM]=g.SCREEN,e[g.NORMAL]=g.NORMAL_NPM,e[g.ADD]=g.ADD_NPM,e[g.SCREEN]=g.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function R(t,e){return D[e?1:0][t]}function L(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,n=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(n=n*e+.5|0)}function F(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(r||void 0===r)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function N(t,e,i){var r,n=t.length;if(!(e>=n||0===i)){var s=n-(i=e+i>n?n-e:i);for(r=e;r<s;++r)t[r]=t[r+i];t.length=s}}var B=0;function U(){return++B}function k(t){return 0===t?0:t<0?-1:1}function j(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function X(t){return!(t&t-1||!t)}function G(t){var e=(t>65535)<<4,i=((t>>>=e)>255)<<3;return e|=i,e|=i=((t>>>=i)>15)<<2,(e|=i=((t>>>=i)>3)<<1)|(t>>>=i)>>1}var z={},H=Object.create(null),Y=Object.create(null);var V=function(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||o.RESOLUTION,this.resize(t,e)},W={width:{configurable:!0},height:{configurable:!0}};V.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},V.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},V.prototype.destroy=function(){this.context=null,this.canvas=null},W.width.get=function(){return this.canvas.width},W.width.set=function(t){this.canvas.width=t},W.height.get=function(){return this.canvas.height},W.height.set=function(t){this.canvas.height=t},Object.defineProperties(V.prototype,W);var q;function Z(t,e){var i=o.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}var K={};function J(t,e,i){if(void 0===i&&(i=3),!K[e]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),K[e]=!0}}
/*!
 * @pixi/math - v5.1.0
 * Compiled Fri, 19 Jul 2019 21:54:36 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e};$.prototype.clone=function(){return new $(this.x,this.y)},$.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},$.prototype.copyTo=function(t){return t.set(this.x,this.y),t},$.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},$.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)};var Q=function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e},tt={x:{configurable:!0},y:{configurable:!0}};Q.prototype.clone=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=t||this.cb,r=e||this.scope;return new Q(i,r,this._x,this._y)},Q.prototype.set=function(t,e){var i=t||0,r=e||(0!==e?i:0);this._x===i&&this._y===r||(this._x=i,this._y=r,this.cb.call(this.scope))},Q.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},Q.prototype.copyTo=function(t){return t.set(this._x,this._y),t},Q.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},tt.x.get=function(){return this._x},tt.x.set=function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},tt.y.get=function(){return this._y},tt.y.set=function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},Object.defineProperties(Q.prototype,tt);var et=2*Math.PI,it=180/Math.PI,rt=Math.PI/180,nt={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},st=function(t,e,i,r,n,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s,this.array=null},ot={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};st.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},st.prototype.set=function(t,e,i,r,n,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s,this},st.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},st.prototype.apply=function(t,e){e=e||new $;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},st.prototype.applyInverse=function(t,e){e=e||new $;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},st.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},st.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},st.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},st.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},st.prototype.setTransform=function(t,e,i,r,n,s,o,a,h){return this.a=Math.cos(o+h)*n,this.b=Math.sin(o+h)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},st.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},st.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,s=-Math.atan2(-r,n),o=Math.atan2(i,e),a=Math.abs(s+o);return a<1e-5||Math.abs(et-a)<1e-5?(t.rotation=o,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=o),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},st.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*n)/s,this.ty=-(t*this.ty-e*n)/s,this},st.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},st.prototype.clone=function(){var t=new st;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},st.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},st.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},ot.IDENTITY.get=function(){return new st},ot.TEMP_MATRIX.get=function(){return new st},Object.defineProperties(st,ot);var at=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ht=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ut=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],lt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ct=[],dt=[],pt=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];ct.push(e);for(var i=0;i<16;i++)for(var r=pt(at[t]*at[i]+ut[t]*ht[i]),n=pt(ht[t]*at[i]+lt[t]*ht[i]),s=pt(at[t]*ut[i]+ut[t]*lt[i]),o=pt(ht[t]*ut[i]+lt[t]*lt[i]),a=0;a<16;a++)if(at[a]===r&&ht[a]===n&&ut[a]===s&&lt[a]===o){e.push(a);break}}for(var h=0;h<16;h++){var u=new st;u.set(at[h],ht[h],ut[h],lt[h],0,0),dt.push(u)}}();var ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return at[t]},uY:function(t){return ht[t]},vX:function(t){return ut[t]},vY:function(t){return lt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return ct[t][e]},sub:function(t,e){return ct[t][ft.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?ft.S:ft.N:2*Math.abs(e)<=Math.abs(t)?t>0?ft.E:ft.W:e>0?t>0?ft.SE:ft.SW:t>0?ft.NE:ft.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=dt[ft.inv(e)];n.tx=i,n.ty=r,t.append(n)}},gt=function(){this.worldTransform=new st,this.localTransform=new st,this.position=new Q(this.onChange,this,0,0),this.scale=new Q(this.onChange,this,1,1),this.pivot=new Q(this.onChange,this,0,0),this.skew=new Q(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},vt={rotation:{configurable:!0}};gt.prototype.onChange=function(){this._localID++},gt.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},gt.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},gt.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},gt.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},vt.rotation.get=function(){return this._rotation},vt.rotation.set=function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},Object.defineProperties(gt.prototype,vt),gt.IDENTITY=new gt;var yt=function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=nt.RECT},mt={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},_t={EMPTY:{configurable:!0}};mt.left.get=function(){return this.x},mt.right.get=function(){return this.x+this.width},mt.top.get=function(){return this.y},mt.bottom.get=function(){return this.y+this.height},_t.EMPTY.get=function(){return new yt(0,0,0,0)},yt.prototype.clone=function(){return new yt(this.x,this.y,this.width,this.height)},yt.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},yt.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},yt.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},yt.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},yt.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(n-r,0)},yt.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y},yt.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=i-e,this.y=r,this.height=n-r},Object.defineProperties(yt.prototype,mt),Object.defineProperties(yt,_t);var xt=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=nt.CIRC};xt.prototype.clone=function(){return new xt(this.x,this.y,this.radius)},xt.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},xt.prototype.getBounds=function(){return new yt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};var bt=function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=nt.ELIP};bt.prototype.clone=function(){return new bt(this.x,this.y,this.width,this.height)},bt.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},bt.prototype.getBounds=function(){return new yt(this.x-this.width,this.y-this.height,this.width,this.height)};var wt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof $){for(var i=[],r=0,n=t.length;r<n;r++)i.push(t[r].x,t[r].y);t=i}this.points=t,this.type=nt.POLY,this.closeStroke=!0};wt.prototype.clone=function(){var t=new wt(this.points.slice());return t.closeStroke=this.closeStroke,t},wt.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,s=r-1;n<r;s=n++){var o=this.points[2*n],a=this.points[2*n+1],h=this.points[2*s],u=this.points[2*s+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-o)+o&&(i=!i)}return i};var Tt=function(t,e,i,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=nt.RREC};Tt.prototype.clone=function(){return new Tt(this.x,this.y,this.width,this.height,this.radius)},Tt.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},
/*!
 * @pixi/display - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
o.SORTABLE_CHILDREN=!1;var Et=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Et.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Et.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Et.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?yt.EMPTY:((t=t||new yt(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Et.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Et.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,s=t[0],o=t[1];e=s<e?s:e,i=o<i?o:i,r=s>r?s:r,n=o>n?o:n,e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,r=s>r?s:r,n=o>n?o:n,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,r=s>r?s:r,n=o>n?o:n,e=(s=t[6])<e?s:e,i=(o=t[7])<i?o:i,r=s>r?s:r,n=o>n?o:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},Et.prototype.addFrame=function(t,e,i,r,n){var s=t.worldTransform,o=s.a,a=s.b,h=s.c,u=s.d,l=s.tx,c=s.ty,d=this.minX,p=this.minY,f=this.maxX,g=this.maxY,v=o*e+h*i+l,y=a*e+u*i+c;d=v<d?v:d,p=y<p?y:p,f=v>f?v:f,g=y>g?y:g,d=(v=o*r+h*i+l)<d?v:d,p=(y=a*r+u*i+c)<p?y:p,f=v>f?v:f,g=y>g?y:g,d=(v=o*e+h*n+l)<d?v:d,p=(y=a*e+u*n+c)<p?y:p,f=v>f?v:f,g=y>g?y:g,d=(v=o*r+h*n+l)<d?v:d,p=(y=a*r+u*n+c)<p?y:p,f=v>f?v:f,g=y>g?y:g,this.minX=d,this.minY=p,this.maxX=f,this.maxY=g},Et.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2){var h=t[a],u=t[a+1];r=h<r?h:r,n=u<n?u:n,s=h>s?h:s,o=u>o?u:o}this.minX=r,this.minY=n,this.maxX=s,this.maxY=o},Et.prototype.addVertices=function(t,e,i,r){for(var n=t.worldTransform,s=n.a,o=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,g=i;g<r;g+=2){var v=e[g],y=e[g+1],m=s*v+a*y+u,_=h*y+o*v+l;c=m<c?m:c,d=_<d?_:d,p=m>p?m:p,f=_>f?_:f}this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},Et.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},Et.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=s){var o=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<o?i:o,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=s>u?s:u}},Et.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=s){var o=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<o?i:o,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=s>u?s:u}};var St=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new gt,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Et,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var i=Object.keys(t),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},i._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new yt),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new yt),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=i,this.transform=e,r},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,r,n,s,o,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i.x.get=function(){return this.position.x},i.x.set=function(t){this.transform.position.x=t},i.y.get=function(){return this.position.y},i.y.set=function(t){this.transform.position.y=t},i.worldTransform.get=function(){return this.transform.worldTransform},i.localTransform.get=function(){return this.transform.localTransform},i.position.get=function(){return this.transform.position},i.position.set=function(t){this.transform.position.copyFrom(t)},i.scale.get=function(){return this.transform.scale},i.scale.set=function(t){this.transform.scale.copyFrom(t)},i.pivot.get=function(){return this.transform.pivot},i.pivot.set=function(t){this.transform.pivot.copyFrom(t)},i.skew.get=function(){return this.transform.skew},i.skew.set=function(t){this.transform.skew.copyFrom(t)},i.rotation.get=function(){return this.transform.rotation},i.rotation.set=function(t){this.transform.rotation=t},i.angle.get=function(){return this.transform.rotation*it},i.angle.set=function(t){this.transform.rotation=t*rt},i.zIndex.get=function(){return this._zIndex},i.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},i.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},i.mask.get=function(){return this._mask},i.mask.set=function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(e.prototype,i),e}(h.a);function At(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}St.prototype.displayObjectUpdateTransform=St.prototype.updateTransform;var Ot=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=o.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var r=0;r<i;r++)this.addChild(e[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);N(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var r=0;r<i;r++)this.removeChild(e[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,N(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,N(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var i,r=t,n="number"==typeof e?e:this.children.length,s=n-r;if(s>0&&s<=n){i=this.children.splice(r,s);for(var o=0;o<i.length;++o)i[o].parent=null,i[o].transform&&(i[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<i.length;++a)i[a].emit("removed",this),this.emit("childRemoved",i[a],this,a);return i}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(At),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);for(var n=0,s=this.children.length;n<s;n++)this.children[n].render(t);t.batch.flush(),i&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var n=0;n<r.length;++n)r[n].destroy(e)},i.width.get=function(){return this.scale.x*this.getLocalBounds().width},i.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},i.height.get=function(){return this.scale.y*this.getLocalBounds().height},i.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,i),e}(St);Ot.prototype.containerUpdateTransform=Ot.prototype.updateTransform;St.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1});var Ct=function(t){this._hookDiv=null,(s.a.tablet||s.a.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};Ct.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},Ct.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},Ct.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},Ct.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},Ct.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},Ct.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var s=this.children[n];if(s.renderId!==this.renderId)s._accessibleActive=!1,N(this.children,n,1),this.div.removeChild(s._accessibleDiv),this.pool.push(s._accessibleDiv),s._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{r=s._accessibleDiv;var o=s.hitArea,a=s.worldTransform;s.hitArea?(r.style.left=(a.tx+o.x*a.a)*e+"px",r.style.top=(a.ty+o.y*a.d)*i+"px",r.style.width=o.width*a.a*e+"px",r.style.height=o.height*a.d*i+"px"):(o=s.getBounds(),this.capHitArea(o),r.style.left=o.x*e+"px",r.style.top=o.y*i+"px",r.style.width=o.width*e+"px",r.style.height=o.height*i+"px",r.title!==s.accessibleTitle&&null!==s.accessibleTitle&&(r.title=s.accessibleTitle),r.getAttribute("aria-label")!==s.accessibleHint&&null!==s.accessibleHint&&r.setAttribute("aria-label",s.accessibleHint))}}this.renderId++}},Ct.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},Ct.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},Ct.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},Ct.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},Ct.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},Ct.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},Ct.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},Ct.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};
/*!
 * @pixi/runner - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var It=function(t){this.items=[],this._name=t,this._aliasCount=0},Pt={empty:{configurable:!0},name:{configurable:!0}};It.prototype.emit=function(t,e,i,r,n,s,o,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this,u=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][u](t,e,i,r,n,s,o,a);return l===this.items&&this._aliasCount--,this},It.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},It.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},It.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},It.prototype.contains=function(t){return-1!==this.items.indexOf(t)},It.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},It.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Pt.empty.get=function(){return 0===this.items.length},Pt.name.get=function(){return this._name},Object.defineProperties(It.prototype,Pt),It.prototype.dispatch=It.prototype.emit,It.prototype.run=It.prototype.emit,
/*!
 * @pixi/ticker - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
o.TARGET_FPMS=.06;var Mt=50,Dt=0,Rt=-25,Lt=-50,Ft=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1};Ft.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},Ft.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},Ft.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},Ft.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e};var Nt=function(){var t=this;this._head=new Ft(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/o.TARGET_FPMS,this.elapsedMS=1/o.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}},Bt={FPS:{configurable:!0},minFPS:{configurable:!0},maxFPS:{configurable:!0}},Ut={shared:{configurable:!0},system:{configurable:!0}};Nt.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},Nt.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},Nt.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},Nt.prototype.add=function(t,e,i){return void 0===i&&(i=Dt),this._addListener(new Ft(t,e,i))},Nt.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Dt),this._addListener(new Ft(t,e,i,!0))},Nt.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},Nt.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Nt.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},Nt.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},Nt.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},Nt.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*o.TARGET_FPMS;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Bt.FPS.get=function(){return 1e3/this.elapsedMS},Bt.minFPS.get=function(){return 1e3/this._maxElapsedMS},Bt.minFPS.set=function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,o.TARGET_FPMS);this._maxElapsedMS=1/i},Bt.maxFPS.get=function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},Bt.maxFPS.set=function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},Ut.shared.get=function(){if(!Nt._shared){var t=Nt._shared=new Nt;t.autoStart=!0,t._protected=!0}return Nt._shared},Ut.system.get=function(){if(!Nt._system){var t=Nt._system=new Nt;t.autoStart=!0,t._protected=!0}return Nt._system},Object.defineProperties(Nt.prototype,Bt),Object.defineProperties(Nt,Ut);var kt=function(){};kt.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Rt)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Nt.shared:new Nt,t.autoStart&&this.start()},kt.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}};
/*!
 * @pixi/core - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var jt=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new It("setRealSize",2),this.onUpdate=new It("update")},Xt={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};jt.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},jt.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t)},jt.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},Xt.valid.get=function(){return!!this._width&&!!this._height},jt.prototype.update=function(){this.destroyed||this.onUpdate.run()},jt.prototype.load=function(){return Promise.resolve()},Xt.width.get=function(){return this._width},Xt.height.get=function(){return this._height},jt.prototype.upload=function(t,e,i){return!1},jt.prototype.style=function(t,e,i){return!1},jt.prototype.dispose=function(){},jt.prototype.destroy=function(){this.destroyed||(this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null,this.destroyed=!0,this.dispose())},Object.defineProperties(jt.prototype,Xt);var Gt=function(t){function e(e){var i=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;t.call(this,i,r),this.source=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,q||(q=document.createElement("a")),q.href=t;var i=!(t=d.a.parse(q.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&i&&t.protocol===e.protocol?"":"anonymous"}(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,r){var n=t.gl,s=e.realWidth,o=e.realHeight;return r=r||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),e.target===n.TEXTURE_2D&&i.width===s&&i.height===o?n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,r):(i.width=s,i.height=o,n.texImage2D(e.target,0,e.format,e.format,e.type,r)),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,i=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(jt),zt=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLImageElement)){var r=new Image;t.crossOrigin(r,e,i.crossorigin),r.src=e,e=r}t.call(this,e),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==i.createBitmap?i.createBitmap:o.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.premultiplyAlpha=!1!==i.premultiplyAlpha,this.bitmap=null,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise(function(t){e.url=e.source.src;var i=e.source,r=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?r():i.onload=r}),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))}),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,r){if(i.premultiplyAlpha=this.premultiplyAlpha,!this.createBitmap)return t.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var n=!0;for(var s in i._glTextures){var o=i._glTextures[s];if(o!==r&&o.dirtyId!==i.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(Gt),Ht=[];function Yt(t,e){if(!t)return null;var i="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(i=r[1].toLowerCase())}for(var n=Ht.length-1;n>=0;--n){var s=Ht[n];if(s.test&&s.test(t,i))return new s(t,e)}return new zt(t,e)}var Vt=function(t){function e(e,i){var r=i||{},n=r.width,s=r.height;if(!n||!s)throw new Error("BufferResource width or height invalid");t.call(this,n,s),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(jt),Wt={scaleMode:b,format:y.RGBA,premultiplyAlpha:!1},qt=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null),t.call(this);var r=(i=i||{}).premultiplyAlpha,n=i.mipmap,s=i.anisotropicLevel,a=i.scaleMode,h=i.width,u=i.height,l=i.wrapMode,c=i.format,d=i.type,p=i.target,f=i.resolution,g=i.resourceOptions;!e||e instanceof jt||((e=Yt(e,g)).internal=!0),this.width=h||0,this.height=u||0,this.resolution=f||o.RESOLUTION,this.mipmap=void 0!==n?n:o.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==s?s:o.ANISOTROPIC_LEVEL,this.wrapMode=l||o.WRAP_MODE,this.scaleMode=void 0!==a?a:o.SCALE_MODE,this.format=c||y.RGBA,this.type=d||_.UNSIGNED_BYTE,this.target=p||m.TEXTURE_2D,this.premultiplyAlpha=!1!==r,this.uid=U(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=h>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={realWidth:{configurable:!0},realHeight:{configurable:!0}};return i.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},i.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=X(this.realWidth)&&X(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Y[this.cacheId],delete H[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,i){var r=null;"string"==typeof t?r=t:(t._pixiId||(t._pixiId="pixiid_"+U()),r=t._pixiId);var n=Y[r];return n||((n=new e(t,i)).cacheId=r,e.addToCache(n,r)),n},e.fromBuffer=function(t,i,r,n){t=t||new Float32Array(i*r*4);var s=new Vt(t,{width:i,height:r}),o=t instanceof Float32Array?_.FLOAT:_.UNSIGNED_BYTE;return new e(s,Object.assign(Wt,n||{width:i,height:r,type:o}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Y[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Y[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Y[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete Y[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete Y[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,i),e}(h.a);qt._globalBatch=0;var Zt=function(t){function e(e,i){var r;i=i||{};var n=e;Array.isArray(e)&&(r=e,n=e.length),t.call(this,i.width,i.height),this.items=[],this.itemDirtyIds=[];for(var s=0;s<n;s++){var o=new qt;this.items.push(o),this.itemDirtyIds.push(-1)}if(this.length=n,this._load=null,r)for(var a=0;a<n;a++)this.addResourceAt(Yt(r[a],i),a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=m.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map(function(t){return t.resource}),i=e.map(function(t){return t.load()});return this._load=Promise.all(i).then(function(){var i=e[0],r=i.width,n=i.height;return t.resize(r,n),Promise.resolve(t)}),this._load},e.prototype.upload=function(t,e,i){var r=this.length,n=this.itemDirtyIds,s=this.items,o=t.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,r,0,e.format,e.type,null);for(var a=0;a<r;a++){var h=s[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}(jt),Kt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(Gt),Jt=function(t){function e(i,r){if(r=r||{},t.call(this,i,r),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var n=0;n<e.SIDES;n++)this.items[n].target=m.TEXTURE_CUBE_MAP_POSITIVE_X+n;!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=m.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,i,r){for(var n=this.itemDirtyIds,s=0;s<e.SIDES;s++){var o=this.items[s];n[s]<o.dirtyId&&(n[s]=o.dirtyId,o.valid&&o.resource.upload(t,o,r))}return!0},e}(Zt);Jt.SIDES=6;var $t=function(t){function e(e,i){i=i||{},t.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=e,this.scale=i.scale||1,this._overrideWidth=i.width,this._overrideHeight=i.height,this._resolve=null,this._crossorigin=i.crossorigin,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var e=this,i=new Image;t.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onload=function(){var t=i.width,r=i.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=t*e.scale,s=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/r*t,s=e._overrideHeight||e._overrideWidth/t*r),n=Math.round(n),s=Math.round(s);var o=e.source;o.width=n,o.height=s,o._pixiId="canvas_"+U(),o.getContext("2d").drawImage(i,0,0,t,r,0,0,n,s),e._resolve(),e._resolve=null}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e}(Gt);$t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var Qt=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLVideoElement)){var r=document.createElement("video");r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(r,e[0].src||e[0],i.crossorigin);for(var n=0;n<e.length;++n){var s=document.createElement("source"),o=e[n],a=o.src,h=o.mime,u=(a=a||e[n]).split("?").shift().toLowerCase(),l=u.substr(u.lastIndexOf(".")+1);h=h||"video/"+l,s.src=a,s.type=h,r.appendChild(s)}e=r}t.call(this,e),this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==i.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),!1!==i.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var i=Nt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay)),this._load=new Promise(function(i){t.valid?i(t):(t._resolve=i,e.load())}),this._load},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(Nt.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(Nt.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&Nt.shared.remove(this.update,this),this.source&&(this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},i.autoUpdate.get=function(){return this._autoUpdate},i.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(Nt.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(Nt.shared.add(this.update,this),this._isAutoUpdating=!0))},i.updateFPS.get=function(){return this._updateFPS},i.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},Object.defineProperties(e.prototype,i),e}(Gt);Qt.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var te=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(Gt);Ht.push(zt,te,Kt,Qt,$t,Vt,Jt,Zt);var ee=function(t){this.renderer=t};ee.prototype.destroy=function(){this.renderer=null};var ie=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(Vt),re=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new It("disposeFramebuffer",2)},ne={colorTexture:{configurable:!0}};ne.colorTexture.get=function(){return this.colorTextures[0]},re.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new qt(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},re.prototype.addDepthTexture=function(t){return this.depthTexture=t||new qt(new ie(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:y.DEPTH_COMPONENT,type:_.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},re.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},re.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},re.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(t/s,e/s)}}},re.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(re.prototype,ne);var se=function(t){function e(e){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});t.call(this,null,e);var i=e||{},r=i.width,n=i.height;this.mipmap=!1,this.width=Math.ceil(r)||100,this.height=Math.ceil(n)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new re(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this).enableStencil(),this.stencilMaskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null},e}(qt),oe=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};oe.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var s=t.width/2/r,o=t.height/2/n,a=t.x/r+s,h=t.y/n+o;i=ft.add(i,ft.NW),this.x0=a+s*ft.uX(i),this.y0=h+o*ft.uY(i),i=ft.add(i,2),this.x1=a+s*ft.uX(i),this.y1=h+o*ft.uY(i),i=ft.add(i,2),this.x2=a+s*ft.uX(i),this.y2=h+o*ft.uY(i),i=ft.add(i,2),this.x3=a+s*ft.uX(i),this.y3=h+o*ft.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var ae=new oe,he=function(t){function e(i,r,n,s,o,a){if(t.call(this),this.noFrame=!1,r||(this.noFrame=!0,r=new yt(0,0,1,1)),i instanceof e&&(i=i.baseTexture),this.baseTexture=i,this._frame=r,this.trim=s,this.valid=!1,this.requiresUpdate=!1,this._uvs=ae,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(o||0),!0===o)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new $(a.x,a.y):new $(0,0),this._updateID=0,this.textureCacheIds=[],i.valid?this.noFrame?i.valid&&this.onBaseTextureUpdated(i):this.frame=r:i.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&i.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture.resource;i&&H[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===ae&&(this._uvs=new oe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i){void 0===i&&(i={});var r=null;"string"==typeof t?r=t:(t._pixiId||(t._pixiId="pixiid_"+U()),r=t._pixiId);var n=H[r];return n||(i.resolution||(i.resolution=Z(t)),(n=new e(new qt(t,i))).baseTexture.cacheId=r,qt.addToCache(n.baseTexture,r),e.addToCache(n,r)),n},e.fromBuffer=function(t,i,r,n){return new e(qt.fromBuffer(t,i,r,n))},e.fromLoader=function(t,i,r){var n=new zt(t);n.url=i;var s=new e(new qt(n,{scaleMode:o.SCALE_MODE,resolution:Z(i)}));return r||(r=i),qt.addToCache(s.baseTexture,r),e.addToCache(s,r),r!==i&&(qt.addToCache(s.baseTexture,i),e.addToCache(s,i)),s},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),H[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),H[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=H[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete H[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)H[t.textureCacheIds[r]]===t&&delete H[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},i.resolution.get=function(){return this.baseTexture.resolution},i.frame.get=function(){return this._frame},i.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,s=e+r>this.baseTexture.width,o=i+n>this.baseTexture.height;if(s||o){var a=s&&o?"and":"or",h="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},i.rotate.get=function(){return this._rotate},i.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},i.width.get=function(){return this.orig.width},i.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,i),e}(h.a);function ue(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}he.EMPTY=new he(new qt),ue(he.EMPTY),ue(he.EMPTY.baseTexture),he.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new he(new qt(new Kt(t)))}(),ue(he.WHITE),ue(he.WHITE.baseTexture);var le=function(t){function e(e,i){var r=null;if(!(e instanceof se)){var n=arguments[1],s=arguments[2],o=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+s+") instead of the ctor directly."),r=arguments[0],i=null,e=new se({width:n,height:s,scaleMode:o,resolution:a})}t.call(this,e,i),this.legacyRenderer=r,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new se(t))},e}(he),ce=function(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0};ce.prototype.createTexture=function(t,e){var i=new se(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new le(i)},ce.prototype.getOptimalTexture=function(t,e,i){void 0===i&&(i=1);var r=ce.SCREEN_KEY;t*=i,e*=i,this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight||(r=(65535&(t=j(t)))<<16|65535&(e=j(e))),this.texturePool[r]||(this.texturePool[r]=[]);var n=this.texturePool[r].pop();return n||(n=this.createTexture(t,e)),n.filterPoolKey=r,n.setResolution(i),n},ce.prototype.getFilterTexture=function(t,e){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},ce.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},ce.prototype.returnFilterTexture=function(t){this.returnTexture(t)},ce.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},ce.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var e=ce.SCREEN_KEY,i=this.texturePool[e];if(this.enableFullScreen=t.width>0&&t.height>0,i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},ce.SCREEN_KEY="screen";var de=function(t,e,i,r,n,s,o){void 0===i&&(i=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=s,this.instance=o};de.prototype.destroy=function(){this.buffer=null},de.from=function(t,e,i,r,n){return new de(t,e,i,r,n)};var pe=0,fe=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=pe++,this.disposeRunner=new It("disposeBuffer",2)};function ge(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}fe.prototype.update=function(t){this.data=t||this.data,this._updateID++},fe.prototype.dispose=function(){this.disposeRunner.run(this,!1)},fe.prototype.destroy=function(){this.dispose(),this.data=null},fe.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new fe(t)};var ve={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var ye={5126:4,5123:2,5121:1},me=0,_e={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},xe=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=me++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new It("disposeGeometry",2),this.refCount=0};xe.prototype.addAttribute=function(t,e,i,r,n,s,o,a){if(void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new fe(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,i,r,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new de(l,i,r,n,s,o,a),this.instanced=this.instanced||a,this},xe.prototype.getAttribute=function(t){return this.attributes[t]},xe.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},xe.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new fe(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},xe.prototype.getIndex=function(){return this.indexBuffer},xe.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new fe;for(t in this.attributes){var n=this.attributes[t],s=this.buffers[n.buffer];e.push(s.data),i.push(n.size*ye[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},s=0;s<t.length;s++)r+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,h=0,u=0;u<t.length;u++){var l=e[u],c=t[u],d=ge(c);n[d]||(n[d]=new ve[d](o)),a=n[d];for(var p=0;p<c.length;p++){a[(p/l|0)*r+h+p%l]=c[p]}h+=l}return new Float32Array(o)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},xe.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},xe.prototype.dispose=function(){this.disposeRunner.run(this,!1)},xe.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer.destroy(),this.attributes=null},xe.prototype.clone=function(){for(var t=new xe,e=0;e<this.buffers.length;e++)t.buffers[e]=new fe(this.buffers[e].data.slice());for(var i in this.attributes){var r=this.attributes[i];t.attributes[i]=new de(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},xe.merge=function(t){for(var e,i=new xe,r=[],n=[],s=[],o=0;o<t.length;o++){e=t[o];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,s[a]=0}for(var h=0;h<e.buffers.length;h++)r[h]=new(_e[ge(e.buffers[h].data)])(n[h]),i.buffers[h]=new fe(r[h]);for(var u=0;u<t.length;u++){e=t[u];for(var l=0;l<e.buffers.length;l++)r[l].set(e.buffers[l].data,s[l]),s[l]+=e.buffers[l].data.length}if(i.attributes=e.attributes,e.indexBuffer){i.indexBuffer=i.buffers[e.buffers.indexOf(e.indexBuffer)],i.indexBuffer.index=!0;for(var c=0,d=0,p=0,f=0,g=0;g<e.buffers.length;g++)if(e.buffers[g]!==e.indexBuffer){f=g;break}for(var v in e.attributes){var y=e.attributes[v];(0|y.buffer)===f&&(d+=y.size*ye[y.type]/4)}for(var m=0;m<t.length;m++){for(var _=t[m].indexBuffer.data,x=0;x<_.length;x++)i.indexBuffer.data[x+p]+=c;c+=e.buffers[f].data.length/d,p+=_.length}}return i};var be=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(xe),we=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new fe(this.vertices),this.uvBuffer=new fe(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(xe),Te=0,Ee=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Te++,this.static=!!e};Ee.prototype.update=function(){this.dirtyId++},Ee.prototype.add=function(t,e,i){this.uniforms[t]=new Ee(e,i)},Ee.from=function(t,e){return new Ee(t,e)};var Se=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new yt,this.destinationFrame=new yt,this.filters=[]};Se.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var Ae=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool=new ce,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new be,this.quadUv=new we,this.tempRect=new yt,this.activeState={},this.globalUniforms=new Ee({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var i=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new Se,s=e[0].resolution,o=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];s=Math.min(s,l.resolution),o=Math.max(o,l.padding),a=a||l.autoFit,h=h||l.legacy}1===r.length&&(this.defaultFilterStack[0].renderTexture=i.renderTexture.current),r.push(n),n.resolution=s,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(o),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(s),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,s),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,i.renderTexture.bind(n.renderTexture,n.sourceFrame),i.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var n=r.inputSize,s=r.inputPixel,o=r.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],s[0]=n[0]*e.resolution,s[1]=n[1]*e.resolution,s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*n[2]-.5*s[2],o[3]=e.sourceFrame.height*n[3]-.5*s[3],e.legacy){var a=r.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<i.length-1;++c){i[c].apply(this,u,l,!0,e);var d=u;u=l,l=d}i[c].apply(this,u,h.renderTexture,!1,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,i,r){var n=this.renderer;n.renderTexture.bind(i,i?i.filterFrame:null),r&&n.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.set(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(v.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(v.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,s=e._texture.orig,o=t.set(n.width,0,0,n.height,r.x,r.y),a=e.worldTransform.copyTo(st.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(e.anchor.x,e.anchor.y),o},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,i){return void 0===i&&(i=1),this.texturePool.getOptimalTexture(t,e,i)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var i=t;t=e,e=i}t=t||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e}(ee),Oe=function(t){this.renderer=t};Oe.prototype.flush=function(){},Oe.prototype.destroy=function(){this.renderer=null},Oe.prototype.start=function(){},Oe.prototype.stop=function(){this.flush()},Oe.prototype.render=function(t){};var Ce=function(t){function e(e){t.call(this,e),this.emptyRenderer=new Oe(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e}(ee);o.PREFER_ENV=s.a.any?p.WEBGL:p.WEBGL2;var Ie=0,Pe=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={isLost:{configurable:!0}};return i.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Ie++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Ie++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var i;if(o.PREFER_ENV>=p.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),i},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:t.getExtension("EXT_color_buffer_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,i),e}(ee),Me=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new re(10,10)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new yt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;o.PREFER_ENV===p.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var i=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++)t.colorTextures[n].texturePart?this.renderer.texture.unbind(t.colorTextures[n].texture):this.renderer.texture.unbind(t.colorTextures[n]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,i,r){var n=this.viewport;n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},i.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,i,r){var n=this.gl;n.clearColor(t,e,i,r),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},e.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,n=0;n<r.length;n++)this.renderer.texture.bind(r[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1));for(var n=[],s=0;s<r;s++){var o=t.colorTextures[s];o.texturePart?(this.renderer.texture.bind(o.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+s,e.TEXTURE_CUBE_MAP_NEGATIVE_X+o.side,o.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(o,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+s,e.TEXTURE_2D,o._glTextures[this.CONTEXT_UID].texture,0)),n.push(e.COLOR_ATTACHMENT0+s)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}i.stencil||!t.stencil&&!t.depth||(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height))},e.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.stencil&&r.deleteRenderbuffer(i.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new yt},Object.defineProperties(e.prototype,i),e}(ee),De=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},Re={5126:4,5123:2,5121:1},Le=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var i=this.renderer.context.extensions.vertexArrayObject;o.PREFER_ENV===p.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(t){return i.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return i.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(t,e){return r.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,n,s){return r.drawElementsInstancedANGLE(t,e,i,n,s)},t.drawArraysInstanced=function(t,e,i,n){return r.drawArraysInstancedANGLE(t,e,i,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID];r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={});var n=r[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?i.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var r=t.buffers[i],n=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==n.updateID){n.updateID=r._updateID;var s=r.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(s,n.buffer),this._boundBuffer=n,n.byteLength>=r.data.byteLength)e.bufferSubData(s,0,r.data);else{var o=r.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=r.data.byteLength,e.bufferData(s,r.data,o)}}}},e.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,n=["g",t.id];for(var s in i)r[s]&&n.push(s);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var i=this.gl,r=this.CONTEXT_UID,n=this.getSignature(t,e),s=t.glVertexArrayObjects[this.CONTEXT_UID],o=s[n];if(o)return s[e.id]=o,o;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var d in h)!h[d].size&&e.attributeData[d]?h[d].size=e.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[d].buffer]+=h[d].size*Re[h[d].type];for(var p in h){var f=h[p],g=f.size;void 0===f.stride&&(u[f.buffer]===g*Re[f.type]?f.stride=0:f.stride=u[f.buffer]),void 0===f.start&&(f.start=l[f.buffer],l[f.buffer]+=g*Re[f.type])}o=i.createVertexArray(),i.bindVertexArray(o);for(var v=0;v<a.length;v++){var y=a[v];y._glBuffers[r]||(y._glBuffers[r]=new De(i.createBuffer()),this.managedBuffers[y.id]=y,y.disposeRunner.add(this)),y._glBuffers[r].refCount++}return this.activateVao(t,e),this._activeVao=o,s[e.id]=o,s[n]=o,o},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),i){for(var s=0;s<n.length;s++){var o=n[s]._glBuffers[this.CONTEXT_UID];o.refCount--,0!==o.refCount||e||this.disposeBuffer(n[s],e)}if(!e)for(var a in i)if("g"===a[0]){var h=i[a];this._activeVao===h&&this.unbind(),r.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t);e=Object.keys(this.managedBuffers);for(var r=0;r<e.length;r++)this.disposeBuffer(this.managedBuffers[e[r]],t)},e.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=t.buffers,s=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var o=null;for(var a in s){var h=s[a],u=n[h.buffer]._glBuffers[r];if(e.attributeData[a]){o!==u&&(i.bindBuffer(i.ARRAY_BUFFER,u.buffer),o=u);var l=e.attributeData[a].location;if(i.enableVertexAttribArray(l),i.vertexAttribPointer(l,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,i,r){var n=this.gl,s=this._activeGeometry;if(s.indexBuffer){var o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?n.drawElementsInstanced(t,e||s.indexBuffer.data.length,a,(i||0)*o,r||1):n.drawElements(t,e||s.indexBuffer.data.length,a,(i||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?n.drawArraysInstanced(t,i,e||s.getSize(),r||1):n.drawArrays(t,i,e||s.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(ee);function Fe(t,e,i,r){var n=Ne(t,t.VERTEX_SHADER,e),s=Ne(t,t.FRAGMENT_SHADER,i),o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,s),r)for(var a in r)t.bindAttribLocation(o,r[a],a);return t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(o,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(o)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(o)),t.deleteProgram(o),o=null),t.deleteShader(n),t.deleteShader(s),o}function Ne(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.warn(i),console.error(t.getShaderInfoLog(r)),null)}function Be(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Ue(2*e);case"bvec3":return Ue(3*e);case"bvec4":return Ue(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Ue(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}var ke,je={},Xe=je;function Ge(){if(Xe===je){var t,e=document.createElement("canvas");o.PREFER_ENV>=p.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Xe=t}return Xe}function ze(t,e,i){if("precision"!==t.substring(0,9)){var r=e;return e===A.HIGH&&i!==A.HIGH&&(r=A.MEDIUM),"precision "+r+" float;\n"+t}return i!==A.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var He={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Ye(t){return He[t]}var Ve=null,We={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function qe(t,e){if(!Ve){var i=Object.keys(We);Ve={};for(var r=0;r<i.length;++r){var n=i[r];Ve[t[n]]=We[n]}}return Ve[e]}var Ze={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Ke={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Je,$e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Qe(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}var ti=0,ei={},ii=function t(e,i,r){void 0===r&&(r="pixi-shader"),this.id=ti++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),ei[r]?(ei[r]++,r+="-"+ei[r]):ei[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=ze(this.vertexSrc,o.PRECISION_VERTEX,A.HIGH),this.fragmentSrc=ze(this.fragmentSrc,o.PRECISION_FRAGMENT,function(){if(!ke){ke=A.MEDIUM;var t=Ge();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);ke=e.precision?A.HIGH:A.MEDIUM}}return ke}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},ri={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};ii.prototype.extractData=function(t,e){var i=Ge();if(i){var r=Fe(i,t,e);this.attributeData=this.getAttributeData(r,i),this.uniformData=this.getUniformData(r,i),i.deleteProgram(r)}else this.uniformData={},this.attributeData={}},ii.prototype.getAttributeData=function(t,e){for(var i={},r=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<n;s++){var o=e.getActiveAttrib(t,s),a=qe(e,o.type),h={type:a,name:o.name,size:Ye(a),location:0};i[o.name]=h,r.push(h)}r.sort(function(t,e){return t.name>e.name?1:-1});for(var u=0;u<r.length;u++)r[u].location=u;return i},ii.prototype.getUniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var s=e.getActiveUniform(t,n),o=s.name.replace(/\[.*?\]/,""),a=s.name.match(/\[.*?\]/,""),h=qe(e,s.type);i[o]={type:h,size:s.size,isArray:a,value:Be(h,s.size)}}return i},ri.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},ri.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},ii.from=function(t,e,i){var r=t+e,n=z[r];return n||(z[r]=n=new ii(t,e,i)),n},Object.defineProperties(ii,ri);var ni=function(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Ee?e:new Ee(e):new Ee({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))},si={uniforms:{configurable:!0}};ni.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},ni.prototype.destroy=function(){this.uniformGroup=null},si.uniforms.get=function(){return this.uniformGroup.uniforms},ni.from=function(t,e,i){var r=ii.from(t,e);return new ni(r,i)},Object.defineProperties(ni.prototype,si);var oi=function(){this.data=0,this.blendMode=g.NORMAL,this.polygonOffset=0,this.blend=!0},ai={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};ai.blend.get=function(){return!!(1&this.data)},ai.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},ai.offsets.get=function(){return!!(2&this.data)},ai.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},ai.culling.get=function(){return!!(4&this.data)},ai.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},ai.depthTest.get=function(){return!!(8&this.data)},ai.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},ai.clockwiseFrontFace.get=function(){return!!(16&this.data)},ai.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},ai.blendMode.get=function(){return this._blendMode},ai.blendMode.set=function(t){this.blend=t!==g.NONE,this._blendMode=t},ai.polygonOffset.get=function(){return this._polygonOffset},ai.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},oi.for2d=function(){var t=new oi;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(oi.prototype,ai);var hi=function(t){function e(i,r,n){var s=ii.from(i||e.defaultVertexSrc,r||e.defaultFragmentSrc);t.call(this,s,n),this.padding=0,this.resolution=o.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new oi}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0}},r={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r,n)},i.blendMode.get=function(){return this.state.blendMode},i.blendMode.set=function(t){this.state.blendMode=t},r.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},r.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,i),Object.defineProperties(e,r),e}(ni);hi.SOURCE_KEY_MAP={};var ui="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",li="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",ci=new st,di=function(t,e){this._texture=t,this.mapCoord=new st,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},pi={texture:{configurable:!0}};pi.texture.get=function(){return this._texture},pi.texture.set=function(t){this._texture=t,this._updateID=-1},di.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],s=t[r+1];e[r]=n*i.a+s*i.c+i.tx,e[r+1]=n*i.b+s*i.d+i.ty}return e},di.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(ci.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(ci));var s=e.baseTexture,o=this.uClampFrame,a=this.clampMargin/s.resolution,h=this.clampOffset;return o[0]=(e._frame.x+a+h)/s.width,o[1]=(e._frame.y+a+h)/s.height,o[2]=(e._frame.x+e._frame.width-a+h)/s.width,o[3]=(e._frame.y+e._frame.height-a+h)/s.height,this.uClampOffset[0]=h/s.realWidth,this.uClampOffset[1]=h/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},Object.defineProperties(di.prototype,pi);var fi=function(t){function e(e){var i=new st;t.call(this,ui,li),e.renderable=!1,this.maskSprite=e,this.maskMatrix=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,i,r){var n=this.maskSprite,s=this.maskSprite.texture;s.valid&&(s.transform||(s.transform=new di(s,0)),s.transform.update(),this.uniforms.npmAlpha=s.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(s.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=s.transform.uClampFrame,t.applyFilter(this,e,i,r))},e}(hi),gi=function(t){function e(e){t.call(this,e),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){if(e.isSprite)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&e.isFastRect()){var i=e.worldTransform,r=Math.atan2(i.b,i.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.pop=function(t,e){e.isSprite?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new fi(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var r=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filter.push(t,i),t.filterArea=r,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var i=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(i.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(r.x*n,(i.root?i.size.height-r.y-r.height:r.y)*n,r.width*n,r.height*n),this.scissorRenderTarget=i,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(ee),vi=function(t){function e(e){t.call(this,e),this.stencilMaskStack=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.stencilMaskStack.length;this.stencilMaskStack=t,t.length!==i&&(0===t.length?e.disable(e.STENCIL_TEST):(e.enable(e.STENCIL_TEST),this._useCurrent()))},e.prototype.pushStencil=function(t){var e=this.renderer.gl,i=this.stencilMaskStack.length;0===i&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,i,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},e.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.stencilMaskStack=null},e}(ee),yi=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new st,this.transform=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix;r?(n.a=1/t.width*2*i,n.d=-1/t.height*2*i,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2*i,n.d=1/t.height*2*i,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},e.prototype.setTransform=function(){},e}(ee),mi=new yt,_i=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new yt,this.destinationFrame=new yt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,i){void 0===t&&(t=null),this.current=t;var r,n=this.renderer;if(t){var s=t.baseTexture;r=s.resolution,i||(mi.width=s.realWidth,mi.height=s.realHeight,i=mi),e||(e=i),this.renderer.framebuffer.bind(s.framebuffer,i),this.renderer.projection.update(i,e,r,!1),this.renderer.stencil.setMaskStack(s.stencilMaskStack)}else r=this.renderer.resolution,i||(mi.width=n.width,mi.height=n.height,i=mi),e||(e=i),n.framebuffer.bind(null,i),this.renderer.projection.update(i,e,r,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=i.x/r,this.destinationFrame.y=i.y/r,this.destinationFrame.width=i.width/r,this.destinationFrame.height=i.height/r,e===i&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(ee),xi=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};xi.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var bi=0,wi=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=bi++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Je)return Je;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Je=!0===t({a:"b"},"a","b")}catch(t){Je=!1}return Je}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||this.syncUniformGroup(t.uniformGroup),r},e.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,e))},e.prototype.syncUniforms=function(t,e){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i=0,r="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var n in t.uniforms){var s=e[n];if(s)if("float"===s.type&&1===s.size)r+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n";else if("sampler2D"!==s.type&&"samplerCube"!==s.type&&"sampler2DArray"!==s.type||1!==s.size||s.isArray)if("mat3"===s.type&&1===s.size)void 0!==t.uniforms[n].a?r+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":r+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n";else if("vec2"===s.type&&1===s.size)void 0!==t.uniforms[n].x?r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n";else if("vec4"===s.type&&1===s.size)void 0!==t.uniforms[n].width?r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n";else{r+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+(1===s.size?Ze:Ke)[s.type].replace("location","ud."+n+".location")+";\n"}else r+="\n            renderer.texture.bind(uv."+n+", "+i+");\n\n            if(ud."+n+".value !== "+i+")\n            {\n                ud."+n+".value = "+i+";\n                gl.uniform1i(ud."+n+".location, "+i+");\n; // eslint-disable-line max-len\n            }\n",i++;else t.uniforms[n].group&&(r+="\n                    renderer.shader.syncUniformGroup(uv."+n+");\n                ")}return new Function("ud","uv","renderer",r)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var i=t.uniforms,r=[];for(var n in i)r.push(n),e[n]&&r.push(e[n].type);return r.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,i=t.program,r={};for(var n in i.attributeData)r[n]=i.attributeData[n].location;var s=Fe(e,i.vertexSrc,i.fragmentSrc,r),o={};for(var a in i.uniformData){var h=i.uniformData[a];o[a]={location:e.getUniformLocation(s,a),value:Be(h.type,h.size)}}var u=new xi(s,o);return i.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(ee);var Ti=0,Ei=1,Si=2,Ai=3,Oi=4,Ci=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=g.NONE,this._blendEq=!1,this.map=[],this.map[Ti]=this.setBlend,this.map[Ei]=this.setOffset,this.map[Si]=this.setCullFace,this.map[Ai]=this.setDepthTest,this.map[Oi]=this.setFrontFace,this.checks=[],this.defaultState=new oi,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[g.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.ADD]=[t.ONE,t.ONE],e[g.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.NONE]=[0,0],e[g.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[g.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[g.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[g.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[g.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[g.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[g.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[g.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[g.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[g.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(e.polygonOffset,0)},e}(ee),Ii=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=o.GC_MAX_IDLE,this.checkCountMax=o.GC_MAX_CHECK_COUNT,this.mode=o.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.count++,this.mode!==S&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[r]=null,i=!0)}if(i){for(var s=0,o=0;o<e.length;o++)null!==e[o]&&(e[s++]=e[o]);e.length=s}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(ee),Pi=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Mi=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new qt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Pi(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Pi(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var s=0;s<this.boundTextures.length;s++)this.bind(null,s)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if(t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.boundTextures[e]!==t&&i.bindTexture(t.target,r.texture),r.dirtyId!==t.dirtyId&&this.updateTexture(t),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(var n=0;n<i.length;n++)i[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),i[n]=null)},e.prototype.initTexture=function(t){var e=new Pi(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var i=this.renderer.gl;t.type===i.FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA32F),t.type===_.HALF_FLOAT&&(e.type=i.HALF_FLOAT),e.type===i.HALF_FLOAT&&t.format===i.RGBA&&(e.internalFormat=i.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e));else{var r=t.realWidth,n=t.realHeight,s=i.gl;(e.width!==r||e.height!==n||e.dirtyId<0)&&(e.width=r,e.height=n,s.texImage2D(t.target,0,e.internalFormat,r,n,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.baseTexture||t)._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&N(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==E&&2===this.webGLVersion||t.isPowerOfTwo?(e.mipmap=t.mipmap>=1,e.wrapMode=t.wrapMode):(e.mipmap=0,e.wrapMode=w),t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===x){var n=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode?i.LINEAR:i.NEAREST)},e}(ee),Di=new st,Ri=function(t){function e(i){void 0===i&&(i={}),t.call(this,"WebGL",i),i=this.options,this.type=f.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new It("destroy"),contextChange:new It("contextChange",1),reset:new It("reset"),update:new It("update"),postrender:new It("postrender"),prerender:new It("prerender"),resize:new It("resize",2)},this.globalUniforms=new Ee({projectionMatrix:new st},!0),this.addSystem(gi,"mask").addSystem(Pe,"context").addSystem(Ci,"state").addSystem(wi,"shader").addSystem(Mi,"texture").addSystem(Le,"geometry").addSystem(Me,"framebuffer").addSystem(vi,"stencil").addSystem(yi,"projection").addSystem(Ii,"textureGC").addSystem(Ae,"filter").addSystem(_i,"renderTexture").addSystem(Ce,"batch"),this.initPlugins(e.__plugins),i.context?this.context.initFromContext(i.context):this.context.initFromOptions({alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,function(t){if(!C){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+I+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+I+" - "+t+" - http://www.pixijs.com/");C=!0}}(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(void 0===O&&(O=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:o.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(t){return!1}}()),O)return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=i,this.runners)this.runners[r].add(i);return this},e.prototype.render=function(t,e,i,r,n){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var s=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.run(e,i)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){for(var i in this.runners.destroy.run(),this.runners)this.runners[i].destroy();t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(function(t){function e(e,i){t.call(this),(i=Object.assign({},o.RENDER_OPTIONS,i)).roundPixels&&(o.ROUND_PIXELS=i.roundPixels,J("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=i,this.type=f.UNKNOWN,this.screen=new yt(0,0,i.width,i.height),this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution||o.RESOLUTION,this.transparent=i.transparent,this.autoDensity=i.autoDensity||i.autoResize||!1,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new Ot,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},i.width.get=function(){return this.view.width},i.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,i,r){0===(r=r||t.getLocalBounds()).width&&(r.width=1),0===r.height&&(r.height=1);var n=le.create(0|r.width,0|r.height,e,i);return Di.tx=-r.x,Di.ty=-r.y,this.render(t,n,!1,Di,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=f.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},i.backgroundColor.get=function(){return this._backgroundColor},i.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=M(t),P(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,i),e}(h.a));function Li(t){return Ri.create(t)}var Fi="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Ni=function(){this.textures=[],this.ids=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=4},Bi=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},Ui={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};Ui.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},Ui.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},Ui.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},Ui.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},Ui.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},Bi.prototype.view=function(t){return this[t+"View"]},Bi.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},Bi.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(Bi.prototype,Ui);var ki=function(t){function e(e){t.call(this,e),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=oi.for2d(),this.size=8e3,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._drawCalls=[];for(var i=0;i<this.size/4;i++)this._drawCalls[i]=new Ni;this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;o.PREFER_ENV===p.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),o.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=$e.replace(/%forloop%/gi,Qe(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedElements[this._bufferSize++]=t)},e.prototype.flush=function(){if(0!==this._vertexCount){var t,e,i=this.getAttributeBuffer(this._vertexCount),r=this.getIndexBuffer(this._indexCount),n=this.renderer.gl,s=this._bufferedElements,a=this._drawCalls,h=this.MAX_TEXTURES,u=this._packedGeometries,l=this.vertexSize,c=this.renderer.textureGC.count,d=0,p=0,f=0,g=a[0],v=0,y=-1;g.textureCount=0,g.start=0,g.blend=y;var m,_=++qt._globalBatch;for(m=0;m<this._bufferSize;++m){var x=s[m];s[m]=null,t=x._texture.baseTexture;var b=D[t.premultiplyAlpha?1:0][x.blendMode];y!==b&&(y=b,e=null,f=h,_++),e!==t&&(e=t,t._batchEnabled!==_&&(f===h&&(_++,f=0,g.size=p-g.start,(g=a[v++]).textureCount=0,g.blend=y,g.start=p),t.touched=c,t._batchEnabled=_,t._id=f,g.textures[g.textureCount++]=t,f++)),this.packInterleavedGeometry(x,i,r,d,p),d+=x.vertexData.length/2*l,p+=x.indices.length}qt._globalBatch=_,g.size=p-g.start,o.CAN_UPLOAD_SAME_BUFFER?(u[this._flushId]._buffer.update(i.rawBinaryData,0),u[this._flushId]._indexBuffer.update(r,0),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,u[this._flushId]=new this.geometryClass),u[this._flushId]._buffer.update(i.rawBinaryData,0),u[this._flushId]._indexBuffer.update(r,0),this.renderer.geometry.bind(u[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++);var w=this.renderer.texture,T=this.renderer.state;for(m=0;m<v;m++){for(var E=a[m],S=E.textureCount,A=0;A<S;A++)w.bind(E.textures[A],A),E.textures[A]=null;T.setBlendMode(E.blend),n.drawElements(E.type,E.size,n.UNSIGNED_SHORT,2*E.start)}this._bufferSize=0,this._vertexCount=0,this._indexCount=0}},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),o.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._drawCalls=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=j(Math.ceil(t/8)),i=G(e),r=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._aBuffers[r];return n||(this._aBuffers[r]=n=new Bi(r*this.vertexSize*4)),n},e.prototype.getIndexBuffer=function(t){var e=j(Math.ceil(t/12)),i=G(e),r=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(r)),n},e.prototype.packInterleavedGeometry=function(t,e,i,r,n){for(var s=e.uint32View,o=e.float32View,a=r/this.vertexSize,h=t.uvs,u=t.indices,l=t.vertexData,c=t._texture.baseTexture._id,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.premultiplyAlpha?L(t._tintRGB,d):t._tintRGB+(255*d<<24),f=0;f<l.length;f+=2)o[r++]=l[f],o[r++]=l[f+1],o[r++]=h[f],o[r++]=h[f+1],s[r++]=p,o[r++]=c;for(var g=0;g<u.length;g++)i[n++]=a+u[g]},e}(Oe),ji=function(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};ji.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Ee.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new ii(this.vertexSrc,r)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new st,default:this.defaultGroupCache[t]};return new ni(this.programCache[t],n)},ji.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"};var Xi=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new fe(null,e,!1),this._indexBuffer=new fe(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,_.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,_.FLOAT).addAttribute("aColor",this._buffer,4,!0,_.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,_.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(xe),Gi="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",zi="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Hi=function(){},Yi={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};Hi.create=function(t){var e=Object.assign({vertex:Gi,fragment:zi,geometryClass:Xi,vertexSize:6},t),i=e.vertex,r=e.fragment,n=e.vertexSize,s=e.geometryClass;return function(t){function e(e){t.call(this,e),this.shaderGenerator=new ji(i,r),this.geometryClass=s,this.vertexSize=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ki)},Yi.defaultVertexSrc.get=function(){return Gi},Yi.defaultFragmentTemplate.get=function(){return zi},Object.defineProperties(Hi,Yi);var Vi=Hi.create(),Wi=new yt,qi=function(t){this.renderer=t,t.extract=this};
/*!
 * @pixi/extract - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */qi.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},qi.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},qi.prototype.canvas=function(t){var e,i,r,n=this.renderer,s=!1,o=!1;t&&(t instanceof le?r=t:(r=this.renderer.generateTexture(t),o=!0)),r?(e=r.baseTexture.resolution,i=r.frame,s=!1,n.renderTexture.bind(r)):(e=this.renderer.resolution,s=!0,(i=Wi).width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(i.width*e),h=Math.floor(i.height*e),u=new V(a,h,1),l=new Uint8Array(4*a*h),c=n.gl;c.readPixels(i.x*e,i.y*e,a,h,c.RGBA,c.UNSIGNED_BYTE,l);var d=u.context.getImageData(0,0,a,h);return qi.arrayPostDivide(l,d.data),u.context.putImageData(d,0,0),s&&(u.context.scale(1,-1),u.context.drawImage(u.canvas,0,-h)),o&&r.destroy(!0),u.canvas},qi.prototype.pixels=function(t){var e,i,r,n=this.renderer,s=!1;t&&(t instanceof le?r=t:(r=this.renderer.generateTexture(t),s=!0)),r?(e=r.baseTexture.resolution,i=r.frame,n.renderTexture.bind(r)):(e=n.resolution,(i=Wi).width=n.width,i.height=n.height,n.renderTexture.bind(null));var o=i.width*e,a=i.height*e,h=new Uint8Array(4*o*a),u=n.gl;return u.readPixels(i.x*e,i.y*e,o,a,u.RGBA,u.UNSIGNED_BYTE,h),s&&r.destroy(!0),qi.arrayPostDivide(h,h),h},qi.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},qi.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}};
/*!
 * @pixi/interaction - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Zi=function(){this.global=new $,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},Ki={pointerId:{configurable:!0}};Ki.pointerId.get=function(){return this.identifier},Zi.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},Zi.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},Zi.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(Zi.prototype,Ki);var Ji=function(){this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};Ji.prototype.stopPropagation=function(){this.stopped=!0},Ji.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null};var $i=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},Qi={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};$i.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Qi.pointerId.get=function(){return this._pointerId},Qi.flags.get=function(){return this._flags},Qi.flags.set=function(t){this._flags=t},Qi.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},Qi.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},Qi.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},Qi.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},Qi.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},Qi.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},Qi.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties($i.prototype,Qi),$i.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var tr={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};St.mixin(tr);var er=1,ir={target:null,data:{global:null}},rr=function(t){function e(e,i){t.call(this),i=i||{},this.renderer=e,this.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,this.interactionFrequency=i.interactionFrequency||10,this.mouse=new Zi,this.mouse.identifier=er,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[er]=this.mouse,this.interactionDataPool=[],this.eventData=new Ji,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new $,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hitTest=function(t,e){return ir.target=null,ir.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(ir,e,null,!0),ir.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(Nt.system.add(this.update,this,Mt),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(Nt.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.mapPositionToPoint=function(t,e,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},e.prototype.processInteractive=function(t,e,i,r,n){if(!e||!e.visible)return!1;var s=t.data.global,o=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(r=!1,h=!1)),a=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(r=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.processInteractive(t,c,i,r,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(r=!1),o=!0)}}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),i&&i(t,e,!!o))),o},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],s=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,s);if(o.data.originalEvent=t,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===n.pointerType)this.emit("touchstart",o);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;if(i)if(e.trackedPointers[n]||(e.trackedPointers[n]=new $i(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var s=2===r.button;s?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,s?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,s=t.target!==this.interactionDOMElement?"outside":"",o=0;o<n;o++){var a=r[o],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,i,e||!s),this.emit(e?"pointercancel":"pointerup"+s,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+s:"mouseup"+s,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+s,u),this.releaseInteractionDataForPointerId(a.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var r=t.data,n=t.data.identifier,s=e.trackedPointers[n],o="touch"===r.pointerType,a="mouse"===r.pointerType||"pen"===r.pointerType,h=!1;if(a){var u=2===r.button,l=$i.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==s&&s.flags&c;i?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),s&&(u?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),o&&this.dispatchEvent(e,"touchend",t),s&&(a&&!h||this.dispatchEvent(e,"pointertap",t),o&&(this.dispatchEvent(e,"tap",t),s.over=!1))):s&&(this.dispatchEvent(e,"pointerupoutside",t),o&&this.dispatchEvent(e,"touchendoutside",t)),s&&s.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],s=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,s);o.data.originalEvent=t,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",o),"touch"===n.pointerType&&this.emit("touchmove",o),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",o)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType;s&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),s&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,s="mouse"===r.pointerType||"pen"===r.pointerType,o=e.trackedPointers[n];i&&!o&&(o=e.trackedPointers[n]=new $i(n)),void 0!==o&&(i&&this.mouseOverRenderer?(o.over||(o.over=!0,this.dispatchEvent(e,"pointerover",t),s&&this.dispatchEvent(e,"mouseover",t)),s&&null===this.cursor&&(this.cursor=e.cursor)):o.over&&(o.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),s&&this.dispatchEvent(e,"mouseout",t),o.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return i===er||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new Zi).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,r=t.changedTouches.length;i<r;i++){var n=t.changedTouches[i];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=er),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(h.a),nr={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var i=Math.ceil(t/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},sr=function(){this.reset()};sr.prototype.clone=function(){var t=new sr;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},sr.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=he.WHITE,this.matrix=null,this.visible=!1},sr.prototype.destroy=function(){this.texture=null,this.matrix=null};var or=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]};or.prototype.clone=function(){return new or(this.shape,this.fillStyle,this.lineStyle,this.matrix)},or.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var ar={build:function(t){var e,i,r=t.shape,n=t.points,s=r.x,o=r.y;if(n.length=0,t.type===nt.CIRC?(e=r.radius,i=r.radius):(e=r.width,i=r.height),0!==e&&0!==i){var a=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height));a/=2.3;for(var h=2*Math.PI/a,u=0;u<a;u++)n.push(s+Math.sin(-h*u)*e,o+Math.cos(-h*u)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices,s=r.length/2,o=s;r.push(t.shape.x,t.shape.y);for(var a=0;a<i.length;a+=2)r.push(i[a],i[a+1]),n.push(s++,o,s)}};function hr(t,e){t.lineStyle.native?function(t,e){var i=0,r=t.shape,n=t.points||r.points,s=r.type!==nt.POLY||r.closeStroke;if(0===n.length)return;var o=e.points,a=e.indices,h=n.length/2,u=o.length/2,l=u;for(o.push(n[0],n[1]),i=1;i<h;i++)o.push(n[2*i],n[2*i+1]),a.push(l,l+1),l++;s&&a.push(l,u)}(t,e):function(t,e){var i=t.shape,r=t.points||i.points.slice(),n=e.closePointEps;if(0===r.length)return;var s=t.lineStyle,o=new $(r[0],r[1]),a=new $(r[r.length-2],r[r.length-1]),h=i.type!==nt.POLY||i.closeStroke,u=Math.abs(o.x-a.x)<n&&Math.abs(o.y-a.y)<n;if(h){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));var l=a.x+.5*(o.x-a.x),c=a.y+.5*(o.y-a.y);r.unshift(l,c),r.push(l,c)}var d=e.points,p=r.length/2,f=r.length,g=d.length/2,v=s.width/2,y=r[0],m=r[1],_=r[2],x=r[3],b=0,w=0,T=-(m-x),E=y-_,S=0,A=0,O=0,C=0,I=Math.sqrt(T*T+E*E);T/=I,E/=I,T*=v,E*=v;var P=s.alignment,M=2*(1-P),D=2*P;d.push(y-T*M,m-E*M),d.push(y+T*D,m+E*D);for(var R=1;R<p-1;++R){y=r[2*(R-1)],m=r[2*(R-1)+1],_=r[2*R],x=r[2*R+1],b=r[2*(R+1)],w=r[2*(R+1)+1],T=-(m-x),E=y-_,I=Math.sqrt(T*T+E*E),T/=I,E/=I,T*=v,E*=v,S=-(x-w),A=_-b,I=Math.sqrt(S*S+A*A),S/=I,A/=I;var L=-E+m-(-E+x),F=-T+_-(-T+y),N=(-T+y)*(-E+x)-(-T+_)*(-E+m),B=-(A*=v)+w-(-A+x),U=-(S*=v)+_-(-S+b),k=(-S+b)*(-A+x)-(-S+_)*(-A+w),j=L*U-B*F;if(Math.abs(j)<.1)j+=10.1,d.push(_-T*M,x-E*M),d.push(_+T*D,x+E*D);else{var X=(F*k-U*N)/j,G=(B*N-L*k)/j;(X-_)*(X-_)+(G-x)*(G-x)>196*v*v?(O=T-S,C=E-A,I=Math.sqrt(O*O+C*C),O/=I,C/=I,O*=v,C*=v,d.push(_-O*M,x-C*M),d.push(_+O*D,x+C*D),d.push(_-O*D*M,x-C*M),f++):(d.push(_+(X-_)*M,x+(G-x)*M),d.push(_-(X-_)*D,x-(G-x)*D))}}y=r[2*(p-2)],m=r[2*(p-2)+1],_=r[2*(p-1)],x=r[2*(p-1)+1],T=-(m-x),E=y-_,I=Math.sqrt(T*T+E*E),T/=I,E/=I,T*=v,E*=v,d.push(_-T*M,x-E*M),d.push(_+T*D,x+E*D);for(var z=e.indices,H=0;H<f-2;++H)z.push(g,g+1,g+2),g++}(t,e)}var ur={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,s=e.indices;if(i.length>=6){for(var o=[],a=0;a<r.length;a++){var h=r[a];o.push(i.length/2),i=i.concat(h.points)}var u=l()(i,o,2);if(!u)return;for(var c=n.length/2,d=0;d<u.length;d+=3)s.push(u[d]+c),s.push(u[d+1]+c),s.push(u[d+2]+c);for(var p=0;p<i.length;p++)n.push(i[p])}}},lr={build:function(t){var e=t.shape,i=t.points,r=e.x,n=e.y,s=e.width,o=e.height,a=e.radius;i.length=0,dr(r,n+a,r,n,r+a,n,i),dr(r+s-a,n,r+s,n,r+s,n+a,i),dr(r+s,n+o-a,r+s,n+o,r+s-a,n+o,i),dr(r+a,n+o,r,n+o,r,n+o-a,i)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,s=r.length/2,o=l()(i,null,2),a=0,h=o.length;a<h;a+=3)n.push(o[a]+s),n.push(o[a+1]+s),n.push(o[a+2]+s);for(var u=0,c=i.length;u<c;u++)r.push(i[u],i[++u])}};function cr(t,e,i){return t+(e-t)*i}function dr(t,e,i,r,n,s,o){void 0===o&&(o=[]);for(var a=o,h=0,u=0,l=0,c=0,d=0,p=0,f=0,g=0;f<=20;++f)h=cr(t,i,g=f/20),u=cr(e,r,g),l=cr(i,n,g),c=cr(r,s,g),d=cr(h,l,g),p=cr(u,c,g),a.push(d,p);return a}var pr=[],fr=[],gr=new $,vr={};vr[nt.POLY]=ur,vr[nt.CIRC]=ar,vr[nt.ELIP]=ar,vr[nt.RECT]={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,s=e.height,o=t.points;o.length=0,o.push(i,r,i+n,r,i+n,r+s,i,r+s)},triangulate:function(t,e){var i=t.points,r=e.points,n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},vr[nt.RREC]=lr;var yr=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},mr=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Et,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null,this.closePointEps=1e-4}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={bounds:{configurable:!0}};return i.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,fr.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var i=this.batches[e];i.start=0,i.attribStart=0,i.style=null,pr.push(i)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,i,r){var n=new or(t,e,i,r);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var i=new or(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,gr):gr.copyFrom(t),r.shape.contains(gr.x,gr.y)))){if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].shape.contains(gr.x,gr.y))return!1}return!0}}return!1},e.prototype.updateBatches=function(){if(this.dirty!==this.cacheDirty)if(0!==this.graphicsData.length){if(this.dirty!==this.cacheDirty)for(var t=0;t<this.graphicsData.length;t++){var e=this.graphicsData[t];if(e.fillStyle&&!e.fillStyle.texture.baseTexture.valid)return;if(e.lineStyle&&!e.lineStyle.texture.baseTexture.valid)return}this.cacheDirty=this.dirty;var i=this.uvs,r=null,n=null,s=0,o=!1;if(this.batches.length>0){var a=(r=this.batches[this.batches.length-1]).style;n=a.texture.baseTexture,s=a.color+a.alpha,o=!!a.native}for(var h=this.shapeIndex;h<this.graphicsData.length;h++){this.shapeIndex++;var u=this.graphicsData[h],l=vr[u.type],c=u.fillStyle,d=u.lineStyle;l.build(u),u.matrix&&this.transformPoints(u.points,u.matrix);for(var p=0;p<2;p++){var f=0===p?c:d;if(f.visible){var g=f.texture.baseTexture,v=this.indices.length,y=this.points.length/2;!r||n===g&&s===f.color+f.alpha&&o===!!f.native||(r.size=v-r.start,r.attribSize=y-r.attribStart,r.size>0&&(r=null)),r||(r=pr.pop()||new yr,this.batches.push(r),g.wrapMode=T,n=g,s=f.color+f.alpha,o=f.native,r.style=f,r.start=v,r.attribStart=y);var m=this.points.length/2;if(0===p)u.holes.length?(this.processHoles(u.holes),ur.triangulate(u,this)):l.triangulate(u,this);else{hr(u,this);for(var _=0;_<u.holes.length;_++)hr(u.holes[_],this)}var x=this.points.length/2-m;this.addUvs(this.points,i,f.texture,m,x,f.matrix)}}}var b=this.indices.length,w=this.points.length/2;if(r)if(r.size=b-r.start,r.attribSize=w-r.attribStart,this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var E=0;E<this.batches.length;E++)for(var S=this.batches[E],A=0;A<S.size;A++){var O=S.start+A;this.indicesUint16[O]=this.indicesUint16[O]-S.attribStart}}else this.buildDrawCalls();else this.batchable=!0}else this.batchable=!0},e.prototype.isBatchable=function(){for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++qt._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,fr.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.uvs,r=this.colors,n=this.textureIds,s=fr.pop()||new Ni;s.textureCount=0,s.start=0,s.size=0,s.type=v.TRIANGLES;var o=0,a=null,h=0,u=!1,l=v.TRIANGLES,c=0;this.drawCalls.push(s);for(var d=0;d<this.batches.length;d++){var p=this.batches[d],f=p.style,g=f.texture.baseTexture;u!==!!f.native&&(l=(u=f.native)?v.LINES:v.TRIANGLES,a=null,o=8,t++),a!==g&&(a=g,g._batchEnabled!==t&&(8===o&&(t++,o=0,s.size>0&&(s=fr.pop()||new Ni,this.drawCalls.push(s)),s.start=c,s.size=0,s.textureCount=0,s.type=l),g.touched=1,g._batchEnabled=t,g._id=o,g.wrapMode=10497,s.textures[s.textureCount++]=g,o++)),s.size+=p.size,c+=p.size,h=g._id,this.addColors(r,f.color,f.alpha,p.attribSize),this.addTextureIds(n,h,p.attribSize)}qt._globalBatch=t;for(var y=this.points,m=new ArrayBuffer(3*y.length*4),_=new Float32Array(m),x=new Uint32Array(m),b=0,w=0;w<y.length/2;w++)_[b++]=y[2*w],_[b++]=y[2*w+1],_[b++]=i[2*w],_[b++]=i[2*w+1],x[b++]=r[w],_[b++]=n[w];this._buffer.update(m),this._indexBuffer.update(this.indicesUint16)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];vr[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var t=1/0,e=-1/0,i=1/0,r=-1/0;if(this.graphicsData.length)for(var n=null,s=0,o=0,a=0,h=0,u=0;u<this.graphicsData.length;u++){var l=this.graphicsData[u],c=l.type,d=l.lineStyle?l.lineStyle.width:0;if(n=l.shape,c===nt.RECT||c===nt.RREC)s=n.x-d/2,o=n.y-d/2,t=s<t?s:t,e=s+(a=n.width+d)>e?s+a:e,i=o<i?o:i,r=o+(h=n.height+d)>r?o+h:r;else if(c===nt.CIRC)s=n.x,o=n.y,t=s-(a=n.radius+d/2)<t?s-a:t,e=s+a>e?s+a:e,i=o-(h=n.radius+d/2)<i?o-h:i,r=o+h>r?o+h:r;else if(c===nt.ELIP)s=n.x,o=n.y,t=s-(a=n.width+d/2)<t?s-a:t,e=s+a>e?s+a:e,i=o-(h=n.height+d/2)<i?o-h:i,r=o+h>r?o+h:r;else for(var p=n.points,f=0,g=0,v=0,y=0,m=0,_=0,x=0,b=0,w=0;w+2<p.length;w+=2)s=p[w],o=p[w+1],f=p[w+2],g=p[w+3],v=Math.abs(f-s),y=Math.abs(g-o),h=d,(a=Math.sqrt(v*v+y*y))<1e-9||(t=(x=(f+s)/2)-(m=(h/a*y+v)/2)<t?x-m:t,e=x+m>e?x+m:e,i=(b=(g+o)/2)-(_=(h/a*v+y)/2)<i?b-_:i,r=b+_>r?b+_:r)}else t=0,e=0,i=0,r=0;var T=this.boundsPadding;this._bounds.minX=t-T,this._bounds.maxX=e+T,this._bounds.minY=i-T,this._bounds.maxY=r+T},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},e.prototype.addColors=function(t,e,i,r){for(var n=L((e>>16)+(65280&e)+((255&e)<<16),i);r-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,i){for(;i-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,i,r,n,s){for(var o=0,a=e.length,h=i.frame;o<n;){var u=t[2*(r+o)],l=t[2*(r+o)+1];if(s){var c=s.a*u+s.c*l+s.tx;l=s.b*u+s.d*l+s.ty,u=c}o++,e.push(u/h.width,l/h.height)}var d=i.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,i,a,n)},e.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,s=i+2*r,o=e.frame,a=o.width/n.width,h=o.height/n.height,u=o.x/o.width,l=o.y/o.height,c=Math.floor(t[i]+1e-6),d=Math.floor(t[i+1]+1e-6),p=i+2;p<s;p+=2)c=Math.min(c,Math.floor(t[p]+1e-6)),d=Math.min(d,Math.floor(t[p+1]+1e-6));u-=c,l-=d;for(var f=i;f<s;f+=2)t[f]=(t[f]+u)*a,t[f+1]=(t[f+1]+l)*h},Object.defineProperties(e.prototype,i),e}(Xi);mr.BATCHABLE_SIZE=100;var _r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(sr),xr=function(){};xr.curveLength=function(t,e,i,r,n,s,o,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,g=0,v=0,y=0,m=0,_=t,x=e,b=1;b<=10;++b)y=_-(g=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*i+3*d*(l=u*u)*n+(c=l*u)*o),m=x-(v=f*e+3*p*u*r+3*d*l*s+c*a),_=g,x=v,h+=Math.sqrt(y*y+m*m);return h},xr.curveTo=function(t,e,i,r,n,s,o){var a=o[o.length-2],h=o[o.length-1];o.length-=2;var u=nr._segmentsCount(xr.curveLength(a,h,t,e,i,r,n,s)),l=0,c=0,d=0,p=0,f=0;o.push(a,h);for(var g=1,v=0;g<=u;++g)d=(c=(l=1-(v=g/u))*l)*l,f=(p=v*v)*v,o.push(d*a+3*c*v*t+3*l*p*i+f*n,d*h+3*c*v*e+3*l*p*r+f*s)};var br=function(){};br.curveLength=function(t,e,i,r,n,s){var o=t-2*i+n,a=e-2*r+s,h=2*i-2*t,u=2*r-2*e,l=4*(o*o+a*a),c=4*(o*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),g=2*l*f,v=2*Math.sqrt(d),y=c/f;return(g*p+f*c*(p-v)+(4*d*l-c*c)*Math.log((2*f+y+p)/(y+v)))/(4*g)},br.curveTo=function(t,e,i,r,n){for(var s=n[n.length-2],o=n[n.length-1],a=nr._segmentsCount(br.curveLength(s,o,t,e,i,r)),h=0,u=0,l=1;l<=a;++l){var c=l/a;h=s+(t-s)*c,u=o+(e-o)*c,n.push(h+(t+(i-t)*c-h)*c,u+(e+(r-e)*c-u)*c)}};var wr=function(){};wr.curveTo=function(t,e,i,r,n,s){var o=s[s.length-2],a=s[s.length-1]-e,h=o-t,u=r-e,l=i-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,g=n*Math.sqrt(d)/c,v=n*Math.sqrt(p)/c,y=g*f/d,m=v*f/p,_=g*l+v*h,x=g*u+v*a,b=h*(v+y),w=a*(v+y),T=l*(g+m),E=u*(g+m);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(w-x,b-_),endAngle:Math.atan2(E-x,T-_),anticlockwise:h*u>l*a}},wr.arc=function(t,e,i,r,n,s,o,a,h){for(var u=o-s,l=nr._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/et)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),g=l-1,v=g%1/g,y=0;y<=g;++y){var m=c+s+d*(y+v*y),_=Math.cos(m),x=-Math.sin(m);h.push((p*_+f*x)*n+i,(p*-x+f*_)*n+r)}};var Tr=function(t){function e(e,i,r,n,s,o){s=s||n/2;for(var a=-1*Math.PI/2+o,h=2*r,u=et/h,l=[],c=0;c<h;c++){var d=c%2?s:n,p=c*u+a;l.push(e+d*Math.cos(p),i+d*Math.sin(p))}t.call(this,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(wt),Er=new Float32Array(3),Sr=null,Ar=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new mr,this.geometry.refCount++,this.shader=null,this.state=oi.for2d(),this._fillStyle=new sr,this._lineStyle=new _r,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.pluginName="batch",this.tint=16777215,this.blendMode=g.NORMAL}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t},i.fill.get=function(){return this._fillStyle},i.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t,e,i,r,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=.5),void 0===n&&(n=!1),this.lineTextureStyle(t,he.WHITE,e,i,null,r,n),this},e.prototype.lineTextureStyle=function(t,e,i,r,n,s,o){void 0===t&&(t=0),void 0===e&&(e=he.WHITE),void 0===i&&(i=16777215),void 0===r&&(r=1),void 0===n&&(n=null),void 0===s&&(s=.5),void 0===o&&(o=!1),this.currentPath&&this.startPoly();var a=t>0&&r>0;return a?(n&&(n=n.clone()).invert(),Object.assign(this._lineStyle,{color:i,width:t,alpha:r,matrix:n,texture:e,alignment:s,native:o,visible:a})):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new wt,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new wt,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),br.curveTo(t,e,i,r,n),this},e.prototype.bezierCurveTo=function(t,e,i,r,n,s){return this._initCurve(),xr.curveTo(t,e,i,r,n,s,this.currentPath.points),this},e.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var s=this.currentPath.points,o=wr.curveTo(t,e,i,r,n,s);if(o){var a=o.cx,h=o.cy,u=o.radius,l=o.startAngle,c=o.endAngle,d=o.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,i,r,n,s){if(void 0===s&&(s=!1),r===n)return this;if(!s&&n<=r?n+=et:s&&r<=n&&(r+=et),0===n-r)return this;var o=t+Math.cos(r)*i,a=e+Math.sin(r)*i,h=this.geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){var l=Math.abs(u[u.length-2]-o),c=Math.abs(u[u.length-1]-a);l<h&&c<h||u.push(o,a)}else this.moveTo(o,a),u=this.currentPath.points;return wr.arc(o,a,t,e,i,r,n,s,u),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill(he.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,i,r){void 0===t&&(t=he.WHITE),void 0===e&&(e=16777215),void 0===i&&(i=1),void 0===r&&(r=null),this.currentPath&&this.startPoly();var n=i>0;return n?(r&&(r=r.clone()).invert(),Object.assign(this._fillStyle,{color:e,alpha:i,texture:t,matrix:r,visible:n})):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new yt(t,e,i,r))},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new Tt(t,e,i,r,n))},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new xt(t,e,i))},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new bt(t,e,i,r))},e.prototype.drawPolygon=function(t){var e=arguments,i=t,r=!0;if(i.points&&(r=i.closeStroke,i=i.points),!Array.isArray(i)){i=new Array(arguments.length);for(var n=0;n<i.length;++n)i[n]=e[n]}var s=new wt(i);return s.closeStroke=r,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,i,r,n,s){return void 0===s&&(s=0),this.drawPolygon(new Tr(t,e,i,r,n,s))},e.prototype.clear=function(){return this.geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;if(e.updateBatches(),e.batchable){if(this.batchDirty!==e.batchDirty){this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.vertexData=new Float32Array(e.points);for(var i=this.blendMode,r=0;r<e.batches.length;r++){var n=e.batches[r],s=n.style.color,o=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:o,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:P(s),_tintRGB:s,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=h}}if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var u=0;u<this.batches.length;u++){var l=this.batches[u];l.worldAlpha=this.worldAlpha*l.alpha,t.plugins[this.pluginName].render(l)}}}else{if(t.batch.flush(),!this.shader){if(!Sr){for(var c=new Int32Array(16),d=0;d<16;d++)c[d]=d;var p={tint:new Float32Array([1,1,1,1]),translationMatrix:new st,default:Ee.from({uSamplers:c},!0)},f=t.plugins.batch._shader.program;Sr=new ni(f,p)}this.shader=Sr}var g=this.shader.uniforms;g.translationMatrix=this.transform.worldTransform;var v=this.tint,y=this.worldAlpha;g.tint[0]=(v>>16&255)/255*y,g.tint[1]=(v>>8&255)/255*y,g.tint[2]=(255&v)/255*y,g.tint[3]=y,t.shader.bind(this.shader),t.geometry.bind(e,this.shader),t.state.set(this.state);for(var m=0;m<e.drawCalls.length;m++){for(var _=e.drawCalls[m],x=_.textureCount,b=0;b<x;b++)t.texture.bind(_.textures[b],b);t.geometry.draw(_.type,_.size,_.start)}}},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry.bounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=P(this.tint,Er),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,i=t.b,r=t.c,n=t.d,s=t.tx,o=t.ty,a=this.geometry.points,h=this.vertexData,u=0,l=0;l<a.length;l+=2){var c=a[l],d=a[l+1];h[u++]=e*c+r*d+s,h[u++]=n*d+i*c+o}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,i),e}(Ot);Ar._TEMP_POINT=new $;
/*!
 * @pixi/sprite - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Or=new $,Cr=new Uint16Array([0,1,2,0,2,3]),Ir=function(t){function e(e){t.call(this),this._anchor=new Q(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=g.NORMAL,this.shader=null,this._cachedTint=16777215,this.uvs=null,this.texture=e||he.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Cr,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=o.ROUND_PIXELS}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this._width&&(this.scale.x=k(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=k(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,g=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(g=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(g=-c._y*l.height)+l.height),h[0]=i*p+n*g+o,h[1]=s*g+r*p+a,h[2]=i*d+n*g+o,h[3]=s*g+r*d+a,h[4]=i*d+n*f+o,h[5]=s*f+r*d+a,h[6]=i*p+n*f+o,h[7]=s*f+r*p+a,this._roundPixels)for(var v=0;v<8;v++)h[v]=Math.round(h[v])}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-r._x*i.width,d=c+i.width,p=-r._y*i.height,f=p+i.height;e[0]=s*c+a*p+u,e[1]=h*p+o*c+l,e[2]=s*d+a*p+u,e[3]=h*p+o*d+l,e[4]=s*d+a*f+u,e[5]=h*f+o*d+l,e[6]=s*c+a*f+u,e[7]=h*f+o*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new yt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Or);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return Or.x>=r&&Or.x<r+e&&(n=-i*this.anchor.y,Or.y>=n&&Or.y<n+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function(t,i){return new e(t instanceof he?t:he.from(t,i))},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){var e=k(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){var e=k(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){this._anchor.copyFrom(t)},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},i.texture.get=function(){return this._texture},i.texture.set=function(t){this._texture!==t&&(this._texture=t||he.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,i),e}(Ot),Pr=0,Mr={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Pr,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Dr=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Rr=function(t){this.styleID=0,this.reset(),Br(this,t,t)},Lr={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function Fr(t){return"number"==typeof t?M(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Nr(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Fr(t[e]);return t}return Fr(t)}function Br(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}Rr.prototype.clone=function(){var t={};return Br(t,this,Mr),new Rr(t)},Rr.prototype.reset=function(){Br(this,Mr,Mr)},Lr.align.get=function(){return this._align},Lr.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},Lr.breakWords.get=function(){return this._breakWords},Lr.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},Lr.dropShadow.get=function(){return this._dropShadow},Lr.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},Lr.dropShadowAlpha.get=function(){return this._dropShadowAlpha},Lr.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},Lr.dropShadowAngle.get=function(){return this._dropShadowAngle},Lr.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},Lr.dropShadowBlur.get=function(){return this._dropShadowBlur},Lr.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},Lr.dropShadowColor.get=function(){return this._dropShadowColor},Lr.dropShadowColor.set=function(t){var e=Nr(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},Lr.dropShadowDistance.get=function(){return this._dropShadowDistance},Lr.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},Lr.fill.get=function(){return this._fill},Lr.fill.set=function(t){var e=Nr(t);this._fill!==e&&(this._fill=e,this.styleID++)},Lr.fillGradientType.get=function(){return this._fillGradientType},Lr.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},Lr.fillGradientStops.get=function(){return this._fillGradientStops},Lr.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},Lr.fontFamily.get=function(){return this._fontFamily},Lr.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},Lr.fontSize.get=function(){return this._fontSize},Lr.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},Lr.fontStyle.get=function(){return this._fontStyle},Lr.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},Lr.fontVariant.get=function(){return this._fontVariant},Lr.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},Lr.fontWeight.get=function(){return this._fontWeight},Lr.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},Lr.letterSpacing.get=function(){return this._letterSpacing},Lr.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},Lr.lineHeight.get=function(){return this._lineHeight},Lr.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},Lr.leading.get=function(){return this._leading},Lr.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},Lr.lineJoin.get=function(){return this._lineJoin},Lr.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},Lr.miterLimit.get=function(){return this._miterLimit},Lr.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},Lr.padding.get=function(){return this._padding},Lr.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},Lr.stroke.get=function(){return this._stroke},Lr.stroke.set=function(t){var e=Nr(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},Lr.strokeThickness.get=function(){return this._strokeThickness},Lr.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},Lr.textBaseline.get=function(){return this._textBaseline},Lr.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},Lr.trim.get=function(){return this._trim},Lr.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},Lr.whiteSpace.get=function(){return this._whiteSpace},Lr.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},Lr.wordWrap.get=function(){return this._wordWrap},Lr.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},Lr.wordWrapWidth.get=function(){return this._wordWrapWidth},Lr.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},Rr.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Dr.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(Rr.prototype,Lr);var Ur=function(t,e,i,r,n,s,o,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=h};Ur.measureText=function(t,e,i,r){void 0===r&&(r=Ur._canvas),i=null==i?e.wordWrap:i;var n=e.toFontString(),s=Ur.measureFont(n);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var o=r.getContext("2d");o.font=n;for(var a=(i?Ur.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=o.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||s.fontSize+e.strokeThickness,f=Math.max(p,s.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new Ur(t,e,d,f,a,h,p+e.leading,u,s)},Ur.wordWrap=function(t,e,i){void 0===i&&(i=Ur._canvas);for(var r=i.getContext("2d"),n=0,s="",o="",a={},h=e.letterSpacing,u=e.whiteSpace,l=Ur.collapseSpaces(u),c=Ur.collapseNewlines(u),d=!l,p=e.wordWrapWidth+h,f=Ur.tokenize(t),g=0;g<f.length;g++){var v=f[g];if(Ur.isNewline(v)){if(!c){o+=Ur.addLine(s),d=!l,s="",n=0;continue}v=" "}if(l){var y=Ur.isBreakingSpace(v),m=Ur.isBreakingSpace(s[s.length-1]);if(y&&m)continue}var _=Ur.getFromCache(v,h,a,r);if(_>p)if(""!==s&&(o+=Ur.addLine(s),s="",n=0),Ur.canBreakWords(v,e.breakWords))for(var x=v.split(""),b=0;b<x.length;b++){for(var w=x[b],T=1;x[b+T];){var E=x[b+T],S=w[w.length-1];if(Ur.canBreakChars(S,E,v,b,e.breakWords))break;w+=E,T++}b+=w.length-1;var A=Ur.getFromCache(w,h,a,r);A+n>p&&(o+=Ur.addLine(s),d=!1,s="",n=0),s+=w,n+=A}else{s.length>0&&(o+=Ur.addLine(s),s="",n=0);var O=g===f.length-1;o+=Ur.addLine(v,!O),d=!1,s="",n=0}else _+n>p&&(d=!1,o+=Ur.addLine(s),s="",n=0),(s.length>0||!Ur.isBreakingSpace(v)||d)&&(s+=v,n+=_)}return o+=Ur.addLine(s,!1)},Ur.addLine=function(t,e){return void 0===e&&(e=!0),t=Ur.trimRight(t),t=e?t+"\n":t},Ur.getFromCache=function(t,e,i,r){var n=i[t];if(void 0===n){var s=t.length*e;n=r.measureText(t).width+s,i[t]=n}return n},Ur.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},Ur.collapseNewlines=function(t){return"normal"===t},Ur.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var i=t[e];if(!Ur.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},Ur.isNewline=function(t){return"string"==typeof t&&Ur._newlines.indexOf(t.charCodeAt(0))>=0},Ur.isBreakingSpace=function(t){return"string"==typeof t&&Ur._breakingSpaces.indexOf(t.charCodeAt(0))>=0},Ur.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var n=t[r];Ur.isBreakingSpace(n)||Ur.isNewline(n)?(""!==i&&(e.push(i),i=""),e.push(n)):i+=n}return""!==i&&e.push(i),e},Ur.canBreakWords=function(t,e){return e},Ur.canBreakChars=function(t,e,i,r,n){return!0},Ur.measureFont=function(t){if(Ur._fonts[t])return Ur._fonts[t];var e={},i=Ur._canvas,r=Ur._context;r.font=t;var n=Ur.METRICS_STRING+Ur.BASELINE_SYMBOL,s=Math.ceil(r.measureText(n).width),o=Math.ceil(r.measureText(Ur.BASELINE_SYMBOL).width),a=2*o;o=o*Ur.BASELINE_MULTIPLIER|0,i.width=s,i.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(n,0,o);var h=r.getImageData(0,0,s,a).data,u=h.length,l=4*s,c=0,d=0,p=!1;for(c=0;c<o;++c){for(var f=0;f<l;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d+=l}for(e.ascent=o-c,d=u-l,p=!1,c=a;c>o;--c){for(var g=0;g<l;g+=4)if(255!==h[d+g]){p=!0;break}if(p)break;d-=l}return e.descent=c-o,e.fontSize=e.ascent+e.descent,Ur._fonts[t]=e,e},Ur.clearMetrics=function(t){void 0===t&&(t=""),t?delete Ur._fonts[t]:Ur._fonts={}};var kr=function(){try{var t=new OffscreenCanvas(0,0);return t.getContext("2d")?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();kr.width=kr.height=10,Ur._canvas=kr,Ur._context=kr.getContext("2d"),Ur._fonts={},Ur.METRICS_STRING="|q",Ur.BASELINE_SYMBOL="M",Ur.BASELINE_MULTIPLIER=1.4,Ur._newlines=[10,13],Ur._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var jr={texture:!0,children:!1,baseTexture:!0},Xr=function(t){function e(e,i,r){(r=r||document.createElement("canvas")).width=3,r.height=3;var n=he.from(r);n.orig=new yt,n.trim=new yt,t.call(this,n),this.canvas=r,this.context=this.canvas.getContext("2d"),this._resolution=o.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=i,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,s=Ur.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,a=s.height,h=s.lines,u=s.lineHeight,l=s.lineWidths,c=s.maxLineWidth,d=s.fontProperties;this.canvas.width=Math.ceil((Math.max(1,o)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var p,f=e.dropShadow?2:1,g=0;g<f;++g){var v=e.dropShadow&&0===g,y=v?2*a:0,m=y*this.resolution;if(v){n.fillStyle="black",n.strokeStyle="black";var _=e.dropShadowColor,x=P("number"==typeof _?_:("string"==typeof(p=_)&&"#"===p[0]&&(p=p.substr(1)),parseInt(p,16)));n.shadowColor="rgba("+255*x[0]+","+255*x[1]+","+255*x[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+m}else n.fillStyle=this._generateFillStyle(e,h),n.strokeStyle=e.stroke,n.shadowColor=0,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;for(var b=0;b<h.length;b++)i=e.strokeThickness/2,r=e.strokeThickness/2+b*u+d.ascent,"right"===e.align?i+=c-l[b]:"center"===e.align&&(i+=(c-l[b])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[b],i+e.padding,r+e.padding-y,!0),e.fill&&this.drawLetterSpacing(h[b],i+e.padding,r+e.padding-y)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var s=e,o=Array.from?Array.from(t):t.split(""),a=0;a<o.length;++a){var h=o[a];r?this.context.strokeText(h,s,i):this.context.fillText(h,s,i),s+=this.context.measureText(h).width+n}else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=function(t){var e,i,r,n=t.width,s=t.height,o=t.getContext("2d"),a=o.getImageData(0,0,n,s).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(i=e/4%n,r=~~(e/4/n),null===u.top&&(u.top=r),null===u.left?u.left=i:i<u.left&&(u.left=i),null===u.right?u.right=i+1:u.right<i&&(u.right=i+1),null===u.bottom?u.bottom=r:u.bottom<r&&(u.bottom=r));return null!==u.top&&(n=u.right-u.left,s=u.bottom-u.top+1,l=o.getImageData(u.left,u.top,n,s)),{height:s,width:n,data:l}}(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,s=i.baseTexture;i.trim.width=i._frame.width=Math.ceil(t.width/this._resolution),i.trim.height=i._frame.height=Math.ceil(t.height/this._resolution),i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),s.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(1===t.fill.length)return t.fill[0];var i,r,n,s,o=Math.ceil(this.canvas.width/this._resolution),a=Math.ceil(this.canvas.height/this._resolution),h=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var l=h.length+1,c=1;c<l;++c)u.push(c/l);if(h.unshift(t.fill[0]),u.unshift(0),h.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===Pr){i=this.context.createLinearGradient(o/2,0,o/2,a),r=(h.length+1)*e.length,n=0;for(var d=0;d<e.length;d++){n+=1;for(var p=0;p<h.length;p++)s="number"==typeof u[p]?u[p]/e.length+d/e.length:n/r,i.addColorStop(s,h[p]),n++}}else{i=this.context.createLinearGradient(0,a/2,o,a/2),r=h.length+1,n=1;for(var f=0;f<h.length;f++)s="number"==typeof u[f]?u[f]:n/r,i.addColorStop(s,h[f]),n++}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},jr,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},i.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){this.updateText(!0);var e=k(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){this.updateText(!0);var e=k(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.style.get=function(){return this._style},i.style.set=function(t){t=t||{},this._style=t instanceof Rr?t:new Rr(t),this.localStyleID=-1,this.dirty=!0},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.resolution.get=function(){return this._resolution},i.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,i),e}(Ir);
/*!
 * @pixi/prepare - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
o.UPLOADS_PER_FRAME=4;var Gr=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};Gr.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},Gr.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var zr=function(t){var e=this;this.limiter=new Gr(o.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Zr),this.registerFindHook(Kr),this.registerFindHook(Hr),this.registerFindHook(Yr),this.registerFindHook(Vr),this.registerUploadHook(Wr),this.registerUploadHook(qr)};function Hr(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof he){var n=t._textures[r].baseTexture;-1===e.indexOf(n)&&(e.push(n),i=!0)}return i}function Yr(t,e){return t instanceof qt&&(-1===e.indexOf(t)&&e.push(t),!0)}function Vr(t,e){if(t._texture&&t._texture instanceof he){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Wr(t,e){return e instanceof Xr&&(e.updateText(!0),!0)}function qr(t,e){if(e instanceof Rr){var i=e.toFontString();return Ur.measureFont(i),!0}return!1}function Zr(t,e){if(t instanceof Xr){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Kr(t,e){return t instanceof Rr&&(-1===e.indexOf(t)&&e.push(t),!0)}zr.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Nt.system.addOnce(this.tick,this,Lt))):e&&e()},zr.prototype.tick=function(){setTimeout(this.delayedTick,0)},zr.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Nt.system.addOnce(this.tick,this,Lt);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var s=0,o=n.length;s<o;s++)n[s]()}},zr.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},zr.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},zr.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ot)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},zr.prototype.destroy=function(){this.ticking&&Nt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var Jr=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(tn),this.registerUploadHook($r),this.registerUploadHook(Qr)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(zr);function $r(t,e){return e instanceof qt&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Qr(t,e){return e instanceof Ar&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function tn(t,e){return t instanceof Ar&&(e.push(t),!0)}var en=function(t){this.maxMilliseconds=t,this.frameStart=0};en.prototype.beginFrame=function(){this.frameStart=Date.now()},en.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};
/*!
 * @pixi/app - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var rn=function t(e){var i=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Li(e),this.stage=new Ot,t._plugins.forEach(function(t){t.init.call(i,e)})},nn={view:{configurable:!0},screen:{configurable:!0}};rn.registerPlugin=function(t){rn._plugins.push(t)},rn.prototype.render=function(){this.renderer.render(this.stage)},nn.view.get=function(){return this.renderer.view},nn.screen.get=function(){return this.renderer.screen},rn.prototype.destroy=function(t){var e=this,i=rn._plugins.slice(0);i.reverse(),i.forEach(function(t){t.destroy.call(e)}),this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(rn.prototype,nn),rn._plugins=[];var sn=function(){};sn.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},sn.destroy=function(){this.resizeTo=null,this.resize=null},rn.registerPlugin(sn);var on=i(4),an=i.n(on),hn=i(0),un=i.n(hn);
/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
function ln(){}function cn(t,e,i,r){var n=0,s=t.length;!function o(a){a||n===s?i&&i(a):r?setTimeout(function(){e(t[n++],o)},1):e(t[n++],o)}()}function dn(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function pn(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,r={_tasks:[],concurrency:e,saturated:ln,unsaturated:ln,buffer:e/4,empty:ln,drain:ln,error:ln,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){i=0,r.drain=ln,r.started=!1,r._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!r.paused&&i<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),(i+=1)===r.concurrency&&r.saturated(),t(e.data,dn(s(e)))}},length:function(){return r._tasks.length},running:function(){return i},idle:function(){return r._tasks.length+i===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var t=1;t<=r.concurrency;t++)r.process()}}};function n(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,null==t&&r.idle())setTimeout(function(){return r.drain()},1);else{var n={data:t,callback:"function"==typeof i?i:ln};e?r._tasks.unshift(n):r._tasks.push(n),setTimeout(function(){return r.process()},1)}}function s(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&r.error(arguments[0],t.data),i<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}var fn={};function gn(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vn(t,e,i){return e&&gn(t.prototype,e),i&&gn(t,i),t}var yn=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),mn=null;function _n(){}var xn=function(){function t(e,i,r){if("string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_n,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new un.a,this.onProgress=new un.a,this.onComplete=new un.a,this.onAfterMiddleware=new un.a}t.setExtensionLoadType=function(e,i){bn(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){bn(t._xhrTypeMap,e,i)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(i)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:yn&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(wn(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(wn(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(wn(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,i="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===r&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var s=document.createElement("div");s.innerHTML=i,this.data=s}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,mn||(mn=document.createElement("a")),mn.href=t;var i=!(t=an()(mn.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),s=Math.min(r>-1?r:t.length,n>-1?n:t.length);e=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},vn(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function bn(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function wn(t){return t.toString().replace("object ","")}xn.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},xn.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},xn.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},xn.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},xn._loadTypeMap={gif:xn.LOAD_TYPE.IMAGE,png:xn.LOAD_TYPE.IMAGE,bmp:xn.LOAD_TYPE.IMAGE,jpg:xn.LOAD_TYPE.IMAGE,jpeg:xn.LOAD_TYPE.IMAGE,tif:xn.LOAD_TYPE.IMAGE,tiff:xn.LOAD_TYPE.IMAGE,webp:xn.LOAD_TYPE.IMAGE,tga:xn.LOAD_TYPE.IMAGE,svg:xn.LOAD_TYPE.IMAGE,"svg+xml":xn.LOAD_TYPE.IMAGE,mp3:xn.LOAD_TYPE.AUDIO,ogg:xn.LOAD_TYPE.AUDIO,wav:xn.LOAD_TYPE.AUDIO,mp4:xn.LOAD_TYPE.VIDEO,webm:xn.LOAD_TYPE.VIDEO},xn._xhrTypeMap={xhtml:xn.XHR_RESPONSE_TYPE.DOCUMENT,html:xn.XHR_RESPONSE_TYPE.DOCUMENT,htm:xn.XHR_RESPONSE_TYPE.DOCUMENT,xml:xn.XHR_RESPONSE_TYPE.DOCUMENT,tmx:xn.XHR_RESPONSE_TYPE.DOCUMENT,svg:xn.XHR_RESPONSE_TYPE.DOCUMENT,tsx:xn.XHR_RESPONSE_TYPE.DOCUMENT,gif:xn.XHR_RESPONSE_TYPE.BLOB,png:xn.XHR_RESPONSE_TYPE.BLOB,bmp:xn.XHR_RESPONSE_TYPE.BLOB,jpg:xn.XHR_RESPONSE_TYPE.BLOB,jpeg:xn.XHR_RESPONSE_TYPE.BLOB,tif:xn.XHR_RESPONSE_TYPE.BLOB,tiff:xn.XHR_RESPONSE_TYPE.BLOB,webp:xn.XHR_RESPONSE_TYPE.BLOB,tga:xn.XHR_RESPONSE_TYPE.BLOB,json:xn.XHR_RESPONSE_TYPE.JSON,text:xn.XHR_RESPONSE_TYPE.TEXT,txt:xn.XHR_RESPONSE_TYPE.TEXT,ttf:xn.XHR_RESPONSE_TYPE.BUFFER,otf:xn.XHR_RESPONSE_TYPE.BUFFER},xn.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var En=window.URL||window.webkitURL;var Sn={caching:function(t,e){var i=this;fn[t.url]?(t.data=fn[t.url],t.complete()):t.onComplete.once(function(){return fn[i.url]=i.data}),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===xn.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=En.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=xn.TYPE.IMAGE,void(t.data.onload=function(){En.revokeObjectURL(i),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],s=0;s<r.length;++s)i<t.length?r[s]=255&t.charCodeAt(i++):r[s]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var o=0;o<n.length;++o)e+=Tn.charAt(n[o])}return e}(t.xhr.responseText),t.type=xn.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},An=/(#[\w-]+)?$/,On=function(){function t(e,i){var r=this;void 0===e&&(e=""),void 0===i&&(i=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=pn(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new un.a,this.onError=new un.a,this.onLoad=new un.a,this.onStart=new un.a,this.onComplete=new un.a;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var s=0;s<t._defaultAfterMiddleware.length;++s)this.use(t._defaultAfterMiddleware[s])}var e=t.prototype;return e.add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(r=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(r=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new xn(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var s=i.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var h=s.progressChunk*(o.length+1)/(o.length+2);s.children.push(this.resources[t]),s.progressChunk=h;for(var u=0;u<o.length;++u)o[u].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,i=an()(t,{strictMode:!0});if(e=i.protocol||!i.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=An.exec(e)[0];-1!==(e=e.substr(0,e.length-r.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=r}return e},e._loadResource=function(t,e){var i=this;t._dequeue=e,cn(this._beforeMiddleware,function(e,r){e.call(i,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),cn(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},vn(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();On._defaultBeforeMiddleware=[],On._defaultAfterMiddleware=[],On.pre=function(t){return On._defaultBeforeMiddleware.push(t),On},On.use=function(t){return On._defaultAfterMiddleware.push(t),On};
/*!
 * @pixi/loaders - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Cn=function(){};Cn.use=function(t,e){t.data&&t.type===xn.TYPE.IMAGE&&(t.texture=he.fromLoader(t.data,t.url,t.name)),e()};var In=function(t){function e(i,r){var n=this;t.call(this,i,r),h.a.call(this);for(var s=0;s<e._plugins.length;++s){var o=e._plugins[s],a=o.pre,u=o.use;a&&this.pre(a),u&&this.use(u)}this.onStart.add(function(t){return n.emit("start",t)}),this.onProgress.add(function(t,e){return n.emit("progress",t,e)}),this.onError.add(function(t,e,i){return n.emit("error",t,e,i)}),this.onLoad.add(function(t,e){return n.emit("load",t,e)}),this.onComplete.add(function(t,e){return n.emit("complete",t,e)}),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},i.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,i),e}(On);Object.assign(In.prototype,h.a.prototype),In._plugins=[],In.registerPlugin=function(t){return In._plugins.push(t),t.add&&t.add(),In},In.registerPlugin({use:Sn.parsing}),In.registerPlugin(Cn);var Pn=function(){};Pn.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?In.shared:new In},Pn.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var Mn=xn,Dn=function(t,e,i){this.geometry=new xe,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var n=t[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||_.FLOAT,offset:n.offset},e[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};
/*!
 * @pixi/particles - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Dn.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new fe(function(t,e){void 0===e&&(e=null);var i=6*t;if((e=e||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var r=0,n=0;r<i;r+=6,n+=4)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3;return e}(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var r=this.dynamicProperties[i];r.offset=e,e+=r.size,this.dynamicStride+=r.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new fe(this.dynamicData,!1,!1);var s=0;this.staticStride=0;for(var o=0;o<this.staticProperties.length;++o){var a=this.staticProperties[o];a.offset=s,s+=a.size,this.staticStride+=a.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new fe(this.staticData,!0,!1);for(var u=0;u<this.dynamicProperties.length;++u){var l=this.dynamicProperties[u];t.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===_.UNSIGNED_BYTE,l.type,4*this.dynamicStride,4*l.offset)}for(var c=0;c<this.staticProperties.length;++c){var d=this.staticProperties[c];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===_.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}},Dn.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.type===_.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},Dn.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.type===_.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},Dn.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var Rn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",Ln="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",Fn=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new st,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:_.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ni.from(Rn,Ln,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,s=e.length;if(0!==s){s>i&&!t.autoResize&&(s=i);var o=t._buffers;o||(o=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(R(t.blendMode,a.premultiplyAlpha));var h,u,l,c,d=n.gl,p=t.worldTransform.copyTo(this.tempMatrix);p.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=(h=t.tintRgb,u=t.worldAlpha,l=this.shader.uniforms.uColor,c=a.premultiplyAlpha,l=l||new Float32Array(4),c||void 0===c?(l[0]=h[0]*u,l[1]=h[1]*u,l[2]=h[2]*u):(l[0]=h[0],l[1]=h[1],l[2]=h[2]),l[3]=u,l),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var f=!1,g=0,v=0;g<s;g+=r,v+=1){var y=s-g;y>r&&(y=r),v>=o.length&&o.push(this._generateOneMoreBuffer(t));var m=o[v];m.uploadDynamic(e,g,y);var _=t._bufferUpdateIDs[v]||0;(f=f||m._updateID<_)&&(m._updateID=t._updateID,m.uploadStatic(e,g,y)),n.geometry.bind(m.geometry),d.drawElements(d.TRIANGLES,6*y,d.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,s=0;s<i;s+=r)e.push(new Dn(this.properties,n,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new Dn(this.properties,i,e)},e.prototype.uploadVertices=function(t,e,i,r,n,s){for(var o=0,a=0,h=0,u=0,l=0;l<i;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,g=d.trim,v=d.orig;g?(o=(a=g.x-c.anchor.x*v.width)+g.width,h=(u=g.y-c.anchor.y*v.height)+g.height):(o=v.width*(1-c.anchor.x),a=v.width*-c.anchor.x,h=v.height*(1-c.anchor.y),u=v.height*-c.anchor.y),r[s]=a*p,r[s+1]=u*f,r[s+n]=o*p,r[s+n+1]=u*f,r[s+2*n]=o*p,r[s+2*n+1]=h*f,r[s+3*n]=a*p,r[s+3*n+1]=h*f,s+=4*n}},e.prototype.uploadPosition=function(t,e,i,r,n,s){for(var o=0;o<i;o++){var a=t[e+o].position;r[s]=a.x,r[s+1]=a.y,r[s+n]=a.x,r[s+n+1]=a.y,r[s+2*n]=a.x,r[s+2*n+1]=a.y,r[s+3*n]=a.x,r[s+3*n+1]=a.y,s+=4*n}},e.prototype.uploadRotation=function(t,e,i,r,n,s){for(var o=0;o<i;o++){var a=t[e+o].rotation;r[s]=a,r[s+n]=a,r[s+2*n]=a,r[s+3*n]=a,s+=4*n}},e.prototype.uploadUvs=function(t,e,i,r,n,s){for(var o=0;o<i;++o){var a=t[e+o]._texture._uvs;a?(r[s]=a.x0,r[s+1]=a.y0,r[s+n]=a.x1,r[s+n+1]=a.y1,r[s+2*n]=a.x2,r[s+2*n+1]=a.y2,r[s+3*n]=a.x3,r[s+3*n+1]=a.y3,s+=4*n):(r[s]=0,r[s+1]=0,r[s+n]=0,r[s+n+1]=0,r[s+2*n]=0,r[s+2*n+1]=0,r[s+3*n]=0,r[s+3*n+1]=0,s+=4*n)}},e.prototype.uploadTint=function(t,e,i,r,n,s){for(var o=0;o<i;++o){var a=t[e+o],h=a._texture.baseTexture.premultiplyAlpha,u=a.alpha,l=u<1&&h?L(a._tintRGB,u):a._tintRGB+(255*u<<24);r[s]=l,r[s+n]=l,r[s+2*n]=l,r[s+3*n]=l,s+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Oe),Nn=function(t,e,i){void 0===i&&(i=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(i||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},Bn={BATCH_SIZE:{configurable:!0}};Bn.BATCH_SIZE.get=function(){return 1e3},Nn.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=Z(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},Nn.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=Nn.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},Nn.prototype._processFrames=function(t){for(var e=t,i=Nn.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],n=this._frames[r],s=n.frame;if(s){var o=null,a=null,h=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,u=new yt(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);o=n.rotated?new yt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new yt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(a=new yt(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new he(this.baseTexture,o,u,a,n.rotated?2:0,n.anchor),he.addToCache(this.textures[r],r)}e++}},Nn.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++){var r=t[e][i];this.animations[e].push(this.textures[r])}}},Nn.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},Nn.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*Nn.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*Nn.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},Nn.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(Nn,Bn);var Un=function(){};Un.use=function(t,e){var i=t.name+"_image";if(t.data&&t.type===Mn.TYPE.JSON&&t.data.frames&&!this.resources[i]){var r={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},n=Un.getResourcePath(t,this.baseUrl);this.add(i,n,r,function(i){if(i.error)e(i.error);else{var r=new Nn(i.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})}})}else e()},Un.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:d.a.resolve(t.url.replace(e,""),t.data.meta.image)};
/*!
 * @pixi/sprite-tiling - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
new $;var kn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",jn="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n",Xn="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",Gn=new st,zn=function(t){function e(e){t.call(this,e);var i={globals:this.renderer.globalUniforms};this.shader=ni.from(kn,jn,i),this.simpleShader=ni.from(kn,Xn,i),this.quad=new we}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.invalidate();var n=t._texture,s=n.baseTexture,o=t.tileTransform.localTransform,a=t.uvMatrix,h=s.isPowerOfTwo&&n.frame.width===s.width&&n.frame.height===s.height;h&&(s._glTextures[e.CONTEXT_UID]?h=s.wrapMode!==w:s.wrapMode===w&&(s.wrapMode=T));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;Gn.set(o.a*l/d,o.b*l/p,o.c*c/d,o.d*c/p,o.tx/d,o.ty/p),Gn.invert(),h?Gn.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=Gn.toArray(!0),u.uniforms.uColor=F(t.tint,t.worldAlpha,u.uniforms.uColor,s.premultiplyAlpha),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(i),e.state.setBlendMode(R(t.blendMode,s.premultiplyAlpha)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Oe),Hn=function(t){function e(e,i){var r=this;void 0===i&&(i={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},this.font=i.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new Q(function(){r.dirty=!0},this,0,0),this.dirty=!1,this.roundPixels=o.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],i=this._font.size/t.size,r=new $,n=[],s=[],o=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=o.length,h=this._maxWidth*t.size/this._font.size,u=null,l=0,c=0,d=0,p=-1,f=0,g=0,v=0,y=0;y<a;y++){var m=o.charCodeAt(y),_=o.charAt(y);if(/(?:\s)/.test(_)&&(p=y,f=l),"\r"!==_&&"\n"!==_){var x=t.chars[m];x&&(u&&x.kerning[u]&&(r.x+=x.kerning[u]),n.push({texture:x.texture,line:d,charCode:m,position:new $(r.x+x.xOffset+this._letterSpacing/2,r.y+x.yOffset)}),r.x+=x.xAdvance+this._letterSpacing,l=r.x,v=Math.max(v,x.yOffset+x.texture.height),u=m,-1!==p&&h>0&&r.x>h&&(N(n,1+p-++g,1+y-p),y=p,p=-1,s.push(f),c=Math.max(c,f),d++,r.x=0,r.y+=t.lineHeight,u=null))}else s.push(l),c=Math.max(c,l),++d,++g,r.x=0,r.y+=t.lineHeight,u=null}var b=o.charAt(o.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(l=f),s.push(l),c=Math.max(c,l));for(var w=[],T=0;T<=d;T++){var E=0;"right"===this._font.align?E=c-s[T]:"center"===this._font.align&&(E=(c-s[T])/2),w.push(E)}for(var S=n.length,A=this.tint,O=0;O<S;O++){var C=this._glyphs[O];C?C.texture=n[O].texture:((C=new Ir(n[O].texture)).roundPixels=this.roundPixels,this._glyphs.push(C)),C.position.x=(n[O].position.x+w[n[O].line])*i,C.position.y=n[O].position.y*i,C.scale.x=C.scale.y=i,C.tint=A,C.parent||this.addChild(C)}for(var I=S;I<this._glyphs.length;++I)this.removeChild(this._glyphs[I]);if(this._textWidth=c*i,this._textHeight=(r.y+t.lineHeight)*i,0!==this.anchor.x||0!==this.anchor.y)for(var P=0;P<S;P++)this._glyphs[P].x-=this._textWidth*this.anchor.x,this._glyphs[P].y-=this._textHeight*this.anchor.y;this._maxLineHeight=v*i},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.tint.get=function(){return this._font.tint},i.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},i.align.get=function(){return this._font.align},i.align.set=function(t){this._font.align=t||"left",this.dirty=!0},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},i.font.get=function(){return this._font},i.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},i.text.get=function(){return this._text},i.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},i.maxWidth.get=function(){return this._maxWidth},i.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},i.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},i.textWidth.get=function(){return this.validate(),this._textWidth},i.letterSpacing.get=function(){return this._letterSpacing},i.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},i.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,i){var r={},n=t.getElementsByTagName("info")[0],s=t.getElementsByTagName("common")[0],a=t.getElementsByTagName("page"),h=Z(a[0].getAttribute("file"),o.RESOLUTION),u={};r.font=n.getAttribute("face"),r.size=parseInt(n.getAttribute("size"),10),r.lineHeight=parseInt(s.getAttribute("lineHeight"),10)/h,r.chars={},i instanceof he&&(i=[i]);for(var l=0;l<a.length;l++){var c=a[l].getAttribute("id"),d=a[l].getAttribute("file");u[c]=i instanceof Array?i[l]:i[d]}for(var p=t.getElementsByTagName("char"),f=0;f<p.length;f++){var g=p[f],v=parseInt(g.getAttribute("id"),10),y=g.getAttribute("page")||0,m=new yt(parseInt(g.getAttribute("x"),10)/h+u[y].frame.x/h,parseInt(g.getAttribute("y"),10)/h+u[y].frame.y/h,parseInt(g.getAttribute("width"),10)/h,parseInt(g.getAttribute("height"),10)/h);r.chars[v]={xOffset:parseInt(g.getAttribute("xoffset"),10)/h,yOffset:parseInt(g.getAttribute("yoffset"),10)/h,xAdvance:parseInt(g.getAttribute("xadvance"),10)/h,kerning:{},texture:new he(u[y].baseTexture,m),page:y}}for(var _=t.getElementsByTagName("kerning"),x=0;x<_.length;x++){var b=_[x],w=parseInt(b.getAttribute("first"),10)/h,T=parseInt(b.getAttribute("second"),10)/h,E=parseInt(b.getAttribute("amount"),10)/h;r.chars[T]&&(r.chars[T].kerning[w]=E)}return e.fonts[r.font]=r,r},Object.defineProperties(e.prototype,i),e}(Ot);Hn.fonts={};var Yn=function(){};Yn.parse=function(t,e){t.bitmapFont=Hn.registerFont(t.data,e)},Yn.add=function(){Mn.setExtensionXhrType("fnt",Mn.XHR_RESPONSE_TYPE.DOCUMENT)},Yn.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},Yn.use=function(t,e){if(t.data&&t.type===Mn.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var i=t.isDataUrl?"":Yn.dirname(t.url);t.isDataUrl&&("."===i&&(i=""),this.baseUrl&&i&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/")),(i=i.replace(this.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/");for(var r=t.data.getElementsByTagName("page"),n={},s=function(i){n[i.metadata.pageFile]=i.texture,Object.keys(n).length===r.length&&(Yn.parse(t,n),e())},o=0;o<r.length;++o){var a=r[o].getAttribute("file"),h=i+a,u=!1;for(var l in this.resources){var c=this.resources[l];if(c.url===h){c.metadata.pageFile=a,c.texture?s(c):c.onAfterMiddleware.add(s),u=!0;break}}if(!u){var d={crossOrigin:t.crossOrigin,loadType:Mn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(h,d,s)}}}else e();else e()};["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var Vn="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",Wn=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,Fi,Vn,e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=1/3,s=(0,Math.sqrt)(n),o=[i+(1-i)*n,n*(1-i)-s*r,n*(1-i)+s*r,0,0,n*(1-i)+s*r,i+n*(1-i),n*(1-i)-s*r,0,0,n*(1-i)-s*r,n*(1-i)+s*r,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(o,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var i=2*t/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,i,r,n){var s=((i=i||16770432)>>16&255)/255,o=(i>>8&255)/255,a=(255&i)/255,h=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,l=(255&r)/255,c=[.3,.59,.11,0,0,s,o,a,t=t||.2,0,h,u,l,e=e||.15,0,s-h,o-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i.matrix.get=function(){return this.uniforms.m},i.matrix.set=function(t){this.uniforms.m=t},i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(hi);Wn.prototype.grayscale=Wn.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var qn=new st;St.prototype._cacheAsBitmap=!1,St.prototype._cacheData=!1;var Zn=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(St.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Zn),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),St.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},St.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds().clone();if(this.filters){var r=this.filters[0].padding;i.pad(r)}i.ceil(o.RESOLUTION);var n=t.renderTexture.current,s=t.renderTexture.sourceFrame,a=t.projection.transform,h=le.create(i.width,i.height),u="cacheAsBitmap_"+U();this._cacheData.textureCacheId=u,qt.addToCache(h.baseTexture,u),he.addToCache(h,u);var l=qn;l.tx=-i.x,l.ty=-i.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,h,!0,l,!0),t.projection.transform=a,t.renderTexture.bind(n,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new Ir(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-i.x/i.width,c.anchor.y=-i.y/i.height,c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}},St.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},St.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var r=t.context;e.ceil(o.RESOLUTION);var n=le.create(e.width,e.height),s="cacheAsBitmap_"+U();this._cacheData.textureCacheId=s,qt.addToCache(n.baseTexture,s),he.addToCache(n,s);var a=qn;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,a,!1),t.context=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new Ir(n);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-e.x/e.width,h.anchor.y=-e.y/e.height,h.alpha=i,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},St.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},St.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},St.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,qt.removeFromCache(this._cacheData.textureCacheId),he.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},St.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},
/*!
 * @pixi/mixin-get-child-by-name - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
St.prototype.name=null,Ot.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},
/*!
 * @pixi/mixin-get-global-position - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
St.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new $),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};
/*!
 * @pixi/mesh - v5.1.1
 * Compiled Fri, 02 Aug 2019 23:20:23 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Kn=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};Kn.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var Jn=new $,$n=new wt,Qn=function(t){function e(e,i,r,n){void 0===n&&(n=v.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=i,this.state=r||oi.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=g.NORMAL,this._roundPixels=o.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return i.uvBuffer.get=function(){return this.geometry.buffers[1]},i.verticesBuffer.get=function(){return this.geometry.buffers[0]},i.material.set=function(t){this.shader=t},i.material.get=function(){return this.shader},i.blendMode.set=function(t){this.state.blendMode=t},i.blendMode.get=function(){return this.state.blendMode},i.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},i.roundPixels.get=function(){return this._roundPixels},i.tint.get=function(){return this.shader.tint},i.tint.set=function(t){this.shader.tint=t},i.texture.get=function(){return this.shader.texture},i.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===v.TRIANGLES&&i.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,r=i.a,n=i.b,s=i.c,o=i.d,a=i.tx,h=i.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=r*c+s*d+a,u[2*l+1]=n*c+o*d+h}if(this._roundPixels)for(var p=0;p<u.length;p++)u[p]=Math.round(u[p]);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Kn(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Jn);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=$n.points,r=this.geometry.getIndex().data,n=r.length,s=4===this.drawMode?3:1,o=0;o+2<n;o+=s){var a=2*r[o],h=2*r[o+1],u=2*r[o+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[h],i[3]=e[h+1],i[4]=e[u],i[5]=e[u+1],$n.contains(Jn.x,Jn.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,i),e}(Ot);Qn.BATCHABLE_SIZE=100;Ri.registerPlugin("accessibility",Ct),Ri.registerPlugin("extract",qi),Ri.registerPlugin("interaction",rr),Ri.registerPlugin("particle",Fn),Ri.registerPlugin("prepare",Jr),Ri.registerPlugin("batch",Vi),Ri.registerPlugin("tilingSprite",zn),In.registerPlugin(Yn),In.registerPlugin(Un),rn.registerPlugin(kt),rn.registerPlugin(Pn);class ts{}class es extends ts{constructor(){super(...arguments),this.x=0,this.y=0}}class is extends ts{}class rs extends ts{constructor(){super(...arguments),this.shape="rectangle"}}class ns{constructor(t){this._renderer=Li({height:t.clientHeight,width:t.clientWidth,autoDensity:!0,transparent:!0,antialias:!0,resolution:window.devicePixelRatio}),this._canvasContainer=t,this._canvas=this._renderer.view,this._canvasContainer.appendChild(this._renderer.view),this._ticker=new Nt,this._graphics=new Ar,this._graphicsContainer=new Ot,this._graphicsContainer.interactive=!0,this._graphicsContainer.buttonMode=!0,this._nodesContainer=new Ot,this._nodesContainer.interactive=!0,this._nodesContainer.buttonMode=!0,this._edgesContainer=new Ot,this._edgesContainer.interactive=!0,this._edgesContainer.buttonMode=!0,this._graphicsContainer.addChild(this._nodesContainer),this._graphicsContainer.addChild(this._edgesContainer),this._graphicsContainer.addChild(this._graphics),window.addEventListener("resize",this._onResize.bind(this))}getBounds(){const{left:t,right:e,top:i,bottom:r}=this._graphicsContainer.getBounds();return{left:t,right:e,top:i,bottom:r}}render(t,e,i,r=!1){const n=t.edges,s=e.nodes,o=t.getComponentsOfType(is),a=e.getComponentsOfType(es),h=(e.getComponentsOfType(rs),n.length),u=s.length;let l;for(this._graphics.clear(),this._graphics.beginFill(13311,1),this._graphics.lineStyle(0),l=0;l<u;l++){const t=s[l],{x:e,y:i}=a[t.index];this._graphics.drawRect(e-10,i-10,20,20)}for(this._graphics.beginFill(16711680,1),this._graphics.lineStyle(1,16711680,1),l=0;l<h;l++){const t=o[n[l].index];this._graphics.moveTo(a[t.from.index].x,a[t.from.index].y),this._graphics.lineTo(a[t.to.index].x,a[t.to.index].y)}if(r){let t=-1;const e=["#79baf2","#7b9686","#3c4dff","#dd703e","#ce67ea","#da0c3d","#8c2496","#9098ad","#f1460b","#EDFFAB","#FDB833","#3BC14A"],r=i=>{++t>=e.length&&(t=0),i.divided&&(r(i.TL),r(i.TR),r(i.BL),r(i.BR)),this._graphics.beginFill(13311,0),this._graphics.lineStyle(1,parseInt(e[t].toLowerCase().replace("#","0x"),16)),this._graphics.drawRect(i.bounds.position.x,i.bounds.position.y,i.bounds.size.x,i.bounds.size.y),this._graphics.beginFill(parseInt(e[t].toLowerCase().replace("#","0x"),16),1),this._graphics.lineStyle(1,parseInt(e[t].toLowerCase().replace("#","0x"),16)),this._graphics.drawCircle(i.centerOfMass.x,i.centerOfMass.y,5)};r(i)}this._renderer.render(this._graphicsContainer)}_onResize(){this._renderer.resize(this._canvasContainer.clientWidth,this._canvasContainer.clientHeight)}}const ss=function(){return((new Date).getTime()+30*+Math.random>>>0)+""};function os(t,e){return{x:t.x+e.x,y:t.y+e.y}}function as(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hs(t,e){return e?{x:t.x/e,y:t.y/e}:{x:t.x,y:t.y}}function us(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function ls(t){return hs(t,us(t))}function cs(t,e){const i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)}let ds,ps,fs="";function gs(t,e,i,r){t[ds](fs+e,"wheel"==ps?i:function(t){!t&&(t=window.event);let e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===t.type?0:1,deltaX:0,deltaY:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"===ps?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail,i(e)},r||!1)}window.addEventListener?ds="addEventListener":(ds="attachEvent",fs="on"),ps="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";class vs{get index(){return this._index}get generation(){return this._generation}constructor(t,e){this._index=t,this._generation=e}}class ys{constructor(){this._entries=[],this._free=[]}allocate(){if(this._free.length){const t=this._free.pop(),e=this._entries[t];return e.generation+=1,e.is_alive=!0,new vs(t,e.generation)}const t=this._entries.length;return this._entries.push({generation:0,is_alive:!0}),new vs(t,0)}deallocate({index:t,generation:e}){const i=this._entries[t];return!(!i.is_alive||i.generation!==e)&&(i.is_alive=!1,this._free.push(t),!0)}is_alive({index:t,generation:e}){const i=this._entries[t];return e===i.generation&&i.is_alive}}class ms{constructor(){this._indices=[],this._elements=[],this._iter=0}get length(){return this._elements.length}indices(){return this._indices}has(t){const{index:e,generation:i}=t;return this._indices[e]&&i===this._indices[e].generation}get({index:t,generation:e}){const i=this._elements[t];if(!i)throw Error("Index to null element or out of bounds");if(e!==i.generation)throw Error("Generation mismatch");return i.value}set(t,e){const{index:i,generation:r}=t;this._indices[i]=t,this._elements[i]={generation:r,value:e}}delete(t){const{index:e}=t;this._indices.splice(e,1),this._elements[e]=void 0}clear(){this._indices=[],this._elements=[],this._iter=0}next(){let t;for(;!t&&this._iter<this._elements.length;)t=this._elements[this._iter++];return t?{done:!1,value:t.value}:(this._iter=0,{done:!0,value:null})}[Symbol.iterator](){return this}}class _s{constructor(t,e){this.position=t,this.size=e}get halfWidth(){return this.size.x/2}get halfHeight(){return this.size.y/2}get horizontalMidpoint(){return this.position.x+this.halfWidth}get verticalMidpoint(){return this.position.y+this.halfHeight}overlapsVec(t){return this.position.x-this.size.x<=t.x&&t.x<=this.position.x+this.size.x&&this.position.y-this.size.y<=t.y&&t.y<=this.position.y+this.size.y}overlapsAABB(t){return!(t.position.x-t.size.x>this.position.x+this.size.x||t.position.x+t.size.x<this.position.x-this.size.x||t.position.y-t.size.y>this.position.y+this.size.y||t.position.y+t.size.y<this.position.y-this.size.y)}}class xs{constructor(t,e=0){this.bounds=t,this.depth=e,this.divided=!1,this.elements=new Map,this.mass=0,this.centerOfMass={x:0,y:0}}insert(t,e){return!!this.bounds.overlapsVec(e)&&(this.depth===xs.MaxDepth||!this.divided&&0===this.elements.size?(this.elements.set(t,e),this.updateMass(e,1),!0):(this.divided||this.divide(),this.TL.insert(t,e)||this.TR.insert(t,e)||this.BL.insert(t,e)||this.BR.insert(t,e)))}updateMass(t,e){let i=this.centerOfMass,r=this.mass+e,n=1/r;i.x=i.x*this.mass+t.x*e,i.x*=n,i.y=i.y*this.mass+t.y*e,i.y*=n,this.mass=r}divide(){const t=this.bounds.halfWidth,e=this.bounds.halfHeight,i=this.depth+1,{x:r,y:n}=this.bounds.position;this.TL=new xs(new _s({x:r,y:n},{x:t,y:e}),i),this.TR=new xs(new _s({x:r+t,y:n},{x:t,y:e}),i),this.BL=new xs(new _s({x:r,y:n+e},{x:t,y:e}),i),this.BR=new xs(new _s({x:r+t,y:n+e},{x:t,y:e}),i),this.elements.forEach((t,e)=>{this.TL.insert(e,t)||this.TR.insert(e,t)||this.BL.insert(e,t)||this.BR.insert(e,t)}),this.elements.clear(),this.divided=!0}query(t,e=new Map){return this.bounds.overlapsAABB(t)?(this.divided?(this.TL.query(t,e),this.TR.query(t,e),this.BL.query(t,e),this.BR.query(t,e)):this.elements.forEach((i,r)=>{t.overlapsVec(i)&&e.set(r,i)}),e):e}}xs.MaxElements=4,xs.MaxDepth=100;class bs extends ts{constructor(){super(...arguments),this.height=20,this.width=20}}class ws extends ts{constructor(){super(...arguments),this.text="",this.alignment="bottom"}}class Ts extends ts{constructor(){super(...arguments),this.x=0,this.y=0}}class Es extends ts{constructor(){super(...arguments),this.textColor="#000000",this.fillColor="#fefefe"}}class Ss extends ts{constructor(){super(...arguments),this.image=""}}class As extends ts{constructor(){super(...arguments),this.data={}}}class Os extends ts{constructor(){super(...arguments),this.x=0,this.y=0}}class Cs extends ts{constructor(){super(...arguments),this.x=0,this.y=0}}class Is{constructor(){this._allocator=new ys,this._idToEntityMap=new Map,this._entityToIdMap=new Map,this._nodes=[],this._componentStores=new Map}createNode(t){let{id:e,shape:i,color:r,size:n,label:s,data:o}=t;if(null==e&&(e=ss()),this._idToEntityMap.has(e))throw new Error("Node already exists");const a=this._allocator.allocate();this._idToEntityMap.set(e,a),this._entityToIdMap.set(a,e),this._nodes.push(a);const h=this.addComponent(a,new es);this.addComponent(a,new Ts),this.addComponent(a,new Os),this.addComponent(a,new Cs),h.x=20+1130*Math.random(),h.y=20+944*Math.random();const u=this.addComponent(a,new Es),l=this.addComponent(a,new rs),c=this.addComponent(a,new bs);if("image"===i||"imageCircular"===i){this.addComponent(a,new Ss).image=t.image}if(i&&(l.shape=i),n&&(c.height=n.height||c.height,c.width=n.width||c.width),r&&(u.fillColor=r.fillColor||u.fillColor,u.textColor=r.textColor||u.textColor),o){this.addComponent(a,new As).data=o}if(s){const t=this.addComponent(a,new ws);t.text=s.text,t.alignment=s.alignment}}bulkCreateNodes(t){t.forEach(t=>{this.createNode(t)})}addComponent(t,e){const i=e.constructor.name;let r=this._componentStores.get(i);return void 0===r&&(r=new ms,this._componentStores.set(i,r)),r.set(t,e),e}removeComponent(t,e){const i=this._componentStores.get(e.name);return!(!i||!i.has(t))&&(i.delete(t),!0)}getComponent(t,e){const i=this._componentStores.get(e.name);if(!i)throw new Error(`No entities with attached component: ${e.name}`);const r=i.get(t);if(!r)throw new Error(`Node ${JSON.stringify(t)} does not have component: ${e.name}`);return r}getComponentsOfType(t){const e=this._componentStores.get(t.name);return void 0===e?[]:Array.from(e)}getNonUserControlledNodesWithComponent(t){const e=this._componentStores.get(t.name),i=this._componentStores.get("usercontrolled");if(void 0===e)return[];if(i&&i.length){let t=Array.from(e);return i.indices().forEach(r=>{e.has(r)&&i.get(r).isControlled&&(t=t.splice(r.index,1))}),t}return Array.from(e)}getAllNodesWithComponent(t){const e=this._componentStores.get(t.name);return void 0===e?[]:e.indices()}deleteNode(t){this._allocator.deallocate(t)&&this._componentStores.forEach(e=>{e.has(t)&&e.delete(t)})}getNodeEntity(t){return this._idToEntityMap.get(t)}get nodes(){return this._nodes}}class Ps{constructor(){this._allocator=new ys,this._edges=[],this._componentStores=new Map}createEdge(t,e,i){const{label:r,color:n}=i,s=this._allocator.allocate();this.edges.push(s);const o=this.addComponent(s,new is),a=this.addComponent(s,new ws),h=this.addComponent(s,new Es);this.addComponent(s,new As);o.from=e,o.to=t,r&&(a.text=r.text||a.text,a.alignment=r.alignment||a.alignment),n&&(h.fillColor=n.fillColor||h.fillColor,h.textColor=n.textColor||h.textColor)}deleteEdge(t){return!!this._allocator.deallocate(t)&&(this._componentStores.forEach(e=>{e.has(t)&&e.delete(t)}),!0)}addComponent(t,e){const i=e.constructor.name;let r=this._componentStores.get(i);return void 0===r&&(r=new ms,this._componentStores.set(i,r)),r.set(t,e),e}removeComponent(t,e){const i=this._componentStores.get(e.name);return!(!i||!i.has(t))&&(i.delete(t),!0)}bulkCreateEdges(t,e){t.forEach(t=>{this.createEdge(t.to,t.from,e)})}get edges(){return this._edges}getComponent(t,e){const i=this._componentStores.get(e.name);if(!i)throw new Error(`No entities with attached component: ${e.name}`);const r=i.get(t);if(!r)throw new Error(`Edge ${JSON.stringify(t)} does not have component: ${e.name}`);return r}getComponentsOfType(t){const e=this._componentStores.get(t.name);return void 0===e?[]:Array.from(e)}getEdgeComponents(t){const e={};return this._componentStores.forEach((i,r)=>{i.has(t)&&(e[r]=i.get(t))}),e}}class Ms{constructor(t,e,i,r){this.theta=.5,this.options={gravitationalConstant:-2e3},this.theta=i||this.theta,this.options.gravitationalConstant=r.gravitationalConstant||this.options.gravitationalConstant,this.constructTree(t,e)}constructTree(t,e){const i=t.right-t.left,r=t.bottom-t.top,n=i>r?i:r;this.barnesHutTree=new xs(new _s({x:t.left,y:t.top},{x:n,y:n}));const s=e.nodes,o=e.getComponentsOfType(es),a=s.length;for(let t=0;t<a;t++){const e=s[t],i=o[e.index];this.barnesHutTree.insert(e,i)}}getForceContributions(t,e,i){let r={x:0,y:0};if(i.divided||i.elements.size){const n=i.centerOfMass.x-e.x,s=i.centerOfMass.y-e.y,o=Math.sqrt(n*n+s*s);(i.bounds.size.x>i.bounds.size.y?i.bounds.size.x:i.bounds.size.y)/o<this.theta?r=os(r,this.calcForce(o,n,s,i.mass)):i.divided?(r=os(r,this.getForceContributions(t,e,i.TL)),r=os(r,this.getForceContributions(t,e,i.TR)),r=os(r,this.getForceContributions(t,e,i.BL)),r=os(r,this.getForceContributions(t,e,i.BR))):i.elements.has(t)||(r=os(r,this.calcForce(o,n,s,i.mass)))}return r}calcForce(t,e,i,r){t<.1&&(e=t=.1);const n=this.options.gravitationalConstant*r/(t*t*t);return{x:e*n,y:i*n}}update(t,e){const i=e.nodes,r=e.getComponentsOfType(es),n=e.getComponentsOfType(Cs);this.constructTree(t,e);const s=i.length;for(let t=0;t<s;t++){const e=i[t],s=r[e.index],o=n[e.index],a=this.getForceContributions(e,s,this.barnesHutTree);o.x+=a.x,o.y+=a.y}}}function Ds(t,e,i,r){t<.1&&(e=t=.1);const n=.3*r/t;return{x:n*e,y:n*i}}function Rs(t,e,i){return t+=(e-.5*t)/i,Math.abs(t)>1e9&&(t=t<0?-1e9:1e9),t}class Ls{constructor(t){var e,i,r;this.isDragging=!1,this.graphRenderer=t._renderer,this.graphGraphics=t._graphics,this.graphStage=t._graphicsContainer,gs(e=t._canvasContainer,ps,i=t=>{this.zoom(t.clientX,t.clientY,t.deltaY<0)},r=!1),"DOMMouseScroll"==ps&&gs(e,"MozMousePixelScroll",i,r),this.addPanning()}getGraphCoordinates(t,e){let i={global:{x:0,y:0}};return i.global.x=t,i.global.y=e,r.InteractionData.prototype.getLocalPosition.call(i,this.graphGraphics)}zoom(t,e,i){let r=1+.1*(i?1:-1);this.graphGraphics.scale.x*=r,this.graphGraphics.scale.y*=r;let n=this.getGraphCoordinates(t,e);this.graphGraphics.updateTransform();let s=this.getGraphCoordinates(t,e);this.graphGraphics.position.x+=(s.x-n.x)*this.graphGraphics.scale.x,this.graphGraphics.position.y+=(s.y-n.y)*this.graphGraphics.scale.y,this.graphGraphics.updateTransform()}addPanning(){console.log("add panning");let t=this.graphStage;t.interactive=!0;let e,i,r=!1;t.on("pointerdown",t=>{console.log("pointerdown");let n=t.data.global;e=n.x,i=n.y,r=!0}),t.on("pointermove",t=>{if(!r)return;let n=t.data.global,s=n.x-e,o=n.y-i;this.graphGraphics.position.x+=s,this.graphGraphics.position.y+=o,e=n.x,i=n.y}),t.on("pointerup",t=>{console.log("pointerup"),r=!1})}}i.d(e,"default",function(){return Fs});class Fs{constructor(t,e,i,r){this._runs=0,this._renderer=new ns(t),this._nodeManager=new Is,this._edgeManager=new Ps,this._setup(e,i,r)}start(){requestAnimationFrame(()=>{this._update()})}_setup(t,e,i){t.length;const r=e.length;let n;for(this._nodeManager.bulkCreateNodes(t),n=0;n<r;n++){const t=e[n],i=this._nodeManager.getNodeEntity(t.to),r=this._nodeManager.getNodeEntity(t.from);this._edgeManager.createEdge(i,r,t)}this._forceSystem=new Ms({left:0,top:0,bottom:this._renderer._canvas.height,right:this._renderer._canvas.width},this._nodeManager,.5,{gravitationalConstant:-3e4}),this._worldBounds={left:0,top:0,bottom:this._renderer._canvas.height,right:this._renderer._canvas.width},this._inputSytem=new Ls(this._renderer)}_updateWorldBounds(){const t=this._nodeManager.nodes,e=this._nodeManager.getComponentsOfType(es);this._worldBounds={left:0,top:0,right:0,bottom:0};const i=t.length;for(let r=0;r<i;r++){const i=e[t[r].index];i.x<this._worldBounds.left?this._worldBounds.left=i.x:i.x>this._worldBounds.right&&(this._worldBounds.right=i.x),i.y<this._worldBounds.top?this._worldBounds.top=i.y:i.y>this._worldBounds.bottom&&(this._worldBounds.bottom=i.y)}}_update(){requestAnimationFrame(()=>{this._update()}),console.time("physics"),this._updateWorldBounds(),function(t,e){const i=t.nodes,r=t.getComponentsOfType(es),n=t.getComponentsOfType(Cs),s=i.length;let o,a,h,u,l,c,d;for(let t=0;t<s;t++)a=r[(o=i[t]).index],d=n[o.index],h=e.x-a.x,u=e.y-a.y,c=Ds(l=Math.sqrt(h*h+u*u),h,u,1),d.x+=c.x,d.y+=c.y}(this._nodeManager,{x:this._renderer._canvas.width/2,y:this._renderer._canvas.height/2}),this._forceSystem.update(this._worldBounds,this._nodeManager),function(t,e,i){const r=i&&i.stiffness||20,n=i&&i.damping||.003,s=i&&i.restDistance||150,o=t.getComponentsOfType(is),a=e.getComponentsOfType(es),h=e.getComponentsOfType(Ts),u=e.getComponentsOfType(Cs),l=o.length;for(let t=0;t<l;t++){let e=o[t],i=a[e.from.index],l=h[e.from.index],c=u[e.from.index],d=a[e.to.index],p=h[e.to.index],f=u[e.to.index],g=cs(i,d);g=g>=1?g:1;const v=ls(as(d,i)),y=ls(as(i,d)),m=as(l,p),_=as(p,l),x=r*(g-s),b=x*(v.x/g)-n*m.x,w=x*(v.y/g)-n*m.y,T=x*(y.x/g)-n*_.x,E=x*(y.y/g)-n*_.y;c.x+=b,c.y+=w,f.x+=T,f.y+=E}}(this._edgeManager,this._nodeManager),function(t,e){const i=t.nodes,r=t.getComponentsOfType(Ts),n=t.getComponentsOfType(es),s=t.getComponentsOfType(Cs),o=i.length;let a,h,u,l,c;for(a=0;a<o;a++)c=n[(h=i[a]).index],l=s[h.index],(u=r[h.index]).x=Rs(u.x,l.x,1),u.y=Rs(u.y,l.y,1),c.x+=u.x*e,c.y+=u.y*e,l.x=0,l.y=0}(this._nodeManager,.5),console.timeEnd("physics"),console.time("render"),this._renderer.render(this._edgeManager,this._nodeManager,this._forceSystem.barnesHutTree,!1),console.timeEnd("render")}}window.VNetGraph||(window.VNetGraph=Fs)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pc21vYmlsZWpzL2Rpc3QvaXNNb2JpbGUubWluLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZWFyY3V0L3NyYy9lYXJjdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlLXBvbHlmaWxsL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BvbHlmaWxsL2xpYi9wb2x5ZmlsbC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wdW55Y29kZS9wdW55Y29kZS5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZGVjb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZW5jb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zZXR0aW5ncy9saWIvc2V0dGluZ3MuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2NvbnN0YW50cy9saWIvY29uc3RhbnRzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvdXRpbHMuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL21hdGguZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Rpc3BsYXkvbGliL2Rpc3BsYXkuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2FjY2Vzc2liaWxpdHkvbGliL2FjY2Vzc2liaWxpdHkuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3J1bm5lci9saWIvcnVubmVyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS90aWNrZXIvbGliL3RpY2tlci5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvY29yZS9saWIvY29yZS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZXh0cmFjdC9saWIvZXh0cmFjdC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvaW50ZXJhY3Rpb24vbGliL2ludGVyYWN0aW9uLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9ncmFwaGljcy9saWIvZ3JhcGhpY3MuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZS9saWIvc3ByaXRlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2xpYi90ZXh0LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2xpYi9wcmVwYXJlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9hcHAvbGliL2FwcC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2Rpc3QvcmVzb3VyY2UtbG9hZGVyLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbG9hZGVycy9saWIvbG9hZGVycy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvcGFydGljbGVzL2xpYi9wYXJ0aWNsZXMuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3Nwcml0ZXNoZWV0L2xpYi9zcHJpdGVzaGVldC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlLXRpbGluZy9saWIvc3ByaXRlLXRpbGluZy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL3RleHQtYml0bWFwLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYmx1ci9saWIvZmlsdGVyLWJsdXIuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgvbGliL2ZpbHRlci1jb2xvci1tYXRyaXguZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1kaXNwbGFjZW1lbnQvbGliL2ZpbHRlci1kaXNwbGFjZW1lbnQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcC9saWIvbWl4aW4tY2FjaGUtYXMtYml0bWFwLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZS9saWIvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24vbGliL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24uZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL21lc2guZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3BpeGkuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1Bvc2l0aW9uQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NwcmluZ0NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TaGFwZUNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3lzdGVtcy9SZW5kZXJTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWxzL3V1aWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWxzL3ZlY3RvcjJkLnRzIiwid2VicGFjazovLy8uL3NyYy9VdGlscy9Nb3VzZVdoZWVsTGlzdGVuZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWxzL0dlbmVyYXRpb25hbEluZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9VdGlscy9HZW5lcmF0aW9uYWxJbmRleEFsbG9jYXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbHMvR2VuZXJhdGlvbmFsSW5kZXhBcnJheS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbHMvQm91bmRzLnRzIiwid2VicGFjazovLy8uL3NyYy9VdGlscy9RdWFkVHJlZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TaXplQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0xhYmVsQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1ZlbG9jaXR5Q29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0NvbG9yQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0ltYWdlQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0RhdGFDb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvQWNjZWxlcmF0aW9uQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0ZvcmNlQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9NYW5hZ2Vycy9Ob2RlTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTWFuYWdlcnMvRWRnZU1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N5c3RlbXMvRm9yY2VTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N5c3RlbXMvQ2VudHJhbEdyYXZpdHkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N5c3RlbXMvVmVsb2NpdHlWZXJsZXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N5c3RlbXMvSW5wdXRTeXN0ZW0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9TeXN0ZW1zL1NwcmluZ1N5c3RlbS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJUeXBlRXJyb3IiLCJNaW5pU2lnbmFsQmluZGluZyIsImZuIiwib25jZSIsInRoaXNBcmciLCJ1bmRlZmluZWQiLCJ0aGlzIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9uZXh0IiwiX3ByZXYiLCJfb3duZXIiLCJkZXRhY2giLCJfYWRkTWluaVNpZ25hbEJpbmRpbmciLCJzZWxmIiwibm9kZSIsIl9oZWFkIiwiX3RhaWwiLCJNaW5pU2lnbmFsIiwiZXhpc3RzIiwiYXJndW1lbnRzIiwiZWUiLCJwdXNoIiwiRXJyb3IiLCJhcHBseSIsImEiLCJiIiwiZiIsInUiLCJoIiwidiIsInciLCJlIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInNwbGl0IiwiYXBwbGUiLCJwaG9uZSIsImlwb2QiLCJ0YWJsZXQiLCJkZXZpY2UiLCJhbWF6b24iLCJhbmRyb2lkIiwid2luZG93cyIsIm90aGVyIiwiYmxhY2tiZXJyeSIsImJsYWNrYmVycnkxMCIsIm9wZXJhIiwiZmlyZWZveCIsImNocm9tZSIsImFueSIsIndpbmRvdyIsImlzTW9iaWxlIiwiZyIsIkZ1bmN0aW9uIiwicHVueWNvZGUiLCJ1dGlsIiwiVXJsIiwicHJvdG9jb2wiLCJzbGFzaGVzIiwiYXV0aCIsImhvc3QiLCJwb3J0IiwiaG9zdG5hbWUiLCJoYXNoIiwic2VhcmNoIiwicXVlcnkiLCJwYXRobmFtZSIsInBhdGgiLCJocmVmIiwicGFyc2UiLCJ1cmxQYXJzZSIsInJlc29sdmUiLCJzb3VyY2UiLCJyZWxhdGl2ZSIsInJlc29sdmVPYmplY3QiLCJmb3JtYXQiLCJvYmoiLCJpc1N0cmluZyIsInByb3RvY29sUGF0dGVybiIsInBvcnRQYXR0ZXJuIiwic2ltcGxlUGF0aFBhdHRlcm4iLCJ1bndpc2UiLCJjb25jYXQiLCJhdXRvRXNjYXBlIiwibm9uSG9zdENoYXJzIiwiaG9zdEVuZGluZ0NoYXJzIiwiaG9zdG5hbWVQYXJ0UGF0dGVybiIsImhvc3RuYW1lUGFydFN0YXJ0IiwidW5zYWZlUHJvdG9jb2wiLCJob3N0bGVzc1Byb3RvY29sIiwic2xhc2hlZFByb3RvY29sIiwicXVlcnlzdHJpbmciLCJ1cmwiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwic2xhc2hlc0Rlbm90ZUhvc3QiLCJpc09iamVjdCIsInF1ZXJ5SW5kZXgiLCJpbmRleE9mIiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJyZXBsYWNlIiwicmVzdCIsImpvaW4iLCJ0cmltIiwic2ltcGxlUGF0aCIsImV4ZWMiLCJzdWJzdHIiLCJwcm90byIsImxvd2VyUHJvdG8iLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoIiwiYXRTaWduIiwiaG9zdEVuZCIsImhlYyIsImxhc3RJbmRleE9mIiwic2xpY2UiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJzZUhvc3QiLCJpcHY2SG9zdG5hbWUiLCJob3N0cGFydHMiLCJwYXJ0IiwibmV3cGFydCIsImoiLCJrIiwiY2hhckNvZGVBdCIsInZhbGlkUGFydHMiLCJub3RIb3N0IiwiYml0IiwidW5zaGlmdCIsInRvQVNDSUkiLCJhZSIsImVzYyIsImVuY29kZVVSSUNvbXBvbmVudCIsImVzY2FwZSIsInFtIiwia2V5cyIsInN0cmluZ2lmeSIsImNoYXJBdCIsInJlbCIsInJlc3VsdCIsInRrZXlzIiwidGsiLCJ0a2V5IiwicmtleXMiLCJyayIsInJrZXkiLCJyZWxQYXRoIiwic2hpZnQiLCJpc1NvdXJjZUFicyIsImlzUmVsQWJzIiwibXVzdEVuZEFicyIsInJlbW92ZUFsbERvdHMiLCJzcmNQYXRoIiwicHN5Y2hvdGljIiwicG9wIiwiaXNOdWxsT3JVbmRlZmluZWQiLCJhdXRoSW5Ib3N0IiwiaXNOdWxsIiwibGFzdCIsImhhc1RyYWlsaW5nU2xhc2giLCJ1cCIsInNwbGljZSIsImlzQWJzb2x1dGUiLCJzdHIiLCJvcHRzIiwicSIsInBhcnNlciIsInN0cmljdCIsImxvb3NlIiwic3RyaWN0TW9kZSIsInVyaSIsIiQwIiwiJDEiLCIkMiIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiY29udGV4dCIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2ZW50IiwibGlzdGVuZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsIkV2ZW50RW1pdHRlciIsIl9fcHJvdG9fXyIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwiQXJyYXkiLCJsaXN0ZW5lckNvdW50IiwiZW1pdCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJhcmdzIiwibGVuIiwicmVtb3ZlTGlzdGVuZXIiLCJvbiIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsInByZWZpeGVkIiwiZWFyY3V0IiwiZGF0YSIsImhvbGVJbmRpY2VzIiwiZGltIiwibWluWCIsIm1pblkiLCJtYXhYIiwibWF4WSIsIngiLCJ5IiwiaW52U2l6ZSIsImhhc0hvbGVzIiwib3V0ZXJMZW4iLCJvdXRlck5vZGUiLCJsaW5rZWRMaXN0IiwidHJpYW5nbGVzIiwibmV4dCIsInByZXYiLCJzdGFydCIsImVuZCIsImxpc3QiLCJxdWV1ZSIsInN0ZWluZXIiLCJnZXRMZWZ0bW9zdCIsInNvcnQiLCJjb21wYXJlWCIsImVsaW1pbmF0ZUhvbGUiLCJmaWx0ZXJQb2ludHMiLCJlbGltaW5hdGVIb2xlcyIsIk1hdGgiLCJtYXgiLCJlYXJjdXRMaW5rZWQiLCJjbG9ja3dpc2UiLCJzaWduZWRBcmVhIiwiaW5zZXJ0Tm9kZSIsImVxdWFscyIsInJlbW92ZU5vZGUiLCJhZ2FpbiIsImFyZWEiLCJlYXIiLCJwYXNzIiwieiIsInpPcmRlciIsInByZXZaIiwibmV4dFoiLCJ0YWlsIiwibnVtTWVyZ2VzIiwicFNpemUiLCJxU2l6ZSIsImluU2l6ZSIsInNvcnRMaW5rZWQiLCJpbmRleEN1cnZlIiwic3RvcCIsImlzRWFySGFzaGVkIiwiaXNFYXIiLCJjdXJlTG9jYWxJbnRlcnNlY3Rpb25zIiwic3BsaXRFYXJjdXQiLCJwb2ludEluVHJpYW5nbGUiLCJtaW5UWCIsIm1pblRZIiwibWF4VFgiLCJtYXhUWSIsIm1pbloiLCJtYXhaIiwiaW50ZXJzZWN0cyIsImxvY2FsbHlJbnNpZGUiLCJpc1ZhbGlkRGlhZ29uYWwiLCJzcGxpdFBvbHlnb24iLCJob2xlIiwiaHgiLCJoeSIsInF4IiwiSW5maW5pdHkiLCJ0YW4iLCJteCIsIm15IiwidGFuTWluIiwiYWJzIiwiZmluZEhvbGVCcmlkZ2UiLCJsZWZ0bW9zdCIsImF4IiwiYXkiLCJieCIsImJ5IiwiY3giLCJjeSIsInB4IiwicHkiLCJpbnRlcnNlY3RzUG9seWdvbiIsImluc2lkZSIsIm1pZGRsZUluc2lkZSIsInAxIiwicDIiLCJxMSIsInEyIiwiTm9kZSIsImIyIiwiYW4iLCJicCIsInN1bSIsImRlZmF1bHQiLCJkZXZpYXRpb24iLCJwb2x5Z29uQXJlYSIsInRyaWFuZ2xlc0FyZWEiLCJmbGF0dGVuIiwidmVydGljZXMiLCJob2xlcyIsImRpbWVuc2lvbnMiLCJob2xlSW5kZXgiLCJOYXRpdmVQcm9taXNlIiwiZ2xvYmFsIiwibmF0aXZlUHJvbWlzZVN1cHBvcnRlZCIsIlByb21pc2UiLCJQb2x5ZmlsbCIsIlBFTkRJTkciLCJTRUFMRUQiLCJGVUxGSUxMRUQiLCJSRUpFQ1RFRCIsIk5PT1AiLCJpc0FycmF5IiwidG9TdHJpbmciLCJhc3luY1RpbWVyIiwiYXN5bmNTZXRUaW1lciIsInNldEltbWVkaWF0ZSIsInNldFRpbWVvdXQiLCJhc3luY1F1ZXVlIiwiYXN5bmNGbHVzaCIsImFzeW5jQ2FsbCIsImNhbGxiYWNrIiwiYXJnIiwiaW52b2tlQ2FsbGJhY2siLCJzdWJzY3JpYmVyIiwib3duZXIiLCJzZXR0bGVkIiwic3RhdGVfIiwiZGF0YV8iLCJwcm9taXNlIiwidGhlbiIsInJlamVjdCIsImhhbmRsZVRoZW5hYmxlIiwicmVzb2x2ZWQiLCJ2YWwiLCJmdWxmaWxsIiwicmVhc29uIiwicHVibGlzaEZ1bGZpbGxtZW50IiwicHVibGlzaFJlamVjdGlvbiIsInB1Ymxpc2giLCJjYWxsYmFja3MiLCJ0aGVuXyIsInJlc29sdmVyIiwicmVqZWN0UHJvbWlzZSIsImludm9rZVJlc29sdmVyIiwiY29uc3RydWN0b3IiLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsImFsbCIsInByb21pc2VzIiwicmVzdWx0cyIsInJlbWFpbmluZyIsImluZGV4IiwicmFjZSIsInByb3BJc0VudW1lcmFibGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvT2JqZWN0IiwiYXNzaWduIiwidGVzdDEiLCJTdHJpbmciLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidGVzdDIiLCJmcm9tQ2hhckNvZGUiLCJtYXAiLCJ0ZXN0MyIsImZvckVhY2giLCJsZXR0ZXIiLCJlcnIiLCJzaG91bGRVc2VOYXRpdmUiLCJmcm9tIiwic3ltYm9scyIsInRvIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJwZXJmb3JtYW5jZSIsInN0YXJ0VGltZSIsImxhc3RUaW1lIiwidmVuZG9ycyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3VycmVudFRpbWUiLCJkZWxheSIsImlkIiwiY2xlYXJUaW1lb3V0Iiwic2lnbiIsIk51bWJlciIsImlzTmFOIiwiaXNJbnRlZ2VyIiwiaXNGaW5pdGUiLCJmbG9vciIsIkFycmF5QnVmZmVyIiwiRmxvYXQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQ4QXJyYXkiLCJJbnQzMkFycmF5IiwiVGltZW91dCIsImNsZWFyRm4iLCJfaWQiLCJfY2xlYXJGbiIsInNjb3BlIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwidGltZW91dCIsImNsb3NlIiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJpdGVtIiwibXNlY3MiLCJfaWRsZVRpbWVvdXRJZCIsIl9pZGxlVGltZW91dCIsInVuZW5yb2xsIiwiX3VucmVmQWN0aXZlIiwiYWN0aXZlIiwiX29uVGltZW91dCIsImNsZWFySW1tZWRpYXRlIiwicmVnaXN0ZXJJbW1lZGlhdGUiLCJodG1sIiwiY2hhbm5lbCIsIm1lc3NhZ2VQcmVmaXgiLCJvbkdsb2JhbE1lc3NhZ2UiLCJuZXh0SGFuZGxlIiwidGFza3NCeUhhbmRsZSIsImN1cnJlbnRseVJ1bm5pbmdBVGFzayIsImRvYyIsImRvY3VtZW50IiwiYXR0YWNoVG8iLCJnZXRQcm90b3R5cGVPZiIsInByb2Nlc3MiLCJoYW5kbGUiLCJuZXh0VGljayIsInJ1bklmUHJlc2VudCIsInBvc3RNZXNzYWdlIiwiaW1wb3J0U2NyaXB0cyIsInBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMiLCJvbGRPbk1lc3NhZ2UiLCJvbm1lc3NhZ2UiLCJjYW5Vc2VQb3N0TWVzc2FnZSIsIk1lc3NhZ2VDaGFubmVsIiwicG9ydDEiLCJwb3J0MiIsImNyZWF0ZUVsZW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JpcHQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZW1vdmVDaGlsZCIsImFwcGVuZENoaWxkIiwicmFuZG9tIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwidGFzayIsInJ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjdXJyZW50UXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJyb290Iiwibm9kZVR5cGUiLCJmcmVlR2xvYmFsIiwibWF4SW50IiwiYmFzZSIsInRNaW4iLCJ0TWF4Iiwic2tldyIsImRhbXAiLCJpbml0aWFsQmlhcyIsImluaXRpYWxOIiwiZGVsaW1pdGVyIiwicmVnZXhQdW55Y29kZSIsInJlZ2V4Tm9uQVNDSUkiLCJyZWdleFNlcGFyYXRvcnMiLCJlcnJvcnMiLCJiYXNlTWludXNUTWluIiwic3RyaW5nRnJvbUNoYXJDb2RlIiwiZXJyb3IiLCJ0eXBlIiwiUmFuZ2VFcnJvciIsIm1hcERvbWFpbiIsInN0cmluZyIsInBhcnRzIiwidWNzMmRlY29kZSIsImV4dHJhIiwib3V0cHV0IiwiY291bnRlciIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImZsYWciLCJhZGFwdCIsImRlbHRhIiwibnVtUG9pbnRzIiwiZmlyc3RUaW1lIiwiZGVjb2RlIiwiaW5wdXQiLCJvdXQiLCJiYXNpYyIsIm9sZGkiLCJiYXNlTWludXNUIiwiY29kZVBvaW50IiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwiZW5jb2RlIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsImN1cnJlbnRWYWx1ZSIsImhhbmRsZWRDUENvdW50UGx1c09uZSIsInFNaW51c1QiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJwYXRocyIsImNoaWxkcmVuIiwicHJvcCIsInFzIiwic2VwIiwiZXEiLCJvcHRpb25zIiwicmVnZXhwIiwibWF4S2V5cyIsImtzdHIiLCJ2c3RyIiwiaWR4IiwieHMiLCJzdHJpbmdpZnlQcmltaXRpdmUiLCJvYmplY3RLZXlzIiwia3MiLCJyZXMiLCJzZXR0aW5ncyIsIk1JUE1BUF9URVhUVVJFUyIsIkFOSVNPVFJPUElDX0xFVkVMIiwiUkVTT0xVVElPTiIsIkZJTFRFUl9SRVNPTFVUSU9OIiwiU1BSSVRFX01BWF9URVhUVVJFUyIsImFsbG93TWF4IiwicGFyc2VJbnQiLCJtYXRjaCQxIiwibWF4UmVjb21tZW5kZWRUZXh0dXJlcyIsIlNQUklURV9CQVRDSF9TSVpFIiwiUkVOREVSX09QVElPTlMiLCJ2aWV3IiwiYW50aWFsaWFzIiwiZm9yY2VGWEFBIiwiYXV0b0RlbnNpdHkiLCJ0cmFuc3BhcmVudCIsImJhY2tncm91bmRDb2xvciIsImNsZWFyQmVmb3JlUmVuZGVyIiwicHJlc2VydmVEcmF3aW5nQnVmZmVyIiwid2lkdGgiLCJoZWlnaHQiLCJsZWdhY3kiLCJHQ19NT0RFIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJTQ0FMRV9NT0RFIiwiUFJFQ0lTSU9OX1ZFUlRFWCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJDUkVBVEVfSU1BR0VfQklUTUFQIiwiUk9VTkRfUElYRUxTIiwiRU5WIiwiV0VCR0xfTEVHQUNZIiwiV0VCR0wiLCJXRUJHTDIiLCJSRU5ERVJFUl9UWVBFIiwiVU5LTk9XTiIsIkNBTlZBUyIsIkJMRU5EX01PREVTIiwiTk9STUFMIiwiQUREIiwiTVVMVElQTFkiLCJTQ1JFRU4iLCJPVkVSTEFZIiwiREFSS0VOIiwiTElHSFRFTiIsIkNPTE9SX0RPREdFIiwiQ09MT1JfQlVSTiIsIkhBUkRfTElHSFQiLCJTT0ZUX0xJR0hUIiwiRElGRkVSRU5DRSIsIkVYQ0xVU0lPTiIsIkhVRSIsIlNBVFVSQVRJT04iLCJDT0xPUiIsIkxVTUlOT1NJVFkiLCJOT1JNQUxfTlBNIiwiQUREX05QTSIsIlNDUkVFTl9OUE0iLCJOT05FIiwiU1JDX09WRVIiLCJTUkNfSU4iLCJTUkNfT1VUIiwiU1JDX0FUT1AiLCJEU1RfT1ZFUiIsIkRTVF9JTiIsIkRTVF9PVVQiLCJEU1RfQVRPUCIsIkVSQVNFIiwiU1VCVFJBQ1QiLCJEUkFXX01PREVTIiwiUE9JTlRTIiwiTElORVMiLCJMSU5FX0xPT1AiLCJMSU5FX1NUUklQIiwiVFJJQU5HTEVTIiwiVFJJQU5HTEVfU1RSSVAiLCJUUklBTkdMRV9GQU4iLCJGT1JNQVRTIiwiUkdCQSIsIlJHQiIsIkFMUEhBIiwiTFVNSU5BTkNFIiwiTFVNSU5BTkNFX0FMUEhBIiwiREVQVEhfQ09NUE9ORU5UIiwiREVQVEhfU1RFTkNJTCIsIlRBUkdFVFMiLCJURVhUVVJFXzJEIiwiVEVYVFVSRV9DVUJFX01BUCIsIlRFWFRVUkVfMkRfQVJSQVkiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1giLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1kiLCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1kiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1oiLCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1oiLCJUWVBFUyIsIlVOU0lHTkVEX0JZVEUiLCJVTlNJR05FRF9TSE9SVCIsIlVOU0lHTkVEX1NIT1JUXzVfNl81IiwiVU5TSUdORURfU0hPUlRfNF80XzRfNCIsIlVOU0lHTkVEX1NIT1JUXzVfNV81XzEiLCJGTE9BVCIsIkhBTEZfRkxPQVQiLCJTQ0FMRV9NT0RFUyIsIldSQVBfTU9ERVMiLCJNSVBNQVBfTU9ERVMiLCJHQ19NT0RFUyIsIlBSRUNJU0lPTiIsIkxPVyIsIk1FRElVTSIsIkhJR0giLCJSRVRJTkFfUFJFRklYIiwiRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQiLCJzYWlkSGVsbG8iLCJWRVJTSU9OIiwiaGV4MnJnYiIsImhleCIsImhleDJzdHJpbmciLCJwcmVtdWx0aXBseUJsZW5kTW9kZSIsInBtIiwibnBtIiwibWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMiLCJjb3JyZWN0QmxlbmRNb2RlIiwiYmxlbmRNb2RlIiwicHJlbXVsdGlwbGllZCIsInByZW11bHRpcGx5VGludCIsInRpbnQiLCJhbHBoYSIsIlIiLCJHIiwiQiIsInByZW11bHRpcGx5VGludFRvUmdiYSIsInByZW11bHRpcGx5IiwicmVtb3ZlSXRlbXMiLCJhcnIiLCJzdGFydElkeCIsInJlbW92ZUNvdW50IiwibmV4dFVpZCIsInVpZCIsIm5leHRQb3cyIiwiaXNQb3cyIiwibG9nMiIsIlByb2dyYW1DYWNoZSIsIlRleHR1cmVDYWNoZSIsIkJhc2VUZXh0dXJlQ2FjaGUiLCJyZXNvbHV0aW9uIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsInJlc2l6ZSIsImNsZWFyIiwic2V0VHJhbnNmb3JtIiwiY2xlYXJSZWN0IiwiZGVzdHJveSIsInNldCIsInRlbXBBbmNob3IiLCJnZXRSZXNvbHV0aW9uT2ZVcmwiLCJkZWZhdWx0VmFsdWUiLCJwYXJzZUZsb2F0Iiwid2FybmluZ3MiLCJkZXByZWNhdGlvbiIsIm1lc3NhZ2UiLCJpZ25vcmVEZXB0aCIsInN0YWNrIiwiY29uc29sZSIsIndhcm4iLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwiUG9pbnQiLCJjbG9uZSIsImNvcHlGcm9tIiwiY29weVRvIiwiT2JzZXJ2YWJsZVBvaW50IiwiY2IiLCJfeCIsIl95IiwiX2NiIiwiX3Njb3BlIiwiUElfMiIsIlBJIiwiUkFEX1RPX0RFRyIsIkRFR19UT19SQUQiLCJTSEFQRVMiLCJQT0xZIiwiUkVDVCIsIkNJUkMiLCJFTElQIiwiUlJFQyIsIk1hdHJpeCIsInR4IiwidHkiLCJJREVOVElUWSIsIlRFTVBfTUFUUklYIiwiZnJvbUFycmF5IiwidG9BcnJheSIsInRyYW5zcG9zZSIsInBvcyIsIm5ld1BvcyIsImFwcGx5SW52ZXJzZSIsInRyYW5zbGF0ZSIsInNjYWxlIiwicm90YXRlIiwiYW5nbGUiLCJjb3MiLCJzaW4iLCJjMSIsInR4MSIsImFwcGVuZCIsIm1hdHJpeCIsImIxIiwiZDEiLCJwaXZvdFgiLCJwaXZvdFkiLCJzY2FsZVgiLCJzY2FsZVkiLCJyb3RhdGlvbiIsInNrZXdYIiwic2tld1kiLCJwcmVwZW5kIiwiZGVjb21wb3NlIiwidHJhbnNmb3JtIiwiYXRhbjIiLCJzcXJ0IiwicG9zaXRpb24iLCJpbnZlcnQiLCJpZGVudGl0eSIsInV4IiwidXkiLCJ2eCIsInZ5Iiwicm90YXRpb25DYXlsZXkiLCJyb3RhdGlvbk1hdHJpY2VzIiwic2lnbnVtIiwicm93IiwiX3V4IiwiX3V5IiwiX3Z4IiwiX3Z5IiwiaSQxIiwibWF0IiwiaW5pdCIsIkdyb3VwRDgiLCJFIiwiU0UiLCJTIiwiU1ciLCJXIiwiTlciLCJOIiwiTkUiLCJNSVJST1JfVkVSVElDQUwiLCJNQUlOX0RJQUdPTkFMIiwiTUlSUk9SX0hPUklaT05UQUwiLCJSRVZFUlNFX0RJQUdPTkFMIiwidVgiLCJpbmQiLCJ1WSIsInZYIiwidlkiLCJpbnYiLCJhZGQiLCJyb3RhdGlvblNlY29uZCIsInJvdGF0aW9uRmlyc3QiLCJzdWIiLCJyb3RhdGUxODAiLCJpc1ZlcnRpY2FsIiwiYnlEaXJlY3Rpb24iLCJkeCIsImR5IiwibWF0cml4QXBwZW5kUm90YXRpb25JbnYiLCJUcmFuc2Zvcm0iLCJ3b3JsZFRyYW5zZm9ybSIsImxvY2FsVHJhbnNmb3JtIiwib25DaGFuZ2UiLCJwaXZvdCIsInVwZGF0ZVNrZXciLCJfcm90YXRpb24iLCJfY3giLCJfc3giLCJfY3kiLCJfc3kiLCJfbG9jYWxJRCIsIl9jdXJyZW50TG9jYWxJRCIsIl93b3JsZElEIiwiX3BhcmVudElEIiwicHJvdG90eXBlQWNjZXNzb3JzJDEiLCJ1cGRhdGVMb2NhbFRyYW5zZm9ybSIsImx0IiwidXBkYXRlVHJhbnNmb3JtIiwicGFyZW50VHJhbnNmb3JtIiwicHQiLCJ3dCIsInNldEZyb21NYXRyaXgiLCJSZWN0YW5nbGUiLCJwcm90b3R5cGVBY2Nlc3NvcnMkMiIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsInN0YXRpY0FjY2Vzc29ycyQxIiwiRU1QVFkiLCJyZWN0YW5nbGUiLCJjb250YWlucyIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJ4MSIsIngyIiwibWluIiwieTEiLCJ5MiIsImNlaWwiLCJlcHMiLCJlbmxhcmdlIiwiQ2lyY2xlIiwicmFkaXVzIiwicjIiLCJnZXRCb3VuZHMiLCJFbGxpcHNlIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsIm5vcm14Iiwibm9ybXkiLCJwb2ludHMiLCJpbCIsImNsb3NlU3Ryb2tlIiwicG9seWdvbiIsInhpIiwieWkiLCJ4aiIsInlqIiwiUm91bmRlZFJlY3RhbmdsZSIsInJhZGl1czIiLCJTT1JUQUJMRV9DSElMRFJFTiIsIkJvdW5kcyIsInJlY3QiLCJpc0VtcHR5IiwidXBkYXRlSUQiLCJnZXRSZWN0YW5nbGUiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwieDAiLCJ5MCIsImFkZFZlcnRleERhdGEiLCJ2ZXJ0ZXhEYXRhIiwiYmVnaW5PZmZzZXQiLCJlbmRPZmZzZXQiLCJhZGRWZXJ0aWNlcyIsInJhd1giLCJyYXdZIiwiYWRkQm91bmRzIiwiYm91bmRzIiwiYWRkQm91bmRzTWFzayIsIm1hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFkZEJvdW5kc0FyZWEiLCJEaXNwbGF5T2JqZWN0IiwidGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJ2aXNpYmxlIiwicmVuZGVyYWJsZSIsInBhcmVudCIsIndvcmxkQWxwaGEiLCJfbGFzdFNvcnRlZEluZGV4IiwiX3pJbmRleCIsImZpbHRlckFyZWEiLCJmaWx0ZXJzIiwiX2VuYWJsZWRGaWx0ZXJzIiwiX2JvdW5kcyIsIl9ib3VuZHNJRCIsIl9sYXN0Qm91bmRzSUQiLCJfYm91bmRzUmVjdCIsIl9sb2NhbEJvdW5kc1JlY3QiLCJfbWFzayIsIl9kZXN0cm95ZWQiLCJpc1Nwcml0ZSIsInByb3RvdHlwZUFjY2Vzc29ycyIsIl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInpJbmRleCIsIndvcmxkVmlzaWJsZSIsIm1peGluIiwicHJvcGVydHlOYW1lIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0iLCJza2lwVXBkYXRlIiwiY2FsY3VsYXRlQm91bmRzIiwiZ2V0TG9jYWxCb3VuZHMiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwicmVuZGVyIiwicmVuZGVyZXIiLCJzZXRQYXJlbnQiLCJjb250YWluZXIiLCJhZGRDaGlsZCIsIl9jdXJyZW50Qm91bmRzIiwiaW50ZXJhY3RpdmUiLCJpbnRlcmFjdGl2ZUNoaWxkcmVuIiwic29ydERpcnR5IiwiaXNNYXNrIiwic29ydENoaWxkcmVuIiwiQ29udGFpbmVyIiwic29ydGFibGVDaGlsZHJlbiIsIm9uQ2hpbGRyZW5DaGFuZ2UiLCJjaGlsZCIsImFyZ3VtZW50cyQxIiwiYXJndW1lbnRzTGVuZ3RoIiwiYWRkQ2hpbGRBdCIsInN3YXBDaGlsZHJlbiIsImNoaWxkMiIsImluZGV4MSIsImdldENoaWxkSW5kZXgiLCJpbmRleDIiLCJzZXRDaGlsZEluZGV4IiwiY3VycmVudEluZGV4IiwiZ2V0Q2hpbGRBdCIsInJlbW92ZUNoaWxkQXQiLCJyZW1vdmVDaGlsZHJlbiIsImJlZ2luSW5kZXgiLCJlbmRJbmRleCIsInJlbW92ZWQiLCJiZWdpbiIsInJhbmdlIiwic29ydFJlcXVpcmVkIiwiX2NhbGN1bGF0ZUJvdW5kcyIsInJlbmRlckFkdmFuY2VkIiwiX3JlbmRlciIsImJhdGNoIiwiZmx1c2giLCJlbmFibGVkIiwiZmlsdGVyIiwiZGVzdHJveUNoaWxkcmVuIiwib2xkQ2hpbGRyZW4iLCJfd2lkdGgiLCJfaGVpZ2h0IiwiY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtIiwiYWNjZXNzaWJsZSIsImFjY2Vzc2libGVUaXRsZSIsImFjY2Vzc2libGVIaW50IiwidGFiSW5kZXgiLCJfYWNjZXNzaWJsZUFjdGl2ZSIsIl9hY2Nlc3NpYmxlRGl2IiwiX2hvb2tEaXYiLCJjcmVhdGVUb3VjaEhvb2siLCJkaXYiLCJzdHlsZSIsIkRJVl9UT1VDSF9TSVpFIiwiRElWX1RPVUNIX1BPU19YIiwiRElWX1RPVUNIX1BPU19ZIiwicG9vbCIsInJlbmRlcklkIiwiZGVidWciLCJfb25LZXlEb3duIiwiX29uTW91c2VNb3ZlIiwiaXNBY3RpdmUiLCJpc01vYmlsZUFjY2Vzc2liaWxpdHkiLCJ0aGlzJDEiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJhY3RpdmF0ZSIsImRlc3Ryb3lUb3VjaEhvb2siLCJib2R5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVwZGF0ZSIsInBhcmVudE5vZGUiLCJkZWFjdGl2YXRlIiwidXBkYXRlQWNjZXNzaWJsZU9iamVjdHMiLCJkaXNwbGF5T2JqZWN0IiwicmVuZGVyaW5nVG9TY3JlZW4iLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic3giLCJzeSIsImhpdEFyZWEiLCJjYXBIaXRBcmVhIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiYm9yZGVyU3R5bGUiLCJfb25DbGljayIsIl9vbkZvY3VzIiwiX29uRm9jdXNPdXQiLCJpbnRlcmFjdGlvbk1hbmFnZXIiLCJwbHVnaW5zIiwiaW50ZXJhY3Rpb24iLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnREYXRhIiwia2V5Q29kZSIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsIlJ1bm5lciIsIml0ZW1zIiwiX25hbWUiLCJfYWxpYXNDb3VudCIsImVtcHR5IiwiYTAiLCJhNiIsImE3IiwiZW5zdXJlTm9uQWxpYXNlZEl0ZW1zIiwicmVtb3ZlIiwicmVtb3ZlQWxsIiwiZGlzcGF0Y2giLCJUQVJHRVRfRlBNUyIsIlVQREFURV9QUklPUklUWSIsIlRpY2tlckxpc3RlbmVyIiwicHJpb3JpdHkiLCJwcmV2aW91cyIsImRlbHRhVGltZSIsInJlZGlyZWN0IiwiY29ubmVjdCIsImhhcmQiLCJfcmVxdWVzdElkIiwiX21heEVsYXBzZWRNUyIsIl9taW5FbGFwc2VkTVMiLCJhdXRvU3RhcnQiLCJkZWx0YU1TIiwiZWxhcHNlZE1TIiwic3BlZWQiLCJzdGFydGVkIiwiX3Byb3RlY3RlZCIsIl9sYXN0RnJhbWUiLCJfdGljayIsInRpbWUiLCJGUFMiLCJtaW5GUFMiLCJtYXhGUFMiLCJzaGFyZWQiLCJzeXN0ZW0iLCJfcmVxdWVzdElmTmVlZGVkIiwiX2NhbmNlbElmTmVlZGVkIiwiX3N0YXJ0SWZQb3NzaWJsZSIsIl9hZGRMaXN0ZW5lciIsImFkZE9uY2UiLCJjdXJyZW50IiwiaGVhZCIsImZwcyIsIm1pbkZQTVMiLCJyb3VuZCIsIl9zaGFyZWQiLCJfc3lzdGVtIiwiVGlja2VyUGx1Z2luIiwic2hhcmVkVGlja2VyIiwidGlja2VyIiwiX3RpY2tlciIsIm9sZFRpY2tlciIsImRlc3Ryb3llZCIsImludGVybmFsIiwib25SZXNpemUiLCJvblVwZGF0ZSIsInZhbGlkIiwiYmFzZVRleHR1cmUiLCJ1bmJpbmQiLCJsb2FkIiwidXBsb2FkIiwiZ2xUZXh0dXJlIiwiZGlzcG9zZSIsIlJlc291cmNlIiwiQmFzZUltYWdlUmVzb3VyY2UiLCJuYXR1cmFsV2lkdGgiLCJ2aWRlb1dpZHRoIiwibmF0dXJhbEhlaWdodCIsInZpZGVvSGVpZ2h0IiwiY3Jvc3NPcmlnaW4iLCJlbGVtZW50IiwiY3Jvc3NvcmlnaW4iLCJsb2MiLCJsb2NhdGlvbiIsInNhbWVQb3J0IiwiZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJnbCIsInJlYWxXaWR0aCIsInJlYWxIZWlnaHQiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCIsInByZW11bHRpcGx5QWxwaGEiLCJ0ZXhTdWJJbWFnZTJEIiwidGV4SW1hZ2UyRCIsIkltYWdlUmVzb3VyY2UiLCJIVE1MSW1hZ2VFbGVtZW50IiwiaW1hZ2VFbGVtZW50IiwiSW1hZ2UiLCJzcmMiLCJfcHJvY2VzcyIsInByZXNlcnZlQml0bWFwIiwiY3JlYXRlQml0bWFwIiwiY3JlYXRlSW1hZ2VCaXRtYXAiLCJiaXRtYXAiLCJfbG9hZCIsImF1dG9Mb2FkIiwiY29tcGxldGVkIiwib25sb2FkIiwib25lcnJvciIsImNvbXBsZXRlIiwiX2dsVGV4dHVyZXMiLCJvdGhlclRleCIsImRpcnR5SWQiLCJJTlNUQUxMRUQiLCJhdXRvRGV0ZWN0UmVzb3VyY2UiLCJleHRlbnNpb24iLCJSZXNvdXJjZVBsdWdpbiIsIkJ1ZmZlclJlc291cmNlIiwiaW50ZXJuYWxGb3JtYXQiLCJkZWZhdWx0QnVmZmVyT3B0aW9ucyIsInNjYWxlTW9kZSIsIkJhc2VUZXh0dXJlIiwicmVzb3VyY2UiLCJtaXBtYXAiLCJhbmlzb3Ryb3BpY0xldmVsIiwid3JhcE1vZGUiLCJyZXNvdXJjZU9wdGlvbnMiLCJ0b3VjaGVkIiwiaXNQb3dlck9mVHdvIiwiX3JlZnJlc2hQT1QiLCJkaXJ0eVN0eWxlSWQiLCJjYWNoZUlkIiwidGV4dHVyZUNhY2hlSWRzIiwiX2JhdGNoRW5hYmxlZCIsInNldFJlc291cmNlIiwic2V0U3R5bGUiLCJkaXJ0eSIsInNldFNpemUiLCJzZXRSZWFsU2l6ZSIsInNldFJlc29sdXRpb24iLCJvbGRSZXNvbHV0aW9uIiwicmVtb3ZlRnJvbUNhY2hlIiwiX3BpeGlJZCIsImFkZFRvQ2FjaGUiLCJmcm9tQnVmZmVyIiwiYnVmZmVyIiwiYmFzZVRleHR1cmVGcm9tQ2FjaGUiLCJfZ2xvYmFsQmF0Y2giLCJBcnJheVJlc291cmNlIiwidXJscyIsIml0ZW1EaXJ0eUlkcyIsInBhcnRUZXh0dXJlIiwiYWRkUmVzb3VyY2VBdCIsInJlc291cmNlcyIsInRleHR1cmUiLCJ0ZXhJbWFnZTNEIiwidGV4U3ViSW1hZ2UzRCIsIkNhbnZhc1Jlc291cmNlIiwiT2Zmc2NyZWVuQ2FudmFzIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJDdWJlUmVzb3VyY2UiLCJTSURFUyIsInNpZGUiLCJTVkdSZXNvdXJjZSIsInN2ZyIsIl9vdmVycmlkZVdpZHRoIiwiX292ZXJyaWRlSGVpZ2h0IiwiX3Jlc29sdmUiLCJfY3Jvc3NvcmlnaW4iLCJidG9hIiwidW5lc2NhcGUiLCJfbG9hZFN2ZyIsInRlbXBJbWFnZSIsInN2Z1dpZHRoIiwic3ZnSGVpZ2h0IiwiZHJhd0ltYWdlIiwiZ2V0U2l6ZSIsInN2Z1N0cmluZyIsInNpemVNYXRjaCIsIlNWR19TSVpFIiwic2l6ZSIsIlZpZGVvUmVzb3VyY2UiLCJIVE1MVmlkZW9FbGVtZW50IiwidmlkZW9FbGVtZW50Iiwic291cmNlRWxlbWVudCIsIm1pbWUiLCJiYXNlU3JjIiwiZXh0IiwiX2F1dG9VcGRhdGUiLCJfaXNBdXRvVXBkYXRpbmciLCJfdXBkYXRlRlBTIiwidXBkYXRlRlBTIiwiX21zVG9OZXh0VXBkYXRlIiwiYXV0b1BsYXkiLCJfb25DYW5QbGF5IiwiYXV0b1VwZGF0ZSIsInBsYXliYWNrUmF0ZSIsInJlYWR5U3RhdGUiLCJIQVZFX0VOT1VHSF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIl9vblBsYXlTdGFydCIsIl9vblBsYXlTdG9wIiwiX2lzU291cmNlUmVhZHkiLCJfaXNTb3VyY2VQbGF5aW5nIiwicGF1c2VkIiwiZW5kZWQiLCJwbGF5IiwicGF1c2UiLCJJbWFnZUJpdG1hcFJlc291cmNlIiwiSW1hZ2VCaXRtYXAiLCJEZXB0aFJlc291cmNlIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJzdGVuY2lsIiwiZGVwdGgiLCJkaXJ0eUZvcm1hdCIsImRpcnR5U2l6ZSIsImRlcHRoVGV4dHVyZSIsImNvbG9yVGV4dHVyZXMiLCJnbEZyYW1lYnVmZmVycyIsImRpc3Bvc2VSdW5uZXIiLCJjb2xvclRleHR1cmUiLCJhZGRDb2xvclRleHR1cmUiLCJhZGREZXB0aFRleHR1cmUiLCJlbmFibGVEZXB0aCIsImVuYWJsZVN0ZW5jaWwiLCJyZXNvbHV0aW9uJDEiLCJCYXNlUmVuZGVyVGV4dHVyZSIsIl9jYW52YXNSZW5kZXJUYXJnZXQiLCJjbGVhckNvbG9yIiwiZnJhbWVidWZmZXIiLCJzdGVuY2lsTWFza1N0YWNrIiwiZmlsdGVyU3RhY2siLCJUZXh0dXJlVXZzIiwieDMiLCJ5MyIsInV2c0Zsb2F0MzIiLCJmcmFtZSIsImJhc2VGcmFtZSIsInR3IiwidGgiLCJ3MiIsImgyIiwiY1giLCJjWSIsIkRFRkFVTFRfVVZTIiwiVGV4dHVyZSIsIm9yaWciLCJhbmNob3IiLCJub0ZyYW1lIiwiX2ZyYW1lIiwicmVxdWlyZXNVcGRhdGUiLCJfdXZzIiwidXZNYXRyaXgiLCJfcm90YXRlIiwiZGVmYXVsdEFuY2hvciIsIl91cGRhdGVJRCIsIm9uQmFzZVRleHR1cmVVcGRhdGVkIiwidXBkYXRlVXZzIiwiZGVzdHJveUJhc2UiLCJmcm9tTG9hZGVyIiwiaW1hZ2VVcmwiLCJ0ZXh0dXJlRnJvbUNhY2hlIiwieE5vdEZpdCIsInlOb3RGaXQiLCJyZWxhdGlvbnNoaXAiLCJlcnJvclgiLCJlcnJvclkiLCJyZW1vdmVBbGxIYW5kbGVycyIsInRleCIsIldISVRFIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJjcmVhdGVXaGl0ZVRleHR1cmUiLCJSZW5kZXJUZXh0dXJlIiwiYmFzZVJlbmRlclRleHR1cmUiLCJfbGVnYWN5UmVuZGVyZXIiLCJsZWdhY3lSZW5kZXJlciIsImZpbHRlckZyYW1lIiwiZmlsdGVyUG9vbEtleSIsInJlc2l6ZUJhc2VUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZVBvb2wiLCJ0ZXh0dXJlT3B0aW9ucyIsInRleHR1cmVQb29sIiwiZW5hYmxlRnVsbFNjcmVlbiIsIl9waXhlbHNXaWR0aCIsIl9waXhlbHNIZWlnaHQiLCJjcmVhdGVUZXh0dXJlIiwiZ2V0T3B0aW1hbFRleHR1cmUiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIlNDUkVFTl9LRVkiLCJyZW5kZXJUZXh0dXJlIiwiZ2V0RmlsdGVyVGV4dHVyZSIsImZpbHRlclRleHR1cmUiLCJyZXR1cm5UZXh0dXJlIiwicmV0dXJuRmlsdGVyVGV4dHVyZSIsImRlc3Ryb3lUZXh0dXJlcyIsInRleHR1cmVzIiwic2V0U2NyZWVuU2l6ZSIsInNjcmVlbktleSIsIkF0dHJpYnV0ZSIsIm5vcm1hbGl6ZWQiLCJzdHJpZGUiLCJVSUQiLCJfc3RhdGljIiwiX2dsQnVmZmVycyIsInN0YXRpYyIsImdldEJ1ZmZlclR5cGUiLCJCWVRFU19QRVJfRUxFTUVOVCIsImJ5dGVTaXplTWFwIiwiNTEyNiIsIjUxMjMiLCI1MTIxIiwiVUlEJDEiLCJtYXAkMSIsImJ1ZmZlcnMiLCJhdHRyaWJ1dGVzIiwiaW5kZXhCdWZmZXIiLCJnbFZlcnRleEFycmF5T2JqZWN0cyIsImluc3RhbmNlZCIsImluc3RhbmNlQ291bnQiLCJyZWZDb3VudCIsImFkZEF0dHJpYnV0ZSIsImlkcyIsImJ1ZmZlckluZGV4IiwiZ2V0QnVmZmVyIiwiYWRkSW5kZXgiLCJnZXRJbmRleCIsImludGVybGVhdmUiLCJhcnJheXMiLCJzaXplcyIsImludGVybGVhdmVkQnVmZmVyIiwiYXR0cmlidXRlIiwib3V0U2l6ZSIsInZpZXdzIiwibGl0dGxlT2Zmc2V0IiwiaW50ZXJsZWF2ZVR5cGVkQXJyYXlzIiwiZ2VvbWV0cnkiLCJhdHRyaWIiLCJtZXJnZSIsImdlb21ldHJpZXMiLCJnZW9tZXRyeU91dCIsIm9mZnNldHMiLCJpJDIiLCJqJDEiLCJvZmZzZXQiLCJvZmZzZXQyIiwiYnVmZmVySW5kZXhUb0NvdW50IiwiaSQzIiwiaSQ0IiwiaSQ1IiwiaW5kZXhCdWZmZXJEYXRhIiwiaiQyIiwiUXVhZCIsIkdlb21ldHJ5IiwiUXVhZFV2IiwidXZzIiwidmVydGV4QnVmZmVyIiwidXZCdWZmZXIiLCJ0YXJnZXRUZXh0dXJlRnJhbWUiLCJkZXN0aW5hdGlvbkZyYW1lIiwiaW52YWxpZGF0ZSIsIlVJRCQyIiwiVW5pZm9ybUdyb3VwIiwidW5pZm9ybXMiLCJncm91cCIsInN5bmNVbmlmb3JtcyIsInNvdXJjZUZyYW1lIiwiU3lzdGVtIiwiRmlsdGVyU3lzdGVtIiwiZGVmYXVsdEZpbHRlclN0YWNrIiwic3RhdGVQb29sIiwicXVhZCIsInF1YWRVdiIsInRlbXBSZWN0IiwiYWN0aXZlU3RhdGUiLCJnbG9iYWxVbmlmb3JtcyIsIm91dHB1dEZyYW1lIiwiaW5wdXRTaXplIiwiaW5wdXRQaXhlbCIsImlucHV0Q2xhbXAiLCJmaWx0ZXJDbGFtcCIsInN0YXRlIiwicGFkZGluZyIsImF1dG9GaXQiLCJnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSIsImxhc3RTdGF0ZSIsImZsaXAiLCJmbG9wIiwiYXBwbHlGaWx0ZXIiLCJ1U2FtcGxlciIsImZpbHRlckdsb2JhbHMiLCJzaGFkZXIiLCJkcmF3IiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4Iiwib3V0cHV0TWF0cml4Iiwic3ByaXRlIiwiX3RleHR1cmUiLCJtYXBwZWRNYXRyaXgiLCJzd2FwIiwiZW1wdHlQb29sIiwiQmF0Y2hTeXN0ZW0iLCJlbXB0eVJlbmRlcmVyIiwiY3VycmVudFJlbmRlcmVyIiwic2V0T2JqZWN0UmVuZGVyZXIiLCJvYmplY3RSZW5kZXJlciIsInJlc2V0IiwiUFJFRkVSX0VOViIsIkNPTlRFWFRfVUlEIiwiQ29udGV4dFN5c3RlbSIsIndlYkdMVmVyc2lvbiIsImV4dGVuc2lvbnMiLCJoYW5kbGVDb250ZXh0TG9zdCIsImhhbmRsZUNvbnRleHRSZXN0b3JlZCIsImlzTG9zdCIsImlzQ29udGV4dExvc3QiLCJjb250ZXh0Q2hhbmdlIiwiZ2V0RXh0ZW5zaW9uIiwicmVzdG9yZUNvbnRleHQiLCJpbml0RnJvbUNvbnRleHQiLCJ2YWxpZGF0ZUNvbnRleHQiLCJydW5uZXJzIiwiaW5pdEZyb21PcHRpb25zIiwiY3JlYXRlQ29udGV4dCIsImdldEV4dGVuc2lvbnMiLCJkcmF3QnVmZmVycyIsImxvc2VDb250ZXh0IiwidmVydGV4QXJyYXlPYmplY3QiLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZyIsInVpbnQzMkVsZW1lbnRJbmRleCIsImZsb2F0VGV4dHVyZSIsImZsb2F0VGV4dHVyZUxpbmVhciIsInRleHR1cmVIYWxmRmxvYXQiLCJ0ZXh0dXJlSGFsZkZsb2F0TGluZWFyIiwiY29sb3JCdWZmZXJGbG9hdCIsInByZXZlbnREZWZhdWx0IiwidXNlUHJvZ3JhbSIsInBvc3RyZW5kZXIiLCJnZXRDb250ZXh0QXR0cmlidXRlcyIsIkZyYW1lYnVmZmVyU3lzdGVtIiwibWFuYWdlZEZyYW1lYnVmZmVycyIsInVua25vd25GcmFtZWJ1ZmZlciIsInZpZXdwb3J0IiwiaGFzTVJUIiwid3JpdGVEZXB0aFRleHR1cmUiLCJkaXNwb3NlQWxsIiwibmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24iLCJuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24iLCJhY3RpdmVUZXh0dXJlcyIsImRyYXdCdWZmZXJzV0VCR0wiLCJmYm8iLCJpbml0RnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsInVwZGF0ZUZyYW1lYnVmZmVyIiwicmVzaXplRnJhbWVidWZmZXIiLCJ0ZXh0dXJlUGFydCIsInNldFZpZXdwb3J0IiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJyZW5kZXJidWZmZXJTdG9yYWdlIiwiY291bnQiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkNPTE9SX0FUVEFDSE1FTlQwIiwiREVQVEhfQVRUQUNITUVOVCIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UIiwiZGlzcG9zZUZyYW1lYnVmZmVyIiwiY29udGV4dExvc3QiLCJkZWxldGVGcmFtZWJ1ZmZlciIsImRlbGV0ZVJlbmRlcmJ1ZmZlciIsIkdMQnVmZmVyIiwiYnl0ZUxlbmd0aCIsImJ5dGVTaXplTWFwJDEiLCJHZW9tZXRyeVN5c3RlbSIsIl9hY3RpdmVHZW9tZXRyeSIsIl9hY3RpdmVWYW8iLCJoYXNWYW8iLCJoYXNJbnN0YW5jZSIsImNhblVzZVVJbnQzMkVsZW1lbnRJbmRleCIsImJvdW5kQnVmZmVycyIsIm1hbmFnZWRHZW9tZXRyaWVzIiwibWFuYWdlZEJ1ZmZlcnMiLCJjcmVhdGVWZXJ0ZXhBcnJheSIsIm5hdGl2ZVZhb0V4dGVuc2lvbiIsImNyZWF0ZVZlcnRleEFycmF5T0VTIiwiYmluZFZlcnRleEFycmF5IiwidmFvIiwiYmluZFZlcnRleEFycmF5T0VTIiwiZGVsZXRlVmVydGV4QXJyYXkiLCJkZWxldGVWZXJ0ZXhBcnJheU9FUyIsInZlcnRleEF0dHJpYkRpdmlzb3IiLCJpbnN0YW5jZUV4dCIsInZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRSIsImRyYXdFbGVtZW50c0luc3RhbmNlZCIsImRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFIiwiZHJhd0FycmF5c0luc3RhbmNlZCIsImRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRSIsInZhb3MiLCJwcm9ncmFtIiwiaW5pdEdlb21ldHJ5VmFvIiwiYWN0aXZhdGVWYW8iLCJ1cGRhdGVCdWZmZXJzIiwiZ2xCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIkFSUkFZX0JVRkZFUiIsImJpbmRCdWZmZXIiLCJfYm91bmRCdWZmZXIiLCJidWZmZXJTdWJEYXRhIiwiZHJhd1R5cGUiLCJTVEFUSUNfRFJBVyIsIkRZTkFNSUNfRFJBVyIsImJ1ZmZlckRhdGEiLCJjaGVja0NvbXBhdGliaWxpdHkiLCJnZW9tZXRyeUF0dHJpYnV0ZXMiLCJzaGFkZXJBdHRyaWJ1dGVzIiwiYXR0cmlidXRlRGF0YSIsImdldFNpZ25hdHVyZSIsImF0dHJpYnMiLCJzdHJpbmdzIiwic2lnbmF0dXJlIiwidmFvT2JqZWN0SGFzaCIsInRlbXBTdHJpZGUiLCJ0ZW1wU3RhcnQiLCJhdHRyaWJTaXplIiwiY3JlYXRlQnVmZmVyIiwiZGlzcG9zZUJ1ZmZlciIsImRlbGV0ZUJ1ZmZlciIsImRpc3Bvc2VHZW9tZXRyeSIsImJ1ZiIsInZhb0lkIiwibGFzdEJ1ZmZlciIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwidmVydGV4QXR0cmliUG9pbnRlciIsImJ5dGVTaXplIiwiZ2xUeXBlIiwiVU5TSUdORURfSU5UIiwiZHJhd0VsZW1lbnRzIiwiZHJhd0FycmF5cyIsImNvbXBpbGVQcm9ncmFtIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnbFZlcnRTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdsRnJhZ1NoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiYm9vbGVhbkFycmF5IiwibWF4RnJhZ21lbnRQcmVjaXNpb24iLCJ1bmtub3duQ29udGV4dCIsImdldFRlc3RDb250ZXh0Iiwic2V0UHJlY2lzaW9uIiwicmVxdWVzdGVkUHJlY2lzaW9uIiwibWF4U3VwcG9ydGVkUHJlY2lzaW9uIiwic3Vic3RyaW5nIiwicHJlY2lzaW9uIiwiR0xTTF9UT19TSVpFIiwiZmxvYXQiLCJ2ZWMyIiwidmVjMyIsInZlYzQiLCJpbnQiLCJpdmVjMiIsIml2ZWMzIiwiaXZlYzQiLCJib29sIiwiYnZlYzIiLCJidmVjMyIsImJ2ZWM0IiwibWF0MiIsIm1hdDMiLCJtYXQ0Iiwic2FtcGxlcjJEIiwibWFwU2l6ZSIsIkdMX1RBQkxFIiwiR0xfVE9fR0xTTF9UWVBFUyIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwiU0FNUExFUl9DVUJFIiwiU0FNUExFUl8yRF9BUlJBWSIsIm1hcFR5cGUiLCJ0eXBlTmFtZXMiLCJ0biIsIkdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIiwic2FtcGxlckN1YmUiLCJzYW1wbGVyMkRBcnJheSIsIkdMU0xfVE9fQVJSQVlfU0VUVEVSUyIsInVuc2FmZUV2YWwiLCJmcmFnVGVtcGxhdGUiLCJnZW5lcmF0ZUlmVGVzdFNyYyIsIm1heElmcyIsIlVJRCQzIiwibmFtZUNhY2hlIiwiUHJvZ3JhbSIsImRlZmF1bHRWZXJ0ZXhTcmMiLCJkZWZhdWx0RnJhZ21lbnRTcmMiLCJnZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQiLCJzaGFkZXJGcmFnbWVudCIsIkhJR0hfRkxPQVQiLCJnZXRNYXhGcmFnbWVudFByZWNpc2lvbiIsImV4dHJhY3REYXRhIiwiZ2xQcm9ncmFtcyIsImdldEF0dHJpYnV0ZURhdGEiLCJ1bmlmb3JtRGF0YSIsImdldFVuaWZvcm1EYXRhIiwiYXR0cmlidXRlc0FycmF5IiwidG90YWxBdHRyaWJ1dGVzIiwiQUNUSVZFX0FUVFJJQlVURVMiLCJhdHRyaWJEYXRhIiwiZ2V0QWN0aXZlQXR0cmliIiwidG90YWxVbmlmb3JtcyIsIkFDVElWRV9VTklGT1JNUyIsImdldEFjdGl2ZVVuaWZvcm0iLCJ1bmlmb3JtR3JvdXAiLCJjaGVja1VuaWZvcm1FeGlzdHMiLCJ1bmlmb3JtIiwicG9seWdvbk9mZnNldCIsImJsZW5kIiwicHJvdG90eXBlQWNjZXNzb3JzJDMiLCJjdWxsaW5nIiwiZGVwdGhUZXN0IiwiY2xvY2t3aXNlRnJvbnRGYWNlIiwiX2JsZW5kTW9kZSIsIl9wb2x5Z29uT2Zmc2V0IiwiZm9yMmQiLCJTaGFkZXIiLCJGaWx0ZXIiLCJhVGV4dHVyZUNvb3JkIiwic3RhdGljQWNjZXNzb3JzIiwiZmlsdGVyTWFuYWdlciIsImN1cnJlbnRTdGF0ZSIsIlNPVVJDRV9LRVlfTUFQIiwidmVydGV4IiwiZnJhZ21lbnQiLCJ0ZW1wTWF0IiwiY2xhbXBNYXJnaW4iLCJtYXBDb29yZCIsInVDbGFtcEZyYW1lIiwidUNsYW1wT2Zmc2V0IiwiY2xhbXBPZmZzZXQiLCJpc1NpbXBsZSIsInByb3RvdHlwZUFjY2Vzc29ycyQ0IiwibXVsdGlwbHlVdnMiLCJmb3JjZVVwZGF0ZSIsInRleEJhc2UiLCJtYXJnaW4iLCJTcHJpdGVNYXNrRmlsdGVyIiwibWFza01hdHJpeCIsIm1hc2tTcHJpdGUiLCJucG1BbHBoYSIsIm90aGVyTWF0cml4IiwibWFza0NsYW1wIiwiTWFza1N5c3RlbSIsInNjaXNzb3IiLCJzY2lzc29yRGF0YSIsInNjaXNzb3JSZW5kZXJUYXJnZXQiLCJlbmFibGVTY2lzc29yIiwiYWxwaGFNYXNrUG9vbCIsImFscGhhTWFza0luZGV4IiwibWFza0RhdGEiLCJwdXNoU3ByaXRlTWFzayIsIl9hY3RpdmVSZW5kZXJUYXJnZXQiLCJpc0Zhc3RSZWN0Iiwicm90IiwicHVzaFN0ZW5jaWxNYXNrIiwicHVzaFNjaXNzb3JNYXNrIiwicG9wU3ByaXRlTWFzayIsInBvcFNjaXNzb3JNYXNrIiwicG9wU3RlbmNpbE1hc2siLCJhbHBoYU1hc2tGaWx0ZXIiLCJzdGFzaEZpbHRlckFyZWEiLCJwdXNoU3RlbmNpbCIsInBvcFN0ZW5jaWwiLCJyZW5kZXJUYXJnZXQiLCJlbmFibGUiLCJTQ0lTU09SX1RFU1QiLCJkaXNhYmxlIiwiU3RlbmNpbFN5c3RlbSIsInNldE1hc2tTdGFjayIsImN1clN0YWNrTGVuIiwiU1RFTkNJTF9URVNUIiwiX3VzZUN1cnJlbnQiLCJncmFwaGljcyIsInByZXZNYXNrQ291bnQiLCJjb2xvck1hc2siLCJzdGVuY2lsRnVuYyIsIkVRVUFMIiwiX2dldEJpdHdpc2VNYXNrIiwic3RlbmNpbE9wIiwiS0VFUCIsIklOQ1IiLCJTVEVOQ0lMX0JVRkZFUl9CSVQiLCJjbGVhclN0ZW5jaWwiLCJERUNSIiwiUHJvamVjdGlvblN5c3RlbSIsImRlZmF1bHRGcmFtZSIsInByb2plY3Rpb25NYXRyaXgiLCJjYWxjdWxhdGVQcm9qZWN0aW9uIiwic3luY1VuaWZvcm1Hcm91cCIsImdsb2JhbHMiLCJSZW5kZXJUZXh0dXJlU3lzdGVtIiwiX2JhY2tncm91bmRDb2xvclJnYmEiLCJkZWZhdWx0TWFza1N0YWNrIiwicHJvamVjdGlvbiIsIkdMUHJvZ3JhbSIsInVuaWZvcm1Hcm91cHMiLCJVSUQkNCIsIlNoYWRlclN5c3RlbSIsInN5c3RlbUNoZWNrIiwiY2FjaGUiLCJmdW5jIiwidW5zYWZlRXZhbFN1cHBvcnRlZCIsImRvbnRTeW5jIiwiZ2xQcm9ncmFtIiwiZ2VuZXJhdGVTaGFkZXIiLCJzZXRVbmlmb3JtcyIsImdldGdsUHJvZ3JhbSIsImNyZWF0ZVN5bmNHcm91cHMiLCJ0ZXh0dXJlQ291bnQiLCJnZW5lcmF0ZVVuaWZvcm1zU3luYyIsImF0dHJpYk1hcCIsInNoYWRlclByb2dyYW0iLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJCTEVORCQxIiwiT0ZGU0VUJDEiLCJDVUxMSU5HJDEiLCJERVBUSF9URVNUJDEiLCJXSU5ESU5HJDEiLCJTdGF0ZVN5c3RlbSIsInN0YXRlSWQiLCJfYmxlbmRFcSIsInNldEJsZW5kIiwic2V0T2Zmc2V0Iiwic2V0Q3VsbEZhY2UiLCJzZXREZXB0aFRlc3QiLCJzZXRGcm9udEZhY2UiLCJjaGVja3MiLCJkZWZhdWx0U3RhdGUiLCJibGVuZE1vZGVzIiwiT05FIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsIkRTVF9DT0xPUiIsIk9ORV9NSU5VU19TUkNfQ09MT1IiLCJTUkNfQUxQSEEiLCJEU1RfQUxQSEEiLCJaRVJPIiwiT05FX01JTlVTX0RTVF9BTFBIQSIsIkZVTkNfUkVWRVJTRV9TVUJUUkFDVCIsIkZVTkNfQUREIiwibWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIiwiZGlmZiIsImZvcmNlU3RhdGUiLCJ1cGRhdGVDaGVjayIsImNoZWNrQmxlbmRNb2RlIiwiQkxFTkQiLCJjaGVja1BvbHlnb25PZmZzZXQiLCJQT0xZR09OX09GRlNFVF9GSUxMIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInNldEJsZW5kTW9kZSIsImJsZW5kRnVuYyIsImJsZW5kRnVuY1NlcGFyYXRlIiwiYmxlbmRFcXVhdGlvblNlcGFyYXRlIiwic2V0UG9seWdvbk9mZnNldCIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJUZXh0dXJlR0NTeXN0ZW0iLCJjaGVja0NvdW50IiwibWF4SWRsZSIsImNoZWNrQ291bnRNYXgiLCJ0bSIsIm1hbmFnZWRUZXh0dXJlcyIsIndhc1JlbW92ZWQiLCJkZXN0cm95VGV4dHVyZSIsInVubG9hZCIsInRleHR1cmVTeXN0ZW0iLCJfZ2xSZW5kZXJUYXJnZXRzIiwiR0xUZXh0dXJlIiwiVGV4dHVyZVN5c3RlbSIsImJvdW5kVGV4dHVyZXMiLCJjdXJyZW50TG9jYXRpb24iLCJfdW5rbm93bkJvdW5kVGV4dHVyZXMiLCJ1bmtub3duVGV4dHVyZSIsIm1heFRleHR1cmVzIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwiZW1wdHlUZXh0dXJlMkQiLCJiaW5kVGV4dHVyZSIsInRleFBhcmFtZXRlcmkiLCJURVhUVVJFX01BR19GSUxURVIiLCJMSU5FQVIiLCJURVhUVVJFX01JTl9GSUxURVIiLCJ0ZXh0dXJlR0MiLCJpbml0VGV4dHVyZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVwZGF0ZVRleHR1cmUiLCJpbml0VGV4dHVyZVR5cGUiLCJSR0JBMzJGIiwiUkdCQTE2RiIsInVwZGF0ZVRleHR1cmVTdHlsZSIsInNraXBSZW1vdmUiLCJkZWxldGVUZXh0dXJlIiwiZ2VuZXJhdGVNaXBtYXAiLCJURVhUVVJFX1dSQVBfUyIsIlRFWFRVUkVfV1JBUF9UIiwiTElORUFSX01JUE1BUF9MSU5FQVIiLCJORUFSRVNUX01JUE1BUF9ORUFSRVNUIiwiYW5pc290cm9waWNFeHQiLCJsZXZlbCIsIk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCIsInRleFBhcmFtZXRlcmYiLCJURVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCIsIk5FQVJFU1QiLCJ0ZW1wTWF0cml4IiwiQWJzdHJhY3RSZW5kZXJlciIsIlJlbmRlcmVyIiwicHJlcmVuZGVyIiwiYWRkU3lzdGVtIiwiaW5pdFBsdWdpbnMiLCJfX3BsdWdpbnMiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJwb3dlclByZWZlcmVuY2UiLCJsb2ciLCJzYXlIZWxsbyIsImNvbnRleHRPcHRpb25zIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsInN1Y2Nlc3MiLCJDbGFzc1JlZiIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJjYWNoZVBhcmVudCIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwicmVtb3ZlVmlldyIsInJlZ2lzdGVyUGx1Z2luIiwicGx1Z2luTmFtZSIsImN0b3IiLCJyb3VuZFBpeGVscyIsInNjcmVlbiIsImF1dG9SZXNpemUiLCJfYmFja2dyb3VuZENvbG9yIiwiX2JhY2tncm91bmRDb2xvclN0cmluZyIsInN0YXRpY01hcCIsImdlbmVyYXRlVGV4dHVyZSIsInJlZ2lvbiIsImF1dG9EZXRlY3RSZW5kZXJlciIsImRlZmF1bHRGaWx0ZXIiLCJCYXRjaERyYXdDYWxsIiwiVmlld2FibGVCdWZmZXIiLCJyYXdCaW5hcnlEYXRhIiwidWludDMyVmlldyIsImZsb2F0MzJWaWV3IiwicHJvdG90eXBlQWNjZXNzb3JzJDUiLCJpbnQ4VmlldyIsInVpbnQ4VmlldyIsImludDE2VmlldyIsInVpbnQxNlZpZXciLCJpbnQzMlZpZXciLCJfaW50OFZpZXciLCJJbnQ4QXJyYXkiLCJfdWludDhWaWV3IiwiX2ludDE2VmlldyIsIkludDE2QXJyYXkiLCJfdWludDE2VmlldyIsIl9pbnQzMlZpZXciLCJzaXplT2YiLCJPYmplY3RSZW5kZXJlciIsIkFic3RyYWN0QmF0Y2hSZW5kZXJlciIsInNoYWRlckdlbmVyYXRvciIsImdlb21ldHJ5Q2xhc3MiLCJ2ZXJ0ZXhTaXplIiwiX3ZlcnRleENvdW50IiwiX2luZGV4Q291bnQiLCJfYnVmZmVyZWRFbGVtZW50cyIsIl9idWZmZXJTaXplIiwiX3NoYWRlciIsIl9wYWNrZWRHZW9tZXRyaWVzIiwiX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUiLCJfZmx1c2hJZCIsIl9kcmF3Q2FsbHMiLCJfYUJ1ZmZlcnMiLCJfaUJ1ZmZlcnMiLCJNQVhfVEVYVFVSRVMiLCJvblByZXJlbmRlciIsImNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIiLCJpbmRpY2VzIiwibmV4dFRleHR1cmUiLCJjdXJyZW50VGV4dHVyZSIsImF0dHJpYnV0ZUJ1ZmZlciIsImdldEF0dHJpYnV0ZUJ1ZmZlciIsImdldEluZGV4QnVmZmVyIiwiZWxlbWVudHMiLCJkcmF3Q2FsbHMiLCJwYWNrZWRHZW9tZXRyaWVzIiwidG91Y2giLCJjdXJyZW50R3JvdXAiLCJncm91cENvdW50IiwiVElDSyIsInNwcml0ZUJsZW5kTW9kZSIsInBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5IiwiX2J1ZmZlciIsIl9pbmRleEJ1ZmZlciIsInN0YXRlU3lzdGVtIiwiZ3JvdXBUZXh0dXJlQ291bnQiLCJyb3VuZGVkUDIiLCJyb3VuZGVkU2l6ZUluZGV4Iiwicm91bmRlZFNpemUiLCJhSW5kZXgiLCJpSW5kZXgiLCJwYWNrZWRWZXJ0aWNlcyIsImluZGljaWVzIiwidGV4dHVyZUlkIiwiYXJnYiIsIl90aW50UkdCIiwiQmF0Y2hTaGFkZXJHZW5lcmF0b3IiLCJwcm9ncmFtQ2FjaGUiLCJkZWZhdWx0R3JvdXBDYWNoZSIsInNhbXBsZVZhbHVlcyIsInVTYW1wbGVycyIsImdlbmVyYXRlU2FtcGxlU3JjIiwidHJhbnNsYXRpb25NYXRyaXgiLCJCYXRjaEdlb21ldHJ5IiwiZGVmYXVsdFZlcnRleCQyIiwiZGVmYXVsdEZyYWdtZW50JDIiLCJCYXRjaFBsdWdpbkZhY3RvcnkiLCJkZWZhdWx0RnJhZ21lbnRUZW1wbGF0ZSIsIkJhdGNoUGx1Z2luIiwiQmF0Y2hSZW5kZXJlciIsIlRFTVBfUkVDVCIsIkV4dHJhY3QiLCJleHRyYWN0IiwiaW1hZ2UiLCJxdWFsaXR5IiwiYmFzZTY0IiwidG9EYXRhVVJMIiwiZmxpcFkiLCJnZW5lcmF0ZWQiLCJjYW52YXNCdWZmZXIiLCJ3ZWJnbFBpeGVscyIsInJlYWRQaXhlbHMiLCJjYW52YXNEYXRhIiwiZ2V0SW1hZ2VEYXRhIiwiYXJyYXlQb3N0RGl2aWRlIiwicHV0SW1hZ2VEYXRhIiwicGl4ZWxzIiwib3JpZ2luYWxFdmVudCIsImlkZW50aWZpZXIiLCJpc1ByaW1hcnkiLCJidXR0b24iLCJidXR0b25zIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwicHJlc3N1cmUiLCJyb3RhdGlvbkFuZ2xlIiwidHdpc3QiLCJ0YW5nZW50aWFsUHJlc3N1cmUiLCJwb2ludGVySWQiLCJnZXRMb2NhbFBvc2l0aW9uIiwiZ2xvYmFsUG9zIiwiY29weUV2ZW50Iiwid2hpY2giLCJJbnRlcmFjdGlvbkV2ZW50Iiwic3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJJbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsIl9wb2ludGVySWQiLCJfZmxhZ3MiLCJGTEFHUyIsImZsYWdzIiwibm9uZSIsIm92ZXIiLCJyaWdodERvd24iLCJsZWZ0RG93biIsIl9kb1NldCIsInluIiwiT1ZFUiIsIlJJR0hUX0RPV04iLCJMRUZUX0RPV04iLCJmcmVlemUiLCJpbnRlcmFjdGl2ZVRhcmdldCIsImN1cnNvciIsIl90cmFja2VkUG9pbnRlcnMiLCJNT1VTRV9QT0lOVEVSX0lEIiwiaGl0VGVzdEV2ZW50IiwiSW50ZXJhY3Rpb25NYW5hZ2VyIiwiYXV0b1ByZXZlbnREZWZhdWx0IiwiaW50ZXJhY3Rpb25GcmVxdWVuY3kiLCJtb3VzZSIsImFjdGl2ZUludGVyYWN0aW9uRGF0YSIsImludGVyYWN0aW9uRGF0YVBvb2wiLCJpbnRlcmFjdGlvbkRPTUVsZW1lbnQiLCJtb3ZlV2hlbkluc2lkZSIsImV2ZW50c0FkZGVkIiwibW91c2VPdmVyUmVuZGVyZXIiLCJzdXBwb3J0c1RvdWNoRXZlbnRzIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzIiwiUG9pbnRlckV2ZW50Iiwib25Qb2ludGVyVXAiLCJwcm9jZXNzUG9pbnRlclVwIiwib25Qb2ludGVyQ2FuY2VsIiwicHJvY2Vzc1BvaW50ZXJDYW5jZWwiLCJvblBvaW50ZXJEb3duIiwicHJvY2Vzc1BvaW50ZXJEb3duIiwib25Qb2ludGVyTW92ZSIsInByb2Nlc3NQb2ludGVyTW92ZSIsIm9uUG9pbnRlck91dCIsInByb2Nlc3NQb2ludGVyT3Zlck91dCIsIm9uUG9pbnRlck92ZXIiLCJjdXJzb3JTdHlsZXMiLCJwb2ludGVyIiwiY3VycmVudEN1cnNvck1vZGUiLCJfdGVtcFBvaW50Iiwic2V0VGFyZ2V0RWxlbWVudCIsImhpdFRlc3QiLCJnbG9iYWxQb2ludCIsInByb2Nlc3NJbnRlcmFjdGl2ZSIsInJlbW92ZUV2ZW50cyIsImFkZEV2ZW50cyIsIm1zUG9pbnRlckVuYWJsZWQiLCJfZGVsdGFUaW1lIiwiZGlkTW92ZSIsImludGVyYWN0aW9uRGF0YSIsImludGVyYWN0aW9uRXZlbnQiLCJjb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQiLCJzZXRDdXJzb3JNb2RlIiwiZXZlbnRTdHJpbmciLCJtYXBQb3NpdGlvblRvUG9pbnQiLCJwYXJlbnRFbGVtZW50IiwicmVzb2x1dGlvbk11bHRpcGxpZXIiLCJoaXQiLCJpbnRlcmFjdGl2ZVBhcmVudCIsImhpdFRlc3RDaGlsZHJlbiIsImNvbnRhaW5zUG9pbnQiLCJjaGlsZEhpdCIsIm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEiLCJpc05vcm1hbGl6ZWQiLCJjYW5jZWxhYmxlIiwiZXZlbnRMZW4iLCJnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJpc1JpZ2h0QnV0dG9uIiwidHJhY2tlZFBvaW50ZXJzIiwib25Qb2ludGVyQ29tcGxldGUiLCJjYW5jZWxsZWQiLCJldmVudEFwcGVuZCIsInJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQiLCJ0cmFja2luZ0RhdGEiLCJpc1RvdWNoIiwiaXNNb3VzZSIsImlzTW91c2VUYXAiLCJpc0Rvd24iLCJwb2ludGVyRXZlbnQiLCJjbGllbnRYIiwiY2xpZW50WSIsImdsb2JhbFgiLCJnbG9iYWxZIiwibm9ybWFsaXplZEV2ZW50cyIsIlRvdWNoRXZlbnQiLCJsaSIsImNoYW5nZWRUb3VjaGVzIiwidG91Y2hlcyIsInJhZGl1c1giLCJyYWRpdXNZIiwiZm9yY2UiLCJsYXllclgiLCJvZmZzZXRYIiwibGF5ZXJZIiwib2Zmc2V0WSIsIk1vdXNlRXZlbnQiLCJHUkFQSElDU19DVVJWRVMiLCJhZGFwdGl2ZSIsIm1heExlbmd0aCIsIm1pblNlZ21lbnRzIiwibWF4U2VnbWVudHMiLCJfc2VnbWVudHNDb3VudCIsImRlZmF1bHRTZWdtZW50cyIsIkZpbGxTdHlsZSIsImNvbG9yIiwiR3JhcGhpY3NEYXRhIiwic2hhcGUiLCJsaW5lU3R5bGUiLCJidWlsZENpcmNsZSIsImJ1aWxkIiwiZ3JhcGhpY3NEYXRhIiwiY2lyY2xlRGF0YSIsInRvdGFsU2VncyIsInNlZyIsInRyaWFuZ3VsYXRlIiwiZ3JhcGhpY3NHZW9tZXRyeSIsInZlcnRzIiwidmVydFBvcyIsImNlbnRlciIsImJ1aWxkTGluZSIsIm5hdGl2ZSIsImNsb3NlZFNoYXBlIiwic3RhcnRJbmRleCIsImJ1aWxkTmF0aXZlTGluZSIsImNsb3NlUG9pbnRFcHMiLCJmaXJzdFBvaW50IiwibGFzdFBvaW50IiwiY2xvc2VkUGF0aCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0IiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwicDN4IiwicDN5IiwicGVycHgiLCJwZXJweSIsInBlcnAyeCIsInBlcnAyeSIsInBlcnAzeCIsInBlcnAzeSIsImRpc3QiLCJyYXRpbyIsImFsaWdubWVudCIsInIxIiwiYzIiLCJkZW5vbSIsImJ1aWxkTGluZSQxIiwiYnVpbGRQb2x5IiwiaG9sZUFycmF5IiwiYnVpbGRSb3VuZGVkUmVjdGFuZ2xlIiwicnJlY3REYXRhIiwicXVhZHJhdGljQmV6aWVyQ3VydmUiLCJ2ZWNQb3MiLCJnZXRQdCIsIm4xIiwibjIiLCJwZXJjIiwiZnJvbVgiLCJmcm9tWSIsImNwWCIsImNwWSIsInRvWCIsInRvWSIsInhhIiwieWEiLCJ4YiIsInliIiwiQkFUQ0hfUE9PTCIsIkRSQVdfQ0FMTF9QT09MIiwidG1wUG9pbnQiLCJmaWxsQ29tbWFuZHMiLCJyZWN0RGF0YSIsIkJhdGNoUGFydCIsImF0dHJpYlN0YXJ0IiwiR3JhcGhpY3NHZW9tZXRyeSIsImNvbG9ycyIsInRleHR1cmVJZHMiLCJiYXRjaERpcnR5IiwiY2FjaGVEaXJ0eSIsImNsZWFyRGlydHkiLCJiYXRjaGVzIiwic2hhcGVJbmRleCIsImJvdW5kc0RpcnR5IiwiYm91bmRzUGFkZGluZyIsImJhdGNoYWJsZSIsImluZGljZXNVaW50MTYiLCJkcmF3U2hhcGUiLCJkcmF3SG9sZSIsImxhc3RTaGFwZSIsInVwZGF0ZUJhdGNoZXMiLCJiYXRjaFBhcnQiLCJjdXJyZW50Q29sb3IiLCJjdXJyZW50TmF0aXZlIiwiZGF0YSQxIiwiY29tbWFuZCIsInRyYW5zZm9ybVBvaW50cyIsInN0eWxlJDEiLCJpbmRleCQxIiwiYXR0cmliSW5kZXgiLCJwcm9jZXNzSG9sZXMiLCJhZGRVdnMiLCJpc0JhdGNoYWJsZSIsImluZGV4JDIiLCJidWlsZERyYXdDYWxscyIsIkJBVENIQUJMRV9TSVpFIiwiZHJhd01vZGUiLCJhZGRDb2xvcnMiLCJhZGRUZXh0dXJlSWRzIiwiZ2xQb2ludHMiLCJmMzIiLCJ1MzIiLCJsaW5lV2lkdGgiLCJydyIsInJoIiwicmdiYSIsInV2c1N0YXJ0IiwibngiLCJhZGp1c3RVdnMiLCJmaW5pc2giLCJMaW5lU3R5bGUiLCJCZXppZXJVdGlscyIsImN1cnZlTGVuZ3RoIiwiY3BYMiIsImNwWTIiLCJ0MiIsInQzIiwibnQiLCJudDIiLCJudDMiLCJwcmV2WCIsInByZXZZIiwiY3VydmVUbyIsImR0IiwiZHQyIiwiZHQzIiwiUXVhZHJhdGljVXRpbHMiLCJhMzIiLCJiYSIsIkFyY1V0aWxzIiwibW0iLCJkZCIsImNjIiwidHQiLCJrMSIsImsyIiwiajEiLCJqMiIsInF5Iiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiYW50aWNsb2Nrd2lzZSIsImFyYyIsInN0YXJ0WCIsInN0YXJ0WSIsInN3ZWVwIiwidGhldGEiLCJ0aGV0YTIiLCJjVGhldGEiLCJzVGhldGEiLCJzZWdNaW51cyIsInJlbWFpbmRlciIsIlBvbHlnb24iLCJTdGFyIiwiaW5uZXJSYWRpdXMiLCJ0ZW1wIiwiZGVmYXVsdFNoYWRlciIsIkdyYXBoaWNzIiwiX2ZpbGxTdHlsZSIsIl9saW5lU3R5bGUiLCJfbWF0cml4IiwiX2hvbGVNb2RlIiwiY3VycmVudFBhdGgiLCJiYXRjaFRpbnQiLCJfdHJhbnNmb3JtSUQiLCJmaWxsIiwibGluZSIsImZpbmlzaFBvbHkiLCJfdGludCIsImxpbmVUZXh0dXJlU3R5bGUiLCJzdGFydFBvbHkiLCJtb3ZlVG8iLCJsaW5lVG8iLCJfaW5pdEN1cnZlIiwicXVhZHJhdGljQ3VydmVUbyIsImJlemllckN1cnZlVG8iLCJhcmNUbyIsInJhZGl1cyQxIiwieERpZmYiLCJ5RGlmZiIsImJlZ2luRmlsbCIsImJlZ2luVGV4dHVyZUZpbGwiLCJlbmRGaWxsIiwiZHJhd1JlY3QiLCJkcmF3Um91bmRlZFJlY3QiLCJkcmF3Q2lyY2xlIiwiZHJhd0VsbGlwc2UiLCJkcmF3UG9seWdvbiIsImRyYXdTdGFyIiwiZ0kiLCJfYmF0Y2hSR0IiLCJjYWxjdWxhdGVWZXJ0aWNlcyIsImNhbGN1bGF0ZVRpbnRzIiwiYmF0Y2gkMSIsInVuaWZvcm1zJDEiLCJ3YSIsImRyYXdDYWxsIiwibGIiLCJfVEVNUF9QT0lOVCIsInRpbnRSR0IiLCJjbG9zZVBhdGgiLCJzZXRNYXRyaXgiLCJiZWdpbkhvbGUiLCJlbmRIb2xlIiwidGVtcFBvaW50IiwiU3ByaXRlIiwiX2FuY2hvciIsIl9vbkFuY2hvclVwZGF0ZSIsIl9jYWNoZWRUaW50IiwidmVydGV4VHJpbW1lZERhdGEiLCJfdGV4dHVyZUlEIiwiX3RyYW5zZm9ybVRyaW1tZWRJRCIsIl90ZXh0dXJlVHJpbW1lZElEIiwiX3JvdW5kUGl4ZWxzIiwiX29uVGV4dHVyZVVwZGF0ZSIsIncwIiwidzEiLCJoMCIsImgxIiwiY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzIiwiZGVzdHJveUJhc2VUZXh0dXJlIiwiVEVYVF9HUkFESUVOVCIsImRlZmF1bHRTdHlsZSIsImFsaWduIiwiYnJlYWtXb3JkcyIsImRyb3BTaGFkb3ciLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Qmx1ciIsImRyb3BTaGFkb3dDb2xvciIsImRyb3BTaGFkb3dEaXN0YW5jZSIsImZpbGxHcmFkaWVudFR5cGUiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwibGluZUpvaW4iLCJtaXRlckxpbWl0Iiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwidGV4dEJhc2VsaW5lIiwid2hpdGVTcGFjZSIsIndvcmRXcmFwIiwid29yZFdyYXBXaWR0aCIsImxlYWRpbmciLCJnZW5lcmljRm9udEZhbWlsaWVzIiwiVGV4dFN0eWxlIiwic3R5bGVJRCIsImRlZXBDb3B5UHJvcGVydGllcyIsImdldFNpbmdsZUNvbG9yIiwiZ2V0Q29sb3IiLCJwcm9wZXJ0eU9iaiIsImNsb25lZFByb3BlcnRpZXMiLCJfYWxpZ24iLCJfYnJlYWtXb3JkcyIsIl9kcm9wU2hhZG93IiwiX2Ryb3BTaGFkb3dBbHBoYSIsIl9kcm9wU2hhZG93QW5nbGUiLCJfZHJvcFNoYWRvd0JsdXIiLCJfZHJvcFNoYWRvd0NvbG9yIiwib3V0cHV0Q29sb3IiLCJfZHJvcFNoYWRvd0Rpc3RhbmNlIiwiX2ZpbGwiLCJfZmlsbEdyYWRpZW50VHlwZSIsIl9maWxsR3JhZGllbnRTdG9wcyIsImFycmF5MSIsImFycmF5MiIsImFyZUFycmF5c0VxdWFsIiwiX2ZvbnRGYW1pbHkiLCJfZm9udFNpemUiLCJfZm9udFN0eWxlIiwiX2ZvbnRWYXJpYW50IiwiX2ZvbnRXZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9saW5lSGVpZ2h0IiwiX2xlYWRpbmciLCJfbGluZUpvaW4iLCJfbWl0ZXJMaW1pdCIsIl9wYWRkaW5nIiwiX3N0cm9rZSIsIl9zdHJva2VUaGlja25lc3MiLCJfdGV4dEJhc2VsaW5lIiwiX3RyaW0iLCJfd2hpdGVTcGFjZSIsIl93b3JkV3JhcCIsIl93b3JkV3JhcFdpZHRoIiwidG9Gb250U3RyaW5nIiwiZm9udFNpemVTdHJpbmciLCJmb250RmFtaWxpZXMiLCJUZXh0TWV0cmljcyIsInRleHQiLCJsaW5lcyIsImxpbmVXaWR0aHMiLCJtYXhMaW5lV2lkdGgiLCJmb250UHJvcGVydGllcyIsIm1lYXN1cmVUZXh0IiwiX2NhbnZhcyIsImZvbnQiLCJtZWFzdXJlRm9udCIsImFzY2VudCIsImNvbGxhcHNlU3BhY2VzIiwiY29sbGFwc2VOZXdsaW5lcyIsImNhblByZXBlbmRTcGFjZXMiLCJ0b2tlbnMiLCJ0b2tlbml6ZSIsInRva2VuIiwiaXNOZXdsaW5lIiwiYWRkTGluZSIsImN1cnJJc0JyZWFraW5nU3BhY2UiLCJpc0JyZWFraW5nU3BhY2UiLCJsYXN0SXNCcmVha2luZ1NwYWNlIiwidG9rZW5XaWR0aCIsImdldEZyb21DYWNoZSIsImNhbkJyZWFrV29yZHMiLCJjaGFyYWN0ZXJzIiwiY2hhciIsIm5leHRDaGFyIiwibGFzdENoYXIiLCJjYW5CcmVha0NoYXJzIiwiY2hhcmFjdGVyV2lkdGgiLCJpc0xhc3RUb2tlbiIsIm5ld0xpbmUiLCJ0cmltUmlnaHQiLCJzcGFjaW5nIiwiX25ld2xpbmVzIiwiX2JyZWFraW5nU3BhY2VzIiwiX2ZvbnRzIiwicHJvcGVydGllcyIsIl9jb250ZXh0IiwibWV0cmljc1N0cmluZyIsIk1FVFJJQ1NfU1RSSU5HIiwiQkFTRUxJTkVfU1lNQk9MIiwiYmFzZWxpbmUiLCJCQVNFTElORV9NVUxUSVBMSUVSIiwiZmlsbFRleHQiLCJpbWFnZWRhdGEiLCJkZXNjZW50IiwiY2xlYXJNZXRyaWNzIiwiZXgiLCJkZWZhdWx0RGVzdHJveU9wdGlvbnMiLCJUZXh0IiwiX3Jlc29sdXRpb24iLCJfYXV0b1Jlc29sdXRpb24iLCJfdGV4dCIsIl9zdHlsZSIsIl9zdHlsZUxpc3RlbmVyIiwiX2ZvbnQiLCJsb2NhbFN0eWxlSUQiLCJ1cGRhdGVUZXh0IiwicmVzcGVjdERpcnR5IiwibGluZVBvc2l0aW9uWCIsImxpbmVQb3NpdGlvblkiLCJtZWFzdXJlZCIsInBhc3Nlc0NvdW50IiwiaXNTaGFkb3dQYXNzIiwiZHNPZmZzZXRUZXh0IiwiZHNPZmZzZXRTaGFkb3ciLCJzdHJva2VTdHlsZSIsInJnYiIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwiY3VycmVudENoYXIiLCJzdHJva2VUZXh0IiwidHJpbW1lZCIsImJvdW5kIiwidHJpbUNhbnZhcyIsIl9vblN0eWxlQ2hhbmdlIiwiZ3JhZGllbnQiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwibGVuZ3RoUGx1czEiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsIlVQTE9BRFNfUEVSX0ZSQU1FIiwiQ291bnRMaW1pdGVyIiwibWF4SXRlbXNQZXJGcmFtZSIsIml0ZW1zTGVmdCIsImJlZ2luRnJhbWUiLCJhbGxvd2VkVG9VcGxvYWQiLCJsaW1pdGVyIiwidXBsb2FkSG9va0hlbHBlciIsImFkZEhvb2tzIiwidXBsb2FkSG9va3MiLCJjb21wbGV0ZXMiLCJ0aWNraW5nIiwiZGVsYXllZFRpY2siLCJwcmVwYXJlSXRlbXMiLCJyZWdpc3RlckZpbmRIb29rIiwiZmluZFRleHQiLCJmaW5kVGV4dFN0eWxlIiwiZmluZE11bHRpcGxlQmFzZVRleHR1cmVzIiwiZmluZEJhc2VUZXh0dXJlIiwiZmluZFRleHR1cmUiLCJyZWdpc3RlclVwbG9hZEhvb2siLCJkcmF3VGV4dCIsImNhbGN1bGF0ZVRleHRTdHlsZSIsIl90ZXh0dXJlcyIsImhlbHBlciIsImRvbmUiLCJ0aWNrIiwidXBsb2FkZWQiLCJsZW4kMSIsImFkZEhvb2siLCJ1cGxvYWRIb29rIiwiUHJlcGFyZSIsIkJhc2VQcmVwYXJlIiwiZmluZEdyYXBoaWNzIiwidXBsb2FkQmFzZVRleHR1cmVzIiwidXBsb2FkR3JhcGhpY3MiLCJfd2ViR0wiLCJ1cGRhdGVHcmFwaGljcyIsIlRpbWVMaW1pdGVyIiwibWF4TWlsbGlzZWNvbmRzIiwiZnJhbWVTdGFydCIsIkFwcGxpY2F0aW9uIiwiZm9yY2VDYW52YXMiLCJzdGFnZSIsIl9wbHVnaW5zIiwicGx1Z2luIiwicmV2ZXJzZSIsIl9vcHRpb25zIiwiUmVzaXplUGx1Z2luIiwiZG9tIiwiX3Jlc2l6ZVRvIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJyZXNpemVUbyIsIl9ub29wIiwiZWFjaFNlcmllcyIsIml0ZXJhdG9yIiwiZGVmZXJOZXh0Iiwib25seU9uY2UiLCJjYWxsRm4iLCJ3b3JrZXIiLCJjb25jdXJyZW5jeSIsIndvcmtlcnMiLCJfdGFza3MiLCJzYXR1cmF0ZWQiLCJ1bnNhdHVyYXRlZCIsImRyYWluIiwiX2luc2VydCIsImtpbGwiLCJydW5uaW5nIiwiaWRsZSIsInJlc3VtZSIsImluc2VydEF0RnJvbnQiLCJfZGVmaW5lUHJvcGVydGllcyIsInVzZVhkciIsIlhEb21haW5SZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfbm9vcCQxIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsIl9nZXRFeHRlbnNpb24iLCJsb2FkVHlwZSIsIl9kZXRlcm1pbmVMb2FkVHlwZSIsInhoclR5cGUiLCJtZXRhZGF0YSIsInhociIsIlRZUEUiLCJwcm9ncmVzc0NodW5rIiwiX2RlcXVldWUiLCJfb25Mb2FkQmluZGluZyIsIl9lbGVtZW50VGltZXIiLCJfYm91bmRDb21wbGV0ZSIsIl9ib3VuZE9uRXJyb3IiLCJfb25FcnJvciIsIl9ib3VuZE9uUHJvZ3Jlc3MiLCJfb25Qcm9ncmVzcyIsIl9ib3VuZE9uVGltZW91dCIsIl9ib3VuZFhock9uRXJyb3IiLCJfeGhyT25FcnJvciIsIl9ib3VuZFhock9uVGltZW91dCIsIl94aHJPblRpbWVvdXQiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwib25TdGFydCIsIm9uUHJvZ3Jlc3MiLCJvbkNvbXBsZXRlIiwib25BZnRlck1pZGRsZXdhcmUiLCJzZXRFeHRlbnNpb25Mb2FkVHlwZSIsImV4dG5hbWUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJfcHJvdG8iLCJfY2xlYXJFdmVudHMiLCJfZmluaXNoIiwiYWJvcnQiLCJ4ZHIiLCJFTVBUWV9HSUYiLCJmaXJzdENoaWxkIiwiX3RoaXMiLCJpc0xvYWRpbmciLCJpc0NvbXBsZXRlIiwiTE9BRElORyIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbiIsIkxPQURfVFlQRSIsIklNQUdFIiwiX2xvYWRFbGVtZW50IiwiQVVESU8iLCJfbG9hZFNvdXJjZUVsZW1lbnQiLCJWSURFTyIsIlhIUiIsIl9sb2FkWGRyIiwiX2xvYWRYaHIiLCJfaGFzRmxhZyIsIm9udGltZW91dCIsIm9ucHJvZ3Jlc3MiLCJDT01QTEVURSIsImxvYWRFbGVtZW50Iiwic2tpcFNvdXJjZSIsIkF1ZGlvIiwiaXNDb2Nvb25KUyIsIm1pbWVUeXBlcyIsIm1pbWVUeXBlIiwiX2NyZWF0ZVNvdXJjZSIsIl9taW1lVHlwZXMiLCJfZGV0ZXJtaW5lWGhyVHlwZSIsIm9wZW4iLCJYSFJfUkVTUE9OU0VfVFlQRSIsIkpTT04iLCJET0NVTUVOVCIsInJlc3BvbnNlVHlwZSIsIlRFWFQiLCJzZW5kIiwibm9kZU5hbWUiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidG90YWwiLCJyZXFUeXBlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlVGV4dCIsIkJVRkZFUiIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImlubmVySFRNTCIsIlhNTCIsInJlc3BvbnNlIiwicmVzcG9uc2VVUkwiLCJvcmlnaW4iLCJpc0RhdGFVcmwiLCJzbGFzaEluZGV4IiwicXVlcnlTdGFydCIsImhhc2hTdGFydCIsIl9nZXRNaW1lRnJvbVhoclR5cGUiLCJCTE9CIiwiREVGQVVMVCIsImdpZiIsInBuZyIsImJtcCIsImpwZyIsImpwZWciLCJ0aWYiLCJ0aWZmIiwid2VicCIsInRnYSIsIm1wMyIsIm9nZyIsIndhdiIsIm1wNCIsIndlYm0iLCJ4aHRtbCIsImh0bSIsInhtbCIsInRteCIsInRzeCIsImpzb24iLCJ0eHQiLCJ0dGYiLCJvdGYiLCJfa2V5U3RyIiwiVVJMIiwid2Via2l0VVJMIiwiY2FjaGluZyIsInBhcnNpbmciLCJCbG9iIiwiY3JlYXRlT2JqZWN0VVJMIiwiYmxvYiIsInJldm9rZU9iamVjdFVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwiaW54IiwiYnl0ZWJ1ZmZlciIsImVuY29kZWRDaGFySW5kZXhlcyIsImpueCIsIl9qbngiLCJlbmNvZGVCaW5hcnkiLCJyZ3hFeHRyYWN0VXJsSGFzaCIsIkxvYWRlciIsImJhc2VVcmwiLCJwcm9ncmVzcyIsImxvYWRpbmciLCJkZWZhdWx0UXVlcnlTdHJpbmciLCJfYmVmb3JlTWlkZGxld2FyZSIsIl9hZnRlck1pZGRsZXdhcmUiLCJfcmVzb3VyY2VzUGFyc2luZyIsIl9ib3VuZExvYWRSZXNvdXJjZSIsIl9sb2FkUmVzb3VyY2UiLCJfcXVldWUiLCJvbkVycm9yIiwib25Mb2FkIiwiX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlIiwicHJlIiwiX2kiLCJfZGVmYXVsdEFmdGVyTWlkZGxld2FyZSIsInVzZSIsInBhcmVudFJlc291cmNlIiwiX3ByZXBhcmVVcmwiLCJpbmNvbXBsZXRlQ2hpbGRyZW4iLCJfaTIiLCJlYWNoQ2h1bmsiLCJfaTMiLCJfb25TdGFydCIsIl9vbkNvbXBsZXRlIiwiY2h1bmsiLCJwYXJzZWRVcmwiLCJkZXF1ZXVlIiwiX3RoaXMyIiwiX29uTG9hZCIsIl90aGlzMyIsIlRleHR1cmVMb2FkZXIiLCJSZXNvdXJjZUxvYWRlciIsIkFwcExvYWRlclBsdWdpbiIsInNoYXJlZExvYWRlciIsImxvYWRlciIsIkxvYWRlclJlc291cmNlIiwiZHluYW1pY1Byb3BlcnR5RmxhZ3MiLCJkeW5hbWljUHJvcGVydGllcyIsInN0YXRpY1Byb3BlcnRpZXMiLCJhdHRyaWJ1dGVOYW1lIiwidXBsb2FkRnVuY3Rpb24iLCJzdGF0aWNTdHJpZGUiLCJzdGF0aWNCdWZmZXIiLCJzdGF0aWNEYXRhIiwic3RhdGljRGF0YVVpbnQzMiIsImR5bmFtaWNTdHJpZGUiLCJkeW5hbWljQnVmZmVyIiwiZHluYW1pY0RhdGEiLCJkeW5hbWljRGF0YVVpbnQzMiIsImluaXRCdWZmZXJzIiwiZHluYW1pY09mZnNldCIsIm91dEJ1ZmZlciIsInRvdGFsSW5kaWNlcyIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsImR5bkJ1ZmZlciIsInN0YXRpY09mZnNldCIsInByb3BlcnR5JDEiLCJzdGF0QnVmZmVyIiwicHJvcGVydHkkMiIsInByb3BlcnR5JDMiLCJ1cGxvYWREeW5hbWljIiwiYW1vdW50IiwidXBsb2FkU3RhdGljIiwiUGFydGljbGVSZW5kZXJlciIsInVwbG9hZFZlcnRpY2VzIiwidXBsb2FkUG9zaXRpb24iLCJ1cGxvYWRSb3RhdGlvbiIsInVwbG9hZFV2cyIsInVwbG9hZFRpbnQiLCJtYXhTaXplIiwiX21heFNpemUiLCJiYXRjaFNpemUiLCJfYmF0Y2hTaXplIiwidG90YWxDaGlsZHJlbiIsIl9idWZmZXJzIiwiZ2VuZXJhdGVCdWZmZXJzIiwidUNvbG9yIiwidGludFJnYiIsInVwZGF0ZVN0YXRpYyIsIl9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIiLCJiaWQiLCJfYnVmZmVyVXBkYXRlSURzIiwiX3Byb3BlcnRpZXMiLCJzcHJpdGVQb3NpdGlvbiIsInNwcml0ZVJvdGF0aW9uIiwidGV4dHVyZVV2cyIsIlNwcml0ZXNoZWV0IiwicmVzb2x1dGlvbkZpbGVuYW1lIiwiYW5pbWF0aW9ucyIsIl91cGRhdGVSZXNvbHV0aW9uIiwiX2ZyYW1lcyIsImZyYW1lcyIsIl9mcmFtZUtleXMiLCJfYmF0Y2hJbmRleCIsIl9jYWxsYmFjayIsIkJBVENIX1NJWkUiLCJtZXRhIiwiX3Byb2Nlc3NGcmFtZXMiLCJfcHJvY2Vzc0FuaW1hdGlvbnMiLCJfcGFyc2VDb21wbGV0ZSIsIl9uZXh0QmF0Y2giLCJpbml0aWFsRnJhbWVJbmRleCIsImZyYW1lSW5kZXgiLCJtYXhGcmFtZXMiLCJzb3VyY2VTaXplIiwicm90YXRlZCIsInNwcml0ZVNvdXJjZVNpemUiLCJhbmltTmFtZSIsImZyYW1lTmFtZSIsIlNwcml0ZXNoZWV0TG9hZGVyIiwiaW1hZ2VSZXNvdXJjZU5hbWUiLCJsb2FkT3B0aW9ucyIsImltYWdlTWV0YWRhdGEiLCJyZXNvdXJjZVBhdGgiLCJnZXRSZXNvdXJjZVBhdGgiLCJzcHJpdGVzaGVldCIsImZyYWdtZW50U2ltcGxlIiwiVGlsaW5nU3ByaXRlUmVuZGVyZXIiLCJzaW1wbGVTaGFkZXIiLCJ0cyIsInV2UmVzcGVjdEFuY2hvciIsImJhc2VUZXgiLCJ0aWxlVHJhbnNmb3JtIiwidXYiLCJIIiwidU1hcENvb3JkIiwidVRyYW5zZm9ybSIsIkJpdG1hcFRleHQiLCJfdGV4dFdpZHRoIiwiX3RleHRIZWlnaHQiLCJfZ2x5cGhzIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJtYXhXaWR0aCIsIm1heExpbmVIZWlnaHQiLCJ0ZXh0V2lkdGgiLCJ0ZXh0SGVpZ2h0IiwiZm9udHMiLCJjaGFycyIsInRleHRMZW5ndGgiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdEJyZWFrUG9zIiwibGFzdEJyZWFrV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwiY2hhckNvZGUiLCJjaGFyRGF0YSIsImtlcm5pbmciLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhBZHZhbmNlIiwibGluZUFsaWduT2Zmc2V0cyIsImFsaWduT2Zmc2V0IiwibGVuQ2hhcnMiLCJ2YWxpZGF0ZSIsInJlZ2lzdGVyRm9udCIsImluZm8iLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNvbW1vbiIsInBhZ2VzIiwicGFnZXNUZXh0dXJlcyIsImZpbGUiLCJsZXR0ZXJzIiwicGFnZSIsInRleHR1cmVSZWN0Iiwia2VybmluZ3MiLCJmaXJzdCIsInNlY29uZCIsIkJpdG1hcEZvbnRMb2FkZXIiLCJiaXRtYXBGb250IiwiZGlybmFtZSIsInhtbFVybCIsInBhZ2VGaWxlIiwiYml0bWFwUmVzb3VyY2UiLCJDb2xvck1hdHJpeEZpbHRlciIsInVBbHBoYSIsIl9sb2FkTWF0cml4IiwibXVsdGlwbHkiLCJuZXdNYXRyaXgiLCJfbXVsdGlwbHkiLCJfY29sb3JNYXRyaXgiLCJicmlnaHRuZXNzIiwiZ3JleXNjYWxlIiwiYmxhY2tBbmRXaGl0ZSIsImh1ZSIsImNvc1IiLCJzaW5SIiwic3FyVyIsImNvbnRyYXN0Iiwic2F0dXJhdGUiLCJkZXNhdHVyYXRlIiwibmVnYXRpdmUiLCJzZXBpYSIsInRlY2huaWNvbG9yIiwicG9sYXJvaWQiLCJ0b0JHUiIsImtvZGFjaHJvbWUiLCJicm93bmkiLCJ2aW50YWdlIiwiY29sb3JUb25lIiwiZGVzYXR1cmF0aW9uIiwidG9uZWQiLCJsaWdodENvbG9yIiwiZGFya0NvbG9yIiwibFIiLCJsRyIsImxCIiwiZFIiLCJkRyIsImRCIiwibmlnaHQiLCJpbnRlbnNpdHkiLCJwcmVkYXRvciIsImxzZCIsImdyYXlzY2FsZSIsIl90ZW1wTWF0cml4IiwiX2NhY2hlQXNCaXRtYXAiLCJfY2FjaGVEYXRhIiwiQ2FjaGVEYXRhIiwidGV4dHVyZUNhY2hlSWQiLCJvcmlnaW5hbFJlbmRlciIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbEhpdFRlc3QiLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJjYWNoZUFzQml0bWFwIiwicmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDb250YWluc1BvaW50IiwiX3JlbmRlckNhY2hlZCIsIl9yZW5kZXJDYWNoZWRDYW52YXMiLCJfY2FjaGVBc0JpdG1hcERlc3Ryb3kiLCJfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3QiLCJjYWNoZUFscGhhIiwiY2FjaGVkUmVuZGVyVGV4dHVyZSIsImNhY2hlZFNvdXJjZUZyYW1lIiwiY2FjaGVkUHJvamVjdGlvblRyYW5zZm9ybSIsIl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMiLCJfZ2V0Q2FjaGVkTG9jYWxCb3VuZHMiLCJjYWNoZWRTcHJpdGUiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMiLCJfcmVuZGVyQ2FudmFzIiwiY2FjaGVkUmVuZGVyVGFyZ2V0IiwiZ2V0Q2hpbGRCeU5hbWUiLCJnZXRHbG9iYWxQb3NpdGlvbiIsIk1lc2hCYXRjaFV2cyIsIl9idWZmZXJVcGRhdGVJZCIsIl90ZXh0dXJlVXBkYXRlSWQiLCJ0ZW1wUG9seWdvbiIsIk1lc2giLCJ2ZXJ0ZXhEaXJ0eSIsImJhdGNoVXZzIiwidmVydGljZXNCdWZmZXIiLCJtYXRlcmlhbCIsIl9yZW5kZXJUb0JhdGNoIiwiX3JlbmRlckRlZmF1bHQiLCJjYWxjdWxhdGVVdnMiLCJ2ZXJ0ZXhEaXJ0eUlkIiwiZ2VvbVV2cyIsInN0ZXAiLCJpbmQwIiwiaW5kMSIsImluZDIiLCJDb21wb25lbnQiLCJfcmVuZGVyZXIiLCJkZXZpY2VQaXhlbFJhdGlvIiwiX2NhbnZhc0NvbnRhaW5lciIsIl9ncmFwaGljcyIsIl9ncmFwaGljc0NvbnRhaW5lciIsImJ1dHRvbk1vZGUiLCJfbm9kZXNDb250YWluZXIiLCJfZWRnZXNDb250YWluZXIiLCJfb25SZXNpemUiLCJlZGdlTWFuYWdlciIsIm5vZGVNYW5hZ2VyIiwidHJlZSIsImVkZ2VzIiwibm9kZXMiLCJzcHJpbmdzIiwiZ2V0Q29tcG9uZW50c09mVHlwZSIsIm5vZGVQb3NpdGlvbnMiLCJlTGVuIiwibkxlbiIsInNwcmluZyIsInJlbmRlclRyZWUiLCJicmFuY2giLCJkaXZpZGVkIiwiVEwiLCJUUiIsIkJMIiwiQlIiLCJjZW50ZXJPZk1hc3MiLCJ1dWlkIiwiYWRkVmVjcyIsInZlYzEiLCJzdWJWZWNzIiwiZGl2aWRlVmVjQnlTY2FsYXIiLCJ2ZWMiLCJzY2FsYXIiLCJnZXRWZWNMZW5ndGgiLCJub3JtYWxpemVWZWMiLCJnZXREaXN0YW5jZUJldHdlZW5WZWNzIiwiX2FkZEV2ZW50TGlzdGVuZXIiLCJzdXBwb3J0IiwiX2FkZFdoZWVsTGlzdGVuZXIiLCJlbGVtIiwiZXZlbnROYW1lIiwidXNlQ2FwdHVyZSIsInNyY0VsZW1lbnQiLCJkZWx0YU1vZGUiLCJkZWx0YVgiLCJkZWx0YVkiLCJyZXR1cm5WYWx1ZSIsIndoZWVsRGVsdGEiLCJ3aGVlbERlbHRhWCIsImRldGFpbCIsIm9ubW91c2V3aGVlbCIsIkdlbmVyYXRpb25hbEluZGV4IiwiX2luZGV4IiwiX2dlbmVyYXRpb24iLCJnZW5lcmF0aW9uIiwiX2VudHJpZXMiLCJfZnJlZSIsImVudHJ5IiwiaXNfYWxpdmUiLCJHZW5lcmF0aW9uYWxJbmRleEFycmF5IiwiX2luZGljZXMiLCJfZWxlbWVudHMiLCJfaXRlciIsImdpIiwiQUFCQiIsImFhYmIiLCJNYXAiLCJtYXNzIiwib3ZlcmxhcHNWZWMiLCJNYXhEZXB0aCIsInVwZGF0ZU1hc3MiLCJkaXZpZGUiLCJpbnNlcnQiLCJjb20iLCJ0b3RhbE1hc3MiLCJ0b3RhbE1hc3NJbnYiLCJodyIsImhoIiwibmV3RGVwdGgiLCJvdmVybGFwc0FBQkIiLCJNYXhFbGVtZW50cyIsInRleHRDb2xvciIsImZpbGxDb2xvciIsIl9hbGxvY2F0b3IiLCJfaWRUb0VudGl0eU1hcCIsIl9lbnRpdHlUb0lkTWFwIiwiX25vZGVzIiwiX2NvbXBvbmVudFN0b3JlcyIsImxhYmVsIiwiX25vZGUiLCJhbGxvY2F0ZSIsImFkZENvbXBvbmVudCIsImNvbG9yQ29tcG9uZW50Iiwic2hhcGVDb21wb25lbnQiLCJzaXplQ29tcG9uZW50IiwibGFiZWxDb21wb25lbnQiLCJjcmVhdGVOb2RlIiwiY29tcG9uZW50IiwiY29tcG9uZW50TmFtZSIsInN0b3JlIiwiZGVsZXRlIiwiY29udHJvbGxlZFN0b3JlIiwic3RvcmVBcnIiLCJpc0NvbnRyb2xsZWQiLCJkZWFsbG9jYXRlIiwiX2VkZ2VzIiwiX2VkZ2UiLCJfc3ByaW5nIiwiX2xhYmVsIiwiX2NvbG9yIiwiZWRnZSIsImNyZWF0ZUVkZ2UiLCJjb21wb25lbnRzIiwic3RvcmVOYW1lIiwiZ3Jhdml0YXRpb25hbENvbnN0YW50IiwiY29uc3RydWN0VHJlZSIsInNpemVYIiwic2l6ZVkiLCJiYXJuZXNIdXRUcmVlIiwiZm9yY2VzIiwiZGlzdGFuY2UiLCJjYWxjRm9yY2UiLCJnZXRGb3JjZUNvbnRyaWJ1dGlvbnMiLCJncmF2aXR5Rm9yY2UiLCJub2RlRm9yY2VzIiwibm9kZVBvcyIsIm5vZGVGb3JjZSIsImNhbGN1bGF0ZVZlbG9jaXR5IiwidmVsb2NpdHkiLCJpc0RyYWdnaW5nIiwiZ3JhcGhSZW5kZXJlciIsImdyYXBoR3JhcGhpY3MiLCJncmFwaFN0YWdlIiwiem9vbSIsImFkZFBhbm5pbmciLCJjdHgiLCJJbnRlcmFjdGlvbkRhdGEiLCJpc1pvb21JbiIsImZhY3RvciIsImJlZm9yZVRyYW5zZm9ybSIsImdldEdyYXBoQ29vcmRpbmF0ZXMiLCJhZnRlclRyYW5zZm9ybSIsIm1vdmVEYXRhIiwiX3J1bnMiLCJfbm9kZU1hbmFnZXIiLCJfZWRnZU1hbmFnZXIiLCJfc2V0dXAiLCJfdXBkYXRlIiwiYnVsa0NyZWF0ZU5vZGVzIiwiZ2V0Tm9kZUVudGl0eSIsIl9mb3JjZVN5c3RlbSIsIl93b3JsZEJvdW5kcyIsIl9pbnB1dFN5dGVtIiwiX3VwZGF0ZVdvcmxkQm91bmRzIiwiQ2VudHJhbEdyYXZpdHkiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwicmVzdERpc3RhbmNlIiwibm9kZVZlbHMiLCJudW1FZGdlcyIsIm5vZGUxcG9zIiwibm9kZTF2ZWwiLCJub2RlMWZvcmNlIiwibm9kZTJwb3MiLCJub2RlMnZlbCIsIm5vZGUyZm9yY2UiLCJub3JtMSIsIm5vcm0yIiwidjEiLCJ2MiIsInN0aWZmbmVzc1hkIiwiZngxIiwiZnkxIiwiZngyIiwiZnkyIiwiU3ByaW5nU3lzdGVtIiwibm9kZVZlbG9jaXRpZXMiLCJ2ZWwiLCJWZWxvY2l0eVZlcmxldCIsInRpbWVFbmQiLCJWTmV0R3JhcGgiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFT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QUFNdmdCLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXNnQixFQUFJLEdBQU12Z0IsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFc2dCLEVBQUksR0FBTXZnQixFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEVzZ0IsRUFBSSxHQUFNdmdCLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUFPRCxFQUFFLEdBRzdFdWdCLEVBQUksR0FBTXZnQixFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEVzZ0IsRUFBSSxHQUFNdmdCLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRXNnQixFQUFJLEdBQU12Z0IsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFc2dCLEVBQUksR0FBTXZnQixFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEVzZ0IsRUFBSSxHQUFNdmdCLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxH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TSt2QixFQUFRSCxFQUFZRyxNQUNwQnFLLEVBQWlCeEssRUFBWUssb0JBQW9CLElBQ2pEQyxFQUFnQk4sRUFBWUssb0JBQW9CLElBQ2hEK0csRUFBYXBILEVBQVlLLG9CQUFvQixJQUM3Q0csRUFBT0wsRUFBTXBoRyxPQUNuQixJQUFJcEMsRUFBRzZELEVBQU1pcUcsRUFBS3ZqQyxFQUFPbjNDLEVBRXpCLElBQUtwekIsRUFBSSxFQUFHQSxFQUFJNmpHLEVBQU03akcsSUFFcEJvekIsRUFBTXV3RSxHQUROOS9GLEVBQU8yL0YsRUFBTXhqRyxJQUNZbWEsT0FDekJvd0QsRUFBUWtnQyxFQUFXNW1HLEVBQUtzVyxRQUN4QjJ6RixFQUFNRCxFQUFlaHFHLEVBQUtzVyxRQUV0QnpKLEVBQUlrNkYsR0FBa0JrRCxFQUFJcDlGLEVBQUc2NUQsRUFBTTc1RCxFQUFHLEdBQzFDbzlGLEVBQUluOUYsRUFBSWk2RixHQUFrQmtELEVBQUluOUYsRUFBRzQ1RCxFQUFNNTVELEVBQUcsR0FFMUN5aUIsRUFBSTFpQixHQUFLbzlGLEVBQUlwOUYsRUFBSStpRSxFQUNqQnJnRCxFQUFJemlCLEdBQUttOUYsRUFBSW45RixFQUFJOGlFLEVBRWpCbEosRUFBTTc1RCxFQUFJLEVBQ1Y2NUQsRUFBTTU1RCxFQUFJLEVFa0dWbzlGLENBQWU1cUcsS0FBSzBvRyxhQUFjLElBQ2xDejZFLFFBQVE0OEUsUUFBUSxXQUNoQjU4RSxRQUFROFcsS0FBSyxVQUNiL2tDLEtBQUt3L0YsVUFBVTlpRSxPQUNiMThCLEtBQUsyb0csYUFDTDNvRyxLQUFLMG9HLGFBQ0wxb0csS0FBS2dwRyxhQUFhaEMsZUFDbEIsR0FFRi80RSxRQUFRNDhFLFFBQVEsV0FJZDluRyxPQUFlK25HLFlBQ2xCL25HLE9BQWUrbkcsVUFBWSIsImZpbGUiOiJWTmV0R3JhcGguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTkpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBNaW5pU2lnbmFsQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWxCaW5kaW5nKGZuLCBvbmNlLCB0aGlzQXJnKSB7XG4gICAgaWYgKG9uY2UgPT09IHVuZGVmaW5lZCkgb25jZSA9IGZhbHNlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aGlzLl9vd25lci5kZXRhY2godGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbEJpbmRpbmc7XG59KSgpO1xuXG5mdW5jdGlvbiBfYWRkTWluaVNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICBpZiAoIXNlbGYuX2hlYWQpIHtcbiAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICBub2RlLl9wcmV2ID0gc2VsZi5fdGFpbDtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfVxuXG4gIG5vZGUuX293bmVyID0gc2VsZjtcblxuICByZXR1cm4gbm9kZTtcbn1cblxudmFyIE1pbmlTaWduYWwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsKTtcblxuICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWwsIFt7XG4gICAga2V5OiAnaGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVycygpIHtcbiAgICAgIHZhciBleGlzdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gISFub2RlO1xuXG4gICAgICB2YXIgZWUgPSBbXTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgZWUucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLl9vbmNlKSB0aGlzLmRldGFjaChub2RlKTtcbiAgICAgICAgbm9kZS5fZm4uYXBwbHkobm9kZS5fdGhpc0FyZywgYXJndW1lbnRzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChub2RlLl9wcmV2KSBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDtcbiAgICAgIGlmIChub2RlLl9uZXh0KSBub2RlLl9uZXh0Ll9wcmV2ID0gbm9kZS5fcHJldjtcblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsO1xufSkoKTtcblxuTWluaVNpZ25hbC5NaW5pU2lnbmFsQmluZGluZyA9IE1pbmlTaWduYWxCaW5kaW5nO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNaW5pU2lnbmFsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4iLCIhZnVuY3Rpb24oZSl7dmFyIG49L2lQaG9uZS9pLHQ9L2lQb2QvaSxyPS9pUGFkL2ksYT0vXFxiQW5kcm9pZCg/Oi4rKU1vYmlsZVxcYi9pLHA9L0FuZHJvaWQvaSxiPS9cXGJBbmRyb2lkKD86LispU0Q0OTMwVVJcXGIvaSxsPS9cXGJBbmRyb2lkKD86LispKD86S0ZbQS1aXXsyLDR9KVxcYi9pLGY9L1dpbmRvd3MgUGhvbmUvaSxzPS9cXGJXaW5kb3dzKD86LispQVJNXFxiL2ksdT0vQmxhY2tCZXJyeS9pLGM9L0JCMTAvaSxoPS9PcGVyYSBNaW5pL2ksdj0vXFxiKENyaU9TfENocm9tZSkoPzouKylNb2JpbGUvaSx3PS9Nb2JpbGUoPzouKylGaXJlZm94XFxiL2k7ZnVuY3Rpb24gbShlLGkpe3JldHVybiBlLnRlc3QoaSl9ZnVuY3Rpb24gaShlKXt2YXIgaT1lfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvcj9uYXZpZ2F0b3IudXNlckFnZW50OlwiXCIpLG89aS5zcGxpdChcIltGQkFOXCIpO3ZvaWQgMCE9PW9bMV0mJihpPW9bMF0pLHZvaWQgMCE9PShvPWkuc3BsaXQoXCJUd2l0dGVyXCIpKVsxXSYmKGk9b1swXSk7dmFyIGQ9e2FwcGxlOntwaG9uZTptKG4saSkmJiFtKGYsaSksaXBvZDptKHQsaSksdGFibGV0OiFtKG4saSkmJm0ocixpKSYmIW0oZixpKSxkZXZpY2U6KG0obixpKXx8bSh0LGkpfHxtKHIsaSkpJiYhbShmLGkpfSxhbWF6b246e3Bob25lOm0oYixpKSx0YWJsZXQ6IW0oYixpKSYmbShsLGkpLGRldmljZTptKGIsaSl8fG0obCxpKX0sYW5kcm9pZDp7cGhvbmU6IW0oZixpKSYmbShiLGkpfHwhbShmLGkpJiZtKGEsaSksdGFibGV0OiFtKGYsaSkmJiFtKGIsaSkmJiFtKGEsaSkmJihtKGwsaSl8fG0ocCxpKSksZGV2aWNlOiFtKGYsaSkmJihtKGIsaSl8fG0obCxpKXx8bShhLGkpfHxtKHAsaSkpfHxtKC9cXGJva2h0dHBcXGIvaSxpKX0sd2luZG93czp7cGhvbmU6bShmLGkpLHRhYmxldDptKHMsaSksZGV2aWNlOm0oZixpKXx8bShzLGkpfSxvdGhlcjp7YmxhY2tiZXJyeTptKHUsaSksYmxhY2tiZXJyeTEwOm0oYyxpKSxvcGVyYTptKGgsaSksZmlyZWZveDptKHcsaSksY2hyb21lOm0odixpKSxkZXZpY2U6bSh1LGkpfHxtKGMsaSl8fG0oaCxpKXx8bSh3LGkpfHxtKHYsaSl9fTtyZXR1cm4gZC5hbnk9ZC5hcHBsZS5kZXZpY2V8fGQuYW5kcm9pZC5kZXZpY2V8fGQud2luZG93cy5kZXZpY2V8fGQub3RoZXIuZGV2aWNlLGQucGhvbmU9ZC5hcHBsZS5waG9uZXx8ZC5hbmRyb2lkLnBob25lfHxkLndpbmRvd3MucGhvbmUsZC50YWJsZXQ9ZC5hcHBsZS50YWJsZXR8fGQuYW5kcm9pZC50YWJsZXR8fGQud2luZG93cy50YWJsZXQsZH1cInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9tb2R1bGUuZXhwb3J0cz1pOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93Pyhtb2R1bGUuZXhwb3J0cz1pKCksbW9kdWxlLmV4cG9ydHMuaXNNb2JpbGU9aSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXSxlLmlzTW9iaWxlPWkoKSk6ZS5pc01vYmlsZT1pKCl9KHRoaXMpOyIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VVUkkgKHN0ciwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ10sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xuXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xuXG4gICAgZGltID0gZGltIHx8IDI7XG5cbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcblxuICAgIGlmICghb3V0ZXJOb2RlIHx8IG91dGVyTm9kZS5uZXh0ID09PSBvdXRlck5vZGUucHJldikgcmV0dXJuIHRyaWFuZ2xlcztcblxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xuXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xuXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xuICAgICAgICAgICAgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMSAvIGludlNpemUgOiAwO1xuICAgIH1cblxuICAgIGVhcmN1dExpbmtlZChvdXRlck5vZGUsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHJldHVybiB0cmlhbmdsZXM7XG59XG5cbi8vIGNyZWF0ZSBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBmcm9tIHBvbHlnb24gcG9pbnRzIGluIHRoZSBzcGVjaWZpZWQgd2luZGluZyBvcmRlclxuZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGNsb2Nrd2lzZSkge1xuICAgIHZhciBpLCBsYXN0O1xuXG4gICAgaWYgKGNsb2Nrd2lzZSA9PT0gKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSA+IDApKSB7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IGVuZCAtIGRpbTsgaSA+PSBzdGFydDsgaSAtPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9XG5cbiAgICBpZiAobGFzdCAmJiBlcXVhbHMobGFzdCwgbGFzdC5uZXh0KSkge1xuICAgICAgICByZW1vdmVOb2RlKGxhc3QpO1xuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0O1xufVxuXG4vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xuZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoIXN0YXJ0KSByZXR1cm4gc3RhcnQ7XG4gICAgaWYgKCFlbmQpIGVuZCA9IHN0YXJ0O1xuXG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgYWdhaW47XG4gICAgZG8ge1xuICAgICAgICBhZ2FpbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghcC5zdGVpbmVyICYmIChlcXVhbHMocCwgcC5uZXh0KSB8fCBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICBwID0gZW5kID0gcC5wcmV2O1xuICAgICAgICAgICAgaWYgKHAgPT09IHAubmV4dCkgYnJlYWs7XG4gICAgICAgICAgICBhZ2FpbiA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChhZ2FpbiB8fCBwICE9PSBlbmQpO1xuXG4gICAgcmV0dXJuIGVuZDtcbn1cblxuLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgcGFzcykge1xuICAgIGlmICghZWFyKSByZXR1cm47XG5cbiAgICAvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG4gICAgaWYgKCFwYXNzICYmIGludlNpemUpIGluZGV4Q3VydmUoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBzdG9wID0gZWFyLFxuICAgICAgICBwcmV2LCBuZXh0O1xuXG4gICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhcnMsIHNsaWNpbmcgdGhlbSBvbmUgYnkgb25lXG4gICAgd2hpbGUgKGVhci5wcmV2ICE9PSBlYXIubmV4dCkge1xuICAgICAgICBwcmV2ID0gZWFyLnByZXY7XG4gICAgICAgIG5leHQgPSBlYXIubmV4dDtcblxuICAgICAgICBpZiAoaW52U2l6ZSA/IGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkgOiBpc0VhcihlYXIpKSB7XG4gICAgICAgICAgICAvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZVxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocHJldi5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGVhci5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZWFyKTtcblxuICAgICAgICAgICAgLy8gc2tpcHBpbmcgdGhlIG5leHQgdmVydGV4IGxlYWRzIHRvIGxlc3Mgc2xpdmVyIHRyaWFuZ2xlc1xuICAgICAgICAgICAgZWFyID0gbmV4dC5uZXh0O1xuICAgICAgICAgICAgc3RvcCA9IG5leHQubmV4dDtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBlYXIgPSBuZXh0O1xuXG4gICAgICAgIC8vIGlmIHdlIGxvb3BlZCB0aHJvdWdoIHRoZSB3aG9sZSByZW1haW5pbmcgcG9seWdvbiBhbmQgY2FuJ3QgZmluZCBhbnkgbW9yZSBlYXJzXG4gICAgICAgIGlmIChlYXIgPT09IHN0b3ApIHtcbiAgICAgICAgICAgIC8vIHRyeSBmaWx0ZXJpbmcgcG9pbnRzIGFuZCBzbGljaW5nIGFnYWluXG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAxKTtcblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBkaWRuJ3Qgd29yaywgdHJ5IGN1cmluZyBhbGwgc21hbGwgc2VsZi1pbnRlcnNlY3Rpb25zIGxvY2FsbHlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGVhciA9IGN1cmVMb2NhbEludGVyc2VjdGlvbnMoZWFyLCB0cmlhbmdsZXMsIGRpbSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDIpO1xuXG4gICAgICAgICAgICAvLyBhcyBhIGxhc3QgcmVzb3J0LCB0cnkgc3BsaXR0aW5nIHRoZSByZW1haW5pbmcgcG9seWdvbiBpbnRvIHR3b1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgc3BsaXRFYXJjdXQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBjaGVjayB3aGV0aGVyIGEgcG9seWdvbiBub2RlIGZvcm1zIGEgdmFsaWQgZWFyIHdpdGggYWRqYWNlbnQgbm9kZXNcbmZ1bmN0aW9uIGlzRWFyKGVhcikge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIG5vdyBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBvdGhlciBwb2ludHMgaW5zaWRlIHRoZSBwb3RlbnRpYWwgZWFyXG4gICAgdmFyIHAgPSBlYXIubmV4dC5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IGVhci5wcmV2KSB7XG4gICAgICAgIGlmIChwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkXG4gICAgdmFyIG1pblRYID0gYS54IDwgYi54ID8gKGEueCA8IGMueCA/IGEueCA6IGMueCkgOiAoYi54IDwgYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWluVFkgPSBhLnkgPCBiLnkgPyAoYS55IDwgYy55ID8gYS55IDogYy55KSA6IChiLnkgPCBjLnkgPyBiLnkgOiBjLnkpLFxuICAgICAgICBtYXhUWCA9IGEueCA+IGIueCA/IChhLnggPiBjLnggPyBhLnggOiBjLngpIDogKGIueCA+IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1heFRZID0gYS55ID4gYi55ID8gKGEueSA+IGMueSA/IGEueSA6IGMueSkgOiAoYi55ID4gYy55ID8gYi55IDogYy55KTtcblxuICAgIC8vIHotb3JkZXIgcmFuZ2UgZm9yIHRoZSBjdXJyZW50IHRyaWFuZ2xlIGJib3g7XG4gICAgdmFyIG1pblogPSB6T3JkZXIobWluVFgsIG1pblRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSxcbiAgICAgICAgbWF4WiA9IHpPcmRlcihtYXhUWCwgbWF4VFksIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHAgPSBlYXIucHJldlosXG4gICAgICAgIG4gPSBlYXIubmV4dFo7XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBpbiBib3RoIGRpcmVjdGlvbnNcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWiAmJiBuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcblxuICAgICAgICBpZiAobiAhPT0gZWFyLnByZXYgJiYgbiAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBuLngsIG4ueSkgJiZcbiAgICAgICAgICAgIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBkZWNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBpbmNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAobiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAobiAhPT0gZWFyLnByZXYgJiYgbiAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBuLngsIG4ueSkgJiZcbiAgICAgICAgICAgIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIGdvIHRocm91Z2ggYWxsIHBvbHlnb24gbm9kZXMgYW5kIGN1cmUgc21hbGwgbG9jYWwgc2VsZi1pbnRlcnNlY3Rpb25zXG5mdW5jdGlvbiBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSkge1xuICAgIHZhciBwID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYSA9IHAucHJldixcbiAgICAgICAgICAgIGIgPSBwLm5leHQubmV4dDtcblxuICAgICAgICBpZiAoIWVxdWFscyhhLCBiKSAmJiBpbnRlcnNlY3RzKGEsIHAsIHAubmV4dCwgYikgJiYgbG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpKSB7XG5cbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGEuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYi5pIC8gZGltKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHR3byBub2RlcyBpbnZvbHZlZFxuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocC5uZXh0KTtcblxuICAgICAgICAgICAgcCA9IHN0YXJ0ID0gYjtcbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBwO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgICAgICBvdXRlck5vZGUgPSBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xuICAgIHJldHVybiBhLnggLSBiLng7XG59XG5cbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICBvdXRlck5vZGUgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xuICAgIGlmIChvdXRlck5vZGUpIHtcbiAgICAgICAgdmFyIGIgPSBzcGxpdFBvbHlnb24ob3V0ZXJOb2RlLCBob2xlKTtcbiAgICAgICAgZmlsdGVyUG9pbnRzKGIsIGIubmV4dCk7XG4gICAgfVxufVxuXG4vLyBEYXZpZCBFYmVybHkncyBhbGdvcml0aG0gZm9yIGZpbmRpbmcgYSBicmlkZ2UgYmV0d2VlbiBob2xlIGFuZCBvdXRlciBwb2x5Z29uXG5mdW5jdGlvbiBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICB2YXIgcCA9IG91dGVyTm9kZSxcbiAgICAgICAgaHggPSBob2xlLngsXG4gICAgICAgIGh5ID0gaG9sZS55LFxuICAgICAgICBxeCA9IC1JbmZpbml0eSxcbiAgICAgICAgbTtcblxuICAgIC8vIGZpbmQgYSBzZWdtZW50IGludGVyc2VjdGVkIGJ5IGEgcmF5IGZyb20gdGhlIGhvbGUncyBsZWZ0bW9zdCBwb2ludCB0byB0aGUgbGVmdDtcbiAgICAvLyBzZWdtZW50J3MgZW5kcG9pbnQgd2l0aCBsZXNzZXIgeCB3aWxsIGJlIHBvdGVudGlhbCBjb25uZWN0aW9uIHBvaW50XG4gICAgZG8ge1xuICAgICAgICBpZiAoaHkgPD0gcC55ICYmIGh5ID49IHAubmV4dC55ICYmIHAubmV4dC55ICE9PSBwLnkpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcC54ICsgKGh5IC0gcC55KSAqIChwLm5leHQueCAtIHAueCkgLyAocC5uZXh0LnkgLSBwLnkpO1xuICAgICAgICAgICAgaWYgKHggPD0gaHggJiYgeCA+IHF4KSB7XG4gICAgICAgICAgICAgICAgcXggPSB4O1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSBoeCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAueSkgcmV0dXJuIHA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC5uZXh0LnkpIHJldHVybiBwLm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG0gPSBwLnggPCBwLm5leHQueCA/IHAgOiBwLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBvdXRlck5vZGUpO1xuXG4gICAgaWYgKCFtKSByZXR1cm4gbnVsbDtcblxuICAgIGlmIChoeCA9PT0gcXgpIHJldHVybiBtLnByZXY7IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxvd2VyIGVuZHBvaW50XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcblxuICAgIHZhciBzdG9wID0gbSxcbiAgICAgICAgbXggPSBtLngsXG4gICAgICAgIG15ID0gbS55LFxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcbiAgICAgICAgdGFuO1xuXG4gICAgcCA9IG0ubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBzdG9wKSB7XG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XG5cbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcblxuICAgICAgICAgICAgaWYgKCh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIHAueCA+IG0ueCkpICYmIGxvY2FsbHlJbnNpZGUocCwgaG9sZSkpIHtcbiAgICAgICAgICAgICAgICBtID0gcDtcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBtO1xufVxuXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnogPT09IG51bGwpIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XG4gICAgcC5wcmV2WiA9IG51bGw7XG5cbiAgICBzb3J0TGlua2VkKHApO1xufVxuXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcbiAgICAgICAgaW5TaXplID0gMTtcblxuICAgIGRvIHtcbiAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIGxpc3QgPSBudWxsO1xuICAgICAgICB0YWlsID0gbnVsbDtcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcblxuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XG4gICAgICAgICAgICBxID0gcDtcbiAgICAgICAgICAgIHBTaXplID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHBTaXplKys7XG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xuXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcblxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwID0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xuICAgICAgICBpblNpemUgKj0gMjtcblxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xuXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXG4gICAgeCA9IDMyNzY3ICogKHggLSBtaW5YKSAqIGludlNpemU7XG4gICAgeSA9IDMyNzY3ICogKHkgLSBtaW5ZKSAqIGludlNpemU7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJlxuICAgICAgICAgICBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpO1xufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIGlmICgoZXF1YWxzKHAxLCBxMSkgJiYgZXF1YWxzKHAyLCBxMikpIHx8XG4gICAgICAgIChlcXVhbHMocDEsIHEyKSAmJiBlcXVhbHMocDIsIHExKSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBhcmVhKHAxLCBxMSwgcDIpID4gMCAhPT0gYXJlYShwMSwgcTEsIHEyKSA+IDAgJiZcbiAgICAgICAgICAgYXJlYShwMiwgcTIsIHAxKSA+IDAgIT09IGFyZWEocDIsIHEyLCBxMSkgPiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IG51bGw7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiKGZ1bmN0aW9uKGdsb2JhbCl7XG5cbi8vXG4vLyBDaGVjayBmb3IgbmF0aXZlIFByb21pc2UgYW5kIGl0IGhhcyBjb3JyZWN0IGludGVyZmFjZVxuLy9cblxudmFyIE5hdGl2ZVByb21pc2UgPSBnbG9iYWxbJ1Byb21pc2UnXTtcbnZhciBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID1cbiAgTmF0aXZlUHJvbWlzZSAmJlxuICAvLyBTb21lIG9mIHRoZXNlIG1ldGhvZHMgYXJlIG1pc3NpbmcgZnJvbVxuICAvLyBGaXJlZm94L0Nocm9tZSBleHBlcmltZW50YWwgaW1wbGVtZW50YXRpb25zXG4gICdyZXNvbHZlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyZWplY3QnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ2FsbCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAncmFjZScgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAvLyBPbGRlciB2ZXJzaW9uIG9mIHRoZSBzcGVjIGhhZCBhIHJlc29sdmVyIG9iamVjdFxuICAvLyBhcyB0aGUgYXJnIHJhdGhlciB0aGFuIGEgZnVuY3Rpb25cbiAgKGZ1bmN0aW9uKCl7XG4gICAgdmFyIHJlc29sdmU7XG4gICAgbmV3IE5hdGl2ZVByb21pc2UoZnVuY3Rpb24ocil7IHJlc29sdmUgPSByOyB9KTtcbiAgICByZXR1cm4gdHlwZW9mIHJlc29sdmUgPT09ICdmdW5jdGlvbic7XG4gIH0pKCk7XG5cblxuLy9cbi8vIGV4cG9ydCBpZiBuZWNlc3Nhcnlcbi8vXG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgZXhwb3J0cylcbntcbiAgLy8gbm9kZS5qc1xuICBleHBvcnRzLlByb21pc2UgPSBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gIGV4cG9ydHMuUG9seWZpbGwgPSBQcm9taXNlO1xufVxuZWxzZVxue1xuICAvLyBBTURcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuICB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gbmF0aXZlUHJvbWlzZVN1cHBvcnRlZCA/IE5hdGl2ZVByb21pc2UgOiBQcm9taXNlO1xuICAgIH0pO1xuICB9XG4gIGVsc2VcbiAge1xuICAgIC8vIGluIGJyb3dzZXIgYWRkIHRvIGdsb2JhbFxuICAgIGlmICghbmF0aXZlUHJvbWlzZVN1cHBvcnRlZClcbiAgICAgIGdsb2JhbFsnUHJvbWlzZSddID0gUHJvbWlzZTtcbiAgfVxufVxuXG5cbi8vXG4vLyBQb2x5ZmlsbFxuLy9cblxudmFyIFBFTkRJTkcgPSAncGVuZGluZyc7XG52YXIgU0VBTEVEID0gJ3NlYWxlZCc7XG52YXIgRlVMRklMTEVEID0gJ2Z1bGZpbGxlZCc7XG52YXIgUkVKRUNURUQgPSAncmVqZWN0ZWQnO1xudmFyIE5PT1AgPSBmdW5jdGlvbigpe307XG5cbmZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8vIGFzeW5jIGNhbGxzXG52YXIgYXN5bmNTZXRUaW1lciA9IHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnID8gc2V0SW1tZWRpYXRlIDogc2V0VGltZW91dDtcbnZhciBhc3luY1F1ZXVlID0gW107XG52YXIgYXN5bmNUaW1lcjtcblxuZnVuY3Rpb24gYXN5bmNGbHVzaCgpe1xuICAvLyBydW4gcHJvbWlzZSBjYWxsYmFja3NcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc3luY1F1ZXVlLmxlbmd0aDsgaSsrKVxuICAgIGFzeW5jUXVldWVbaV1bMF0oYXN5bmNRdWV1ZVtpXVsxXSk7XG5cbiAgLy8gcmVzZXQgYXN5bmMgYXN5bmNRdWV1ZVxuICBhc3luY1F1ZXVlID0gW107XG4gIGFzeW5jVGltZXIgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gYXN5bmNDYWxsKGNhbGxiYWNrLCBhcmcpe1xuICBhc3luY1F1ZXVlLnB1c2goW2NhbGxiYWNrLCBhcmddKTtcblxuICBpZiAoIWFzeW5jVGltZXIpXG4gIHtcbiAgICBhc3luY1RpbWVyID0gdHJ1ZTtcbiAgICBhc3luY1NldFRpbWVyKGFzeW5jRmx1c2gsIDApO1xuICB9XG59XG5cblxuZnVuY3Rpb24gaW52b2tlUmVzb2x2ZXIocmVzb2x2ZXIsIHByb21pc2UpIHtcbiAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIH1cblxuICB0cnkge1xuICAgIHJlc29sdmVyKHJlc29sdmVQcm9taXNlLCByZWplY3RQcm9taXNlKTtcbiAgfSBjYXRjaChlKSB7XG4gICAgcmVqZWN0UHJvbWlzZShlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzdWJzY3JpYmVyKXtcbiAgdmFyIG93bmVyID0gc3Vic2NyaWJlci5vd25lcjtcbiAgdmFyIHNldHRsZWQgPSBvd25lci5zdGF0ZV87XG4gIHZhciB2YWx1ZSA9IG93bmVyLmRhdGFfOyAgXG4gIHZhciBjYWxsYmFjayA9IHN1YnNjcmliZXJbc2V0dGxlZF07XG4gIHZhciBwcm9taXNlID0gc3Vic2NyaWJlci50aGVuO1xuXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpXG4gIHtcbiAgICBzZXR0bGVkID0gRlVMRklMTEVEO1xuICAgIHRyeSB7XG4gICAgICB2YWx1ZSA9IGNhbGxiYWNrKHZhbHVlKTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhhbmRsZVRoZW5hYmxlKHByb21pc2UsIHZhbHVlKSlcbiAge1xuICAgIGlmIChzZXR0bGVkID09PSBGVUxGSUxMRUQpXG4gICAgICByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcblxuICAgIGlmIChzZXR0bGVkID09PSBSRUpFQ1RFRClcbiAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpIHtcbiAgdmFyIHJlc29sdmVkO1xuXG4gIHRyeSB7XG4gICAgaWYgKHByb21pc2UgPT09IHZhbHVlKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xuXG4gICAgaWYgKHZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykpXG4gICAge1xuICAgICAgdmFyIHRoZW4gPSB2YWx1ZS50aGVuOyAgLy8gdGhlbiBzaG91bGQgYmUgcmV0cml2ZWQgb25seSBvbmNlXG5cbiAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHtcbiAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdW5jdGlvbih2YWwpe1xuICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHZhbClcbiAgICAgICAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWwpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICByZWplY3QocHJvbWlzZSwgZSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSl7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSB8fCAhaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmdWxmaWxsKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHZhbHVlO1xuXG4gICAgYXN5bmNDYWxsKHB1Ymxpc2hGdWxmaWxsbWVudCwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVqZWN0KHByb21pc2UsIHJlYXNvbil7XG4gIGlmIChwcm9taXNlLnN0YXRlXyA9PT0gUEVORElORylcbiAge1xuICAgIHByb21pc2Uuc3RhdGVfID0gU0VBTEVEO1xuICAgIHByb21pc2UuZGF0YV8gPSByZWFzb247XG5cbiAgICBhc3luY0NhbGwocHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBjYWxsYmFja3MgPSBwcm9taXNlLnRoZW5fO1xuICBwcm9taXNlLnRoZW5fID0gdW5kZWZpbmVkO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgaW52b2tlQ2FsbGJhY2soY2FsbGJhY2tzW2ldKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoRnVsZmlsbG1lbnQocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gRlVMRklMTEVEO1xuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoUmVqZWN0aW9uKHByb21pc2Upe1xuICBwcm9taXNlLnN0YXRlXyA9IFJFSkVDVEVEO1xuICBwdWJsaXNoKHByb21pc2UpO1xufVxuXG4vKipcbiogQGNsYXNzXG4qL1xuZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcil7XG4gIGlmICh0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvbWlzZSBjb25zdHJ1Y3RvciB0YWtlcyBhIGZ1bmN0aW9uIGFyZ3VtZW50Jyk7XG5cbiAgaWYgKHRoaXMgaW5zdGFuY2VvZiBQcm9taXNlID09PSBmYWxzZSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGYWlsZWQgdG8gY29uc3RydWN0IFxcJ1Byb21pc2VcXCc6IFBsZWFzZSB1c2UgdGhlIFxcJ25ld1xcJyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLicpO1xuXG4gIHRoaXMudGhlbl8gPSBbXTtcblxuICBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgdGhpcyk7XG59XG5cblByb21pc2UucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUHJvbWlzZSxcblxuICBzdGF0ZV86IFBFTkRJTkcsXG4gIHRoZW5fOiBudWxsLFxuICBkYXRhXzogdW5kZWZpbmVkLFxuXG4gIHRoZW46IGZ1bmN0aW9uKG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKXtcbiAgICB2YXIgc3Vic2NyaWJlciA9IHtcbiAgICAgIG93bmVyOiB0aGlzLFxuICAgICAgdGhlbjogbmV3IHRoaXMuY29uc3RydWN0b3IoTk9PUCksXG4gICAgICBmdWxmaWxsZWQ6IG9uRnVsZmlsbG1lbnQsXG4gICAgICByZWplY3RlZDogb25SZWplY3Rpb25cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuc3RhdGVfID09PSBGVUxGSUxMRUQgfHwgdGhpcy5zdGF0ZV8gPT09IFJFSkVDVEVEKVxuICAgIHtcbiAgICAgIC8vIGFscmVhZHkgcmVzb2x2ZWQsIGNhbGwgY2FsbGJhY2sgYXN5bmNcbiAgICAgIGFzeW5jQ2FsbChpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlcik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAvLyBzdWJzY3JpYmVcbiAgICAgIHRoaXMudGhlbl8ucHVzaChzdWJzY3JpYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3Vic2NyaWJlci50aGVuO1xuICB9LFxuXG4gICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gIH1cbn07XG5cblByb21pc2UuYWxsID0gZnVuY3Rpb24ocHJvbWlzZXMpe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShwcm9taXNlcykpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBQcm9taXNlLmFsbCgpLicpO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHZhciByZW1haW5pbmcgPSAwO1xuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoaW5kZXgpe1xuICAgICAgcmVtYWluaW5nKys7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICByZXN1bHRzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICBpZiAoIS0tcmVtYWluaW5nKVxuICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBwcm9taXNlOyBpIDwgcHJvbWlzZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldO1xuXG4gICAgICBpZiAocHJvbWlzZSAmJiB0eXBlb2YgcHJvbWlzZS50aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZXIoaSksIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc3VsdHNbaV0gPSBwcm9taXNlO1xuICAgIH1cblxuICAgIGlmICghcmVtYWluaW5nKVxuICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJhY2UgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UucmFjZSgpLicpO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgZWxzZVxuICAgICAgICByZXNvbHZlKHByb21pc2UpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5Qcm9taXNlLnJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IENsYXNzKVxuICAgIHJldHVybiB2YWx1ZTtcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUpe1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9KTtcbn07XG5cblByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICByZXR1cm4gbmV3IENsYXNzKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufTtcblxufSkodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcbiIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iLCIvKiFcbiAqIEBwaXhpL3BvbHlmaWxsIC0gdjUuMS4wXG4gKiBDb21waWxlZCBGcmksIDE5IEp1bCAyMDE5IDIxOjU0OjM2IFVUQ1xuICpcbiAqIEBwaXhpL3BvbHlmaWxsIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9seWZpbGwgfSBmcm9tICdlczYtcHJvbWlzZS1wb2x5ZmlsbCc7XG5pbXBvcnQgb2JqZWN0QXNzaWduIGZyb20gJ29iamVjdC1hc3NpZ24nO1xuXG4vLyBTdXBwb3J0IGZvciBJRSA5IC0gMTEgd2hpY2ggZG9lcyBub3QgaW5jbHVkZSBQcm9taXNlc1xuaWYgKCF3aW5kb3cuUHJvbWlzZSlcbntcbiAgICB3aW5kb3cuUHJvbWlzZSA9IFBvbHlmaWxsO1xufVxuXG4vLyBSZWZlcmVuY2VzOlxuXG5pZiAoIU9iamVjdC5hc3NpZ24pXG57XG4gICAgT2JqZWN0LmFzc2lnbiA9IG9iamVjdEFzc2lnbjtcbn1cblxudmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTU3OTY3MVxuLy8gaHR0cDovL3VwZGF0ZXMuaHRtbDVyb2Nrcy5jb20vMjAxMi8wNS9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUtQVBJLW5vdy13aXRoLXN1Yi1taWxsaXNlY29uZC1wcmVjaXNpb25cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3RpbWhhbGwvNDA3ODYxNFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL3RyZWUvbWFzdGVyL3BvbHlmaWxscy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblxuLy8gRXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoIEJyb3dzZXJmaXlcbi8vIEJyb3dzZXJpZnkgYXV0b21hdGljYWxseSBkZXRlY3RzIHRoZSB1c2Ugb2YgYGdsb2JhbGAgYW5kIHBhc3NlcyB0aGVcbi8vIGNvcnJlY3QgcmVmZXJlbmNlIG9mIGBnbG9iYWxgLCBgc2VsZmAsIGFuZCBmaW5hbGx5IGB3aW5kb3dgXG5cbnZhciBPTkVfRlJBTUVfVElNRSA9IDE2O1xuXG4vLyBEYXRlLm5vd1xuaWYgKCEoRGF0ZS5ub3cgJiYgRGF0ZS5wcm90b3R5cGUuZ2V0VGltZSkpXG57XG4gICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiBub3coKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIH07XG59XG5cbi8vIHBlcmZvcm1hbmNlLm5vd1xuaWYgKCEoY29tbW9uanNHbG9iYWwucGVyZm9ybWFuY2UgJiYgY29tbW9uanNHbG9iYWwucGVyZm9ybWFuY2Uubm93KSlcbntcbiAgICB2YXIgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICghY29tbW9uanNHbG9iYWwucGVyZm9ybWFuY2UpXG4gICAge1xuICAgICAgICBjb21tb25qc0dsb2JhbC5wZXJmb3JtYW5jZSA9IHt9O1xuICAgIH1cblxuICAgIGNvbW1vbmpzR2xvYmFsLnBlcmZvcm1hbmNlLm5vdyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIERhdGUubm93KCkgLSBzdGFydFRpbWU7IH07XG59XG5cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxudmFyIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbnZhciB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXTtcblxuZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhY29tbW9uanNHbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpXG57XG4gICAgdmFyIHAgPSB2ZW5kb3JzW3hdO1xuXG4gICAgY29tbW9uanNHbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gY29tbW9uanNHbG9iYWxbKHAgKyBcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiKV07XG4gICAgY29tbW9uanNHbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjb21tb25qc0dsb2JhbFsocCArIFwiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIildIHx8IGNvbW1vbmpzR2xvYmFsWyhwICsgXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIildO1xufVxuXG5pZiAoIWNvbW1vbmpzR2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSlcbntcbiAgICBjb21tb25qc0dsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigoY2FsbGJhY2sgKyBcImlzIG5vdCBhIGZ1bmN0aW9uXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBkZWxheSA9IE9ORV9GUkFNRV9USU1FICsgbGFzdFRpbWUgLSBjdXJyZW50VGltZTtcblxuICAgICAgICBpZiAoZGVsYXkgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgIH07XG59XG5cbmlmICghY29tbW9uanNHbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUpXG57XG4gICAgY29tbW9uanNHbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7IH07XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3NpZ25cblxuaWYgKCFNYXRoLnNpZ24pXG57XG4gICAgTWF0aC5zaWduID0gZnVuY3Rpb24gbWF0aFNpZ24oeClcbiAgICB7XG4gICAgICAgIHggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xuICAgIH07XG59XG5cbi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvaXNJbnRlZ2VyXG5cbmlmICghTnVtYmVyLmlzSW50ZWdlcilcbntcbiAgICBOdW1iZXIuaXNJbnRlZ2VyID0gZnVuY3Rpb24gbnVtYmVySXNJbnRlZ2VyKHZhbHVlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbiAgICB9O1xufVxuXG5pZiAoIXdpbmRvdy5BcnJheUJ1ZmZlcilcbntcbiAgICB3aW5kb3cuQXJyYXlCdWZmZXIgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuRmxvYXQzMkFycmF5KVxue1xuICAgIHdpbmRvdy5GbG9hdDMyQXJyYXkgPSBBcnJheTtcbn1cblxuaWYgKCF3aW5kb3cuVWludDMyQXJyYXkpXG57XG4gICAgd2luZG93LlVpbnQzMkFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LlVpbnQxNkFycmF5KVxue1xuICAgIHdpbmRvdy5VaW50MTZBcnJheSA9IEFycmF5O1xufVxuXG5pZiAoIXdpbmRvdy5VaW50OEFycmF5KVxue1xuICAgIHdpbmRvdy5VaW50OEFycmF5ID0gQXJyYXk7XG59XG5cbmlmICghd2luZG93LkludDMyQXJyYXkpXG57XG4gICAgd2luZG93LkludDMyQXJyYXkgPSBBcnJheTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvbHlmaWxsLmVzLmpzLm1hcFxuIiwidmFyIHNjb3BlID0gKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsKSB8fFxuICAgICAgICAgICAgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYpIHx8XG4gICAgICAgICAgICB3aW5kb3c7XG52YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCBzY29wZSwgYXJndW1lbnRzKSwgY2xlYXJJbnRlcnZhbCk7XG59O1xuZXhwb3J0cy5jbGVhclRpbWVvdXQgPVxuZXhwb3J0cy5jbGVhckludGVydmFsID0gZnVuY3Rpb24odGltZW91dCkge1xuICBpZiAodGltZW91dCkge1xuICAgIHRpbWVvdXQuY2xvc2UoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuICB0aGlzLl9pZCA9IGlkO1xuICB0aGlzLl9jbGVhckZuID0gY2xlYXJGbjtcbn1cblRpbWVvdXQucHJvdG90eXBlLnVucmVmID0gVGltZW91dC5wcm90b3R5cGUucmVmID0gZnVuY3Rpb24oKSB7fTtcblRpbWVvdXQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2NsZWFyRm4uY2FsbChzY29wZSwgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWRpYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS40LjEnLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7XG5cdFx0XHQvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XG5cdGlmICghbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiLyohXG4gKiBAcGl4aS9zZXR0aW5ncyAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9zZXR0aW5ncyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBpc01vYmlsZSBmcm9tICdpc21vYmlsZWpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgaXNNb2JpbGUgfSBmcm9tICdpc21vYmlsZWpzJztcblxuLyoqXG4gKiBUaGUgbWF4aW11bSByZWNvbW1lbmRlZCB0ZXh0dXJlIHVuaXRzIHRvIHVzZS5cbiAqIEluIHRoZW9yeSB0aGUgYmlnZ2VyIHRoZSBiZXR0ZXIsIGFuZCBmb3IgZGVza3RvcCB3ZSdsbCB1c2UgYXMgbWFueSBhcyB3ZSBjYW4uXG4gKiBCdXQgc29tZSBtb2JpbGUgZGV2aWNlcyBzbG93IGRvd24gaWYgdGhlcmUgaXMgdG8gbWFueSBicmFuY2hlcyBpbiB0aGUgc2hhZGVyLlxuICogU28gaW4gcHJhY3RpY2UgdGhlcmUgc2VlbXMgdG8gYmUgYSBzd2VldCBzcG90IHNpemUgdGhhdCB2YXJpZXMgZGVwZW5kaW5nIG9uIHRoZSBkZXZpY2UuXG4gKlxuICogSW4gdjQsIGFsbCBtb2JpbGUgZGV2aWNlcyB3ZXJlIGxpbWl0ZWQgdG8gNCB0ZXh0dXJlIHVuaXRzIGJlY2F1c2UgZm9yIHRoaXMuXG4gKiBJbiB2NSwgd2UgYWxsb3cgYWxsIHRleHR1cmUgdW5pdHMgdG8gYmUgdXNlZCBvbiBtb2Rlcm4gQXBwbGUgb3IgQW5kcm9pZCBkZXZpY2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBtYXhSZWNvbW1lbmRlZFRleHR1cmVzKG1heClcbntcbiAgICB2YXIgYWxsb3dNYXggPSB0cnVlO1xuXG4gICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSlcbiAgICB7XG4gICAgICAgIGFsbG93TWF4ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTW9iaWxlLmFwcGxlLmRldmljZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspPy8pO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbGwgdGV4dHVyZSB1bml0cyBjYW4gYmUgdXNlZCBvbiBkZXZpY2VzIHRoYXQgc3VwcG9ydCBpb3MgMTEgb3IgYWJvdmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uID49IDExKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb2JpbGUuYW5kcm9pZC5kZXZpY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCQxID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9BbmRyb2lkXFxzKFswLTkuXSopLyk7XG5cbiAgICAgICAgICAgIGlmIChtYXRjaCQxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBtYWpvclZlcnNpb24kMSA9IHBhcnNlSW50KG1hdGNoJDFbMV0sIDEwKTtcblxuICAgICAgICAgICAgICAgIC8vIEFsbCB0ZXh0dXJlIHVuaXRzIGNhbiBiZSB1c2VkIG9uIGRldmljZXMgdGhhdCBzdXBwb3J0IEFuZHJvaWQgNyAoTm91Z2F0KSBvciBhYm92ZVxuICAgICAgICAgICAgICAgIGlmIChtYWpvclZlcnNpb24kMSA+PSA3KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dNYXggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhbGxvd01heCA/IG1heCA6IDQ7XG59XG5cbi8qKlxuICogVXBsb2FkaW5nIHRoZSBzYW1lIGJ1ZmZlciBtdWx0aXBsZSB0aW1lcyBpbiBhIHNpbmdsZSBmcmFtZSBjYW4gY2F1c2UgcGVyZm9ybWFuY2UgaXNzdWVzLlxuICogQXBwYXJlbnQgb24gaU9TIHNvIG9ubHkgY2hlY2sgZm9yIHRoYXQgYXQgdGhlIG1vbWVudFxuICogVGhpcyBjaGVjayBtYXkgYmVjb21lIG1vcmUgY29tcGxleCBpZiB0aGlzIGlzc3VlIHBvcHMgdXAgZWxzZXdoZXJlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gY2FuVXBsb2FkU2FtZUJ1ZmZlcigpXG57XG4gICAgcmV0dXJuICFpc01vYmlsZS5hcHBsZS5kZXZpY2U7XG59XG5cbi8qKlxuICogVXNlcidzIGN1c3RvbWl6YWJsZSBnbG9iYWxzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IFBJWEkgc2V0dGluZ3MsIHN1Y2hcbiAqIGFzIGEgcmVuZGVyZXIncyBkZWZhdWx0IHJlc29sdXRpb24sIGZyYW1lcmF0ZSwgZmxvYXQgcHJlY2lzaW9uLCBldGMuXG4gKiBAZXhhbXBsZVxuICogLy8gVXNlIHRoZSBuYXRpdmUgd2luZG93IHJlc29sdXRpb24gYXMgdGhlIGRlZmF1bHQgcmVzb2x1dGlvblxuICogLy8gd2lsbCBzdXBwb3J0IGhpZ2gtZGVuc2l0eSBkaXNwbGF5cyB3aGVuIHJlbmRlcmluZ1xuICogUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8uXG4gKlxuICogLy8gRGlzYWJsZSBpbnRlcnBvbGF0aW9uIHdoZW4gc2NhbGluZywgd2lsbCBtYWtlIHRleHR1cmUgYmUgcGl4ZWxhdGVkXG4gKiBQSVhJLnNldHRpbmdzLlNDQUxFX01PREUgPSBQSVhJLlNDQUxFX01PREVTLk5FQVJFU1Q7XG4gKiBAbmFtZXNwYWNlIFBJWEkuc2V0dGluZ3NcbiAqL1xudmFyIHNldHRpbmdzID0ge1xuXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUgV2ViR0wgd2lsbCBhdHRlbXB0IG1ha2UgdGV4dHVyZXMgbWltcGFwZWQgYnkgZGVmYXVsdC5cbiAgICAgKiBNaXBtYXBwaW5nIHdpbGwgb25seSBzdWNjZWVkIGlmIHRoZSBiYXNlIHRleHR1cmUgdXBsb2FkZWQgaGFzIHBvd2VyIG9mIHR3byBkaW1lbnNpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIE1JUE1BUF9URVhUVVJFU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuTUlQTUFQX01PREVTLlBPVzJcbiAgICAgKi9cbiAgICBNSVBNQVBfVEVYVFVSRVM6IDEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGFuaXNvdHJvcGljIGZpbHRlcmluZyBsZXZlbCBvZiB0ZXh0dXJlcy5cbiAgICAgKiBVc3VhbGx5IGZyb20gMCB0byAxNlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEFOSVNPVFJPUElDX0xFVkVMXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBBTklTT1RST1BJQ19MRVZFTDogMCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgUkVTT0xVVElPTlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgUkVTT0xVVElPTjogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgRklMVEVSX1JFU09MVVRJT05cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIEZJTFRFUl9SRVNPTFVUSU9OOiAxLFxuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gdGV4dHVyZXMgdGhhdCB0aGlzIGRldmljZSBzdXBwb3J0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBTUFJJVEVfTUFYX1RFWFRVUkVTXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDMyXG4gICAgICovXG4gICAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG5cbiAgICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHNwcml0ZSBiYXRjaCBzaXplLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgYWltcyB0byBiYWxhbmNlIGRlc2t0b3AgYW5kIG1vYmlsZSBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNQUklURV9CQVRDSF9TSVpFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDQwOTZcbiAgICAgKi9cbiAgICBTUFJJVEVfQkFUQ0hfU0laRTogNDA5NixcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHJlbmRlciBvcHRpb25zIGlmIG5vbmUgYXJlIHN1cHBsaWVkIHRvIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICAgICAqIG9yIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBSRU5ERVJfT1BUSU9OU1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge0hUTUxDYW52YXNFbGVtZW50fSB2aWV3PW51bGxcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gcmVzb2x1dGlvbj0xXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhbnRpYWxpYXM9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGZvcmNlRlhBQT1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYXV0b0RlbnNpdHk9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zcGFyZW50PWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGJhY2tncm91bmRDb2xvcj0weDAwMDAwMFxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoPTgwMFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQ9NjAwXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBsZWdhY3k9ZmFsc2VcbiAgICAgKi9cbiAgICBSRU5ERVJfT1BUSU9OUzoge1xuICAgICAgICB2aWV3OiBudWxsLFxuICAgICAgICBhbnRpYWxpYXM6IGZhbHNlLFxuICAgICAgICBmb3JjZUZYQUE6IGZhbHNlLFxuICAgICAgICBhdXRvRGVuc2l0eTogZmFsc2UsXG4gICAgICAgIHRyYW5zcGFyZW50OiBmYWxzZSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCxcbiAgICAgICAgY2xlYXJCZWZvcmVSZW5kZXI6IHRydWUsXG4gICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogZmFsc2UsXG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICBsZWdhY3k6IGZhbHNlLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLkdDX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuR0NfTU9ERVMuQVVUT1xuICAgICAqL1xuICAgIEdDX01PREU6IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXggaWRsZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBHQ19NQVhfSURMRVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAzNjAwXG4gICAgICovXG4gICAgR0NfTUFYX0lETEU6IDYwICogNjAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIEdDX01BWF9DSEVDS19DT1VOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG5hbWUgV1JBUF9NT0RFXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5XUkFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuV1JBUF9NT0RFUy5DTEFNUFxuICAgICAqL1xuICAgIFdSQVBfTU9ERTogMzMwNzEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNjYWxlIG1vZGUgZm9yIHRleHR1cmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFNDQUxFX01PREVcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlNDQUxFX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0NBTEVfTU9ERVMuTElORUFSXG4gICAgICovXG4gICAgU0NBTEVfTU9ERTogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgc3BlY2lmeSBmbG9hdCBwcmVjaXNpb24gaW4gdmVydGV4IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbmFtZSBQUkVDSVNJT05fVkVSVEVYXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBpT1MgaXMgYmVzdCBzZXQgYXQgaGlnaHAgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMzc0MlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIFBSRUNJU0lPTl9GUkFHTUVOVFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuUFJFQ0lTSU9OfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuUFJFQ0lTSU9OLk1FRElVTVxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9GUkFHTUVOVDogaXNNb2JpbGUuYXBwbGUuZGV2aWNlID8gJ2hpZ2hwJyA6ICdtZWRpdW1wJyxcblxuICAgIC8qKlxuICAgICAqIENhbiB3ZSB1cGxvYWQgdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lP1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENBTl9VUExPQURfU0FNRV9CVUZGRVJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIENBTl9VUExPQURfU0FNRV9CVUZGRVI6IGNhblVwbG9hZFNhbWVCdWZmZXIoKSxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgYml0bWFwIGNyZWF0aW9uIGJlZm9yZSBpbWFnZSBsb2FkLiBUaGlzIGZlYXR1cmUgaXMgZXhwZXJpbWVudGFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBuYW1lIENSRUFURV9JTUFHRV9CSVRNQVBcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgQ1JFQVRFX0lNQUdFX0JJVE1BUDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBST1VORF9QSVhFTFM6IGZhbHNlLFxufTtcblxuZXhwb3J0IHsgc2V0dGluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb25zdGFudHMgLSB2NS4xLjBcbiAqIENvbXBpbGVkIEZyaSwgMTkgSnVsIDIwMTkgMjE6NTQ6MzYgVVRDXG4gKlxuICogQHBpeGkvY29uc3RhbnRzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuLyoqXG4gKiBEaWZmZXJlbnQgdHlwZXMgb2YgZW52aXJvbm1lbnRzIGZvciBXZWJHTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRU5WXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMX0xFR0FDWSAtIFVzZWQgZm9yIG9sZGVyIHYxIFdlYkdMIGRldmljZXMuIFBpeGlKUyB3aWxsIGFpbSB0byBlbnN1cmUgY29tcGF0aWJpbGl0eVxuICogIHdpdGggb2xkZXIgLyBsZXNzIGFkdmFuY2VkIGRldmljZXMuIElmIHlvdSBleHBlcmllbmNlIHVuZXhwbGFpbmVkIGZsaWNrZXJpbmcgcHJlZmVyIHRoaXMgZW52aXJvbm1lbnQuXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wgLSBWZXJzaW9uIDEgb2YgV2ViR0xcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTDIgLSBWZXJzaW9uIDIgb2YgV2ViR0xcbiAqL1xudmFyIEVOViA9IHtcbiAgICBXRUJHTF9MRUdBQ1k6IDAsXG4gICAgV0VCR0w6IDEsXG4gICAgV0VCR0wyOiAyLFxufTtcblxuLyoqXG4gKiBDb25zdGFudCB0byBpZGVudGlmeSB0aGUgUmVuZGVyZXIgVHlwZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xudmFyIFJFTkRFUkVSX1RZUEUgPSB7XG4gICAgVU5LTk9XTjogICAgMCxcbiAgICBXRUJHTDogICAgICAxLFxuICAgIENBTlZBUzogICAgIDIsXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgQkxFTkRfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9STUFMXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREXG4gKiBAcHJvcGVydHkge251bWJlcn0gTVVMVElQTFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTQ1JFRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZXG4gKiBAcHJvcGVydHkge251bWJlcn0gREFSS0VOXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElHSFRFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfQlVSTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhBUkRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRElGRkVSRU5DRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVYQ0xVU0lPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNBVFVSQVRJT05cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxfTlBNXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREX05QTVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTl9OUE1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0lOXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09VVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19BVE9QXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX09WRVJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfSU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfT1VUXG4gKiBAcHJvcGVydHkge251bWJlcn0gRFNUX0FUT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVUJUUkFDVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19PVkVSXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVJBU0VcbiAqL1xudmFyIEJMRU5EX01PREVTID0ge1xuICAgIE5PUk1BTDogICAgICAgICAwLFxuICAgIEFERDogICAgICAgICAgICAxLFxuICAgIE1VTFRJUExZOiAgICAgICAyLFxuICAgIFNDUkVFTjogICAgICAgICAzLFxuICAgIE9WRVJMQVk6ICAgICAgICA0LFxuICAgIERBUktFTjogICAgICAgICA1LFxuICAgIExJR0hURU46ICAgICAgICA2LFxuICAgIENPTE9SX0RPREdFOiAgICA3LFxuICAgIENPTE9SX0JVUk46ICAgICA4LFxuICAgIEhBUkRfTElHSFQ6ICAgICA5LFxuICAgIFNPRlRfTElHSFQ6ICAgICAxMCxcbiAgICBESUZGRVJFTkNFOiAgICAgMTEsXG4gICAgRVhDTFVTSU9OOiAgICAgIDEyLFxuICAgIEhVRTogICAgICAgICAgICAxMyxcbiAgICBTQVRVUkFUSU9OOiAgICAgMTQsXG4gICAgQ09MT1I6ICAgICAgICAgIDE1LFxuICAgIExVTUlOT1NJVFk6ICAgICAxNixcbiAgICBOT1JNQUxfTlBNOiAgICAgMTcsXG4gICAgQUREX05QTTogICAgICAgIDE4LFxuICAgIFNDUkVFTl9OUE06ICAgICAxOSxcbiAgICBOT05FOiAgICAgICAgICAgMjAsXG5cbiAgICBTUkNfT1ZFUjogICAgICAgMCxcbiAgICBTUkNfSU46ICAgICAgICAgMjEsXG4gICAgU1JDX09VVDogICAgICAgIDIyLFxuICAgIFNSQ19BVE9QOiAgICAgICAyMyxcbiAgICBEU1RfT1ZFUjogICAgICAgMjQsXG4gICAgRFNUX0lOOiAgICAgICAgIDI1LFxuICAgIERTVF9PVVQ6ICAgICAgICAyNixcbiAgICBEU1RfQVRPUDogICAgICAgMjcsXG4gICAgRVJBU0U6ICAgICAgICAgIDI2LFxuICAgIFNVQlRSQUNUOiAgICAgICAyOCxcbn07XG5cbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIERSQVdfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9JTlRTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORVNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1BcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUUklBTkdMRV9GQU5cbiAqL1xudmFyIERSQVdfTU9ERVMgPSB7XG4gICAgUE9JTlRTOiAgICAgICAgIDAsXG4gICAgTElORVM6ICAgICAgICAgIDEsXG4gICAgTElORV9MT09QOiAgICAgIDIsXG4gICAgTElORV9TVFJJUDogICAgIDMsXG4gICAgVFJJQU5HTEVTOiAgICAgIDQsXG4gICAgVFJJQU5HTEVfU1RSSVA6IDUsXG4gICAgVFJJQU5HTEVfRkFOOiAgIDYsXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgR0wgdGV4dHVyZS9yZXNvdXJjZXMgZm9ybWF0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTID0ge1xuICAgIFJHQkE6ICAgICAgICAgICAgIDY0MDgsXG4gICAgUkdCOiAgICAgICAgICAgICAgNjQwNyxcbiAgICBBTFBIQTogICAgICAgICAgICA2NDA2LFxuICAgIExVTUlOQU5DRTogICAgICAgIDY0MDksXG4gICAgTFVNSU5BTkNFX0FMUEhBOiAgNjQxMCxcbiAgICBERVBUSF9DT01QT05FTlQ6ICA2NDAyLFxuICAgIERFUFRIX1NURU5DSUw6ICAgIDM0MDQxLFxufTtcblxuLyoqXG4gKiBWYXJpb3VzIEdMIHRhcmdldCB0eXBlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEPTM1NTNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFX0NVQkVfTUFQPTM0MDY3XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV8yRF9BUlJBWT0zNTg2NlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWD0zNDA2OVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWD0zNDA3MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWT0zNDA3MVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWT0zNDA3MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWj0zNDA3M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWj0zNDA3NFxuICovXG52YXIgVEFSR0VUUyA9IHtcbiAgICBURVhUVVJFXzJEOiAzNTUzLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVA6IDM0MDY3LFxuICAgIFRFWFRVUkVfMkRfQVJSQVk6IDM1ODY2LFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWDogMzQwNjksXG4gICAgVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YOiAzNDA3MCxcbiAgICBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1k6IDM0MDcxLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWTogMzQwNzIsXG4gICAgVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aOiAzNDA3MyxcbiAgICBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1o6IDM0MDc0LFxufTtcblxuLyoqXG4gKiBWYXJpb3VzIEdMIGRhdGEgZm9ybWF0IHR5cGVzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9CWVRFPTUxMjFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVD01MTIzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTlNJR05FRF9TSE9SVF80XzRfNF80PTMyODE5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNV81XzVfMT0zMjgyMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEZMT0FUPTUxMjZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQUxGX0ZMT0FUPTM2MTkzXG4gKi9cbnZhciBUWVBFUyA9IHtcbiAgICBVTlNJR05FRF9CWVRFOiA1MTIxLFxuICAgIFVOU0lHTkVEX1NIT1JUOiA1MTIzLFxuICAgIFVOU0lHTkVEX1NIT1JUXzVfNl81OiAzMzYzNSxcbiAgICBVTlNJR05FRF9TSE9SVF80XzRfNF80OiAzMjgxOSxcbiAgICBVTlNJR05FRF9TSE9SVF81XzVfNV8xOiAzMjgyMCxcbiAgICBGTE9BVDogNTEyNixcbiAgICBIQUxGX0ZMT0FUOiAzNjE5Myxcbn07XG5cbi8qKlxuICogVGhlIHNjYWxlIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFfSBzY2FsZSBtb2RlIGFmZmVjdHMgdGhlIGRlZmF1bHQgc2NhbGluZyBtb2RlIG9mIGZ1dHVyZSBvcGVyYXRpb25zLlxuICogSXQgY2FuIGJlIHJlLWFzc2lnbmVkIHRvIGVpdGhlciBMSU5FQVIgb3IgTkVBUkVTVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUyA9IHtcbiAgICBMSU5FQVI6ICAgICAxLFxuICAgIE5FQVJFU1Q6ICAgIDAsXG59O1xuXG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIFdSQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENMQU1QIC0gVGhlIHRleHR1cmVzIHV2cyBhcmUgY2xhbXBlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNSVJST1JFRF9SRVBFQVQgLSBUaGUgdGV4dHVyZSB1dnMgdGlsZSBhbmQgcmVwZWF0IHdpdGggbWlycm9yaW5nXG4gKi9cbnZhciBXUkFQX01PREVTID0ge1xuICAgIENMQU1QOiAgICAgICAgICAgMzMwNzEsXG4gICAgUkVQRUFUOiAgICAgICAgICAxMDQ5NyxcbiAgICBNSVJST1JFRF9SRVBFQVQ6IDMzNjQ4LFxufTtcblxuLyoqXG4gKiBNaXBtYXAgZmlsdGVyaW5nIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVN9IGFmZmVjdHMgZGVmYXVsdCB0ZXh0dXJlIGZpbHRlcmluZy5cbiAqIE1pcG1hcHMgYXJlIGdlbmVyYXRlZCBmb3IgYSBiYXNlVGV4dHVyZSBpZiBpdHMgYG1pcG1hcGAgZmllbGQgaXMgYE9OYCxcbiAqIG9yIGl0cyBgUE9XMmAgYW5kIHRleHR1cmUgZGltZW5zaW9ucyBhcmUgcG93ZXJzIG9mIDIuXG4gKiBEdWUgdG8gcGxhdGZvcm0gcmVzdHJpY3Rpb24sIGBPTmAgb3B0aW9uIHdpbGwgd29yayBsaWtlIGBQT1cyYCBmb3Igd2ViZ2wtMS5cbiAqXG4gKiBUaGlzIHByb3BlcnR5IG9ubHkgYWZmZWN0cyBXZWJHTC5cbiAqXG4gKiBAbmFtZSBNSVBNQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9GRiAtIE5vIG1pcG1hcHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT1cyIC0gR2VuZXJhdGUgbWlwbWFwcyBpZiB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvdzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPTiAtIEFsd2F5cyBnZW5lcmF0ZSBtaXBtYXBzXG4gKi9cbnZhciBNSVBNQVBfTU9ERVMgPSB7XG4gICAgT0ZGOiAwLFxuICAgIFBPVzI6IDEsXG4gICAgT046IDIsXG59O1xuXG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBuYW1lIEdDX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgaGFwcGVuIHBlcmlvZGljYWxseSBhdXRvbWF0aWNhbGx5XG4gKiBAcHJvcGVydHkge251bWJlcn0gTUFOVUFMIC0gR2FyYmFnZSBjb2xsZWN0aW9uIHdpbGwgbmVlZCB0byBiZSBjYWxsZWQgbWFudWFsbHlcbiAqL1xudmFyIEdDX01PREVTID0ge1xuICAgIEFVVE86ICAgICAgICAgICAwLFxuICAgIE1BTlVBTDogICAgICAgICAxLFxufTtcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBzcGVjaWZ5IGZsb2F0IHByZWNpc2lvbiBpbiBzaGFkZXJzLlxuICpcbiAqIEBuYW1lIFBSRUNJU0lPTlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAY29uc3RhbnRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBMT1c9J2xvd3AnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gTUVESVVNPSdtZWRpdW1wJ1xuICogQHByb3BlcnR5IHtzdHJpbmd9IEhJR0g9J2hpZ2hwJ1xuICovXG52YXIgUFJFQ0lTSU9OID0ge1xuICAgIExPVzogJ2xvd3AnLFxuICAgIE1FRElVTTogJ21lZGl1bXAnLFxuICAgIEhJR0g6ICdoaWdocCcsXG59O1xuXG5leHBvcnQgeyBCTEVORF9NT0RFUywgRFJBV19NT0RFUywgRU5WLCBGT1JNQVRTLCBHQ19NT0RFUywgTUlQTUFQX01PREVTLCBQUkVDSVNJT04sIFJFTkRFUkVSX1RZUEUsIFNDQUxFX01PREVTLCBUQVJHRVRTLCBUWVBFUywgV1JBUF9NT0RFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS91dGlscyAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS91dGlscyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHsgaXNNb2JpbGUgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEV2ZW50RW1pdHRlciB9IGZyb20gJ2V2ZW50ZW1pdHRlcjMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBlYXJjdXQgfSBmcm9tICdlYXJjdXQnO1xuaW1wb3J0IF91cmwgZnJvbSAndXJsJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdXJsIH0gZnJvbSAndXJsJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuLyoqXG4gKiBUaGUgcHJlZml4IHRoYXQgZGVub3RlcyBhIFVSTCBpcyBmb3IgYSByZXRpbmEgYXNzZXQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUkVUSU5BX1BSRUZJWFxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAZGVmYXVsdCAvQChbMC05XFwuXSspeC9cbiAqIEBleGFtcGxlIGBAMnhgXG4gKi9cbnNldHRpbmdzLlJFVElOQV9QUkVGSVggPSAvQChbMC05XFwuXSspeC87XG5cbi8qKlxuICogU2hvdWxkIHRoZSBgZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdGAgZmxhZyBiZSBlbmFibGVkIGFzIGEgY29udGV4dCBvcHRpb24gdXNlZCBpbiB0aGUgYGlzV2ViR0xTdXBwb3J0ZWRgIGZ1bmN0aW9uLlxuICogRm9yIG1vc3Qgc2NlbmFyaW9zIHRoaXMgc2hvdWxkIGJlIGxlZnQgYXMgdHJ1ZSwgYXMgb3RoZXJ3aXNlIHRoZSB1c2VyIG1heSBoYXZlIGEgcG9vciBleHBlcmllbmNlLlxuICogSG93ZXZlciwgaXQgY2FuIGJlIHVzZWZ1bCB0byBkaXNhYmxlIHVuZGVyIGNlcnRhaW4gc2NlbmFyaW9zLCBzdWNoIGFzIGhlYWRsZXNzIHVuaXQgdGVzdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVRcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IHRydWVcbiAqL1xuc2V0dGluZ3MuRkFJTF9JRl9NQUpPUl9QRVJGT1JNQU5DRV9DQVZFQVQgPSB0cnVlO1xuXG52YXIgc2FpZEhlbGxvID0gZmFsc2U7XG52YXIgVkVSU0lPTiA9ICc1LjEuMSc7XG5cbi8qKlxuICogU2tpcHMgdGhlIGhlbGxvIG1lc3NhZ2Ugb2YgcmVuZGVyZXJzIHRoYXQgYXJlIGNyZWF0ZWQgYWZ0ZXIgdGhpcyBpcyBydW4uXG4gKlxuICogQGZ1bmN0aW9uIHNraXBIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xuZnVuY3Rpb24gc2tpcEhlbGxvKClcbntcbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuXG4vKipcbiAqIExvZ3Mgb3V0IHRoZSB2ZXJzaW9uIGFuZCByZW5kZXJlciBpbmZvcm1hdGlvbiBmb3IgdGhpcyBydW5uaW5nIGluc3RhbmNlIG9mIFBJWEkuXG4gKiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZWUgdGhpcyBtZXNzYWdlIHlvdSBjYW4gcnVuIGBQSVhJLnV0aWxzLnNraXBIZWxsbygpYCBiZWZvcmVcbiAqIGNyZWF0aW5nIHlvdXIgcmVuZGVyZXIuIEtlZXAgaW4gbWluZCB0aGF0IGRvaW5nIHRoYXQgd2lsbCBmb3JldmVyIG1ha2UgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSlcbntcbiAgICBpZiAoc2FpZEhlbGxvKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSlcbiAgICB7XG4gICAgICAgIHZhciBhcmdzID0gW1xuICAgICAgICAgICAgKFwiXFxuICVjICVjICVjIFBpeGlKUyBcIiArIFZFUlNJT04gKyBcIiAtIOKcsCBcIiArIHR5cGUgKyBcIiDinLAgICVjICAlYyAgaHR0cDovL3d3dy5waXhpanMuY29tLyAgJWMgJWMg4pmlJWPimaUlY+KZpSBcXG5cXG5cIiksXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnIF07XG5cbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3cuY29uc29sZSlcbiAgICB7XG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZygoXCJQaXhpSlMgXCIgKyBWRVJTSU9OICsgXCIgLSBcIiArIHR5cGUgKyBcIiAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9cIikpO1xuICAgIH1cblxuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbnZhciBzdXBwb3J0ZWQ7XG5cbi8qKlxuICogSGVscGVyIGZvciBjaGVja2luZyBmb3IgV2ViR0wgc3VwcG9ydC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGlzV2ViR0xTdXBwb3J0ZWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElzIFdlYkdMIHN1cHBvcnRlZC5cbiAqL1xuZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZCgpXG57XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICd1bmRlZmluZWQnKVxuICAgIHtcbiAgICAgICAgc3VwcG9ydGVkID0gKGZ1bmN0aW9uIHN1cHBvcnRlZCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHNldHRpbmdzLkZBSUxfSUZfTUFKT1JfUEVSRk9STUFOQ0VfQ0FWRUFULFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdHJ5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBjb250ZXh0T3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGNvbnRleHRPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcblxuICAgICAgICAgICAgICAgIGlmIChnbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb3NlQ29udGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvc2VDb250ZXh0KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1Y2Nlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlciB0byBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgKG51bWJlcnMgZnJvbSAwLjAgdG8gMS4wKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5oZXgycmdiKDB4ZmZmZmZmKTsgLy8gcmV0dXJucyBbMSwgMSwgMV1cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBoZXhhZGVjaW1hbCBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIElmIHN1cHBsaWVkLCB0aGlzIGFycmF5IHdpbGwgYmUgdXNlZCByYXRoZXIgdGhhbiByZXR1cm5pbmcgYSBuZXcgb25lXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBbUiwgRywgQl0gb2YgdGhlIGNvbG9yIHdoZXJlIGFsbCB2YWx1ZXMgYXJlIGZsb2F0cy5cbiAqL1xuZnVuY3Rpb24gaGV4MnJnYihoZXgsIG91dClcbntcbiAgICBvdXQgPSBvdXQgfHwgW107XG5cbiAgICBvdXRbMF0gPSAoKGhleCA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoKGhleCA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmZmZmZik7IC8vIHJldHVybnMgXCIjZmZmZmZmXCJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXggKGUuZy4sIGAweGZmZmZmZmApXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApLlxuICovXG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleClcbntcbiAgICBoZXggPSBoZXgudG9TdHJpbmcoMTYpO1xuICAgIGhleCA9ICcwMDAwMDAnLnN1YnN0cigwLCA2IC0gaGV4Lmxlbmd0aCkgKyBoZXg7XG5cbiAgICByZXR1cm4gKFwiI1wiICsgaGV4KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIHN0cmluZyB0byBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5zdHJpbmcyaGV4KFwiI2ZmZmZmZlwiKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzdHJpbmcyaGV4XG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYClcbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5mdW5jdGlvbiBzdHJpbmcyaGV4KHN0cmluZylcbntcbiAgICBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgJiYgc3RyaW5nWzBdID09PSAnIycpXG4gICAge1xuICAgICAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyKDEpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZUludChzdHJpbmcsIDE2KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyB0byBhIGhleGFkZWNpbWFsIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5yZ2IyaGV4KFsxLCAxLCAxXSk7IC8vIHJldHVybnMgMHhmZmZmZmZcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcmdiMmhleFxuICogQHBhcmFtIHtudW1iZXJbXX0gcmdiIC0gQXJyYXkgb2YgbnVtYmVycyB3aGVyZSBhbGwgdmFsdWVzIGFyZSBub3JtYWxpemVkIGZsb2F0cyBmcm9tIDAuMCB0byAxLjAuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBpbiBoZXhhZGVjaW1hbC5cbiAqL1xuZnVuY3Rpb24gcmdiMmhleChyZ2IpXG57XG4gICAgcmV0dXJuICgoKHJnYlswXSAqIDI1NSkgPDwgMTYpICsgKChyZ2JbMV0gKiAyNTUpIDw8IDgpICsgKHJnYlsyXSAqIDI1NSB8IDApKTtcbn1cblxuLyoqXG4gKiBDb3JyZWN0cyBQaXhpSlMgYmxlbmQsIHRha2VzIHByZW11bHRpcGxpZWQgYWxwaGEgaW50byBhY2NvdW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2Rlc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXk8bnVtYmVyW10+fSBbYXJyYXldIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7QXJyYXk8bnVtYmVyW10+fSBNYXBwZWQgbW9kZXMuXG4gKi9cbmZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKClcbntcbiAgICB2YXIgcG0gPSBbXTtcbiAgICB2YXIgbnBtID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspXG4gICAge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuXG4gICAgcG1bQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgcG1bQkxFTkRfTU9ERVMuQUREX05QTV0gPSBCTEVORF9NT0RFUy5BREQ7XG4gICAgcG1bQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBCTEVORF9NT0RFUy5TQ1JFRU47XG5cbiAgICBucG1bQkxFTkRfTU9ERVMuTk9STUFMXSA9IEJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLkFERF0gPSBCTEVORF9NT0RFUy5BRERfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcblxuICAgIHZhciBhcnJheSA9IFtdO1xuXG4gICAgYXJyYXkucHVzaChucG0pO1xuICAgIGFycmF5LnB1c2gocG0pO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIG1hcHMgcHJlbXVsdGlwbHkgZmxhZyBhbmQgYmxlbmRNb2RlIHRvIGFkanVzdGVkIGJsZW5kTW9kZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBjb25zdCBwcmVtdWx0aXBseUJsZW5kTW9kZVxuICogQHR5cGUge0FycmF5PG51bWJlcltdPn1cbiAqL1xudmFyIHByZW11bHRpcGx5QmxlbmRNb2RlID0gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKTtcblxuLyoqXG4gKiBjaGFuZ2VzIGJsZW5kTW9kZSBhY2NvcmRpbmcgdG8gdGV4dHVyZSBmb3JtYXRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGNvcnJlY3RCbGVuZE1vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBibGVuZE1vZGUgc3VwcG9zZWQgYmxlbmQgbW9kZVxuICogQHBhcmFtIHtib29sZWFufSBwcmVtdWx0aXBsaWVkICB3aGV0aGVyIHNvdXJjZSBpcyBwcmVtdWx0aXBsaWVkXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0cnVlIGJsZW5kIG1vZGUgZm9yIHRoaXMgdGV4dHVyZVxuICovXG5mdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlKGJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZClcbntcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuXG4vKipcbiAqIGNvbWJpbmVzIHJnYiBhbmQgYWxwaGEgdG8gb3V0IGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVJnYmFcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSByZ2IgaW5wdXQgcmdiXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlSZ2JhKHJnYiwgYWxwaGEsIG91dCwgcHJlbXVsdGlwbHkpXG57XG4gICAgb3V0ID0gb3V0IHx8IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgaWYgKHByZW11bHRpcGx5IHx8IHByZW11bHRpcGx5ID09PSB1bmRlZmluZWQpXG4gICAge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF0gKiBhbHBoYTtcbiAgICAgICAgb3V0WzFdID0gcmdiWzFdICogYWxwaGE7XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXSAqIGFscGhhO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBvdXRbMF0gPSByZ2JbMF07XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXTtcbiAgICAgICAgb3V0WzJdID0gcmdiWzJdO1xuICAgIH1cbiAgICBvdXRbM10gPSBhbHBoYTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogcHJlbXVsdGlwbGllcyB0aW50XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IGludGVnZXIgUkdCXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgZmxvYXRpbmcgcG9pbnQgYWxwaGEgKDAuMC0xLjApXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aW50IG11bHRpcGxpZWQgYnkgYWxwaGFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50KHRpbnQsIGFscGhhKVxue1xuICAgIGlmIChhbHBoYSA9PT0gMS4wKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyB0aW50O1xuICAgIH1cbiAgICBpZiAoYWxwaGEgPT09IDAuMClcbiAgICB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgUiA9ICgodGludCA+PiAxNikgJiAweEZGKTtcbiAgICB2YXIgRyA9ICgodGludCA+PiA4KSAmIDB4RkYpO1xuICAgIHZhciBCID0gKHRpbnQgJiAweEZGKTtcblxuICAgIFIgPSAoKFIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBHID0gKChHICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgQiA9ICgoQiAqIGFscGhhKSArIDAuNSkgfCAwO1xuXG4gICAgcmV0dXJuIChhbHBoYSAqIDI1NSA8PCAyNCkgKyAoUiA8PCAxNikgKyAoRyA8PCA4KSArIEI7XG59XG5cbi8qKlxuICogY29udmVydHMgaW50ZWdlciB0aW50IGFuZCBmbG9hdCBhbHBoYSB0byB2ZWM0IGZvcm0sIHByZW11bHRpcGxpZXMgYnkgZGVmYXVsdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnB1dCB0aW50XG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KVxue1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0WzBdICo9IGFscGhhO1xuICAgICAgICBvdXRbMV0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsyXSAqPSBhbHBoYTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIEdlbmVyaWMgTWFzayBTdGFjayBkYXRhIHN0cnVjdHVyZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIE51bWJlciBvZiBxdWFkc1xuICogQHBhcmFtIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gW291dEJ1ZmZlcl0gLSBCdWZmZXIgZm9yIG91dHB1dCwgbGVuZ3RoIGhhcyB0byBiZSBgNiAqIHNpemVgXG4gKiBAcmV0dXJuIHtVaW50MTZBcnJheXxVaW50MzJBcnJheX0gLSBSZXN1bHRpbmcgaW5kZXggYnVmZmVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkcyhzaXplLCBvdXRCdWZmZXIpXG57XG4gICAgaWYgKCBvdXRCdWZmZXIgPT09IHZvaWQgMCApIG91dEJ1ZmZlciA9IG51bGw7XG5cbiAgICAvLyB0aGUgdG90YWwgbnVtYmVyIG9mIGluZGljZXMgaW4gb3VyIGFycmF5LCB0aGVyZSBhcmUgNiBwb2ludHMgcGVyIHF1YWQuXG4gICAgdmFyIHRvdGFsSW5kaWNlcyA9IHNpemUgKiA2O1xuXG4gICAgb3V0QnVmZmVyID0gb3V0QnVmZmVyIHx8IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpO1xuXG4gICAgaWYgKG91dEJ1ZmZlci5sZW5ndGggIT09IHRvdGFsSW5kaWNlcylcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJPdXQgYnVmZmVyIGxlbmd0aCBpcyBpbmNvcnJlY3QsIGdvdCBcIiArIChvdXRCdWZmZXIubGVuZ3RoKSArIFwiIGFuZCBleHBlY3RlZCBcIiArIHRvdGFsSW5kaWNlcykpO1xuICAgIH1cblxuICAgIC8vIGZpbGwgdGhlIGluZGljZXMgd2l0aCB0aGUgcXVhZHMgdG8gZHJhd1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsSW5kaWNlczsgaSArPSA2LCBqICs9IDQpXG4gICAge1xuICAgICAgICBvdXRCdWZmZXJbaSArIDBdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgMV0gPSBqICsgMTtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyAyXSA9IGogKyAyO1xuICAgICAgICBvdXRCdWZmZXJbaSArIDNdID0gaiArIDA7XG4gICAgICAgIG91dEJ1ZmZlcltpICsgNF0gPSBqICsgMjtcbiAgICAgICAgb3V0QnVmZmVyW2kgKyA1XSA9IGogKyAzO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRCdWZmZXI7XG59XG5cbi8qKlxuICogUmVtb3ZlIGl0ZW1zIGZyb20gYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgZ2VuZXJhdGluZyBnYXJiYWdlXG4gKlxuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgQXJyYXkgdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb21cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydElkeCBzdGFydGluZyBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IGhvdyBtYW55IHRvIHJlbW92ZVxuICovXG5mdW5jdGlvbiByZW1vdmVJdGVtcyhhcnIsIHN0YXJ0SWR4LCByZW1vdmVDb3VudClcbntcbiAgICB2YXIgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICB2YXIgaTtcblxuICAgIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVtb3ZlQ291bnQgPSAoc3RhcnRJZHggKyByZW1vdmVDb3VudCA+IGxlbmd0aCA/IGxlbmd0aCAtIHN0YXJ0SWR4IDogcmVtb3ZlQ291bnQpO1xuXG4gICAgdmFyIGxlbiA9IGxlbmd0aCAtIHJlbW92ZUNvdW50O1xuXG4gICAgZm9yIChpID0gc3RhcnRJZHg7IGkgPCBsZW47ICsraSlcbiAgICB7XG4gICAgICAgIGFycltpXSA9IGFycltpICsgcmVtb3ZlQ291bnRdO1xuICAgIH1cblxuICAgIGFyci5sZW5ndGggPSBsZW47XG59XG5cbnZhciBuZXh0VWlkID0gMDtcblxuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB1aWRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlLlxuICovXG5mdW5jdGlvbiB1aWQoKVxue1xuICAgIHJldHVybiArK25leHRVaWQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmZ1bmN0aW9uIHNpZ24obilcbntcbiAgICBpZiAobiA9PT0gMCkgeyByZXR1cm4gMDsgfVxuXG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuXG4vLyBUYWtlbiBmcm9tIHRoZSBiaXQtdHdpZGRsZSBwYWNrYWdlXG5cbi8qKlxuICogUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBpc1BvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5mdW5jdGlvbiBuZXh0UG93Mih2KVxue1xuICAgIHYgKz0gdiA9PT0gMDtcbiAgICAtLXY7XG4gICAgdiB8PSB2ID4+PiAxO1xuICAgIHYgfD0gdiA+Pj4gMjtcbiAgICB2IHw9IHYgPj4+IDQ7XG4gICAgdiB8PSB2ID4+PiA4O1xuICAgIHYgfD0gdiA+Pj4gMTY7XG5cbiAgICByZXR1cm4gdiArIDE7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbnVtYmVyIGlzIGEgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBpc1BvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHZhbHVlIGlzIHBvd2VyIG9mIHR3b1xuICovXG5mdW5jdGlvbiBpc1BvdzIodilcbntcbiAgICByZXR1cm4gISh2ICYgKHYgLSAxKSkgJiYgKCEhdik7XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgY2VpbCBvZiBsb2cgYmFzZSAyXG4gKlxuICogQGZ1bmN0aW9uIGxvZzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfSBsb2dhcml0aG0gYmFzZSAyXG4gKi9cbmZ1bmN0aW9uIGxvZzIodilcbntcbiAgICB2YXIgciA9ICh2ID4gMHhGRkZGKSA8PCA0O1xuXG4gICAgdiA+Pj49IHI7XG5cbiAgICB2YXIgc2hpZnQgPSAodiA+IDB4RkYpIDw8IDM7XG5cbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4RikgPDwgMjtcbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4MykgPDwgMTtcbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG5cbiAgICByZXR1cm4gciB8ICh2ID4+IDEpO1xufVxuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUHJvZ3JhbUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIFByb2dyYW1DYWNoZSA9IHt9O1xuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xudmFyIFRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbi8qKlxuICogQHRvZG8gRGVzY3JpYmUgcHJvcGVydHkgdXNhZ2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBCYXNlVGV4dHVyZUNhY2hlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGUge09iamVjdH1cbiAqL1xuXG52YXIgQmFzZVRleHR1cmVDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbiAqIERlc3Ryb3lzIGFsbCB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVzdHJveVRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlKClcbntcbiAgICB2YXIga2V5O1xuXG4gICAgZm9yIChrZXkgaW4gVGV4dHVyZUNhY2hlKVxuICAgIHtcbiAgICAgICAgVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBCYXNlVGV4dHVyZUNhY2hlKVxuICAgIHtcbiAgICAgICAgQmFzZVRleHR1cmVDYWNoZVtrZXldLmRlc3Ryb3koKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwgdGV4dHVyZXMgZnJvbSBjYWNoZSwgYnV0IGRvZXMgbm90IGRlc3Ryb3kgdGhlbVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGUoKVxue1xuICAgIHZhciBrZXk7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUcmltIHRyYW5zcGFyZW50IGJvcmRlcnMgZnJvbSBhIGNhbnZhc1xuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gdHJpbUNhbnZhc1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGNhbnZhcyB0byB0cmltXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUcmltIGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpbUNhbnZhcyhjYW52YXMpXG57XG4gICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcmVteS83ODQ1MDhcblxuICAgIHZhciB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBwaXhlbHMgPSBpbWFnZURhdGEuZGF0YTtcbiAgICB2YXIgbGVuID0gcGl4ZWxzLmxlbmd0aDtcblxuICAgIHZhciBib3VuZCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsLFxuICAgIH07XG4gICAgdmFyIGRhdGEgPSBudWxsO1xuICAgIHZhciBpO1xuICAgIHZhciB4O1xuICAgIHZhciB5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KVxuICAgIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpICsgM10gIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHggPSAoaSAvIDQpICUgd2lkdGg7XG4gICAgICAgICAgICB5ID0gfn4oKGkgLyA0KSAvIHdpZHRoKTtcblxuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC50b3AgPSB5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQubGVmdCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHggPCBib3VuZC5sZWZ0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQucmlnaHQgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQuYm90dG9tID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYm91bmQudG9wICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG4gICAgICAgIGRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShib3VuZC5sZWZ0LCBib3VuZC50b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHNpemUgdG8gYmUgdXNlZCBhcyBhIHRhcmdldCBmb3IgcmVuZGVyaW5nIHRvLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xudmFyIENhbnZhc1JlbmRlclRhcmdldCA9IGZ1bmN0aW9uIENhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBDYW52YXMgb2JqZWN0IHRoYXQgYmVsb25ncyB0byB0aGlzIENhbnZhc1JlbmRlclRhcmdldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBBIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBvYmplY3QgcmVwcmVzZW50aW5nIGEgdHdvLWRpbWVuc2lvbmFsIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICB0aGlzLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIENsZWFycyB0aGUgY2FudmFzIHRoYXQgd2FzIGNyZWF0ZWQgYnkgdGhlIENhbnZhc1JlbmRlclRhcmdldCBjbGFzcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5DYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbntcbiAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG59O1xuXG4vKipcbiAqIFJlc2l6ZXMgdGhlIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIG5ldyB3aWR0aCBvZiB0aGUgY2FudmFzXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICovXG5DYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAod2lkdGgsIGhlaWdodClcbntcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyBjYW52YXMuXG4gKlxuICovXG5DYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG59O1xuXG4vKipcbiAqIFRoZSB3aWR0aCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB2YWw7XG59O1xuXG4vKipcbiAqIFRoZSBoZWlnaHQgb2YgdGhlIGNhbnZhcyBidWZmZXIgaW4gcGl4ZWxzLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHZhbDtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBDYW52YXNSZW5kZXJUYXJnZXQucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBSZWdleHAgZm9yIGRhdGEgVVJJLlxuICogQmFzZWQgb246IHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcmFnaW5nd2luZC9kYXRhLXVyaS1yZWdleH1cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge1JlZ0V4cHxzdHJpbmd9IERBVEFfVVJJXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4YW1wbGUgZGF0YTppbWFnZS9wbmc7YmFzZTY0XG4gKi9cbnZhciBEQVRBX1VSSSA9IC9eXFxzKmRhdGE6KD86KFtcXHctXSspXFwvKFtcXHcrLi1dKykpPyg/OjtjaGFyc2V0PShbXFx3LV0rKSk/KD86OyhiYXNlNjQpKT8sKC4qKS9pO1xuXG4vKipcbiAqIFR5cGVkZWYgZm9yIGRlY29tcG9zZURhdGFVcmkgcmV0dXJuIG9iamVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHR5cGVkZWYge29iamVjdH0gRGVjb21wb3NlZERhdGFVcmlcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZWRpYVR5cGUgTWVkaWEgdHlwZSwgZWcuIGBpbWFnZWBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdWJUeXBlIFN1YiB0eXBlLCBlZy4gYHBuZ2BcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBlbmNvZGluZyBEYXRhIGVuY29kaW5nLCBlZy4gYGJhc2U2NGBcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBkYXRhIFRoZSBhY3R1YWwgZGF0YVxuICovXG5cbi8qKlxuICogU3BsaXQgYSBkYXRhIFVSSSBpbnRvIGNvbXBvbmVudHMuIFJldHVybnMgdW5kZWZpbmVkIGlmXG4gKiBwYXJhbWV0ZXIgYGRhdGFVcmlgIGlzIG5vdCBhIHZhbGlkIGRhdGEgVVJJLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaVxuICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSB0aGUgZGF0YSBVUkkgdG8gY2hlY2tcbiAqIEByZXR1cm4ge1BJWEkudXRpbHMuRGVjb21wb3NlZERhdGFVcml8dW5kZWZpbmVkfSBUaGUgZGVjb21wb3NlZCBkYXRhIHVyaSBvciB1bmRlZmluZWRcbiAqL1xuZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKVxue1xuICAgIHZhciBkYXRhVXJpTWF0Y2ggPSBEQVRBX1VSSS5leGVjKGRhdGFVcmkpO1xuXG4gICAgaWYgKGRhdGFVcmlNYXRjaClcbiAgICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZWRpYVR5cGU6IGRhdGFVcmlNYXRjaFsxXSA/IGRhdGFVcmlNYXRjaFsxXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3ViVHlwZTogZGF0YVVyaU1hdGNoWzJdID8gZGF0YVVyaU1hdGNoWzJdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjaGFyc2V0OiBkYXRhVXJpTWF0Y2hbM10gPyBkYXRhVXJpTWF0Y2hbM10udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuY29kaW5nOiBkYXRhVXJpTWF0Y2hbNF0gPyBkYXRhVXJpTWF0Y2hbNF0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFVcmlNYXRjaFs1XSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG52YXIgdGVtcEFuY2hvcjtcblxuLyoqXG4gKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICogTmlwcGVkIGZyb20gdGhlIHJlc291cmNlIGxvYWRlciFcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICovXG5mdW5jdGlvbiBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwsIGxvYylcbntcbiAgICBpZiAoIGxvYyA9PT0gdm9pZCAwICkgbG9jID0gd2luZG93LmxvY2F0aW9uO1xuXG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgaWYgKCF0ZW1wQW5jaG9yKVxuICAgIHtcbiAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG5cbiAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBfdXJsLnBhcnNlKHRlbXBBbmNob3IuaHJlZik7XG5cbiAgICB2YXIgc2FtZVBvcnQgPSAoIXVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJykgfHwgKHVybC5wb3J0ID09PSBsb2MucG9ydCk7XG5cbiAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICBpZiAodXJsLmhvc3RuYW1lICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHVybC5wcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbn1cblxuLyoqXG4gKiBnZXQgdGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXQgYnkgbG9va2luZyBmb3IgdGhlIHByZWZpeFxuICogdXNlZCBieSBzcHJpdGVzaGVldHMgYW5kIGltYWdlIHVybHNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldFxuICovXG5mdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmwodXJsLCBkZWZhdWx0VmFsdWUpXG57XG4gICAgdmFyIHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModXJsKTtcblxuICAgIGlmIChyZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzb2x1dGlvblsxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMTtcbn1cblxuLy8gQSBtYXAgb2Ygd2FybmluZyBtZXNzYWdlcyBhbHJlYWR5IGZpcmVkXG52YXIgd2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBIZWxwZXIgZm9yIHdhcm5pbmcgZGV2ZWxvcGVycyBhYm91dCBkZXByZWNhdGVkIGZlYXR1cmVzICYgc2V0dGluZ3MuXG4gKiBBIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5ncyBpcyBnaXZlbjsgdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlXG4gKiBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlcHJlY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIFRoZSB2ZXJzaW9uIHdoZXJlIHRoZSBmZWF0dXJlIGJlY2FtZSBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2Ugc2hvdWxkIGluY2x1ZGUgd2hhdCBpcyBkZXByZWNhdGVkLCB3aGVyZSwgYW5kIHRoZSBuZXcgc29sdXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaWdub3JlRGVwdGg9M10gLSBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIGlnbm9yZSBhdCB0aGUgdG9wIG9mIHRoZSBlcnJvciBzdGFja1xuICogICAgICAgIHRoaXMgaXMgbW9zdGx5IHRvIGlnbm9yZSBpbnRlcm5hbCBkZXByZWNhdGlvbiBjYWxscy5cbiAqL1xuZnVuY3Rpb24gZGVwcmVjYXRpb24odmVyc2lvbiwgbWVzc2FnZSwgaWdub3JlRGVwdGgpXG57XG4gICAgaWYgKCBpZ25vcmVEZXB0aCA9PT0gdm9pZCAwICkgaWdub3JlRGVwdGggPSAzO1xuXG4gICAgLy8gSWdub3JlIGR1cGxpY2F0XG4gICAgaWYgKHdhcm5pbmdzW21lc3NhZ2VdKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcblxuICAgIC8vIEhhbmRsZSBJRSA8IDEwIGFuZCBTYWZhcmkgPCA2XG4gICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gJ3VuZGVmaW5lZCcpXG4gICAge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCAobWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIGNob3Agb2ZmIHRoZSBzdGFjayB0cmFjZSB3aGljaCBpbmNsdWRlcyBQaXhpSlMgaW50ZXJuYWwgY2FsbHNcbiAgICAgICAgc3RhY2sgPSBzdGFjay5zcGxpdCgnXFxuJykuc3BsaWNlKGlnbm9yZURlcHRoKS5qb2luKCdcXG4nKTtcblxuICAgICAgICBpZiAoY29uc29sZS5ncm91cENvbGxhcHNlZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZChcbiAgICAgICAgICAgICAgICAnJWNQaXhpSlMgRGVwcmVjYXRpb24gV2FybmluZzogJWMlcycsXG4gICAgICAgICAgICAgICAgJ2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JyxcbiAgICAgICAgICAgICAgICAnZm9udC13ZWlnaHQ6bm9ybWFsO2NvbG9yOiM2MTQxMDg7YmFja2dyb3VuZDojZmZmYmU2JyxcbiAgICAgICAgICAgICAgICAobWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCAobWVzc2FnZSArIFwiXFxuRGVwcmVjYXRlZCBzaW5jZSB2XCIgKyB2ZXJzaW9uKSk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG4gICAgd2FybmluZ3NbbWVzc2FnZV0gPSB0cnVlO1xufVxuXG4vKipcbiAqIEdlbmVyYWxpemVkIGNvbnZlbmllbmNlIHV0aWxpdGllcyBmb3IgUElYSS5cbiAqIEBleGFtcGxlXG4gKiAvLyBFeHRlbmQgUElYSSdzIGludGVybmFsIEV2ZW50IEVtaXR0ZXIuXG4gKiBjbGFzcyBNeUVtaXR0ZXIgZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlciB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgICBzdXBlcigpO1xuICogICAgICBjb25zb2xlLmxvZyhcIkVtaXR0ZXIgY3JlYXRlZCFcIik7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBHZXQgaW5mbyBvbiBjdXJyZW50IGRldmljZVxuICogY29uc29sZS5sb2coUElYSS51dGlscy5pc01vYmlsZSk7XG4gKlxuICogLy8gQ29udmVydCBoZXggY29sb3IgdG8gc3RyaW5nXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmhleDJzdHJpbmcoMHhmZjAwZmYpKTsgLy8gcmV0dXJuczogXCIjZmYwMGZmXCJcbiAqIEBuYW1lc3BhY2UgUElYSS51dGlsc1xuICovXG5cbmV4cG9ydCB7IEJhc2VUZXh0dXJlQ2FjaGUsIENhbnZhc1JlbmRlclRhcmdldCwgREFUQV9VUkksIFByb2dyYW1DYWNoZSwgVGV4dHVyZUNhY2hlLCBjbGVhclRleHR1cmVDYWNoZSwgY29ycmVjdEJsZW5kTW9kZSwgY3JlYXRlSW5kaWNlc0ZvclF1YWRzLCBkZWNvbXBvc2VEYXRhVXJpLCBkZXByZWNhdGlvbiwgZGVzdHJveVRleHR1cmVDYWNoZSwgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4sIGdldFJlc29sdXRpb25PZlVybCwgaGV4MnJnYiwgaGV4MnN0cmluZywgaXNQb3cyLCBpc1dlYkdMU3VwcG9ydGVkLCBsb2cyLCBuZXh0UG93MiwgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50LCBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIHJlbW92ZUl0ZW1zLCByZ2IyaGV4LCBzYXlIZWxsbywgc2lnbiwgc2tpcEhlbGxvLCBzdHJpbmcyaGV4LCB0cmltQ2FudmFzLCB1aWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tYXRoIC0gdjUuMS4wXG4gKiBDb21waWxlZCBGcmksIDE5IEp1bCAyMDE5IDIxOjU0OjM2IFVUQ1xuICpcbiAqIEBwaXhpL21hdGggaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQb2ludCA9IGZ1bmN0aW9uIFBvaW50KHgsIHkpXG57XG4gICAgaWYgKCB4ID09PSB2b2lkIDAgKSB4ID0gMDtcbiAgICBpZiAoIHkgPT09IHZvaWQgMCApIHkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludFxuICpcbiAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAqL1xuUG9pbnQucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTtcbn07XG5cbi8qKlxuICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAqXG4gKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICogQHJldHVybnMge1BJWEkuSVBvaW50fSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuUG9pbnQucHJvdG90eXBlLmNvcHlGcm9tID0gZnVuY3Rpb24gY29weUZyb20gKHApXG57XG4gICAgdGhpcy5zZXQocC54LCBwLnkpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENvcGllcyB4IGFuZCB5IGludG8gdGhlIGdpdmVuIHBvaW50XG4gKlxuICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICogQHJldHVybnMge1BJWEkuSVBvaW50fSBHaXZlbiBwb2ludCB3aXRoIHZhbHVlcyB1cGRhdGVkXG4gKi9cblBvaW50LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiBjb3B5VG8gKHApXG57XG4gICAgcC5zZXQodGhpcy54LCB0aGlzLnkpO1xuXG4gICAgcmV0dXJuIHA7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICpcbiAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gKi9cblBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiBlcXVhbHMgKHApXG57XG4gICAgcmV0dXJuIChwLnggPT09IHRoaXMueCkgJiYgKHAueSA9PT0gdGhpcy55KTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgcG9pbnQgdG8gYSBuZXcgeCBhbmQgeSBwb3NpdGlvbi5cbiAqIElmIHkgaXMgb21pdHRlZCwgYm90aCB4IGFuZCB5IHdpbGwgYmUgc2V0IHRvIHguXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gKi9cblBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKHgsIHkpXG57XG4gICAgdGhpcy54ID0geCB8fCAwO1xuICAgIHRoaXMueSA9IHkgfHwgKCh5ICE9PSAwKSA/IHRoaXMueCA6IDApO1xufTtcblxuLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQW4gT2JzZXJ2YWJsZVBvaW50IGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBPYnNlcnZhYmxlUG9pbnQgPSBmdW5jdGlvbiBPYnNlcnZhYmxlUG9pbnQoY2IsIHNjb3BlLCB4LCB5KVxue1xuICAgIGlmICggeCA9PT0gdm9pZCAwICkgeCA9IDA7XG4gICAgaWYgKCB5ID09PSB2b2lkIDAgKSB5ID0gMDtcblxuICAgIHRoaXMuX3ggPSB4O1xuICAgIHRoaXMuX3kgPSB5O1xuXG4gICAgdGhpcy5jYiA9IGNiO1xuICAgIHRoaXMuc2NvcGUgPSBzY29wZTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0seTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50LlxuICogVGhlIGNhbGxiYWNrIGFuZCBzY29wZSBwYXJhbXMgY2FuIGJlIG92ZXJpZGRlbiBvdGhlcndpc2UgdGhleSB3aWxsIGRlZmF1bHRcbiAqIHRvIHRoZSBjbG9uZSBvYmplY3QncyB2YWx1ZXMuXG4gKlxuICogQG92ZXJyaWRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2I9bnVsbF0gLSBjYWxsYmFjayB3aGVuIGNoYW5nZWRcbiAqIEBwYXJhbSB7b2JqZWN0fSBbc2NvcGU9bnVsbF0gLSBvd25lciBvZiBjYWxsYmFja1xuICogQHJldHVybiB7UElYSS5PYnNlcnZhYmxlUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAqL1xuT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lIChjYiwgc2NvcGUpXG57XG4gICAgICAgIGlmICggY2IgPT09IHZvaWQgMCApIGNiID0gbnVsbDtcbiAgICAgICAgaWYgKCBzY29wZSA9PT0gdm9pZCAwICkgc2NvcGUgPSBudWxsO1xuXG4gICAgdmFyIF9jYiA9IGNiIHx8IHRoaXMuY2I7XG4gICAgdmFyIF9zY29wZSA9IHNjb3BlIHx8IHRoaXMuc2NvcGU7XG5cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVQb2ludChfY2IsIF9zY29wZSwgdGhpcy5feCwgdGhpcy5feSk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICovXG5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoeCwgeSlcbntcbiAgICB2YXIgX3ggPSB4IHx8IDA7XG4gICAgdmFyIF95ID0geSB8fCAoKHkgIT09IDApID8gX3ggOiAwKTtcblxuICAgIGlmICh0aGlzLl94ICE9PSBfeCB8fCB0aGlzLl95ICE9PSBfeSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3ggPSBfeDtcbiAgICAgICAgdGhpcy5feSA9IF95O1xuICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICpcbiAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tLlxuICogQHJldHVybnMge1BJWEkuSVBvaW50fSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIGNvcHlGcm9tIChwKVxue1xuICAgIGlmICh0aGlzLl94ICE9PSBwLnggfHwgdGhpcy5feSAhPT0gcC55KVxuICAgIHtcbiAgICAgICAgdGhpcy5feCA9IHAueDtcbiAgICAgICAgdGhpcy5feSA9IHAueTtcbiAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICpcbiAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICovXG5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIGNvcHlUbyAocClcbntcbiAgICBwLnNldCh0aGlzLl94LCB0aGlzLl95KTtcblxuICAgIHJldHVybiBwO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGVxdWFsIHRvIHRoaXMgcG9pbnRcbiAqXG4gKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICovXG5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAocClcbntcbiAgICByZXR1cm4gKHAueCA9PT0gdGhpcy5feCkgJiYgKHAueSA9PT0gdGhpcy5feSk7XG59O1xuXG4vKipcbiAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnguZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5feDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy54LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3ggIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5feCA9IHZhbHVlO1xuICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy55LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3k7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMueS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl95ICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgIH1cbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBPYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBBIG51bWJlciwgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlci5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7KFBJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnQpfSBJUG9pbnRcbiAqL1xuXG4vKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnQge251bWJlcn0gUElfMlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBJXzIgPSBNYXRoLlBJICogMjtcblxuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IFJBRF9UT19ERUdcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSQURfVE9fREVHID0gMTgwIC8gTWF0aC5QSTtcblxuLyoqXG4gKiBDb252ZXJzaW9uIGZhY3RvciBmb3IgY29udmVydGluZyBkZWdyZWVzIHRvIHJhZGlhbnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtudW1iZXJ9IERFR19UT19SQURcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBpZGVudGlmeSBzaGFwZXMsIG1haW5seSB0byBwcmV2ZW50IGBpbnN0YW5jZW9mYCBjYWxscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNIQVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9MWSBQb2x5Z29uXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVDVCBSZWN0YW5nbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDSVJDIENpcmNsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVMSVAgRWxsaXBzZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJSRUMgUm91bmRlZCBSZWN0YW5nbGVcbiAqL1xudmFyIFNIQVBFUyA9IHtcbiAgICBQT0xZOiAwLFxuICAgIFJFQ1Q6IDEsXG4gICAgQ0lSQzogMixcbiAgICBFTElQOiAzLFxuICAgIFJSRUM6IDQsXG59O1xuXG4vKipcbiAqIFRoZSBQaXhpSlMgTWF0cml4IGFzIGEgY2xhc3MgbWFrZXMgaXQgYSBsb3QgZmFzdGVyLlxuICpcbiAqIEhlcmUgaXMgYSByZXByZXNlbnRhdGlvbiBvZiBpdDpcbiAqIGBgYGpzXG4gKiB8IGEgfCBjIHwgdHh8XG4gKiB8IGIgfCBkIHwgdHl8XG4gKiB8IDAgfCAwIHwgMSB8XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1hdHJpeCA9IGZ1bmN0aW9uIE1hdHJpeChhLCBiLCBjLCBkLCB0eCwgdHkpXG57XG4gICAgaWYgKCBhID09PSB2b2lkIDAgKSBhID0gMTtcbiAgICBpZiAoIGIgPT09IHZvaWQgMCApIGIgPSAwO1xuICAgIGlmICggYyA9PT0gdm9pZCAwICkgYyA9IDA7XG4gICAgaWYgKCBkID09PSB2b2lkIDAgKSBkID0gMTtcbiAgICBpZiAoIHR4ID09PSB2b2lkIDAgKSB0eCA9IDA7XG4gICAgaWYgKCB0eSA9PT0gdm9pZCAwICkgdHkgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLmEgPSBhO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLmIgPSBiO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLmMgPSBjO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLmQgPSBkO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnR4ID0gdHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMudHkgPSB0eTtcblxuICAgIHRoaXMuYXJyYXkgPSBudWxsO1xufTtcblxudmFyIHN0YXRpY0FjY2Vzc29ycyA9IHsgSURFTlRJVFk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sVEVNUF9NQVRSSVg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgTWF0cml4IG9iamVjdCBiYXNlZCBvbiB0aGUgZ2l2ZW4gYXJyYXkuIFRoZSBFbGVtZW50IHRvIE1hdHJpeCBtYXBwaW5nIG9yZGVyIGlzIGFzIGZvbGxvd3M6XG4gKlxuICogYSA9IGFycmF5WzBdXG4gKiBiID0gYXJyYXlbMV1cbiAqIGMgPSBhcnJheVszXVxuICogZCA9IGFycmF5WzRdXG4gKiB0eCA9IGFycmF5WzJdXG4gKiB0eSA9IGFycmF5WzVdXG4gKlxuICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgYXJyYXkgdGhhdCB0aGUgbWF0cml4IHdpbGwgYmUgcG9wdWxhdGVkIGZyb20uXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuZnJvbUFycmF5ID0gZnVuY3Rpb24gZnJvbUFycmF5IChhcnJheSlcbntcbiAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICB0aGlzLmIgPSBhcnJheVsxXTtcbiAgICB0aGlzLmMgPSBhcnJheVszXTtcbiAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICB0aGlzLnR4ID0gYXJyYXlbMl07XG4gICAgdGhpcy50eSA9IGFycmF5WzVdO1xufTtcblxuLyoqXG4gKiBzZXRzIHRoZSBtYXRyaXggcHJvcGVydGllc1xuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBhIC0gTWF0cml4IGNvbXBvbmVudFxuICogQHBhcmFtIHtudW1iZXJ9IGIgLSBNYXRyaXggY29tcG9uZW50XG4gKiBAcGFyYW0ge251bWJlcn0gYyAtIE1hdHJpeCBjb21wb25lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBkIC0gTWF0cml4IGNvbXBvbmVudFxuICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gTWF0cml4IGNvbXBvbmVudFxuICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gTWF0cml4IGNvbXBvbmVudFxuICpcbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICovXG5NYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoYSwgYiwgYywgZCwgdHgsIHR5KVxue1xuICAgIHRoaXMuYSA9IGE7XG4gICAgdGhpcy5iID0gYjtcbiAgICB0aGlzLmMgPSBjO1xuICAgIHRoaXMuZCA9IGQ7XG4gICAgdGhpcy50eCA9IHR4O1xuICAgIHRoaXMudHkgPSB0eTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGZyb20gdGhlIGN1cnJlbnQgTWF0cml4IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PW5ldyBGbG9hdDMyQXJyYXkoOSldIC0gSWYgcHJvdmlkZWQgdGhlIGFycmF5IHdpbGwgYmUgYXNzaWduZWQgdG8gb3V0XG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gdGhlIG5ld2x5IGNyZWF0ZWQgYXJyYXkgd2hpY2ggY29udGFpbnMgdGhlIG1hdHJpeFxuICovXG5NYXRyaXgucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5ICh0cmFuc3Bvc2UsIG91dClcbntcbiAgICBpZiAoIXRoaXMuYXJyYXkpXG4gICAge1xuICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSg5KTtcbiAgICB9XG5cbiAgICB2YXIgYXJyYXkgPSBvdXQgfHwgdGhpcy5hcnJheTtcblxuICAgIGlmICh0cmFuc3Bvc2UpXG4gICAge1xuICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgIGFycmF5WzJdID0gMDtcbiAgICAgICAgYXJyYXlbM10gPSB0aGlzLmM7XG4gICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICBhcnJheVs1XSA9IDA7XG4gICAgICAgIGFycmF5WzZdID0gdGhpcy50eDtcbiAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgYXJyYXlbMl0gPSB0aGlzLnR4O1xuICAgICAgICBhcnJheVszXSA9IHRoaXMuYjtcbiAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgIGFycmF5WzVdID0gdGhpcy50eTtcbiAgICAgICAgYXJyYXlbNl0gPSAwO1xuICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgIGFycmF5WzhdID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59O1xuXG4vKipcbiAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlIHRvIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiByZW5kZXJpbmcpXG4gKlxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3MgLSBUaGUgb3JpZ2luXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICovXG5NYXRyaXgucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKHBvcywgbmV3UG9zKVxue1xuICAgIG5ld1BvcyA9IG5ld1BvcyB8fCBuZXcgUG9pbnQoKTtcblxuICAgIHZhciB4ID0gcG9zLng7XG4gICAgdmFyIHkgPSBwb3MueTtcblxuICAgIG5ld1Bvcy54ID0gKHRoaXMuYSAqIHgpICsgKHRoaXMuYyAqIHkpICsgdGhpcy50eDtcbiAgICBuZXdQb3MueSA9ICh0aGlzLmIgKiB4KSArICh0aGlzLmQgKiB5KSArIHRoaXMudHk7XG5cbiAgICByZXR1cm4gbmV3UG9zO1xufTtcblxuLyoqXG4gKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgaW52ZXJzZSBvZiB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gKlxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3MgLSBUaGUgb3JpZ2luXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICogQHJldHVybiB7UElYSS5Qb2ludH0gVGhlIG5ldyBwb2ludCwgaW52ZXJzZS10cmFuc2Zvcm1lZCB0aHJvdWdoIHRoaXMgbWF0cml4XG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuYXBwbHlJbnZlcnNlID0gZnVuY3Rpb24gYXBwbHlJbnZlcnNlIChwb3MsIG5ld1BvcylcbntcbiAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IFBvaW50KCk7XG5cbiAgICB2YXIgaWQgPSAxIC8gKCh0aGlzLmEgKiB0aGlzLmQpICsgKHRoaXMuYyAqIC10aGlzLmIpKTtcblxuICAgIHZhciB4ID0gcG9zLng7XG4gICAgdmFyIHkgPSBwb3MueTtcblxuICAgIG5ld1Bvcy54ID0gKHRoaXMuZCAqIGlkICogeCkgKyAoLXRoaXMuYyAqIGlkICogeSkgKyAoKCh0aGlzLnR5ICogdGhpcy5jKSAtICh0aGlzLnR4ICogdGhpcy5kKSkgKiBpZCk7XG4gICAgbmV3UG9zLnkgPSAodGhpcy5hICogaWQgKiB5KSArICgtdGhpcy5iICogaWQgKiB4KSArICgoKC10aGlzLnR5ICogdGhpcy5hKSArICh0aGlzLnR4ICogdGhpcy5iKSkgKiBpZCk7XG5cbiAgICByZXR1cm4gbmV3UG9zO1xufTtcblxuLyoqXG4gKiBUcmFuc2xhdGVzIHRoZSBtYXRyaXggb24gdGhlIHggYW5kIHkuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB5IGJ5XG4gKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiB0cmFuc2xhdGUgKHgsIHkpXG57XG4gICAgdGhpcy50eCArPSB4O1xuICAgIHRoaXMudHkgKz0geTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBcHBsaWVzIGEgc2NhbGUgdHJhbnNmb3JtYXRpb24gdG8gdGhlIG1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCBUaGUgYW1vdW50IHRvIHNjYWxlIGhvcml6b250YWxseVxuICogQHBhcmFtIHtudW1iZXJ9IHkgVGhlIGFtb3VudCB0byBzY2FsZSB2ZXJ0aWNhbGx5XG4gKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uIHNjYWxlICh4LCB5KVxue1xuICAgIHRoaXMuYSAqPSB4O1xuICAgIHRoaXMuZCAqPSB5O1xuICAgIHRoaXMuYyAqPSB4O1xuICAgIHRoaXMuYiAqPSB5O1xuICAgIHRoaXMudHggKj0geDtcbiAgICB0aGlzLnR5ICo9IHk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlIC0gVGhlIGFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiByb3RhdGUgKGFuZ2xlKVxue1xuICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgdmFyIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgdmFyIHR4MSA9IHRoaXMudHg7XG5cbiAgICB0aGlzLmEgPSAoYTEgKiBjb3MpIC0gKHRoaXMuYiAqIHNpbik7XG4gICAgdGhpcy5iID0gKGExICogc2luKSArICh0aGlzLmIgKiBjb3MpO1xuICAgIHRoaXMuYyA9IChjMSAqIGNvcykgLSAodGhpcy5kICogc2luKTtcbiAgICB0aGlzLmQgPSAoYzEgKiBzaW4pICsgKHRoaXMuZCAqIGNvcyk7XG4gICAgdGhpcy50eCA9ICh0eDEgKiBjb3MpIC0gKHRoaXMudHkgKiBzaW4pO1xuICAgIHRoaXMudHkgPSAodHgxICogc2luKSArICh0aGlzLnR5ICogY29zKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBcHBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gKlxuICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBhcHBlbmQuXG4gKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQgKG1hdHJpeClcbntcbiAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgdmFyIGIxID0gdGhpcy5iO1xuICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICB2YXIgZDEgPSB0aGlzLmQ7XG5cbiAgICB0aGlzLmEgPSAobWF0cml4LmEgKiBhMSkgKyAobWF0cml4LmIgKiBjMSk7XG4gICAgdGhpcy5iID0gKG1hdHJpeC5hICogYjEpICsgKG1hdHJpeC5iICogZDEpO1xuICAgIHRoaXMuYyA9IChtYXRyaXguYyAqIGExKSArIChtYXRyaXguZCAqIGMxKTtcbiAgICB0aGlzLmQgPSAobWF0cml4LmMgKiBiMSkgKyAobWF0cml4LmQgKiBkMSk7XG5cbiAgICB0aGlzLnR4ID0gKG1hdHJpeC50eCAqIGExKSArIChtYXRyaXgudHkgKiBjMSkgKyB0aGlzLnR4O1xuICAgIHRoaXMudHkgPSAobWF0cml4LnR4ICogYjEpICsgKG1hdHJpeC50eSAqIGQxKSArIHRoaXMudHk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFBvc2l0aW9uIG9uIHRoZSB4IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gUG9zaXRpb24gb24gdGhlIHkgYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WCAtIFBpdm90IG9uIHRoZSB4IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFkgLSBQaXZvdCBvbiB0aGUgeSBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYIC0gU2NhbGUgb24gdGhlIHggYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWSAtIFNjYWxlIG9uIHRoZSB5IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIFJvdGF0aW9uIGluIHJhZGlhbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WCAtIFNrZXcgb24gdGhlIHggYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IHNrZXdZIC0gU2tldyBvbiB0aGUgeSBheGlzXG4gKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiBzZXRUcmFuc2Zvcm0gKHgsIHksIHBpdm90WCwgcGl2b3RZLCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSlcbntcbiAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICB0aGlzLmIgPSBNYXRoLnNpbihyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICB0aGlzLmMgPSAtTWF0aC5zaW4ocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG4gICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG5cbiAgICB0aGlzLnR4ID0geCAtICgocGl2b3RYICogdGhpcy5hKSArIChwaXZvdFkgKiB0aGlzLmMpKTtcbiAgICB0aGlzLnR5ID0geSAtICgocGl2b3RYICogdGhpcy5iKSArIChwaXZvdFkgKiB0aGlzLmQpKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBQcmVwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICpcbiAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gcHJlcGVuZFxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIHByZXBlbmQgKG1hdHJpeClcbntcbiAgICB2YXIgdHgxID0gdGhpcy50eDtcblxuICAgIGlmIChtYXRyaXguYSAhPT0gMSB8fCBtYXRyaXguYiAhPT0gMCB8fCBtYXRyaXguYyAhPT0gMCB8fCBtYXRyaXguZCAhPT0gMSlcbiAgICB7XG4gICAgICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICAgICAgdmFyIGMxID0gdGhpcy5jO1xuXG4gICAgICAgIHRoaXMuYSA9IChhMSAqIG1hdHJpeC5hKSArICh0aGlzLmIgKiBtYXRyaXguYyk7XG4gICAgICAgIHRoaXMuYiA9IChhMSAqIG1hdHJpeC5iKSArICh0aGlzLmIgKiBtYXRyaXguZCk7XG4gICAgICAgIHRoaXMuYyA9IChjMSAqIG1hdHJpeC5hKSArICh0aGlzLmQgKiBtYXRyaXguYyk7XG4gICAgICAgIHRoaXMuZCA9IChjMSAqIG1hdHJpeC5iKSArICh0aGlzLmQgKiBtYXRyaXguZCk7XG4gICAgfVxuXG4gICAgdGhpcy50eCA9ICh0eDEgKiBtYXRyaXguYSkgKyAodGhpcy50eSAqIG1hdHJpeC5jKSArIG1hdHJpeC50eDtcbiAgICB0aGlzLnR5ID0gKHR4MSAqIG1hdHJpeC5iKSArICh0aGlzLnR5ICogbWF0cml4LmQpICsgbWF0cml4LnR5O1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERlY29tcG9zZXMgdGhlIG1hdHJpeCAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIGFuZCByb3RhdGlvbikgYW5kIHNldHMgdGhlIHByb3BlcnRpZXMgb24gdG8gYSB0cmFuc2Zvcm0uXG4gKlxuICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSB0byBhcHBseSB0aGUgcHJvcGVydGllcyB0by5cbiAqIEByZXR1cm4ge1BJWEkuVHJhbnNmb3JtfSBUaGUgdHJhbnNmb3JtIHdpdGggdGhlIG5ld2x5IGFwcGxpZWQgcHJvcGVydGllc1xuICovXG5NYXRyaXgucHJvdG90eXBlLmRlY29tcG9zZSA9IGZ1bmN0aW9uIGRlY29tcG9zZSAodHJhbnNmb3JtKVxue1xuICAgIC8vIHNvcnQgb3V0IHJvdGF0aW9uIC8gc2tldy4uXG4gICAgdmFyIGEgPSB0aGlzLmE7XG4gICAgdmFyIGIgPSB0aGlzLmI7XG4gICAgdmFyIGMgPSB0aGlzLmM7XG4gICAgdmFyIGQgPSB0aGlzLmQ7XG5cbiAgICB2YXIgc2tld1ggPSAtTWF0aC5hdGFuMigtYywgZCk7XG4gICAgdmFyIHNrZXdZID0gTWF0aC5hdGFuMihiLCBhKTtcblxuICAgIHZhciBkZWx0YSA9IE1hdGguYWJzKHNrZXdYICsgc2tld1kpO1xuXG4gICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhQSV8yIC0gZGVsdGEpIDwgMC4wMDAwMSlcbiAgICB7XG4gICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IHNrZXdZO1xuICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IDA7XG4gICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSBza2V3WDtcbiAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgIH1cblxuICAgIC8vIG5leHQgc2V0IHNjYWxlXG4gICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoKGEgKiBhKSArIChiICogYikpO1xuICAgIHRyYW5zZm9ybS5zY2FsZS55ID0gTWF0aC5zcXJ0KChjICogYykgKyAoZCAqIGQpKTtcblxuICAgIC8vIG5leHQgc2V0IHBvc2l0aW9uXG4gICAgdHJhbnNmb3JtLnBvc2l0aW9uLnggPSB0aGlzLnR4O1xuICAgIHRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdGhpcy50eTtcblxuICAgIHJldHVybiB0cmFuc2Zvcm07XG59O1xuXG4vKipcbiAqIEludmVydHMgdGhpcyBtYXRyaXhcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiBpbnZlcnQgKClcbntcbiAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgdmFyIGIxID0gdGhpcy5iO1xuICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICB2YXIgZDEgPSB0aGlzLmQ7XG4gICAgdmFyIHR4MSA9IHRoaXMudHg7XG4gICAgdmFyIG4gPSAoYTEgKiBkMSkgLSAoYjEgKiBjMSk7XG5cbiAgICB0aGlzLmEgPSBkMSAvIG47XG4gICAgdGhpcy5iID0gLWIxIC8gbjtcbiAgICB0aGlzLmMgPSAtYzEgLyBuO1xuICAgIHRoaXMuZCA9IGExIC8gbjtcbiAgICB0aGlzLnR4ID0gKChjMSAqIHRoaXMudHkpIC0gKGQxICogdHgxKSkgLyBuO1xuICAgIHRoaXMudHkgPSAtKChhMSAqIHRoaXMudHkpIC0gKGIxICogdHgxKSkgLyBuO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlc2V0cyB0aGlzIE1hdHJpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICpcbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICovXG5NYXRyaXgucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gaWRlbnRpdHkgKClcbntcbiAgICB0aGlzLmEgPSAxO1xuICAgIHRoaXMuYiA9IDA7XG4gICAgdGhpcy5jID0gMDtcbiAgICB0aGlzLmQgPSAxO1xuICAgIHRoaXMudHggPSAwO1xuICAgIHRoaXMudHkgPSAwO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgTWF0cml4IG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAqXG4gKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gQSBjb3B5IG9mIHRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHZhciBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG5cbiAgICByZXR1cm4gbWF0cml4O1xufTtcblxuLyoqXG4gKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiB0aGlzIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSB0by5cbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWF0cml4IGdpdmVuIGluIHBhcmFtZXRlciB3aXRoIGl0cyB2YWx1ZXMgdXBkYXRlZC5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiBjb3B5VG8gKG1hdHJpeClcbntcbiAgICBtYXRyaXguYSA9IHRoaXMuYTtcbiAgICBtYXRyaXguYiA9IHRoaXMuYjtcbiAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICBtYXRyaXguZCA9IHRoaXMuZDtcbiAgICBtYXRyaXgudHggPSB0aGlzLnR4O1xuICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG5cbiAgICByZXR1cm4gbWF0cml4O1xufTtcblxuLyoqXG4gKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiBnaXZlbiBtYXRyaXhcbiAqXG4gKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGNvcHkgZnJvbS5cbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSB0aGlzXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiBjb3B5RnJvbSAobWF0cml4KVxue1xuICAgIHRoaXMuYSA9IG1hdHJpeC5hO1xuICAgIHRoaXMuYiA9IG1hdHJpeC5iO1xuICAgIHRoaXMuYyA9IG1hdHJpeC5jO1xuICAgIHRoaXMuZCA9IG1hdHJpeC5kO1xuICAgIHRoaXMudHggPSBtYXRyaXgudHg7XG4gICAgdGhpcy50eSA9IG1hdHJpeC50eTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBIGRlZmF1bHQgKGlkZW50aXR5KSBtYXRyaXhcbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RcbiAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICovXG5zdGF0aWNBY2Nlc3NvcnMuSURFTlRJVFkuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xufTtcblxuLyoqXG4gKiBBIHRlbXAgbWF0cml4XG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0XG4gKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAqL1xuc3RhdGljQWNjZXNzb3JzLlRFTVBfTUFUUklYLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIG5ldyBNYXRyaXgoKTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBNYXRyaXgsIHN0YXRpY0FjY2Vzc29ycyApO1xuXG4vLyBZb3VyIGZyaWVuZGx5IG5laWdoYm91ciBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaWhlZHJhbF9ncm91cFxuXG4vKlxuICogVHJhbnNmb3JtIG1hdHJpeCBmb3Igb3BlcmF0aW9uIG4gaXM6XG4gKiB8IHV4IHwgdnggfFxuICogfCB1eSB8IHZ5IHxcbiAqL1xuXG52YXIgdXggPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMV07XG52YXIgdXkgPSBbMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnggPSBbMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG52YXIgdnkgPSBbMSwgMSwgMCwgLTEsIC0xLCAtMSwgMCwgMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMV07XG5cbi8qKlxuICogW0NheWxleSBUYWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICogZm9yIHRoZSBjb21wb3NpdGlvbiBvZiBlYWNoIHJvdGF0aW9uIGluIHRoZSBkaWhlZGVyYWwgZ3JvdXAgRDguXG4gKlxuICogQHR5cGUgbnVtYmVyW11bXVxuICogQHByaXZhdGVcbiAqL1xudmFyIHJvdGF0aW9uQ2F5bGV5ID0gW107XG5cbi8qKlxuICogTWF0cmljZXMgZm9yIGVhY2ggYEdEOFN5bW1ldHJ5YCByb3RhdGlvbi5cbiAqXG4gKiBAdHlwZSBNYXRyaXhbXVxuICogQHByaXZhdGVcbiAqL1xudmFyIHJvdGF0aW9uTWF0cmljZXMgPSBbXTtcblxuLypcbiAqIEFsaWFzIGZvciB7QGNvZGUgTWF0aC5zaWdufS5cbiAqL1xudmFyIHNpZ251bSA9IE1hdGguc2lnbjtcblxuLypcbiAqIEluaXRpYWxpemVzIGByb3RhdGlvbkNheWxleWAgYW5kIGByb3RhdGlvbk1hdHJpY2VzYC4gSXQgaXMgY2FsbGVkXG4gKiBvbmx5IG9uY2UgYmVsb3cuXG4gKi9cbmZ1bmN0aW9uIGluaXQoKVxue1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciByb3cgPSBbXTtcblxuICAgICAgICByb3RhdGlvbkNheWxleS5wdXNoKHJvdyk7XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBNdWx0aXBsaWVzIHJvdGF0aW9uIG1hdHJpY2VzIGkgYW5kIGouICovXG4gICAgICAgICAgICB2YXIgX3V4ID0gc2lnbnVtKCh1eFtpXSAqIHV4W2pdKSArICh2eFtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3V5ID0gc2lnbnVtKCh1eVtpXSAqIHV4W2pdKSArICh2eVtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3Z4ID0gc2lnbnVtKCh1eFtpXSAqIHZ4W2pdKSArICh2eFtpXSAqIHZ5W2pdKSk7XG4gICAgICAgICAgICB2YXIgX3Z5ID0gc2lnbnVtKCh1eVtpXSAqIHZ4W2pdKSArICh2eVtpXSAqIHZ5W2pdKSk7XG5cbiAgICAgICAgICAgIC8qIEZpbmRzIHJvdGF0aW9uIG1hdHJpeCBtYXRjaGluZyB0aGUgcHJvZHVjdCBhbmQgcHVzaGVzIGl0LiAqL1xuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCAxNjsgaysrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh1eFtrXSA9PT0gX3V4ICYmIHV5W2tdID09PSBfdXlcbiAgICAgICAgICAgICAgICAgICAgICAmJiB2eFtrXSA9PT0gX3Z4ICYmIHZ5W2tdID09PSBfdnkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgMTY7IGkkMSsrKVxuICAgIHtcbiAgICAgICAgdmFyIG1hdCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBtYXQuc2V0KHV4W2kkMV0sIHV5W2kkMV0sIHZ4W2kkMV0sIHZ5W2kkMV0sIDAsIDApO1xuICAgICAgICByb3RhdGlvbk1hdHJpY2VzLnB1c2gobWF0KTtcbiAgICB9XG59XG5cbmluaXQoKTtcblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge251bWJlcn0gR0Q4U3ltbWV0cnlcbiAqIEBzZWUgUElYSS5Hcm91cEQ4XG4gKi9cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBkaWhlZHJhbCBncm91cCBEOCwgd2hpY2ggaXMgc2ltaWxhciB0b1xuICogW2dyb3VwIEQ0XXtAbGluayBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL0RpaGVkcmFsR3JvdXBENC5odG1sfTtcbiAqIEQ4IGlzIHRoZSBzYW1lIGJ1dCB3aXRoIGRpYWdvbmFscywgYW5kIGl0IGlzIHVzZWQgZm9yIHRleHR1cmVcbiAqIHJvdGF0aW9ucy5cbiAqXG4gKiBUaGUgZGlyZWN0aW9ucyB0aGUgVS0gYW5kIFYtIGF4ZXMgYWZ0ZXIgcm90YXRpb25cbiAqIG9mIGFuIGFuZ2xlIG9mIGBhOiBHRDhDb25zdGFudGAgYXJlIHRoZSB2ZWN0b3JzIGAodVgoYSksIHVZKGEpKWBcbiAqIGFuZCBgKHZYKGEpLCB2WShhKSlgLiBUaGVzZSBhcmVuJ3QgbmVjZXNzYXJpbHkgdW5pdCB2ZWN0b3JzLlxuICpcbiAqICoqT3JpZ2luOioqPGJyPlxuICogIFRoaXMgaXMgdGhlIHNtYWxsIHBhcnQgb2YgZ2FtZW9mYm9tYnMuY29tIHBvcnRhbCBzeXN0ZW0uIEl0IHdvcmtzLlxuICpcbiAqIEBzZWUgUElYSS5Hcm91cEQ4LkVcbiAqIEBzZWUgUElYSS5Hcm91cEQ4LlNFXG4gKiBAc2VlIFBJWEkuR3JvdXBEOC5TXG4gKiBAc2VlIFBJWEkuR3JvdXBEOC5TV1xuICogQHNlZSBQSVhJLkdyb3VwRDguV1xuICogQHNlZSBQSVhJLkdyb3VwRDguTldcbiAqIEBzZWUgUElYSS5Hcm91cEQ4Lk5cbiAqIEBzZWUgUElYSS5Hcm91cEQ4Lk5FXG4gKiBAYXV0aG9yIEl2YW4gQGl2YW5wb3BlbHlzaGV2XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcm91cEQ4ID0ge1xuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gfCBEaXJlY3Rpb24gfFxuICAgICAqIHwtLS0tLS0tLS0tfC0tLS0tLS0tLS0tfFxuICAgICAqIHwgMMKwICAgICAgIHwgRWFzdCAgICAgIHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBFOiAwLFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCA0NcKw4oa7ICAgICB8IFNvdXRoZWFzdCB8XG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgU0U6IDEsXG5cbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDkwwrDihrsgICAgIHwgU291dGggICAgIHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBTOiAyLFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiB8IERpcmVjdGlvbiB8XG4gICAgICogfC0tLS0tLS0tLS18LS0tLS0tLS0tLS18XG4gICAgICogfCAxMzXCsOKGuyAgICB8IFNvdXRod2VzdCB8XG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgU1c6IDMsXG5cbiAgICAvKipcbiAgICAgKiB8IFJvdGF0aW9uIHwgRGlyZWN0aW9uIHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLXxcbiAgICAgKiB8IDE4MMKwICAgICB8IFdlc3QgICAgICB8XG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgVzogNCxcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTEzNcKwLzIyNcKw4oa7IHwgTm9ydGh3ZXN0ICAgIHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBOVzogNSxcblxuICAgIC8qKlxuICAgICAqIHwgUm90YXRpb24gICAgfCBEaXJlY3Rpb24gICAgfFxuICAgICAqIHwtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tfFxuICAgICAqIHwgLTkwwrAvMjcwwrDihrsgIHwgTm9ydGggICAgICAgIHxcbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBOOiA2LFxuXG4gICAgLyoqXG4gICAgICogfCBSb3RhdGlvbiAgICB8IERpcmVjdGlvbiAgICB8XG4gICAgICogfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG4gICAgICogfCAtNDXCsC8zMTXCsOKGuyAgfCBOb3J0aGVhc3QgICAgfFxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE5FOiA3LFxuXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCBZLWF4aXMuXG4gICAgICpcbiAgICAgKiBAY29uc3RhbnQge1BJWEkuR0Q4U3ltbWV0cnl9XG4gICAgICovXG4gICAgTUlSUk9SX1ZFUlRJQ0FMOiA4LFxuXG4gICAgLyoqXG4gICAgICogUmVmbGVjdGlvbiBhYm91dCB0aGUgbWFpbiBkaWFnb25hbC5cbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBNQUlOX0RJQUdPTkFMOiAxMCxcblxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgWC1heGlzLlxuICAgICAqXG4gICAgICogQGNvbnN0YW50IHtQSVhJLkdEOFN5bW1ldHJ5fVxuICAgICAqL1xuICAgIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcblxuICAgIC8qKlxuICAgICAqIFJlZmxlY3Rpb24gYWJvdXQgcmV2ZXJzZSBkaWFnb25hbC5cbiAgICAgKlxuICAgICAqIEBjb25zdGFudCB7UElYSS5HRDhTeW1tZXRyeX1cbiAgICAgKi9cbiAgICBSRVZFUlNFX0RJQUdPTkFMOiAxNCxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWC1jb21wb25lbnQgb2YgdGhlIFUtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHVYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eFtpbmRdOyB9LFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gaW5kIC0gc3ByaXRlIHJvdGF0aW9uIGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBZLWNvbXBvbmVudCBvZiB0aGUgVS1heGlzXG4gICAgICogICAgYWZ0ZXIgcm90YXRpbmcgdGhlIGF4ZXMuXG4gICAgICovXG4gICAgdVk6IGZ1bmN0aW9uIChpbmQpIHsgcmV0dXJuIHV5W2luZF07IH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSBpbmQgLSBzcHJpdGUgcm90YXRpb24gYW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gVGhlIFgtY29tcG9uZW50IG9mIHRoZSBWLWF4aXNcbiAgICAgKiAgICBhZnRlciByb3RhdGluZyB0aGUgYXhlcy5cbiAgICAgKi9cbiAgICB2WDogZnVuY3Rpb24gKGluZCkgeyByZXR1cm4gdnhbaW5kXTsgfSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IGluZCAtIHNwcml0ZSByb3RhdGlvbiBhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBUaGUgWS1jb21wb25lbnQgb2YgdGhlIFYtYXhpc1xuICAgICAqICAgIGFmdGVyIHJvdGF0aW5nIHRoZSBheGVzLlxuICAgICAqL1xuICAgIHZZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eVtpbmRdOyB9LFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBzeW1tZXRyeSB3aG9zZSBvcHBvc2l0ZVxuICAgICAqICAgaXMgbmVlZGVkLiBPbmx5IHJvdGF0aW9ucyBoYXZlIG9wcG9zaXRlIHN5bW1ldHJpZXMgd2hpbGVcbiAgICAgKiAgIHJlZmxlY3Rpb25zIGRvbid0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0Q4U3ltbWV0cnl9IFRoZSBvcHBvc2l0ZSBzeW1tZXRyeSBvZiBgcm90YXRpb25gXG4gICAgICovXG4gICAgaW52OiBmdW5jdGlvbiAocm90YXRpb24pIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uICYgOCkvLyB0cnVlIG9ubHkgaWYgYmV0d2VlbiA4ICYgMTUgKHJlZmxlY3Rpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcm90YXRpb24gJiAxNTsvLyBvciByb3RhdGlvbiAlIDE2XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKC1yb3RhdGlvbikgJiA3Oy8vIG9yICg4IC0gcm90YXRpb24pICUgOFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb21wb3NlcyB0aGUgdHdvIEQ4IG9wZXJhdGlvbnMuXG4gICAgICpcbiAgICAgKiBUYWtpbmcgYF5gIGFzIHJlZmxlY3Rpb246XG4gICAgICpcbiAgICAgKiB8ICAgICAgIHwgRT0wIHwgUz0yIHwgVz00IHwgTj02IHwgRV49OCB8IFNePTEwIHwgV149MTIgfCBOXj0xNCB8XG4gICAgICogfC0tLS0tLS18LS0tLS18LS0tLS18LS0tLS18LS0tLS18LS0tLS0tfC0tLS0tLS18LS0tLS0tLXwtLS0tLS0tfFxuICAgICAqIHwgRT0wICAgfCBFICAgfCBTICAgfCBXICAgfCBOICAgfCBFXiAgIHwgU14gICAgfCBXXiAgICB8IE5eICAgIHxcbiAgICAgKiB8IFM9MiAgIHwgUyAgIHwgVyAgIHwgTiAgIHwgRSAgIHwgU14gICB8IFdeICAgIHwgTl4gICAgfCBFXiAgICB8XG4gICAgICogfCBXPTQgICB8IFcgICB8IE4gICB8IEUgICB8IFMgICB8IFdeICAgfCBOXiAgICB8IEVeICAgIHwgU14gICAgfFxuICAgICAqIHwgTj02ICAgfCBOICAgfCBFICAgfCBTICAgfCBXICAgfCBOXiAgIHwgRV4gICAgfCBTXiAgICB8IFdeICAgIHxcbiAgICAgKiB8IEVePTggIHwgRV4gIHwgTl4gIHwgV14gIHwgU14gIHwgRSAgICB8IE4gICAgIHwgVyAgICAgfCBTICAgICB8XG4gICAgICogfCBTXj0xMCB8IFNeICB8IEVeICB8IE5eICB8IFdeICB8IFMgICAgfCBFICAgICB8IE4gICAgIHwgVyAgICAgfFxuICAgICAqIHwgV149MTIgfCBXXiAgfCBTXiAgfCBFXiAgfCBOXiAgfCBXICAgIHwgUyAgICAgfCBFICAgICB8IE4gICAgIHxcbiAgICAgKiB8IE5ePTE0IHwgTl4gIHwgV14gIHwgU14gIHwgRV4gIHwgTiAgICB8IFcgICAgIHwgUyAgICAgfCBFICAgICB8XG4gICAgICpcbiAgICAgKiBbVGhpcyBpcyBhIENheWxleSB0YWJsZV17QGxpbmsgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2F5bGV5X3RhYmxlfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uU2Vjb25kIC0gU2Vjb25kIG9wZXJhdGlvbiwgd2hpY2hcbiAgICAgKiAgIGlzIHRoZSByb3cgaW4gdGhlIGFib3ZlIGNheWxleSB0YWJsZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb24sIHdoaWNoXG4gICAgICogICBpcyB0aGUgY29sdW1uIGluIHRoZSBhYm92ZSBjYXlsZXkgdGFibGUuXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gQ29tcG9zZWQgb3BlcmF0aW9uXG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbiAocm90YXRpb25TZWNvbmQsIHJvdGF0aW9uRmlyc3QpIHsgcmV0dXJuIChcbiAgICAgICAgcm90YXRpb25DYXlsZXlbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdXG4gICAgKTsgfSxcblxuICAgIC8qKlxuICAgICAqIFJldmVyc2Ugb2YgYGFkZGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvblNlY29uZCAtIFNlY29uZCBvcGVyYXRpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuR0Q4U3ltbWV0cnl9IHJvdGF0aW9uRmlyc3QgLSBGaXJzdCBvcGVyYXRpb25cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdEOFN5bW1ldHJ5fSBSZXN1bHRcbiAgICAgKi9cbiAgICBzdWI6IGZ1bmN0aW9uIChyb3RhdGlvblNlY29uZCwgcm90YXRpb25GaXJzdCkgeyByZXR1cm4gKFxuICAgICAgICByb3RhdGlvbkNheWxleVtyb3RhdGlvblNlY29uZF1bR3JvdXBEOC5pbnYocm90YXRpb25GaXJzdCldXG4gICAgKTsgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgMTgwIGRlZ3JlZXMgdG8gcm90YXRpb24sIHdoaWNoIGlzIGEgY29tbXV0YXRpdmVcbiAgICAgKiBvcGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byByb3RhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUm90YXRlZCBudW1iZXJcbiAgICAgKi9cbiAgICByb3RhdGUxODA6IGZ1bmN0aW9uIChyb3RhdGlvbikgeyByZXR1cm4gcm90YXRpb24gXiA0OyB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSByb3RhdGlvbiBhbmdsZSBpcyB2ZXJ0aWNhbCwgaS5lLiBzb3V0aFxuICAgICAqIG9yIG5vcnRoLiBJdCBkb2Vzbid0IHdvcmsgZm9yIHJlZmxlY3Rpb25zLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5HRDhTeW1tZXRyeX0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgZGlyZWN0aW9uIGlzIHZlcnRpY2FsXG4gICAgICovXG4gICAgaXNWZXJ0aWNhbDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7IHJldHVybiAocm90YXRpb24gJiAzKSA9PT0gMjsgfSwgLy8gcm90YXRpb24gJSA0ID09PSAyXG5cbiAgICAvKipcbiAgICAgKiBBcHByb3hpbWF0ZXMgdGhlIHZlY3RvciBgVihkeCxkeSlgIGludG8gb25lIG9mIHRoZVxuICAgICAqIGVpZ2h0IGRpcmVjdGlvbnMgcHJvdmlkZWQgYnkgYEdyb3VwRDhgLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeCAtIFgtY29tcG9uZW50IG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZHkgLSBZLWNvbXBvbmVudCBvZiB0aGUgdmVjdG9yXG4gICAgICogQHJldHVybiB7UElYSS5HRDhTeW1tZXRyeX0gQXBwcm94aW1hdGlvbiBvZiB0aGUgdmVjdG9yIGludG9cbiAgICAgKiAgb25lIG9mIHRoZSBlaWdodCBzeW1tZXRyaWVzLlxuICAgICAqL1xuICAgIGJ5RGlyZWN0aW9uOiBmdW5jdGlvbiAoZHgsIGR5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguTjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkeSkgKiAyIDw9IE1hdGguYWJzKGR4KSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR4ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5FO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5XO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR4ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguU1c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5ORTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBHcm91cEQ4Lk5XO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwcyBzcHJpdGUgdG8gY29tcGVuc2F0ZSB0ZXh0dXJlIHBhY2tlciByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBzcHJpdGUgd29ybGQgbWF0cml4XG4gICAgICogQHBhcmFtIHtQSVhJLkdEOFN5bW1ldHJ5fSByb3RhdGlvbiAtIFRoZSByb3RhdGlvbiBmYWN0b3IgdG8gdXNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICovXG4gICAgbWF0cml4QXBwZW5kUm90YXRpb25JbnY6IGZ1bmN0aW9uIChtYXRyaXgsIHJvdGF0aW9uLCB0eCwgdHkpIHtcbiAgICAgICAgaWYgKCB0eCA9PT0gdm9pZCAwICkgdHggPSAwO1xuICAgICAgICBpZiAoIHR5ID09PSB2b2lkIDAgKSB0eSA9IDA7XG5cbiAgICAgICAgLy8gUGFja2VyIHVzZWQgXCJyb3RhdGlvblwiLCB3ZSB1c2UgXCJpbnYocm90YXRpb24pXCJcbiAgICAgICAgdmFyIG1hdCA9IHJvdGF0aW9uTWF0cmljZXNbR3JvdXBEOC5pbnYocm90YXRpb24pXTtcblxuICAgICAgICBtYXQudHggPSB0eDtcbiAgICAgICAgbWF0LnR5ID0gdHk7XG4gICAgICAgIG1hdHJpeC5hcHBlbmQobWF0KTtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhhdCB0YWtlcyBjYXJlIGFib3V0IGl0cyB2ZXJzaW9uc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRyYW5zZm9ybSA9IGZ1bmN0aW9uIFRyYW5zZm9ybSgpXG57XG4gICAgLyoqXG4gICAgICogVGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqL1xuICAgIHRoaXMud29ybGRUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHRoaXMuc2NhbGUgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDEsIDEpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICB0aGlzLnBpdm90ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBza2V3IGFtb3VudCwgb24gdGhlIHggYW5kIHkgYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHRoaXMuc2tldyA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy51cGRhdGVTa2V3LCB0aGlzLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiBhbW91bnQuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX3JvdGF0aW9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWCBheGlzLFxuICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX2N4ID0gMTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBZLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWCBheGlzLFxuICAgICAqIHRoZSBmaXJzdCBjb2x1bW4gb2YgdGhlIGxvY2FsIHRyYW5zZm9ybWF0aW9uIG1hdHJpeCB3aXRob3V0IGEgc2NhbGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX3N4ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBYLWNvb3JkaW5hdGUgdmFsdWUgb2YgdGhlIG5vcm1hbGl6ZWQgbG9jYWwgWSBheGlzLFxuICAgICAqIHRoZSBzZWNvbmQgY29sdW1uIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXggd2l0aG91dCBhIHNjYWxlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLl9jeSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgWS1jb29yZGluYXRlIHZhbHVlIG9mIHRoZSBub3JtYWxpemVkIGxvY2FsIFkgYXhpcyxcbiAgICAgKiB0aGUgc2Vjb25kIGNvbHVtbiBvZiB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4IHdpdGhvdXQgYSBzY2FsZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5fc3kgPSAxO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX2xvY2FsSUQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxvY2FsbHkgdW5pcXVlIElEIG9mIHRoZSBsb2NhbCB0cmFuc2Zvcm1cbiAgICAgKiB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgY3VycmVudCBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgd29ybGQgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLl93b3JsZElEID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhbGx5IHVuaXF1ZSBJRCBvZiB0aGUgcGFyZW50J3Mgd29ybGQgdHJhbnNmb3JtXG4gICAgICogdXNlZCB0byBjYWxjdWxhdGUgdGhlIGN1cnJlbnQgd29ybGQgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDEgPSB7IHJvdGF0aW9uOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gYSB2YWx1ZSBjaGFuZ2VzLlxuICpcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuVHJhbnNmb3JtLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlICgpXG57XG4gICAgdGhpcy5fbG9jYWxJRCsrO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiB0aGUgc2tldyBvciB0aGUgcm90YXRpb24gY2hhbmdlcy5cbiAqXG4gKiBAcHJvdGVjdGVkXG4gKi9cblRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlU2tldyA9IGZ1bmN0aW9uIHVwZGF0ZVNrZXcgKClcbntcbiAgICB0aGlzLl9jeCA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICB0aGlzLl9zeCA9IE1hdGguc2luKHRoaXMuX3JvdGF0aW9uICsgdGhpcy5za2V3Ll95KTtcbiAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgIHRoaXMuX3N5ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gLSB0aGlzLnNrZXcuX3gpOyAvLyBzaW4sIGFkZGVkIFBJLzJcblxuICAgIHRoaXMuX2xvY2FsSUQrKztcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgbG9jYWwgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICovXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnVwZGF0ZUxvY2FsVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlTG9jYWxUcmFuc2Zvcm0gKClcbntcbiAgICB2YXIgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKVxuICAgIHtcbiAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgIGx0LmIgPSB0aGlzLl9zeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUuX3k7XG4gICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUuX3k7XG5cbiAgICAgICAgbHQudHggPSB0aGlzLnBvc2l0aW9uLl94IC0gKCh0aGlzLnBpdm90Ll94ICogbHQuYSkgKyAodGhpcy5waXZvdC5feSAqIGx0LmMpKTtcbiAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLl95IC0gKCh0aGlzLnBpdm90Ll94ICogbHQuYikgKyAodGhpcy5waXZvdC5feSAqIGx0LmQpKTtcbiAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuXG4gICAgICAgIC8vIGZvcmNlIGFuIHVwZGF0ZS4uXG4gICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgfVxufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBsb2NhbCBhbmQgdGhlIHdvcmxkIHRyYW5zZm9ybWF0aW9uIG1hdHJpY2VzLlxuICpcbiAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHBhcmVudFRyYW5zZm9ybSAtIFRoZSBwYXJlbnQgdHJhbnNmb3JtXG4gKi9cblRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtIChwYXJlbnRUcmFuc2Zvcm0pXG57XG4gICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRClcbiAgICB7XG4gICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLl95O1xuICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLl95O1xuXG4gICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi5feCAtICgodGhpcy5waXZvdC5feCAqIGx0LmEpICsgKHRoaXMucGl2b3QuX3kgKiBsdC5jKSk7XG4gICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi5feSAtICgodGhpcy5waXZvdC5feCAqIGx0LmIpICsgKHRoaXMucGl2b3QuX3kgKiBsdC5kKSk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9wYXJlbnRJRCAhPT0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEKVxuICAgIHtcbiAgICAgICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgICAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgd3QuYSA9IChsdC5hICogcHQuYSkgKyAobHQuYiAqIHB0LmMpO1xuICAgICAgICB3dC5iID0gKGx0LmEgKiBwdC5iKSArIChsdC5iICogcHQuZCk7XG4gICAgICAgIHd0LmMgPSAobHQuYyAqIHB0LmEpICsgKGx0LmQgKiBwdC5jKTtcbiAgICAgICAgd3QuZCA9IChsdC5jICogcHQuYikgKyAobHQuZCAqIHB0LmQpO1xuICAgICAgICB3dC50eCA9IChsdC50eCAqIHB0LmEpICsgKGx0LnR5ICogcHQuYykgKyBwdC50eDtcbiAgICAgICAgd3QudHkgPSAobHQudHggKiBwdC5iKSArIChsdC50eSAqIHB0LmQpICsgcHQudHk7XG5cbiAgICAgICAgdGhpcy5fcGFyZW50SUQgPSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQ7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBpZCBvZiB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5fd29ybGRJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICpcbiAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gZGVjb21wb3NlXG4gKi9cblRyYW5zZm9ybS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeCA9IGZ1bmN0aW9uIHNldEZyb21NYXRyaXggKG1hdHJpeClcbntcbiAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMpO1xuICAgIHRoaXMuX2xvY2FsSUQrKztcbn07XG5cbi8qKlxuICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnJvdGF0aW9uLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEucm90YXRpb24uc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fcm90YXRpb24gIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVTa2V3KCk7XG4gICAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRyYW5zZm9ybS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQxICk7XG5cbi8qKlxuICogQSBkZWZhdWx0IChpZGVudGl0eSkgdHJhbnNmb3JtXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAqL1xuVHJhbnNmb3JtLklERU5USVRZID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4vKipcbiAqIFNpemUgb2JqZWN0LCBjb250YWlucyB3aWR0aCBhbmQgaGVpZ2h0XG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElTaXplXG4gKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGggLSBXaWR0aCBjb21wb25lbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgY29tcG9uZW50XG4gKi9cblxuLyoqXG4gKiBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgZGVmaW5lZCBieSBpdHMgcG9zaXRpb24sIGFzIGluZGljYXRlZCBieSBpdHMgdG9wLWxlZnQgY29ybmVyXG4gKiBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZWN0YW5nbGUgPSBmdW5jdGlvbiBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodClcbntcbiAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgIGlmICggeSA9PT0gdm9pZCAwICkgeSA9IDA7XG4gICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAwO1xuICAgIGlmICggaGVpZ2h0ID09PSB2b2lkIDAgKSBoZWlnaHQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IE51bWJlcih5KTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IE51bWJlcih3aWR0aCk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUkVDVDtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMiA9IHsgbGVmdDogeyBjb25maWd1cmFibGU6IHRydWUgfSxyaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0b3A6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYm90dG9tOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG52YXIgc3RhdGljQWNjZXNzb3JzJDEgPSB7IEVNUFRZOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQyLmxlZnQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy54O1xufTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSByaWdodCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQyLnJpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIHRvcCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQyLnRvcC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLnk7XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQyLmJvdHRvbS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbn07XG5cbi8qKlxuICogQSBjb25zdGFudCBlbXB0eSByZWN0YW5nbGUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAqL1xuc3RhdGljQWNjZXNzb3JzJDEuRU1QVFkuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUmVjdGFuZ2xlXG4gKlxuICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcmVjdGFuZ2xlXG4gKi9cblJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59O1xuXG4vKipcbiAqIENvcGllcyBhbm90aGVyIHJlY3RhbmdsZSB0byB0aGlzIG9uZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgZnJvbS5cbiAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIGNvcHlGcm9tIChyZWN0YW5nbGUpXG57XG4gICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgdGhpcy55ID0gcmVjdGFuZ2xlLnk7XG4gICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ29waWVzIHRoaXMgcmVjdGFuZ2xlIHRvIGFub3RoZXIgb25lLlxuICpcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3RhbmdsZSAtIFRoZSByZWN0YW5nbGUgdG8gY29weSB0by5cbiAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGdpdmVuIHBhcmFtZXRlci5cbiAqL1xuUmVjdGFuZ2xlLnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiBjb3B5VG8gKHJlY3RhbmdsZSlcbntcbiAgICByZWN0YW5nbGUueCA9IHRoaXMueDtcbiAgICByZWN0YW5nbGUueSA9IHRoaXMueTtcbiAgICByZWN0YW5nbGUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgIHJlY3RhbmdsZS5oZWlnaHQgPSB0aGlzLmhlaWdodDtcblxuICAgIHJldHVybiByZWN0YW5nbGU7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgUmVjdGFuZ2xlXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgUmVjdGFuZ2xlXG4gKi9cblJlY3RhbmdsZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyAoeCwgeSlcbntcbiAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHggPj0gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoKVxuICAgIHtcbiAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFBhZHMgdGhlIHJlY3RhbmdsZSBtYWtpbmcgaXQgZ3JvdyBpbiBhbGwgZGlyZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gcGFkZGluZ1ggLSBUaGUgaG9yaXpvbnRhbCBwYWRkaW5nIGFtb3VudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nWSAtIFRoZSB2ZXJ0aWNhbCBwYWRkaW5nIGFtb3VudC5cbiAqL1xuUmVjdGFuZ2xlLnByb3RvdHlwZS5wYWQgPSBmdW5jdGlvbiBwYWQgKHBhZGRpbmdYLCBwYWRkaW5nWSlcbntcbiAgICBwYWRkaW5nWCA9IHBhZGRpbmdYIHx8IDA7XG4gICAgcGFkZGluZ1kgPSBwYWRkaW5nWSB8fCAoKHBhZGRpbmdZICE9PSAwKSA/IHBhZGRpbmdYIDogMCk7XG5cbiAgICB0aGlzLnggLT0gcGFkZGluZ1g7XG4gICAgdGhpcy55IC09IHBhZGRpbmdZO1xuXG4gICAgdGhpcy53aWR0aCArPSBwYWRkaW5nWCAqIDI7XG4gICAgdGhpcy5oZWlnaHQgKz0gcGFkZGluZ1kgKiAyO1xufTtcblxuLyoqXG4gKiBGaXRzIHRoaXMgcmVjdGFuZ2xlIGFyb3VuZCB0aGUgcGFzc2VkIG9uZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGZpdC5cbiAqL1xuUmVjdGFuZ2xlLnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiBmaXQgKHJlY3RhbmdsZSlcbntcbiAgICB2YXIgeDEgPSBNYXRoLm1heCh0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICB2YXIgeDIgPSBNYXRoLm1pbih0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgdmFyIHkxID0gTWF0aC5tYXgodGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgdmFyIHkyID0gTWF0aC5taW4odGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG5cbiAgICB0aGlzLnggPSB4MTtcbiAgICB0aGlzLndpZHRoID0gTWF0aC5tYXgoeDIgLSB4MSwgMCk7XG4gICAgdGhpcy55ID0geTE7XG4gICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh5MiAtIHkxLCAwKTtcbn07XG5cbi8qKlxuICogRW5sYXJnZXMgcmVjdGFuZ2xlIHRoYXQgd2F5IGl0cyBjb3JuZXJzIGxpZSBvbiBncmlkXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIHJlc29sdXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZXBzPTAuMDAxXSBwcmVjaXNpb25cbiAqL1xuUmVjdGFuZ2xlLnByb3RvdHlwZS5jZWlsID0gZnVuY3Rpb24gY2VpbCAocmVzb2x1dGlvbiwgZXBzKVxue1xuICAgICAgICBpZiAoIHJlc29sdXRpb24gPT09IHZvaWQgMCApIHJlc29sdXRpb24gPSAxO1xuICAgICAgICBpZiAoIGVwcyA9PT0gdm9pZCAwICkgZXBzID0gMC4wMDE7XG5cbiAgICB2YXIgeDIgPSBNYXRoLmNlaWwoKHRoaXMueCArIHRoaXMud2lkdGggLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgIHZhciB5MiA9IE1hdGguY2VpbCgodGhpcy55ICsgdGhpcy5oZWlnaHQgLSBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuXG4gICAgdGhpcy54ID0gTWF0aC5mbG9vcigodGhpcy54ICsgZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICB0aGlzLnkgPSBNYXRoLmZsb29yKCh0aGlzLnkgKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuXG4gICAgdGhpcy53aWR0aCA9IHgyIC0gdGhpcy54O1xuICAgIHRoaXMuaGVpZ2h0ID0geTIgLSB0aGlzLnk7XG59O1xuXG4vKipcbiAqIEVubGFyZ2VzIHRoaXMgcmVjdGFuZ2xlIHRvIGluY2x1ZGUgdGhlIHBhc3NlZCByZWN0YW5nbGUuXG4gKlxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBpbmNsdWRlLlxuICovXG5SZWN0YW5nbGUucHJvdG90eXBlLmVubGFyZ2UgPSBmdW5jdGlvbiBlbmxhcmdlIChyZWN0YW5nbGUpXG57XG4gICAgdmFyIHgxID0gTWF0aC5taW4odGhpcy54LCByZWN0YW5nbGUueCk7XG4gICAgdmFyIHgyID0gTWF0aC5tYXgodGhpcy54ICsgdGhpcy53aWR0aCwgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGgpO1xuICAgIHZhciB5MSA9IE1hdGgubWluKHRoaXMueSwgcmVjdGFuZ2xlLnkpO1xuICAgIHZhciB5MiA9IE1hdGgubWF4KHRoaXMueSArIHRoaXMuaGVpZ2h0LCByZWN0YW5nbGUueSArIHJlY3RhbmdsZS5oZWlnaHQpO1xuXG4gICAgdGhpcy54ID0geDE7XG4gICAgdGhpcy53aWR0aCA9IHgyIC0geDE7XG4gICAgdGhpcy55ID0geTE7XG4gICAgdGhpcy5oZWlnaHQgPSB5MiAtIHkxO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFJlY3RhbmdsZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQyICk7XG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggUmVjdGFuZ2xlLCBzdGF0aWNBY2Nlc3NvcnMkMSApO1xuXG4vKipcbiAqIFRoZSBDaXJjbGUgb2JqZWN0IGlzIHVzZWQgdG8gaGVscCBkcmF3IGdyYXBoaWNzIGFuZCBjYW4gYWxzbyBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ2lyY2xlID0gZnVuY3Rpb24gQ2lyY2xlKHgsIHksIHJhZGl1cylcbntcbiAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgIGlmICggeSA9PT0gdm9pZCAwICkgeSA9IDA7XG4gICAgaWYgKCByYWRpdXMgPT09IHZvaWQgMCApIHJhZGl1cyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLkNJUkNcbiAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICovXG4gICAgdGhpcy50eXBlID0gU0hBUEVTLkNJUkM7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge1BJWEkuQ2lyY2xlfSBhIGNvcHkgb2YgdGhlIENpcmNsZVxuICovXG5DaXJjbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICByZXR1cm4gbmV3IENpcmNsZSh0aGlzLngsIHRoaXMueSwgdGhpcy5yYWRpdXMpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGNpcmNsZVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIENpcmNsZVxuICovXG5DaXJjbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMgKHgsIHkpXG57XG4gICAgaWYgKHRoaXMucmFkaXVzIDw9IDApXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHIyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICB2YXIgZHggPSAodGhpcy54IC0geCk7XG4gICAgdmFyIGR5ID0gKHRoaXMueSAtIHkpO1xuXG4gICAgZHggKj0gZHg7XG4gICAgZHkgKj0gZHk7XG5cbiAgICByZXR1cm4gKGR4ICsgZHkgPD0gcjIpO1xufTtcblxuLyoqXG4qIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBjaXJjbGUgYXMgYSBSZWN0YW5nbGUgb2JqZWN0XG4qXG4qIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiovXG5DaXJjbGUucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIGdldEJvdW5kcyAoKVxue1xuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCAtIHRoaXMucmFkaXVzLCB0aGlzLnkgLSB0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMgKiAyLCB0aGlzLnJhZGl1cyAqIDIpO1xufTtcblxuLyoqXG4gKiBUaGUgRWxsaXBzZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBFbGxpcHNlID0gZnVuY3Rpb24gRWxsaXBzZSh4LCB5LCBoYWxmV2lkdGgsIGhhbGZIZWlnaHQpXG57XG4gICAgaWYgKCB4ID09PSB2b2lkIDAgKSB4ID0gMDtcbiAgICBpZiAoIHkgPT09IHZvaWQgMCApIHkgPSAwO1xuICAgIGlmICggaGFsZldpZHRoID09PSB2b2lkIDAgKSBoYWxmV2lkdGggPSAwO1xuICAgIGlmICggaGFsZkhlaWdodCA9PT0gdm9pZCAwICkgaGFsZkhlaWdodCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSBoYWxmV2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gaGFsZkhlaWdodDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5FTElQXG4gICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5FTElQO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBFbGxpcHNlIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7UElYSS5FbGxpcHNlfSBhIGNvcHkgb2YgdGhlIGVsbGlwc2VcbiAqL1xuRWxsaXBzZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkcyBhcmUgd2l0aGluIHRoaXMgZWxsaXBzZVxuICovXG5FbGxpcHNlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zICh4LCB5KVxue1xuICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBub3JtYWxpemUgdGhlIGNvb3JkcyB0byBhbiBlbGxpcHNlIHdpdGggY2VudGVyIDAsMFxuICAgIHZhciBub3JteCA9ICgoeCAtIHRoaXMueCkgLyB0aGlzLndpZHRoKTtcbiAgICB2YXIgbm9ybXkgPSAoKHkgLSB0aGlzLnkpIC8gdGhpcy5oZWlnaHQpO1xuXG4gICAgbm9ybXggKj0gbm9ybXg7XG4gICAgbm9ybXkgKj0gbm9ybXk7XG5cbiAgICByZXR1cm4gKG5vcm14ICsgbm9ybXkgPD0gMSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBlbGxpcHNlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICpcbiAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAqL1xuRWxsaXBzZS5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzICgpXG57XG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy53aWR0aCwgdGhpcy55IC0gdGhpcy5oZWlnaHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbn07XG5cbi8qKlxuICogQSBjbGFzcyB0byBkZWZpbmUgYSBzaGFwZSB2aWEgdXNlciBkZWZpbmVkIGNvLW9yaW5hdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvbHlnb24gPSBmdW5jdGlvbiBQb2x5Z29uKClcbntcbiAgICB2YXIgcG9pbnRzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIHBvaW50c1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocG9pbnRzWzBdKSlcbiAgICB7XG4gICAgICAgIHBvaW50cyA9IHBvaW50c1swXTtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGlzIGlzIGFuIGFycmF5IG9mIHBvaW50cywgY29udmVydCBpdCB0byBhIGZsYXQgYXJyYXkgb2YgbnVtYmVyc1xuICAgIGlmIChwb2ludHNbMF0gaW5zdGFuY2VvZiBQb2ludClcbiAgICB7XG4gICAgICAgIHZhciBwID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHAucHVzaChwb2ludHNbaV0ueCwgcG9pbnRzW2ldLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnRzID0gcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB0aGUgcG9pbnRzIG9mIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUE9MWVxuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUE9MWTtcblxuICAgIC8qKlxuICAgICAqIGBmYWxzZWAgYWZ0ZXIgbW92ZVRvLCBgdHJ1ZWAgYWZ0ZXIgYGNsb3NlUGF0aGAuIEluIGFsbCBvdGhlciBjYXNlcyBpdCBpcyBgdHJ1ZWAuXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgdGhpcy5jbG9zZVN0cm9rZSA9IHRydWU7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvbHlnb25cbiAqXG4gKiBAcmV0dXJuIHtQSVhJLlBvbHlnb259IGEgY29weSBvZiB0aGUgcG9seWdvblxuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgdmFyIHBvbHlnb24gPSBuZXcgUG9seWdvbih0aGlzLnBvaW50cy5zbGljZSgpKTtcblxuICAgIHBvbHlnb24uY2xvc2VTdHJva2UgPSB0aGlzLmNsb3NlU3Ryb2tlO1xuXG4gICAgcmV0dXJuIHBvbHlnb247XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgcG9seWdvblxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAqL1xuUG9seWdvbi5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyAoeCwgeSlcbntcbiAgICB2YXIgaW5zaWRlID0gZmFsc2U7XG5cbiAgICAvLyB1c2Ugc29tZSByYXljYXN0aW5nIHRvIHRlc3QgaGl0c1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zdWJzdGFjay9wb2ludC1pbi1wb2x5Z29uL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gICAgdmFyIGxlbmd0aCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspXG4gICAge1xuICAgICAgICB2YXIgeGkgPSB0aGlzLnBvaW50c1tpICogMl07XG4gICAgICAgIHZhciB5aSA9IHRoaXMucG9pbnRzWyhpICogMikgKyAxXTtcbiAgICAgICAgdmFyIHhqID0gdGhpcy5wb2ludHNbaiAqIDJdO1xuICAgICAgICB2YXIgeWogPSB0aGlzLnBvaW50c1soaiAqIDIpICsgMV07XG4gICAgICAgIHZhciBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT09ICh5aiA+IHkpKSAmJiAoeCA8ICgoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpKSArIHhpKTtcblxuICAgICAgICBpZiAoaW50ZXJzZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc2lkZTtcbn07XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUm91bmRlZFJlY3RhbmdsZSA9IGZ1bmN0aW9uIFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKVxue1xuICAgIGlmICggeCA9PT0gdm9pZCAwICkgeCA9IDA7XG4gICAgaWYgKCB5ID09PSB2b2lkIDAgKSB5ID0gMDtcbiAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDA7XG4gICAgaWYgKCBoZWlnaHQgPT09IHZvaWQgMCApIGhlaWdodCA9IDA7XG4gICAgaWYgKCByYWRpdXMgPT09IHZvaWQgMCApIHJhZGl1cyA9IDIwO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDIwXG4gICAgICovXG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUlJFQ1xuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUlJFQztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAqL1xuUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gKi9cblJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMgKHgsIHkpXG57XG4gICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoKVxuICAgIHtcbiAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgoeSA+PSB0aGlzLnkgKyB0aGlzLnJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpXG4gICAgICAgICAgICB8fCAoeCA+PSB0aGlzLnggKyB0aGlzLnJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgIHZhciBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuXG4gICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIE1hdGggY2xhc3NlcyBhbmQgdXRpbGl0aWVzIG1peGVkIGludG8gUElYSSBuYW1lc3BhY2UuXG4gKlxuICogQGxlbmRzIFBJWElcbiAqL1xuXG5leHBvcnQgeyBDaXJjbGUsIERFR19UT19SQUQsIEVsbGlwc2UsIEdyb3VwRDgsIE1hdHJpeCwgT2JzZXJ2YWJsZVBvaW50LCBQSV8yLCBQb2ludCwgUG9seWdvbiwgUkFEX1RPX0RFRywgUmVjdGFuZ2xlLCBSb3VuZGVkUmVjdGFuZ2xlLCBTSEFQRVMsIFRyYW5zZm9ybSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0aC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZGlzcGxheSAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9kaXNwbGF5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUsIFJBRF9UT19ERUcsIERFR19UT19SQUQsIFRyYW5zZm9ybSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBTZXRzIHRoZSBkZWZhdWx0IHZhbHVlIGZvciB0aGUgY29udGFpbmVyIHByb3BlcnR5ICdzb3J0YWJsZUNoaWxkcmVuJy5cbiAqIElmIHNldCB0byB0cnVlLCB0aGUgY29udGFpbmVyIHdpbGwgc29ydCBpdHMgY2hpbGRyZW4gYnkgekluZGV4IHZhbHVlXG4gKiB3aGVuIHVwZGF0ZVRyYW5zZm9ybSgpIGlzIGNhbGxlZCwgb3IgbWFudWFsbHkgaWYgc29ydENoaWxkcmVuKCkgaXMgY2FsbGVkLlxuICpcbiAqIFRoaXMgYWN0dWFsbHkgY2hhbmdlcyB0aGUgb3JkZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LCBzbyBzaG91bGQgYmUgdHJlYXRlZFxuICogYXMgYSBiYXNpYyBzb2x1dGlvbiB0aGF0IGlzIG5vdCBwZXJmb3JtYW50IGNvbXBhcmVkIHRvIG90aGVyIHNvbHV0aW9ucyxcbiAqIHN1Y2ggYXMgQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWRpc3BsYXlcbiAqXG4gKiBBbHNvIGJlIGF3YXJlIG9mIHRoYXQgdGhpcyBtYXkgbm90IHdvcmsgbmljZWx5IHdpdGggdGhlIGFkZENoaWxkQXQoKSBmdW5jdGlvbixcbiAqIGFzIHRoZSB6SW5kZXggc29ydGluZyBtYXkgY2F1c2UgdGhlIGNoaWxkIHRvIGF1dG9tYXRpY2FsbHkgc29ydGVkIHRvIGFub3RoZXIgcG9zaXRpb24uXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBTT1JUQUJMRV9DSElMRFJFTlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU4gPSBmYWxzZTtcblxuLyoqXG4gKiAnQnVpbGRlcicgcGF0dGVybiBmb3IgYm91bmRzIHJlY3RhbmdsZXMuXG4gKlxuICogVGhpcyBjb3VsZCBiZSBjYWxsZWQgYW4gQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveC5cbiAqIEl0IGlzIG5vdCBhbiBhY3R1YWwgc2hhcGUuIEl0IGlzIGEgbXV0YWJsZSB0aGluZzsgbm8gJ0VNUFRZJyBvciB0aG9zZSBraW5kIG9mIHByb2JsZW1zLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IGZ1bmN0aW9uIEJvdW5kcygpXG57XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuXG4gICAgdGhpcy5yZWN0ID0gbnVsbDtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGJvdW5kcyBhcmUgZW1wdHkuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbXB0eS5cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSAoKVxue1xuICAgIHJldHVybiB0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZO1xufTtcblxuLyoqXG4gKiBDbGVhcnMgdGhlIGJvdW5kcyBhbmQgcmVzZXRzLlxuICpcbiAqL1xuQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG57XG4gICAgdGhpcy51cGRhdGVJRCsrO1xuXG4gICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbn07XG5cbi8qKlxuICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICogSXQgaXMgbm90IGd1YXJhbnRlZWQgdGhhdCBpdCB3aWxsIHJldHVybiB0ZW1wUmVjdFxuICpcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICogQHJldHVybnMge1BJWEkuUmVjdGFuZ2xlfSBBIHJlY3RhbmdsZSBvZiB0aGUgYm91bmRzXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlID0gZnVuY3Rpb24gZ2V0UmVjdGFuZ2xlIChyZWN0KVxue1xuICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFJlY3RhbmdsZS5FTVBUWTtcbiAgICB9XG5cbiAgICByZWN0ID0gcmVjdCB8fCBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgcmVjdC54ID0gdGhpcy5taW5YO1xuICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICByZWN0LndpZHRoID0gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xuICAgIHJlY3QuaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuXG4gICAgcmV0dXJuIHJlY3Q7XG59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gKlxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIFRoZSBwb2ludCB0byBhZGQuXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnQgPSBmdW5jdGlvbiBhZGRQb2ludCAocG9pbnQpXG57XG4gICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2ludC54KTtcbiAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHBvaW50LngpO1xuICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2ludC55KTtcbn07XG5cbi8qKlxuICogQWRkcyBhIHF1YWQsIG5vdCB0cmFuc2Zvcm1lZFxuICpcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkUXVhZCA9IGZ1bmN0aW9uIGFkZFF1YWQgKHZlcnRpY2VzKVxue1xuICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgdmFyIHggPSB2ZXJ0aWNlc1swXTtcbiAgICB2YXIgeSA9IHZlcnRpY2VzWzFdO1xuXG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gdmVydGljZXNbMl07XG4gICAgeSA9IHZlcnRpY2VzWzNdO1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IHZlcnRpY2VzWzRdO1xuICAgIHkgPSB2ZXJ0aWNlc1s1XTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICB5ID0gdmVydGljZXNbN107XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xufTtcblxuLyoqXG4gKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gKlxuICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gVE9ET1xuICogQHBhcmFtIHtudW1iZXJ9IHgwIC0gVE9ET1xuICogQHBhcmFtIHtudW1iZXJ9IHkwIC0gVE9ET1xuICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVE9ET1xuICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVE9ET1xuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZEZyYW1lID0gZnVuY3Rpb24gYWRkRnJhbWUgKHRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpXG57XG4gICAgdmFyIG1hdHJpeCA9IHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB2YXIgYSA9IG1hdHJpeC5hO1xuICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICB2YXIgZCA9IG1hdHJpeC5kO1xuICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG5cbiAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgIHZhciB4ID0gKGEgKiB4MCkgKyAoYyAqIHkwKSArIHR4O1xuICAgIHZhciB5ID0gKGIgKiB4MCkgKyAoZCAqIHkwKSArIHR5O1xuXG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkwKSArIHR4O1xuICAgIHkgPSAoYiAqIHgxKSArIChkICogeTApICsgdHk7XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gKGEgKiB4MCkgKyAoYyAqIHkxKSArIHR4O1xuICAgIHkgPSAoYiAqIHgwKSArIChkICogeTEpICsgdHk7XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkxKSArIHR4O1xuICAgIHkgPSAoYiAqIHgxKSArIChkICogeTEpICsgdHk7XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xufTtcblxuLyoqXG4gKiBBZGRzIHNjcmVlbiB2ZXJ0aWNlcyBmcm9tIGFycmF5XG4gKlxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRleERhdGEgLSBjYWxjdWxhdGVkIHZlcnRpY2VzXG4gKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBlbmQgb2Zmc2V0LCBleGNsdWRlZFxuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZFZlcnRleERhdGEgPSBmdW5jdGlvbiBhZGRWZXJ0ZXhEYXRhICh2ZXJ0ZXhEYXRhLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KVxue1xuICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgZm9yICh2YXIgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpXG4gICAge1xuICAgICAgICB2YXIgeCA9IHZlcnRleERhdGFbaV07XG4gICAgICAgIHZhciB5ID0gdmVydGV4RGF0YVtpICsgMV07XG5cbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgfVxuXG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgdGhpcy5tYXhZID0gbWF4WTtcbn07XG5cbi8qKlxuICogQWRkIGFuIGFycmF5IG9mIG1lc2ggdmVydGljZXNcbiAqXG4gKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSB0cmFuc2Zvcm0gLSBtZXNoIHRyYW5zZm9ybVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IHZlcnRpY2VzIC0gbWVzaCBjb29yZGluYXRlcyBpbiBhcnJheVxuICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0aWNlcyA9IGZ1bmN0aW9uIGFkZFZlcnRpY2VzICh0cmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KVxue1xuICAgIHZhciBtYXRyaXggPSB0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuXG4gICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMilcbiAgICB7XG4gICAgICAgIHZhciByYXdYID0gdmVydGljZXNbaV07XG4gICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICB2YXIgeCA9IChhICogcmF3WCkgKyAoYyAqIHJhd1kpICsgdHg7XG4gICAgICAgIHZhciB5ID0gKGQgKiByYXdZKSArIChiICogcmF3WCkgKyB0eTtcblxuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICB9XG5cbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xufTtcblxuLyoqXG4gKiBBZGRzIG90aGVyIEJvdW5kc1xuICpcbiAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRCb3VuZHMgPSBmdW5jdGlvbiBhZGRCb3VuZHMgKGJvdW5kcylcbntcbiAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgIHRoaXMubWluWCA9IGJvdW5kcy5taW5YIDwgbWluWCA/IGJvdW5kcy5taW5YIDogbWluWDtcbiAgICB0aGlzLm1pblkgPSBib3VuZHMubWluWSA8IG1pblkgPyBib3VuZHMubWluWSA6IG1pblk7XG4gICAgdGhpcy5tYXhYID0gYm91bmRzLm1heFggPiBtYXhYID8gYm91bmRzLm1heFggOiBtYXhYO1xuICAgIHRoaXMubWF4WSA9IGJvdW5kcy5tYXhZID4gbWF4WSA/IGJvdW5kcy5tYXhZIDogbWF4WTtcbn07XG5cbi8qKlxuICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIEJvdW5kc1xuICpcbiAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IG1hc2sgLSBUT0RPXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzTWFzayA9IGZ1bmN0aW9uIGFkZEJvdW5kc01hc2sgKGJvdW5kcywgbWFzaylcbntcbiAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IG1hc2subWluWCA/IGJvdW5kcy5taW5YIDogbWFzay5taW5YO1xuICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gbWFzay5taW5ZID8gYm91bmRzLm1pblkgOiBtYXNrLm1pblk7XG4gICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBtYXNrLm1heFggPyBib3VuZHMubWF4WCA6IG1hc2subWF4WDtcbiAgICB2YXIgX21heFkgPSBib3VuZHMubWF4WSA8IG1hc2subWF4WSA/IGJvdW5kcy5tYXhZIDogbWFzay5tYXhZO1xuXG4gICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKVxuICAgIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gX21pblggPCBtaW5YID8gX21pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IF9tYXhYID4gbWF4WCA/IF9tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gX21heFkgPiBtYXhZID8gX21heFkgOiBtYXhZO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIFJlY3RhbmdsZVxuICpcbiAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGFyZWEgLSBUT0RPXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzQXJlYSA9IGZ1bmN0aW9uIGFkZEJvdW5kc0FyZWEgKGJvdW5kcywgYXJlYSlcbntcbiAgICB2YXIgX21pblggPSBib3VuZHMubWluWCA+IGFyZWEueCA/IGJvdW5kcy5taW5YIDogYXJlYS54O1xuICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gYXJlYS55ID8gYm91bmRzLm1pblkgOiBhcmVhLnk7XG4gICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBhcmVhLnggKyBhcmVhLndpZHRoID8gYm91bmRzLm1heFggOiAoYXJlYS54ICsgYXJlYS53aWR0aCk7XG4gICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBhcmVhLnkgKyBhcmVhLmhlaWdodCA/IGJvdW5kcy5tYXhZIDogKGFyZWEueSArIGFyZWEuaGVpZ2h0KTtcblxuICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSlcbiAgICB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICB9XG59O1xuXG4vLyBfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgRGlzcGxheU9iamVjdCgpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGNsYXNzIGZvciBhbGwgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCBvbiB0aGUgc2NyZWVuLlxuICpcbiAqIFRoaXMgaXMgYW4gYWJzdHJhY3QgY2xhc3MgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBvbiBpdHMgb3duOyByYXRoZXIgaXQgc2hvdWxkIGJlIGV4dGVuZGVkLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBEaXNwbGF5T2JqZWN0ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnRFbWl0dGVyKSB7XG4gICAgZnVuY3Rpb24gRGlzcGxheU9iamVjdCgpXG4gICAge1xuICAgICAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIGNyZWF0ZSBUcmFuc2Zvcm0gZnJvbSBmYWN0b3J5XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXb3JsZCB0cmFuc2Zvcm0gYW5kIGxvY2FsIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICogVGhpcyB3aWxsIGJlY29tZSByZWFkLW9ubHkgbGF0ZXIsIHBsZWFzZSBkbyBub3QgYXNzaWduIGFueXRoaW5nIHRoZXJlIHVubGVzcyB5b3Uga25vdyB3aGF0IGFyZSB5b3UgZG9pbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgb2JqZWN0LiBJZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduLCBhbmRcbiAgICAgICAgICogdGhlIHVwZGF0ZVRyYW5zZm9ybSBmdW5jdGlvbiB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgb3IgY2FsbCB1cGRhdGVUcmFuc2Zvcm0gbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW4gdGhpcyBvYmplY3QgYmUgcmVuZGVyZWQsIGlmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24gYnV0IHRoZSB1cGRhdGVUcmFuc2Zvcm1cbiAgICAgICAgICogbWV0aG9kcyB3aWxsIHN0aWxsIGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXIgdGhhdCBjb250YWlucyB0aGlzIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBsaWVkIGFscGhhIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hpY2ggaW5kZXggaW4gdGhlIGNoaWxkcmVuIGFycmF5IHRoZSBkaXNwbGF5IGNvbXBvbmVudCB3YXMgYmVmb3JlIHRoZSBwcmV2aW91cyB6SW5kZXggc29ydC5cbiAgICAgICAgICogVXNlZCBieSBjb250YWluZXJzIHRvIGhlbHAgc29ydCBvYmplY3RzIHdpdGggdGhlIHNhbWUgekluZGV4LCBieSB1c2luZyBwcmV2aW91cyBhcnJheSBpbmRleCBhcyB0aGUgZGVjaWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0U29ydGVkSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgekluZGV4IG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiBBIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSByZW5kZXJlZCBvbiB0b3Agb2Ygb3RoZXIgZGlzcGxheU9iamVjdHMgd2l0aGluIHRoZSBzYW1lIGNvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl96SW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJlYSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQgdG8uIFRoaXMgaXMgdXNlZCBhcyBtb3JlIG9mIGFuIG9wdGltaXphdGlvblxuICAgICAgICAgKiByYXRoZXIgdGhhbiBmaWd1cmluZyBvdXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGRpc3BsYXlPYmplY3QgZWFjaCBmcmFtZSB5b3UgY2FuIHNldCB0aGlzIHJlY3RhbmdsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyB3b3JrcyBhcyBhbiBpbnRlcmFjdGlvbiBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHs/UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBmaWx0ZXJzIGZvciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBUbyByZW1vdmUgZmlsdGVycyBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYCdudWxsJ2AuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgez9QSVhJLkZpbHRlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIG9iamVjdCwgdGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSBhbmQgc3RvcmUgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzSUQgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0Qm91bmRzSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcmlnaW5hbCwgY2FjaGVkIG1hc2sgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc3xQSVhJLlNwcml0ZXxudWxsfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXNrID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjYWRkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBhZGRlZCB0by5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgcmVtb3ZlZCBmcm9tLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQgdmlhIGRlc3Ryb3koKS4gSWYgdHJ1ZSwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3ByaXRlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCBFdmVudEVtaXR0ZXIgKSBEaXNwbGF5T2JqZWN0Ll9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlcjtcbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciAmJiBFdmVudEVtaXR0ZXIucHJvdG90eXBlICk7XG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEaXNwbGF5T2JqZWN0O1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0seTogeyBjb25maWd1cmFibGU6IHRydWUgfSx3b3JsZFRyYW5zZm9ybTogeyBjb25maWd1cmFibGU6IHRydWUgfSxsb2NhbFRyYW5zZm9ybTogeyBjb25maWd1cmFibGU6IHRydWUgfSxwb3NpdGlvbjogeyBjb25maWd1cmFibGU6IHRydWUgfSxzY2FsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxwaXZvdDogeyBjb25maWd1cmFibGU6IHRydWUgfSxza2V3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJvdGF0aW9uOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFuZ2xlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHpJbmRleDogeyBjb25maWd1cmFibGU6IHRydWUgfSx3b3JsZFZpc2libGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWFzazogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0Lm1peGluID0gZnVuY3Rpb24gbWl4aW4gKHNvdXJjZSlcbiAgICB7XG4gICAgICAgIC8vIGluIEVTOC9FUzIwMTcsIHRoaXMgd291bGQgYmUgcmVhbGx5IGVhc3k6XG4gICAgICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG5cbiAgICAgICAgLy8gZ2V0IGFsbCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBrZXlzXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggcHJvcGVydGllc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBrZXlzW2ldO1xuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIHByb3BlcnR5IHVzaW5nIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIC0gdGhpcyB3b3JrcyBmb3IgYWNjZXNzb3JzIGFuZCBub3JtYWwgdmFsdWUgcHJvcGVydGllc1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZSxcbiAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgcHJvcGVydHlOYW1lKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogVE9ETyAtIE9wdGltaXphdGlvbiBwYXNzIVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIG11bHRpcGx5IHRoZSBhbHBoYXMuLlxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAqIGludGVybmFsIGZ1bmN0aW9uIGZvciB0b0xvY2FsKClcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIF9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Ll9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVdIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gICAgICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gICAgICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3QuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0Qm91bmRzID0gZnVuY3Rpb24gZ2V0Qm91bmRzIChza2lwVXBkYXRlLCByZWN0KVxuICAgIHtcbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm91bmRzSUQgIT09IHRoaXMuX2xhc3RCb3VuZHNJRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2JvdW5kc1JlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2JvdW5kc1JlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyAocmVjdClcbiAgICB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1SZWYgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHBhcmVudFJlZiA9IHRoaXMucGFyZW50O1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRCb3VuZHMoZmFsc2UsIHJlY3QpO1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50UmVmO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVJlZjtcblxuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0uXG4gICAgICogQHJldHVybiB7UElYSS5JUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9HbG9iYWwgPSBmdW5jdGlvbiB0b0dsb2JhbCAocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKVxuICAgIHtcbiAgICAgICAgaWYgKCBza2lwVXBkYXRlID09PSB2b2lkIDAgKSBza2lwVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSBsb3RcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHkocG9zaXRpb24sIHBvaW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFtmcm9tXSAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNhbGN1bGF0ZSB0aGUgZ2xvYmFsIHBvc2l0aW9uIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuSVBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9Mb2NhbCA9IGZ1bmN0aW9uIHRvTG9jYWwgKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSlcbiAgICB7XG4gICAgICAgIGlmIChmcm9tKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGZyb20udG9HbG9iYWwocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaW1wbHkgYXBwbHkgdGhlIG1hdHJpeC4uXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlci5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICAvLyBPVkVSV1JJVEU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IENvbnRhaW5lciBvZiB0aGlzIERpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgQ29udGFpbmVyIHRvIGFkZCB0aGlzIERpc3BsYXlPYmplY3QgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5Db250YWluZXJ9IFRoZSBDb250YWluZXIgdGhhdCB0aGlzIERpc3BsYXlPYmplY3Qgd2FzIGFkZGVkIHRvLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFBhcmVudCA9IGZ1bmN0aW9uIHNldFBhcmVudCAoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci5hZGRDaGlsZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRQYXJlbnQ6IEFyZ3VtZW50IG11c3QgYmUgYSBDb250YWluZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBzZXQgdGhlIHBvc2l0aW9uLCBzY2FsZSwgc2tldyBhbmQgcGl2b3QgYXQgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWD0xXSAtIFRoZSBYIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVk9MV0gLSBUaGUgWSBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdYPTBdIC0gVGhlIFggc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1k9MF0gLSBUaGUgWSBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFg9MF0gLSBUaGUgWCBwaXZvdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RZPTBdIC0gVGhlIFkgcGl2b3QgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSwgcGl2b3RYLCBwaXZvdFkpXG4gICAge1xuICAgICAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgICAgICBpZiAoIHkgPT09IHZvaWQgMCApIHkgPSAwO1xuICAgICAgICBpZiAoIHNjYWxlWCA9PT0gdm9pZCAwICkgc2NhbGVYID0gMTtcbiAgICAgICAgaWYgKCBzY2FsZVkgPT09IHZvaWQgMCApIHNjYWxlWSA9IDE7XG4gICAgICAgIGlmICggcm90YXRpb24gPT09IHZvaWQgMCApIHJvdGF0aW9uID0gMDtcbiAgICAgICAgaWYgKCBza2V3WCA9PT0gdm9pZCAwICkgc2tld1ggPSAwO1xuICAgICAgICBpZiAoIHNrZXdZID09PSB2b2lkIDAgKSBza2V3WSA9IDA7XG4gICAgICAgIGlmICggcGl2b3RYID09PSB2b2lkIDAgKSBwaXZvdFggPSAwO1xuICAgICAgICBpZiAoIHBpdm90WSA9PT0gdm9pZCAwICkgcGl2b3RZID0gMDtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgICAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gIXNjYWxlWSA/IDEgOiBzY2FsZVk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICAgICAgdGhpcy5za2V3LnkgPSBza2V3WTtcbiAgICAgICAgdGhpcy5waXZvdC54ID0gcGl2b3RYO1xuICAgICAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJhc2UgZGVzdHJveSBtZXRob2QgZm9yIGdlbmVyaWMgZGlzcGxheSBvYmplY3RzLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIHJlbW92ZSB0aGUgZGlzcGxheSBvYmplY3QgZnJvbSBpdHMgcGFyZW50IENvbnRhaW5lciBhcyB3ZWxsIGFzIHJlbW92ZVxuICAgICAqIGFsbCBjdXJyZW50IGV2ZW50IGxpc3RlbmVycyBhbmQgaW50ZXJuYWwgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhIERpc3BsYXlPYmplY3RcbiAgICAgKiBhZnRlciBjYWxsaW5nIGBkZXN0cm95KClgLlxuICAgICAqXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9jdXJyZW50Qm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMueC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB5IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy55LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMueS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud29ybGRUcmFuc2Zvcm0uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiBsb2NhbCBmYWN0b3JzOiBwb3NpdGlvbiwgc2NhbGUsIG90aGVyIHN0dWZmLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmxvY2FsVHJhbnNmb3JtLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5JUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnBvc2l0aW9uLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb247XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5wb3NpdGlvbi5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5JUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNjYWxlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2NhbGU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zY2FsZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uc2NhbGUuY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucGl2b3QuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnBpdm90LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5waXZvdC5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBza2V3IGZhY3RvciBmb3IgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5za2V3LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2tldztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNrZXcuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnNrZXcuY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqICdyb3RhdGlvbicgYW5kICdhbmdsZScgaGF2ZSB0aGUgc2FtZSBlZmZlY3Qgb24gYSBkaXNwbGF5IG9iamVjdDsgcm90YXRpb24gaXMgaW4gcmFkaWFucywgYW5nbGUgaXMgaW4gZGVncmVlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm90YXRpb24uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdGF0aW9uLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5nbGUgb2YgdGhlIG9iamVjdCBpbiBkZWdyZWVzLlxuICAgICAqICdyb3RhdGlvbicgYW5kICdhbmdsZScgaGF2ZSB0aGUgc2FtZSBlZmZlY3Qgb24gYSBkaXNwbGF5IG9iamVjdDsgcm90YXRpb24gaXMgaW4gcmFkaWFucywgYW5nbGUgaXMgaW4gZGVncmVlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5nbGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAqIFJBRF9UT19ERUc7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbmdsZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZSAqIERFR19UT19SQUQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICogSWYgYSBjb250YWluZXIgaGFzIHRoZSBzb3J0YWJsZUNoaWxkcmVuIHByb3BlcnR5IHNldCB0byB0cnVlLCBjaGlsZHJlbiB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICAgKiBzb3J0ZWQgYnkgekluZGV4IHZhbHVlOyBhIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSBtb3ZlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIGFycmF5LFxuICAgICAqIGFuZCB0aHVzIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy56SW5kZXguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl96SW5kZXg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy56SW5kZXguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3pJbmRleCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoZSBvYmplY3QgaXMgZ2xvYmFsbHkgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndvcmxkVmlzaWJsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzO1xuXG4gICAgICAgIGRvXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghaXRlbS52aXNpYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbSA9IGl0ZW0ucGFyZW50O1xuICAgICAgICB9IHdoaWxlIChpdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICogb2JqZWN0IHRvIHRoZSBzaGFwZSBvZiB0aGUgbWFzayBhcHBsaWVkIHRvIGl0LiBJbiBQaXhpSlMgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICoge0BsaW5rIFBJWEkuR3JhcGhpY3N9IG9yIGEge0BsaW5rIFBJWEkuU3ByaXRlfSBvYmplY3QuIFRoaXMgYWxsb3dzIGZvciBtdWNoIGZhc3RlciBtYXNraW5nIGluIGNhbnZhcyBhcyBpdFxuICAgICAqIHV0aWxpdGllcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gYG51bGxgLlxuICAgICAqXG4gICAgICogRm9yIHNwcml0ZSBtYXNrIGJvdGggYWxwaGEgYW5kIHJlZCBjaGFubmVsIGFyZSB1c2VkLiBCbGFjayBtYXNrIGlzIHRoZSBzYW1lIGFzIHRyYW5zcGFyZW50IG1hc2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICogZ3JhcGhpY3MuYmVnaW5GaWxsKDB4RkYzMzAwKTtcbiAgICAgKiBncmFwaGljcy5kcmF3UmVjdCg1MCwgMjUwLCAxMDAsIDEwMCk7XG4gICAgICogZ3JhcGhpY3MuZW5kRmlsbCgpO1xuICAgICAqXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5tYXNrID0gZ3JhcGhpY3M7XG4gICAgICogQHRvZG8gQXQgdGhlIG1vbWVudCwgUElYSS5DYW52YXNSZW5kZXJlciBkb2Vzbid0IHN1cHBvcnQgUElYSS5TcHJpdGUgYXMgbWFzay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV8bnVsbH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWFzay5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXNrLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbWFzay5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX21hc2suaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX21hc2sucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbWFzay5pc01hc2sgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gRGlzcGxheU9iamVjdDtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogRGlzcGxheU9iamVjdCBkZWZhdWx0IHVwZGF0ZVRyYW5zZm9ybSwgZG9lcyBub3QgdXBkYXRlIGNoaWxkcmVuIG9mIGNvbnRhaW5lci5cbiAqIFdpbGwgY3Jhc2ggaWYgdGhlcmUncyBubyBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQGZ1bmN0aW9uIGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm1cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSA9IERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcblxuZnVuY3Rpb24gc29ydENoaWxkcmVuKGEsIGIpXG57XG4gICAgaWYgKGEuekluZGV4ID09PSBiLnpJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiBhLl9sYXN0U29ydGVkSW5kZXggLSBiLl9sYXN0U29ydGVkSW5kZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEuekluZGV4IC0gYi56SW5kZXg7XG59XG5cbi8qKlxuICogQSBDb250YWluZXIgcmVwcmVzZW50cyBhIGNvbGxlY3Rpb24gb2YgZGlzcGxheSBvYmplY3RzLlxuICpcbiAqIEl0IGlzIHRoZSBiYXNlIGNsYXNzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgdGhhdCBhY3QgYXMgYSBjb250YWluZXIgZm9yIG90aGVyIG9iamVjdHMgKGxpa2UgU3ByaXRlcykuXG4gKlxuICpgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRGlzcGxheU9iamVjdFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvbnRhaW5lciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKERpc3BsYXlPYmplY3QpIHtcbiAgICBmdW5jdGlvbiBDb250YWluZXIoKVxuICAgIHtcbiAgICAgICAgRGlzcGxheU9iamVjdC5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJyYXkgb2YgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdFtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAgICAgICAgICogd2hlbiB1cGRhdGVUcmFuc2Zvcm0oKSBpcyBjYWxsZWQsIG9yIG1hbnVhbGx5IGlmIHNvcnRDaGlsZHJlbigpIGlzIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gICAgICAgICAqIGFzIGEgYmFzaWMgc29sdXRpb24gdGhhdCBpcyBub3QgcGVyZm9ybWFudCBjb21wYXJlZCB0byBvdGhlciBzb2x1dGlvbnMsXG4gICAgICAgICAqIHN1Y2ggYXMgQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWRpc3BsYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQWxzbyBiZSBhd2FyZSBvZiB0aGF0IHRoaXMgbWF5IG5vdCB3b3JrIG5pY2VseSB3aXRoIHRoZSBhZGRDaGlsZEF0KCkgZnVuY3Rpb24sXG4gICAgICAgICAqIGFzIHRoZSB6SW5kZXggc29ydGluZyBtYXkgY2F1c2UgdGhlIGNoaWxkIHRvIGF1dG9tYXRpY2FsbHkgc29ydGVkIHRvIGFub3RoZXIgcG9zaXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5TT1JUQUJMRV9DSElMRFJFTlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3J0YWJsZUNoaWxkcmVuID0gc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBjaGlsZHJlbiBiZSBzb3J0ZWQgYnkgekluZGV4IGF0IHRoZSBuZXh0IHVwZGF0ZVRyYW5zZm9ybSBjYWxsLlxuICAgICAgICAgKiBXaWxsIGdldCBhdXRvbWF0aWNhbGx5IHNldCB0byB0cnVlIGlmIGEgbmV3IGNoaWxkIGlzIGFkZGVkLCBvciBpZiBhIGNoaWxkJ3MgekluZGV4IGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQ29udGFpbmVyI2NoaWxkQWRkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIGFkZGVkIHRvIHRoZSBDb250YWluZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdGhhdCBhZGRlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBjaGlsZHJlbidzIGluZGV4IG9mIHRoZSBhZGRlZCBjaGlsZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSB0aGlzIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkRnJvbVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgcmVtb3ZlZCBmcm9tIHRoZSBDb250YWluZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdGhhdCByZW1vdmVkIHJlbW92ZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgZm9ybWVyIGNoaWxkcmVuJ3MgaW5kZXggb2YgdGhlIHJlbW92ZWQgY2hpbGRcbiAgICAgICAgICovXG4gICAgfVxuXG4gICAgaWYgKCBEaXNwbGF5T2JqZWN0ICkgQ29udGFpbmVyLl9fcHJvdG9fXyA9IERpc3BsYXlPYmplY3Q7XG4gICAgQ29udGFpbmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIERpc3BsYXlPYmplY3QgJiYgRGlzcGxheU9iamVjdC5wcm90b3R5cGUgKTtcbiAgICBDb250YWluZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29udGFpbmVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBtZXRob2QgdGhhdCBjYW4gYmUgdXNlZCBieSBDb250YWluZXIgc3ViY2xhc3NlcyB3aGVuZXZlciB0aGUgY2hpbGRyZW4gYXJyYXkgaXMgbW9kaWZpZWRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoaWxkcmVuQ2hhbmdlICgpXG4gICAge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiBhZGRDaGlsZCAoY2hpbGQpXG4gICAge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIGFyZ3VtZW50c0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgb25seSBvbmUgYXJndW1lbnQgd2UgY2FuIGJ5cGFzcyBsb29waW5nIHRocm91Z2ggdGhlIHRoZW1cbiAgICAgICAgaWYgKGFyZ3VtZW50c0xlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnRzIHByb3BlcnR5IGFuZCBhZGQgYWxsIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyB1c2UgaXQgdGhlIHJpZ2h0IHdheSAoLmxlbmd0aCBhbmQgW2ldKSBzbyB0aGF0IHRoaXMgZnVuY3Rpb24gY2FuIHN0aWxsIGJlIG9wdGltaXplZCBieSBKUyBydW50aW1lc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHNMZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGFyZ3VtZW50cyQxW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBoYXMgYSBwYXJlbnQgdGhlbiBsZXRzIHJlbW92ZSBpdCBhcyBQaXhpSlMgb2JqZWN0cyBjYW4gb25seSBleGlzdCBpbiBvbmUgcGxhY2VcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuc29ydERpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNoaWxkIHRvIHRoZSBjb250YWluZXIgYXQgYSBzcGVjaWZpZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIHBsYWNlIHRoZSBjaGlsZCBpblxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGRBdCA9IGZ1bmN0aW9uIGFkZENoaWxkQXQgKGNoaWxkLCBpbmRleClcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChjaGlsZCArIFwiYWRkQ2hpbGRBdDogVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTd2FwcyB0aGUgcG9zaXRpb24gb2YgMiBEaXNwbGF5IE9iamVjdHMgd2l0aGluIHRoaXMgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gRmlyc3QgZGlzcGxheSBvYmplY3QgdG8gc3dhcFxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZDIgLSBTZWNvbmQgZGlzcGxheSBvYmplY3QgdG8gc3dhcFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc3dhcENoaWxkcmVuID0gZnVuY3Rpb24gc3dhcENoaWxkcmVuIChjaGlsZCwgY2hpbGQyKVxuICAgIHtcbiAgICAgICAgaWYgKGNoaWxkID09PSBjaGlsZDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB2YXIgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDFdID0gY2hpbGQyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4Ml0gPSBjaGlsZDtcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IHBvc2l0aW9uIG9mIGEgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgdG8gaWRlbnRpZnlcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBpbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3QgdG8gaWRlbnRpZnlcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkSW5kZXggPSBmdW5jdGlvbiBnZXRDaGlsZEluZGV4IChjaGlsZClcbiAgICB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBwb3NpdGlvbiBvZiBhbiBleGlzdGluZyBjaGlsZCBpbiB0aGUgZGlzcGxheSBvYmplY3QgY29udGFpbmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gc2V0Q2hpbGRJbmRleCAoY2hpbGQsIGluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIlRoZSBpbmRleCBcIiArIGluZGV4ICsgXCIgc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyBcIiArICh0aGlzLmNoaWxkcmVuLmxlbmd0aCkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuXG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG5cbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGQgYXQgdGhlIHNwZWNpZmllZCBpbmRleFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQgPSBmdW5jdGlvbiBnZXRDaGlsZEF0IChpbmRleClcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJnZXRDaGlsZEF0OiBJbmRleCAoXCIgKyBpbmRleCArIFwiKSBkb2VzIG5vdCBleGlzdC5cIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9uZSBvciBtb3JlIGNoaWxkcmVuIGZyb20gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkIChjaGlsZClcbiAgICB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pemVkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQoYXJndW1lbnRzJDFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZEF0ID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRBdCAoaW5kZXgpXG4gICAge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmdldENoaWxkQXQoaW5kZXgpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWQuLlxuICAgICAgICBjaGlsZC5wYXJlbnQgPSBudWxsO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcblxuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhpcyBjb250YWluZXIgdGhhdCBhcmUgd2l0aGluIHRoZSBiZWdpbiBhbmQgZW5kIGluZGV4ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luSW5kZXg9MF0gLSBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kSW5kZXg9dGhpcy5jaGlsZHJlbi5sZW5ndGhdIC0gVGhlIGVuZGluZyBwb3NpdGlvbi4gRGVmYXVsdCB2YWx1ZSBpcyBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4gKGJlZ2luSW5kZXgsIGVuZEluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKCBiZWdpbkluZGV4ID09PSB2b2lkIDAgKSBiZWdpbkluZGV4ID0gMDtcblxuICAgICAgICB2YXIgYmVnaW4gPSBiZWdpbkluZGV4O1xuICAgICAgICB2YXIgZW5kID0gdHlwZW9mIGVuZEluZGV4ID09PSAnbnVtYmVyJyA/IGVuZEluZGV4IDogdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIHZhciByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICB2YXIgcmVtb3ZlZDtcblxuICAgICAgICBpZiAocmFuZ2UgPiAwICYmIHJhbmdlIDw9IGVuZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVtb3ZlZCA9IHRoaXMuY2hpbGRyZW4uc3BsaWNlKGJlZ2luLCByYW5nZSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRbaV0udHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoYmVnaW5JbmRleCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHJlbW92ZWQubGVuZ3RoOyArK2kkMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2kkMV0uZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgcmVtb3ZlZFtpJDFdLCB0aGlzLCBpJDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU29ydHMgY2hpbGRyZW4gYnkgekluZGV4LiBQcmV2aW91cyBvcmRlciBpcyBtYW50YWluZWQgZm9yIDIgY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSB6SW5kZXguXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zb3J0Q2hpbGRyZW4gPSBmdW5jdGlvbiBzb3J0Q2hpbGRyZW4kMSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHNvcnRSZXF1aXJlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGNoaWxkLl9sYXN0U29ydGVkSW5kZXggPSBpO1xuXG4gICAgICAgICAgICBpZiAoIXNvcnRSZXF1aXJlZCAmJiBjaGlsZC56SW5kZXggIT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc29ydFJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzb3J0UmVxdWlyZWQgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNvcnQoc29ydENoaWxkcmVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvbiBhbGwgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIgZm9yIHJlbmRlcmluZ1xuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zb3J0YWJsZUNoaWxkcmVuICYmIHRoaXMuc29ydERpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNvcnRDaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcblxuICAgICAgICAvLyBUT0RPOiBjaGVjayByZW5kZXIgZmxhZ3MsIGhvdyB0byBwcm9jZXNzIHN0dWZmIGhlcmVcbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnZpc2libGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmICghY2hpbGQudmlzaWJsZSB8fCAhY2hpbGQucmVuZGVyYWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQuY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IGZpbHRlcittYXNrLCBuZWVkIHRvIG1hc2sgYm90aCBzb21laG93XG4gICAgICAgICAgICBpZiAoY2hpbGQuX21hc2spXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX21hc2suY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgY2hpbGQuX21hc2suX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGlsZC5maWx0ZXJBcmVhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNBcmVhKGNoaWxkLl9ib3VuZHMsIGNoaWxkLmZpbHRlckFyZWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHMoY2hpbGQuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0Qm91bmRzSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdC4gT3ZlcnJpZGUgdGhpcyB0b1xuICAgICAqIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBzcGVjaWZpYyBvYmplY3QgKG5vdCBpbmNsdWRpbmcgY2hpbGRyZW4pLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIC8vIEZJTEwgSU4vL1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkbyBhIHF1aWNrIGNoZWNrIHRvIHNlZSBpZiB0aGlzIGVsZW1lbnQgaGFzIGEgbWFzayBvciBhIGZpbHRlci5cbiAgICAgICAgaWYgKHRoaXMuX21hc2sgfHwgKHRoaXMuZmlsdGVycyAmJiB0aGlzLmZpbHRlcnMubGVuZ3RoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIGFuZCBhZHZhbmNlZCBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJBZHZhbmNlZCA9IGZ1bmN0aW9uIHJlbmRlckFkdmFuY2VkIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7XG4gICAgICAgIHZhciBtYXNrID0gdGhpcy5fbWFzaztcblxuICAgICAgICAvLyBwdXNoIGZpbHRlciBmaXJzdCBhcyB3ZSBuZWVkIHRvIGVuc3VyZSB0aGUgc3RlbmNpbCBidWZmZXIgaXMgY29ycmVjdCBmb3IgYW55IG1hc2tpbmdcbiAgICAgICAgaWYgKGZpbHRlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZW5hYmxlZEZpbHRlcnMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJzW2ldLmVuYWJsZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucHVzaCh0aGlzLCB0aGlzLl9lbmFibGVkRmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wdXNoKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoaXMgb2JqZWN0IHRvIHRoZSBiYXRjaCwgb25seSByZW5kZXJlZCBpZiBpdCBoYXMgYSB0ZXh0dXJlLlxuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIG5vdyBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIGFuZCBtYWtlIHN1cmUgdGhleSBnZXQgcmVuZGVyZWRcbiAgICAgICAgZm9yICh2YXIgaSQxID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpJDEgPCBqOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpJDFdLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChtYXNrKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnBvcCh0aGlzLCB0aGlzLl9tYXNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyBhbmQgbGlzdGVuZXJzIGFzIHdlbGwgYXMgcmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXG4gICAgICogRG8gbm90IHVzZSBhIENvbnRhaW5lciBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBkZXN0cm95Q2hpbGRyZW4gPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5jaGlsZHJlbjtcblxuICAgICAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcblxuICAgICAgICBpZiAoZGVzdHJveUNoaWxkcmVuKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZENoaWxkcmVuLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcblxuICAgICAgICBpZiAod2lkdGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHZhbHVlIC8gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlLnkgKiB0aGlzLmdldExvY2FsQm91bmRzKCkuaGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcblxuICAgICAgICBpZiAoaGVpZ2h0ICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIENvbnRhaW5lci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIENvbnRhaW5lcjtcbn0oRGlzcGxheU9iamVjdCkpO1xuXG4vLyBwZXJmb3JtYW5jZSBpbmNyZWFzZSB0byBhdm9pZCB1c2luZyBjYWxsLi4gKDEweCBmYXN0ZXIpXG5Db250YWluZXIucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSA9IENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5leHBvcnQgeyBCb3VuZHMsIENvbnRhaW5lciwgRGlzcGxheU9iamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcGxheS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvYWNjZXNzaWJpbGl0eSAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgaXNNb2JpbGUsIHJlbW92ZUl0ZW1zIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGFjY2Vzc2libGUgb2JqZWN0c1xuICogdXNlZCBieSB7QGxpbmsgUElYSS5hY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyfS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIGFjY2Vzc2libGVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJLmFjY2Vzc2liaWxpdHlcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgTXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5hY2Nlc3NpYmlsaXR5LmFjY2Vzc2libGVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xudmFyIGFjY2Vzc2libGVUYXJnZXQgPSB7XG4gICAgLyoqXG4gICAgICogIEZsYWcgZm9yIGlmIHRoZSBvYmplY3QgaXMgYWNjZXNzaWJsZS4gSWYgdHJ1ZSBBY2Nlc3NpYmlsaXR5TWFuYWdlciB3aWxsIG92ZXJsYXkgYVxuICAgICAqICAgc2hhZG93IGRpdiB3aXRoIGF0dHJpYnV0ZXMgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZTogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB0aXRsZSBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKiBJZiBhY2Nlc3NpYmxlVGl0bGUgQU5EIGFjY2Vzc2libGVIaW50IGhhcyBub3QgYmVlbiB0aGlzIHdpbGwgZGVmYXVsdCB0byAnZGlzcGxheU9iamVjdCBbdGFiSW5kZXhdJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7P3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVUaXRsZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFyaWEtbGFiZWwgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlSGludDogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICB0YWJJbmRleDogMCxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlQWN0aXZlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIF9hY2Nlc3NpYmxlRGl2OiBmYWxzZSxcbn07XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbkRpc3BsYXlPYmplY3QubWl4aW4oYWNjZXNzaWJsZVRhcmdldCk7XG5cbnZhciBLRVlfQ09ERV9UQUIgPSA5O1xuXG52YXIgRElWX1RPVUNIX1NJWkUgPSAxMDA7XG52YXIgRElWX1RPVUNIX1BPU19YID0gMDtcbnZhciBESVZfVE9VQ0hfUE9TX1kgPSAwO1xudmFyIERJVl9UT1VDSF9aSU5ERVggPSAyO1xuXG52YXIgRElWX0hPT0tfU0laRSA9IDE7XG52YXIgRElWX0hPT0tfUE9TX1ggPSAtMTAwMDtcbnZhciBESVZfSE9PS19QT1NfWSA9IC0xMDAwO1xudmFyIERJVl9IT09LX1pJTkRFWCA9IDI7XG5cbi8qKlxuICogVGhlIEFjY2Vzc2liaWxpdHkgbWFuYWdlciByZWNyZWF0ZXMgdGhlIGFiaWxpdHkgdG8gdGFiIGFuZCBoYXZlIGNvbnRlbnQgcmVhZCBieSBzY3JlZW4gcmVhZGVycy5cbiAqIFRoaXMgaXMgdmVyeSBpbXBvcnRhbnQgYXMgaXQgY2FuIHBvc3NpYmx5IGhlbHAgcGVvcGxlIHdpdGggZGlzYWJpbGl0aWVzIGFjY2VzcyBQaXhpSlMgY29udGVudC5cbiAqXG4gKiBBIERpc3BsYXlPYmplY3QgY2FuIGJlIG1hZGUgYWNjZXNzaWJsZSBqdXN0IGxpa2UgaXQgY2FuIGJlIG1hZGUgaW50ZXJhY3RpdmUuIFRoaXMgbWFuYWdlciB3aWxsIG1hcCB0aGVcbiAqIGV2ZW50cyBhcyBpZiB0aGUgbW91c2Ugd2FzIGJlaW5nIHVzZWQsIG1pbmltaXppbmcgdGhlIGVmZm9ydCByZXF1aXJlZCB0byBpbXBsZW1lbnQuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5hY2Nlc3NpYmlsaXR5YFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICovXG52YXIgQWNjZXNzaWJpbGl0eU1hbmFnZXIgPSBmdW5jdGlvbiBBY2Nlc3NpYmlsaXR5TWFuYWdlcihyZW5kZXJlcilcbntcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7P0hUTUxFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG4gICAgaWYgKGlzTW9iaWxlLnRhYmxldCB8fCBpc01vYmlsZS5waG9uZSlcbiAgICB7XG4gICAgICAgIHRoaXMuY3JlYXRlVG91Y2hIb29rKCk7XG4gICAgfVxuXG4gICAgLy8gZmlyc3Qgd2UgY3JlYXRlIGEgZGl2IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGRpdi5zdHlsZS53aWR0aCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIGRpdi5zdHlsZS50b3AgPSBESVZfVE9VQ0hfUE9TX1ggKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLmxlZnQgPSBESVZfVE9VQ0hfUE9TX1kgKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLnpJbmRleCA9IERJVl9UT1VDSF9aSU5ERVg7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBkb20gZWxlbWVudCB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZGl2ID0gZGl2O1xuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgcG9vbCBmb3Igc3RvcmluZyBkaXZzLlxuICAgICAqXG4gICAgICogQHR5cGUgeyp9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnBvb2wgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYSB0aWNrIHVzZWQgdG8gY2hlY2sgaWYgYW4gb2JqZWN0IGlzIG5vIGxvbmdlciBiZWluZyByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcklkID0gMDtcblxuICAgIC8qKlxuICAgICAqIFNldHRpbmcgdGhpcyB0byB0cnVlIHdpbGwgdmlzdWFsbHkgc2hvdyB0aGUgZGl2cy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGVidWcgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGFjY2Vzc2liaWxpdHkgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0FycmF5PCo+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogcHJlLWJpbmQgdGhlIGZ1bmN0aW9uc1xuICAgICAqXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBwcmUtYmluZCB0aGUgZnVuY3Rpb25zXG4gICAgICpcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMuX29uTW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWdcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWdcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmlzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IGZhbHNlO1xuXG4gICAgLy8gbGV0IGxpc3RlbiBmb3IgdGFiLi4gb25jZSBwcmVzc2VkIHdlIGNhbiBmaXJlIHVwIGFuZCBzaG93IHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgdG91Y2ggaG9va3MuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZVRvdWNoSG9vayA9IGZ1bmN0aW9uIGNyZWF0ZVRvdWNoSG9vayAoKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBob29rRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBob29rRGl2LnN0eWxlLndpZHRoID0gRElWX0hPT0tfU0laRSArIFwicHhcIjtcbiAgICBob29rRGl2LnN0eWxlLmhlaWdodCA9IERJVl9IT09LX1NJWkUgKyBcInB4XCI7XG4gICAgaG9va0Rpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgaG9va0Rpdi5zdHlsZS50b3AgPSBESVZfSE9PS19QT1NfWCArIFwicHhcIjtcbiAgICBob29rRGl2LnN0eWxlLmxlZnQgPSBESVZfSE9PS19QT1NfWSArIFwicHhcIjtcbiAgICBob29rRGl2LnN0eWxlLnpJbmRleCA9IERJVl9IT09LX1pJTkRFWDtcbiAgICBob29rRGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkYwMDAwJztcbiAgICBob29rRGl2LnRpdGxlID0gJ0hPT0sgRElWJztcblxuICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMkMS5pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICB0aGlzJDEuYWN0aXZhdGUoKTtcbiAgICAgICAgdGhpcyQxLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaG9va0Rpdik7XG4gICAgdGhpcy5faG9va0RpdiA9IGhvb2tEaXY7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSB0b3VjaCBob29rcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveVRvdWNoSG9vayA9IGZ1bmN0aW9uIGRlc3Ryb3lUb3VjaEhvb2sgKClcbntcbiAgICBpZiAoIXRoaXMuX2hvb2tEaXYpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5faG9va0Rpdik7XG4gICAgdGhpcy5faG9va0RpdiA9IG51bGw7XG59O1xuXG4vKipcbiAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi5cbiAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIHByZXNzZXMgdGhlIHRhYiBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gYWN0aXZhdGUgKClcbntcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcblxuICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgIHRoaXMucmVuZGVyZXIub24oJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSwgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7XG4gICAgfVxufTtcblxuLyoqXG4gKiBEZWFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBoaWRkZW4uXG4gKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBtb3ZlcyB0aGUgbW91c2UuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlYWN0aXZhdGUgPSBmdW5jdGlvbiBkZWFjdGl2YXRlICgpXG57XG4gICAgaWYgKCF0aGlzLmlzQWN0aXZlIHx8IHRoaXMuaXNNb2JpbGVBY2Nlc3NpYmlsaXR5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUpO1xuXG4gICAgaWYgKHRoaXMuZGl2LnBhcmVudE5vZGUpXG4gICAge1xuICAgICAgICB0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoaXMgcmVjdXJzaXZlIGZ1bmN0aW9uIHdpbGwgcnVuIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBhZGQgYW55IG5ldyBhY2Nlc3NpYmxlIG9iamVjdHMgdG8gdGhlIERPTSBsYXllci5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNoZWNrLlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMgPSBmdW5jdGlvbiB1cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyAoZGlzcGxheU9iamVjdClcbntcbiAgICBpZiAoIWRpc3BsYXlPYmplY3QudmlzaWJsZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUpXG4gICAge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcklkID0gdGhpcy5yZW5kZXJJZDtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHMoY2hpbGRyZW5baV0pO1xuICAgIH1cbn07XG5cbi8qKlxuICogQmVmb3JlIGVhY2ggcmVuZGVyIHRoaXMgZnVuY3Rpb24gd2lsbCBlbnN1cmUgdGhhdCBhbGwgZGl2cyBhcmUgbWFwcGVkIGNvcnJlY3RseSB0byB0aGVpciBEaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpXG57XG4gICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHVwZGF0ZSBjaGlsZHJlbi4uLlxuICAgIHRoaXMudXBkYXRlQWNjZXNzaWJsZU9iamVjdHModGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkKTtcblxuICAgIHZhciByZWN0ID0gdGhpcy5yZW5kZXJlci52aWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBzeCA9IHJlY3Qud2lkdGggLyB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgIHZhciBzeSA9IHJlY3QuaGVpZ2h0IC8gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICB2YXIgZGl2ID0gdGhpcy5kaXY7XG5cbiAgICBkaXYuc3R5bGUubGVmdCA9IChyZWN0LmxlZnQpICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS50b3AgPSAocmVjdC50b3ApICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS53aWR0aCA9ICh0aGlzLnJlbmRlcmVyLndpZHRoKSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gKHRoaXMucmVuZGVyZXIuaGVpZ2h0KSArIFwicHhcIjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgaWYgKGNoaWxkLnJlbmRlcklkICE9PSB0aGlzLnJlbmRlcklkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjaGlsZC5fYWNjZXNzaWJsZUFjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgIHRoaXMuZGl2LnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgIHRoaXMucG9vbC5wdXNoKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcblxuICAgICAgICAgICAgaS0tO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBtYXAgZGl2IHRvIGRpc3BsYXkuLlxuICAgICAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgICAgICB2YXIgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XG4gICAgICAgICAgICB2YXIgd3QgPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAoKHd0LnR4ICsgKGhpdEFyZWEueCAqIHd0LmEpKSAqIHN4KSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gKCh3dC50eSArIChoaXRBcmVhLnkgKiB3dC5kKSkgKiBzeSkgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSAoaGl0QXJlYS53aWR0aCAqIHd0LmEgKiBzeCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IChoaXRBcmVhLmhlaWdodCAqIHd0LmQgKiBzeSkgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYXBIaXRBcmVhKGhpdEFyZWEpO1xuXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAoaGl0QXJlYS54ICogc3gpICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSAoaGl0QXJlYS55ICogc3kpICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gKGhpdEFyZWEud2lkdGggKiBzeCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IChoaXRBcmVhLmhlaWdodCAqIHN5KSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBidXR0b24gdGl0bGVzIGFuZCBoaW50cyBpZiB0aGV5IGV4aXN0IGFuZCB0aGV5J3ZlIGNoYW5nZWRcbiAgICAgICAgICAgICAgICBpZiAoZGl2LnRpdGxlICE9PSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgJiYgY2hpbGQuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnRpdGxlID0gY2hpbGQuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGl2LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpICE9PSBjaGlsZC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAgICAgICAgICAgICAmJiBjaGlsZC5hY2Nlc3NpYmxlSGludCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBjaGlsZC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaW5jcmVtZW50IHRoZSByZW5kZXIgaWQuLlxuICAgIHRoaXMucmVuZGVySWQrKztcbn07XG5cbi8qKlxuICogQWRqdXN0IHRoZSBoaXQgYXJlYSBiYXNlZCBvbiB0aGUgYm91bmRzIG9mIGEgZGlzcGxheSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBoaXRBcmVhIC0gQm91bmRzIG9mIHRoZSBjaGlsZFxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY2FwSGl0QXJlYSA9IGZ1bmN0aW9uIGNhcEhpdEFyZWEgKGhpdEFyZWEpXG57XG4gICAgaWYgKGhpdEFyZWEueCA8IDApXG4gICAge1xuICAgICAgICBoaXRBcmVhLndpZHRoICs9IGhpdEFyZWEueDtcbiAgICAgICAgaGl0QXJlYS54ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaGl0QXJlYS55IDwgMClcbiAgICB7XG4gICAgICAgIGhpdEFyZWEuaGVpZ2h0ICs9IGhpdEFyZWEueTtcbiAgICAgICAgaGl0QXJlYS55ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoaGl0QXJlYS54ICsgaGl0QXJlYS53aWR0aCA+IHRoaXMucmVuZGVyZXIud2lkdGgpXG4gICAge1xuICAgICAgICBoaXRBcmVhLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aCAtIGhpdEFyZWEueDtcbiAgICB9XG5cbiAgICBpZiAoaGl0QXJlYS55ICsgaGl0QXJlYS5oZWlnaHQgPiB0aGlzLnJlbmRlcmVyLmhlaWdodClcbiAgICB7XG4gICAgICAgIGhpdEFyZWEuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoaXRBcmVhLnk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGRzIGEgRGlzcGxheU9iamVjdCB0byB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGNoaWxkIHRvIG1ha2UgYWNjZXNzaWJsZS5cbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gYWRkQ2hpbGQgKGRpc3BsYXlPYmplY3QpXG57XG4gICAgLy90aGlzLmFjdGl2YXRlKCk7XG5cbiAgICB2YXIgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuXG4gICAgaWYgKCFkaXYpXG4gICAge1xuICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5kZWJ1ZyA/ICdyZ2JhKDI1NSwwLDAsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ25vbmUnO1xuXG4gICAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBlbnN1cmUgdGhhdCBidXR0b24gdGl0bGUgYW5kIGhpbnQgdXBkYXRlcyBhcmUgYW5ub3VuY2VkIHByb3Blcmx5XG4gICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ2hyb21lIGRvZXNuJ3QgbmVlZCBhcmlhLWxpdmUgdG8gd29yayBhcyBpbnRlbmRlZDsgaW4gZmFjdCBpdCBqdXN0IGdldHMgbW9yZSBjb25mdXNlZC5cbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydjouKkdlY2tvXFwvLykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEZpcmVGb3ggbmVlZHMgdGhpcyB0byBhbm5vdW5jZSBvbmx5IHRoZSBuZXcgYnV0dG9uIG5hbWVcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBieSBJRSwgb3RoZXIgYnJvd3NlcnMgZG9uJ3QgbXVjaCBjYXJlXG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ3RleHQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX29uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgZGl2LnRpdGxlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAgfHwgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGRpdi50aXRsZSA9IFwiZGlzcGxheU9iamVjdCBcIiArIChkaXNwbGF5T2JqZWN0LnRhYkluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpO1xuICAgIH1cblxuICAgIC8vXG5cbiAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2ID0gZGl2O1xuICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcblxuICAgIHRoaXMuY2hpbGRyZW4ucHVzaChkaXNwbGF5T2JqZWN0KTtcbiAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZChkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2KTtcbiAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gZGlzcGxheU9iamVjdC50YWJJbmRleDtcbn07XG5cbi8qKlxuICogTWFwcyB0aGUgZGl2IGJ1dHRvbiBwcmVzcyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChjbGljaylcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIGNsaWNrIGV2ZW50LlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbiBfb25DbGljayAoZSlcbntcbiAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ2NsaWNrJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG4gICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ0YXAnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG59O1xuXG4vKipcbiAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdmVyKVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXMgZXZlbnQuXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1cyA9IGZ1bmN0aW9uIF9vbkZvY3VzIChlKVxue1xuICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJykpXG4gICAge1xuICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICB9XG4gICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbn07XG5cbi8qKlxuICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW91dClcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3Vzb3V0IGV2ZW50LlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXNPdXQgPSBmdW5jdGlvbiBfb25Gb2N1c091dCAoZSlcbntcbiAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpKVxuICAgIHtcbiAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgfVxuICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbn07XG5cbi8qKlxuICogSXMgY2FsbGVkIHdoZW4gYSBrZXkgaXMgcHJlc3NlZFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGUgLSBUaGUga2V5ZG93biBldmVudC5cbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbktleURvd24gPSBmdW5jdGlvbiBfb25LZXlEb3duIChlKVxue1xuICAgIGlmIChlLmtleUNvZGUgIT09IEtFWV9DT0RFX1RBQilcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2YXRlKCk7XG59O1xuXG4vKipcbiAqIElzIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIG1vdXNlIGV2ZW50LlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gX29uTW91c2VNb3ZlIChlKVxue1xuICAgIGlmIChlLm1vdmVtZW50WCA9PT0gMCAmJiBlLm1vdmVtZW50WSA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICpcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgdGhpcy5kaXYgPSBudWxsO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5kaXYgPSBudWxsO1xuICAgIH1cblxuICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24pO1xuXG4gICAgdGhpcy5wb29sID0gbnVsbDtcbiAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbn07XG5cbi8qKlxuICogVGhpcyBuYW1lc3BhY2UgY29udGFpbnMgYW4gYWNjZXNzaWJpbGl0eSBwbHVnaW4gZm9yIGFsbG93aW5nIGludGVyYWN0aW9uIHZpYSB0aGUga2V5Ym9hcmQuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoaXMgcGx1Z2luIGRpcmVjdGx5LiBJdCBpcyBhdmFpbGFibGUgZnJvbSB0aGUgYHJlbmRlcmVyLnBsdWdpbnNgIHByb3BlcnR5LlxuICogU2VlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnN9IG9yIHtAbGluayBQSVhJLlJlbmRlcmVyI3BsdWdpbnN9LlxuICogQG5hbWVzcGFjZSBQSVhJLmFjY2Vzc2liaWxpdHlcbiAqL1xuXG5leHBvcnQgeyBBY2Nlc3NpYmlsaXR5TWFuYWdlciwgYWNjZXNzaWJsZVRhcmdldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWNjZXNzaWJpbGl0eS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvcnVubmVyIC0gdjUuMS4xXG4gKiBDb21waWxlZCBGcmksIDAyIEF1ZyAyMDE5IDIzOjIwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL3J1bm5lciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbi8qKlxuICogQSBSdW5uZXIgaXMgYSBoaWdobHkgcGVyZm9ybWFudCBhbmQgc2ltcGxlIGFsdGVybmF0aXZlIHRvIHNpZ25hbHMuIEJlc3QgdXNlZCBpbiBzaXR1YXRpb25zXG4gKiB3aGVyZSBldmVudHMgYXJlIGRpc3BhdGNoZWQgdG8gbWFueSBvYmplY3RzIGF0IGhpZ2ggZnJlcXVlbmN5IChzYXkgZXZlcnkgZnJhbWUhKVxuICpcbiAqXG4gKiBsaWtlIGEgc2lnbmFsLi5cbiAqIGBgYFxuICogY29uc3QgbXlPYmplY3QgPSB7XG4gKiAgICAgbG9hZGVkOiBuZXcgUElYSS5SdW5uZXIoJ2xvYWRlZCcpXG4gKiB9XG4gKlxuICogY29uc3QgbGlzdGVuZXIgPSB7XG4gKiAgICAgbG9hZGVkOiBmdW5jdGlvbigpe1xuICogICAgICAgICAvLyB0aGluXG4gKiAgICAgfVxuICogfVxuICpcbiAqIG15T2JqZWN0LnVwZGF0ZS5hZGQobGlzdGVuZXIpO1xuICpcbiAqIG15T2JqZWN0LmxvYWRlZC5lbWl0KCk7XG4gKiBgYGBcbiAqXG4gKiBPciBmb3IgaGFuZGxpbmcgY2FsbGluZyB0aGUgc2FtZSBmdW5jdGlvbiBvbiBtYW55IGl0ZW1zXG4gKiBgYGBcbiAqIGNvbnN0IG15R2FtZSA9IHtcbiAqICAgICB1cGRhdGU6IG5ldyBQSVhJLlJ1bm5lcigndXBkYXRlJylcbiAqIH1cbiAqXG4gKiBjb25zdCBnYW1lT2JqZWN0ID0ge1xuICogICAgIHVwZGF0ZTogZnVuY3Rpb24odGltZSl7XG4gKiAgICAgICAgIC8vIHVwZGF0ZSBteSBnYW1leSBzdGF0ZVxuICogICAgIH1cbiAqIH1cbiAqXG4gKiBteUdhbWUudXBkYXRlLmFkZChnYW1lT2JqZWN0MSk7XG4gKlxuICogbXlHYW1lLnVwZGF0ZS5lbWl0KHRpbWUpO1xuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSdW5uZXIgPSBmdW5jdGlvbiBSdW5uZXIobmFtZSlcbntcbiAgICB0aGlzLml0ZW1zID0gW107XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fYWxpYXNDb3VudCA9IDA7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBlbXB0eTogeyBjb25maWd1cmFibGU6IHRydWUgfSxuYW1lOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogRGlzcGF0Y2gvQnJvYWRjYXN0IFJ1bm5lciB0byBhbGwgbGlzdGVuZXJzIGFkZGVkIHRvIHRoZSBxdWV1ZS5cbiAqIEBwYXJhbSB7Li4uYW55fSBwYXJhbXMgLSBvcHRpb25hbCBwYXJhbWV0ZXJzIHRvIHBhc3MgdG8gZWFjaCBsaXN0ZW5lclxuICovXG5SdW5uZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0IChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpXG57XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiA4KVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXggYXJndW1lbnRzIHJlYWNoZWQnKTtcbiAgICB9XG5cbiAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIG5hbWUgPSByZWYubmFtZTtcbiAgICAgICAgdmFyIGl0ZW1zID0gcmVmLml0ZW1zO1xuXG4gICAgdGhpcy5fYWxpYXNDb3VudCsrO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgIHtcbiAgICAgICAgaXRlbXNbaV1bbmFtZV0oYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KTtcbiAgICB9XG5cbiAgICBpZiAoaXRlbXMgPT09IHRoaXMuaXRlbXMpXG4gICAge1xuICAgICAgICB0aGlzLl9hbGlhc0NvdW50LS07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5SdW5uZXIucHJvdG90eXBlLmVuc3VyZU5vbkFsaWFzZWRJdGVtcyA9IGZ1bmN0aW9uIGVuc3VyZU5vbkFsaWFzZWRJdGVtcyAoKVxue1xuICAgIGlmICh0aGlzLl9hbGlhc0NvdW50ID4gMCAmJiB0aGlzLml0ZW1zLmxlbmd0aCA+IDEpXG4gICAge1xuICAgICAgICB0aGlzLl9hbGlhc0NvdW50ID0gMDtcbiAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciB0byB0aGUgUnVubmVyXG4gKlxuICogUnVubmVycyBkbyBub3QgbmVlZCB0byBoYXZlIHNjb3BlIG9yIGZ1bmN0aW9ucyBwYXNzZWQgdG8gdGhlbS5cbiAqIEFsbCB0aGF0IGlzIHJlcXVpcmVkIGlzIHRvIHBhc3MgdGhlIGxpc3RlbmluZyBvYmplY3QgYW5kIGVuc3VyZSB0aGF0IGl0IGhhcyBjb250YWlucyBhIGZ1bmN0aW9uIHRoYXQgaGFzIHRoZSBzYW1lIG5hbWVcbiAqIGFzIHRoZSBuYW1lIHByb3ZpZGVkIHRvIHRoZSBSdW5uZXIgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAqXG4gKiBFZyBBIGxpc3RlbmVyIHBhc3NlZCB0byB0aGlzIFJ1bm5lciB3aWxsIHJlcXVpcmUgYSAnY29tcGxldGUnIGZ1bmN0aW9uLlxuICpcbiAqIGBgYFxuICogY29uc3QgY29tcGxldGUgPSBuZXcgUElYSS5SdW5uZXIoJ2NvbXBsZXRlJyk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgc2NvcGUgdXNlZCB3aWxsIGJlIHRoZSBvYmplY3QgaXRzZWxmLlxuICpcbiAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgbGlzdGVuaW5nLlxuICovXG5SdW5uZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAoaXRlbSlcbntcbiAgICBpZiAoaXRlbVt0aGlzLl9uYW1lXSlcbiAgICB7XG4gICAgICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlKGl0ZW0pO1xuICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhIHNpbmdsZSBsaXN0ZW5lciBmcm9tIHRoZSBkaXNwYXRjaCBxdWV1ZS5cbiAqIEBwYXJhbSB7YW55fSBpdGVtIC0gVGhlIGxpc3RlbnIgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZW1vdmUuXG4gKi9cblJ1bm5lci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlIChpdGVtKVxue1xuICAgIHZhciBpbmRleCA9IHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAge1xuICAgICAgICB0aGlzLmVuc3VyZU5vbkFsaWFzZWRJdGVtcygpO1xuICAgICAgICB0aGlzLml0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiB0aGUgbGlzdGVuZXIgaXMgYWxyZWFkeSBpbiB0aGUgUnVubmVyXG4gKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBsaXN0ZW5lciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIGNoZWNrLlxuICovXG5SdW5uZXIucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMgKGl0ZW0pXG57XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMuaW5kZXhPZihpdGVtKSAhPT0gLTE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzIGZyb20gdGhlIFJ1bm5lclxuICovXG5SdW5uZXIucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uIHJlbW92ZUFsbCAoKVxue1xuICAgIHRoaXMuZW5zdXJlTm9uQWxpYXNlZEl0ZW1zKCk7XG4gICAgdGhpcy5pdGVtcy5sZW5ndGggPSAwO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgcmVmZXJlbmNlcywgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gKi9cblJ1bm5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgIHRoaXMuX25hbWUgPSBudWxsO1xufTtcblxuLyoqXG4gKiBgdHJ1ZWAgaWYgdGhlcmUgYXJlIG5vIHRoaXMgUnVubmVyIGNvbnRhaW5zIG5vIGxpc3RlbmVyc1xuICpcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKiBAcmVhZG9ubHlcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmVtcHR5LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID09PSAwO1xufTtcblxuLyoqXG4gKiBUaGUgbmFtZSBvZiB0aGUgcnVubmVyLlxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubmFtZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9uYW1lO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFJ1bm5lci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIEFsaWFzIGZvciBgZW1pdGBcbiAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAqIEBtZXRob2QgZGlzcGF0Y2hcbiAqIEBzZWUgUElYSS5SdW5uZXIjZW1pdFxuICovXG5SdW5uZXIucHJvdG90eXBlLmRpc3BhdGNoID0gUnVubmVyLnByb3RvdHlwZS5lbWl0O1xuXG4vKipcbiAqIEFsaWFzIGZvciBgZW1pdGBcbiAqIEBtZW1iZXJvZiBQSVhJLlJ1bm5lciNcbiAqIEBtZXRob2QgcnVuXG4gKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAqL1xuUnVubmVyLnByb3RvdHlwZS5ydW4gPSBSdW5uZXIucHJvdG90eXBlLmVtaXQ7XG5cbmV4cG9ydCB7IFJ1bm5lciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVubmVyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90aWNrZXIgLSB2NS4xLjFcbiAqIENvbXBpbGVkIEZyaSwgMDIgQXVnIDIwMTkgMjM6MjA6MjMgVVRDXG4gKlxuICogQHBpeGkvdGlja2VyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogVGFyZ2V0IGZyYW1lcyBwZXIgbWlsbGlzZWNvbmQuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUX0ZQTVNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMC4wNlxuICovXG5zZXR0aW5ncy5UQVJHRVRfRlBNUyA9IDAuMDY7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgdXBkYXRlIHByaW9yaXRpZXMgdXNlZCBieSBpbnRlcm5hbCBQSVhJIGNsYXNzZXMgd2hlbiByZWdpc3RlcmVkIHdpdGhcbiAqIHRoZSB7QGxpbmsgUElYSS5UaWNrZXJ9IG9iamVjdC4gSGlnaGVyIHByaW9yaXR5IGl0ZW1zIGFyZSB1cGRhdGVkIGZpcnN0IGFuZCBsb3dlclxuICogcHJpb3JpdHkgaXRlbXMsIHN1Y2ggYXMgcmVuZGVyLCBzaG91bGQgZ28gbGF0ZXIuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBVUERBVEVfUFJJT1JJVFlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IElOVEVSQUNUSU9OPTUwIEhpZ2hlc3QgcHJpb3JpdHksIHVzZWQgZm9yIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIPTI1IEhpZ2ggcHJpb3JpdHkgdXBkYXRpbmcsIHtAbGluayBQSVhJLlZpZGVvQmFzZVRleHR1cmV9IGFuZCB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUw9MCBEZWZhdWx0IHByaW9yaXR5IGZvciB0aWNrZXIgZXZlbnRzLCBzZWUge0BsaW5rIFBJWEkuVGlja2VyI2FkZH0uXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XPS0yNSBMb3cgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkuQXBwbGljYXRpb259IHJlbmRlcmluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVVElMSVRZPS01MCBMb3dlc3QgcHJpb3JpdHkgdXNlZCBmb3Ige0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdXRpbGl0eS5cbiAqL1xudmFyIFVQREFURV9QUklPUklUWSA9IHtcbiAgICBJTlRFUkFDVElPTjogNTAsXG4gICAgSElHSDogMjUsXG4gICAgTk9STUFMOiAwLFxuICAgIExPVzogLTI1LFxuICAgIFVUSUxJVFk6IC01MCxcbn07XG5cbi8qKlxuICogSW50ZXJuYWwgY2xhc3MgZm9yIGhhbmRsaW5nIHRoZSBwcmlvcml0eSBzb3J0aW5nIG9mIHRpY2tlciBoYW5kbGVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyTGlzdGVuZXIgPSBmdW5jdGlvbiBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHksIG9uY2UpXG57XG4gICAgaWYgKCBjb250ZXh0ID09PSB2b2lkIDAgKSBjb250ZXh0ID0gbnVsbDtcbiAgICBpZiAoIHByaW9yaXR5ID09PSB2b2lkIDAgKSBwcmlvcml0eSA9IDA7XG4gICAgaWYgKCBvbmNlID09PSB2b2lkIDAgKSBvbmNlID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGFuZGxlciBmdW5jdGlvbiB0byBleGVjdXRlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5mbiA9IGZuO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNhbGxpbmcgdG8gZXhlY3V0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIgeyp9XG4gICAgICovXG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IHByaW9yaXR5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgc2hvdWxkIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm9uY2UgPSBvbmNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5leHQgaXRlbSBpbiBjaGFpbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJldmlvdXMgaXRlbSBpbiBjaGFpbi5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAqL1xuICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIHRoaXMgbGlzdGVuZXIgaGFzIGJlZW4gZGVzdHJveWVkIGFscmVhZHkuXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTaW1wbGUgY29tcGFyZSBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IGlmIGEgZnVuY3Rpb24gYW5kIGNvbnRleHQgbWF0Y2guXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnRleHQgLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciBtYXRjaCB0aGUgYXJndW1lbnRzXG4gKi9cblRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIG1hdGNoIChmbiwgY29udGV4dClcbntcbiAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG4gICAgcmV0dXJuIHRoaXMuZm4gPT09IGZuICYmIHRoaXMuY29udGV4dCA9PT0gY29udGV4dDtcbn07XG5cbi8qKlxuICogRW1pdCBieSBjYWxsaW5nIHRoZSBjdXJyZW50IGZ1bmN0aW9uLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIHNpbmNlIHRoZSBsYXN0IGVtaXQuXG4gKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gTmV4dCB0aWNrZXJcbiAqL1xuVGlja2VyTGlzdGVuZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0IChkZWx0YVRpbWUpXG57XG4gICAgaWYgKHRoaXMuZm4pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZuLmNhbGwodGhpcy5jb250ZXh0LCBkZWx0YVRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuXG4gICAgaWYgKHRoaXMub25jZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGVzdHJveSh0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBTb2Z0LWRlc3Ryb3lpbmcgc2hvdWxkIHJlbW92ZVxuICAgIC8vIHRoZSBuZXh0IHJlZmVyZW5jZVxuICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpXG4gICAge1xuICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiByZWRpcmVjdDtcbn07XG5cbi8qKlxuICogQ29ubmVjdCB0byB0aGUgbGlzdC5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1RpY2tlckxpc3RlbmVyfSBwcmV2aW91cyAtIElucHV0IG5vZGUsIHByZXZpb3VzIGxpc3RlbmVyXG4gKi9cblRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gY29ubmVjdCAocHJldmlvdXMpXG57XG4gICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgIGlmIChwcmV2aW91cy5uZXh0KVxuICAgIHtcbiAgICAgICAgcHJldmlvdXMubmV4dC5wcmV2aW91cyA9IHRoaXM7XG4gICAgfVxuICAgIHRoaXMubmV4dCA9IHByZXZpb3VzLm5leHQ7XG4gICAgcHJldmlvdXMubmV4dCA9IHRoaXM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hhcmQgPSBmYWxzZV0gYHRydWVgIHRvIHJlbW92ZSB0aGUgYG5leHRgIHJlZmVyZW5jZSwgdGhpc1xuICogICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gVGhlIGxpc3RlbmVyIHRvIHJlZGlyZWN0IHdoaWxlIGVtaXR0aW5nIG9yIHJlbW92aW5nLlxuICovXG5UaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKGhhcmQpXG57XG4gICAgICAgIGlmICggaGFyZCA9PT0gdm9pZCAwICkgaGFyZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB0aGlzLmZuID0gbnVsbDtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXG4gICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgIGlmICh0aGlzLnByZXZpb3VzKVxuICAgIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgIH1cblxuICAgIGlmICh0aGlzLm5leHQpXG4gICAge1xuICAgICAgICB0aGlzLm5leHQucHJldmlvdXMgPSB0aGlzLnByZXZpb3VzO1xuICAgIH1cblxuICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBuZXh0IGl0ZW1cbiAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICAvLyBSZW1vdmUgcmVmZXJlbmNlc1xuICAgIHRoaXMubmV4dCA9IGhhcmQgPyBudWxsIDogcmVkaXJlY3Q7XG4gICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG5cbiAgICByZXR1cm4gcmVkaXJlY3Q7XG59O1xuXG4vKipcbiAqIEEgVGlja2VyIGNsYXNzIHRoYXQgcnVucyBhbiB1cGRhdGUgbG9vcCB0aGF0IG90aGVyIG9iamVjdHMgbGlzdGVuIHRvLlxuICpcbiAqIFRoaXMgY2xhc3MgaXMgY29tcG9zZWQgYXJvdW5kIGxpc3RlbmVycyBtZWFudCBmb3IgZXhlY3V0aW9uIG9uIHRoZSBuZXh0IHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUuXG4gKiBBbmltYXRpb24gZnJhbWVzIGFyZSByZXF1ZXN0ZWQgb25seSB3aGVuIG5lY2Vzc2FyeSwgZS5nLiBXaGVuIHRoZSB0aWNrZXIgaXMgc3RhcnRlZCBhbmQgdGhlIGVtaXR0ZXIgaGFzIGxpc3RlbmVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXIgPSBmdW5jdGlvbiBUaWNrZXIoKVxue1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZpcnN0IGxpc3RlbmVyLiBBbGwgbmV3IGxpc3RlbmVycyBhZGRlZCBhcmUgY2hhaW5lZCBvbiB0aGlzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge1RpY2tlckxpc3RlbmVyfVxuICAgICAqL1xuICAgIHRoaXMuX2hlYWQgPSBuZXcgVGlja2VyTGlzdGVuZXIobnVsbCwgbnVsbCwgSW5maW5pdHkpO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgY3VycmVudCBmcmFtZSByZXF1ZXN0IElEXG4gICAgICogQHR5cGUgez9udW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtaW5GUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICogVGhpcyBpcyB0aGUgbWF4aW11bSBhbGxvd2VkIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEwMDtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWF4RlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAqIFRoaXMgaXMgdGhlIG1pbmltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIHNob3VsZCBpbnZva2UgdGhlIG1ldGhvZFxuICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAqIHdoZW4gYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogU2NhbGFyIHRpbWUgdmFsdWUgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAqIGFuZCBpcyBzY2FsZWQgd2l0aCB7QGxpbmsgUElYSS5UaWNrZXIjc3BlZWR9LlxuICAgICAqICoqTm90ZToqKiBUaGUgY2FwIG1heSBiZSBleGNlZWRlZCBieSBzY2FsaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLmRlbHRhVGltZSA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBTY2FsZXIgdGltZSBlbGFwc2VkIGluIG1pbGxpc2Vjb25kcyBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgKiBUaGlzIHZhbHVlIGlzIGNhcHBlZCBieSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNtaW5GUFN9XG4gICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0uXG4gICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAqL1xuICAgIHRoaXMuZGVsdGFNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcblxuICAgIC8qKlxuICAgICAqIFRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICogT3Bwb3NlZCB0byB3aGF0IHRoZSBzY2FsYXIge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX1cbiAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgKi9cbiAgICB0aGlzLmVsYXBzZWRNUyA9IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNUztcblxuICAgIC8qKlxuICAgICAqIFRoZSBsYXN0IHRpbWUge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0gd2FzIGludm9rZWQuXG4gICAgICogVGhpcyB2YWx1ZSBpcyBhbHNvIHJlc2V0IGludGVybmFsbHkgb3V0c2lkZSBvZiBpbnZva2luZ1xuICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICovXG4gICAgdGhpcy5sYXN0VGltZSA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogRmFjdG9yIG9mIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTY2FsZXMgdGlja2VyLmRlbHRhVGltZSB0byB3aGF0IHdvdWxkIGJlXG4gICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICogdGlja2VyLnNwZWVkID0gMjtcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgdGhpcy5zcGVlZCA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkLlxuICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RhcnR9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgKiBgZmFsc2VgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdG9wfSBoYXMgYmVlbiBjYWxsZWQuXG4gICAgICogV2hpbGUgYGZhbHNlYCwgdGhpcyB2YWx1ZSBtYXkgY2hhbmdlIHRvIGB0cnVlYCBpbiB0aGVcbiAgICAgKiBldmVudCBvZiB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgKiBhbmQgYSBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIElmIGVuYWJsZWQsIGRlbGV0aW5nIGlzIGRpc2FibGVkLlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3Byb3RlY3RlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxhc3QgdGltZSBrZXlmcmFtZSB3YXMgZXhlY3V0ZWQuXG4gICAgICogTWFpbnRhaW5zIGEgcmVsYXRpdmVseSBmaXhlZCBpbnRlcnZhbCB3aXRoIHRoZSBwcmV2aW91cyB2YWx1ZS5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgLTFcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2xhc3RGcmFtZSA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgdGljayBtZXRob2QgYm91bmQgdG8gdGlja2VyIGluc3RhbmNlLlxuICAgICAqIFRoaXMgaXMgYmVjYXVzZSBpbiBlYXJseSAyMDE1LCBGdW5jdGlvbi5iaW5kXG4gICAgICogaXMgc3RpbGwgNjAlIHNsb3dlciBpbiBoaWdoIHBlcmZvcm1hbmNlIHNjZW5hcmlvcy5cbiAgICAgKiBBbHNvIHNlcGFyYXRpbmcgZnJhbWUgcmVxdWVzdHMgZnJvbSB1cGRhdGUgbWV0aG9kXG4gICAgICogc28gbGlzdGVuZXJzIG1heSBiZSBjYWxsZWQgYXQgYW55IHRpbWUgYW5kIHdpdGhcbiAgICAgKiBhbnkgYW5pbWF0aW9uIEFQSSwganVzdCBpbnZva2UgdGlja2VyLnVwZGF0ZSh0aW1lKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgKi9cbiAgICB0aGlzLl90aWNrID0gZnVuY3Rpb24gKHRpbWUpIHtcbiAgICAgICAgdGhpcyQxLl9yZXF1ZXN0SWQgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzJDEuc3RhcnRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBub3dcbiAgICAgICAgICAgIHRoaXMkMS51cGRhdGUodGltZSk7XG4gICAgICAgICAgICAvLyBMaXN0ZW5lciBzaWRlIGVmZmVjdHMgbWF5IGhhdmUgbW9kaWZpZWQgdGlja2VyIHN0YXRlLlxuICAgICAgICAgICAgaWYgKHRoaXMkMS5zdGFydGVkICYmIHRoaXMkMS5fcmVxdWVzdElkID09PSBudWxsICYmIHRoaXMkMS5faGVhZC5uZXh0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMkMS5fdGljayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgRlBTOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG1pbkZQUzogeyBjb25maWd1cmFibGU6IHRydWUgfSxtYXhGUFM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcbnZhciBzdGF0aWNBY2Nlc3NvcnMgPSB7IHNoYXJlZDogeyBjb25maWd1cmFibGU6IHRydWUgfSxzeXN0ZW06IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAqIElmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsXG4gKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5UaWNrZXIucHJvdG90eXBlLl9yZXF1ZXN0SWZOZWVkZWQgPSBmdW5jdGlvbiBfcmVxdWVzdElmTmVlZGVkICgpXG57XG4gICAgaWYgKHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpXG4gICAge1xuICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gdGhpcy5sYXN0VGltZTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuVGlja2VyLnByb3RvdHlwZS5fY2FuY2VsSWZOZWVkZWQgPSBmdW5jdGlvbiBfY2FuY2VsSWZOZWVkZWQgKClcbntcbiAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICogYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWwgZW1pdHRlciBoYXMgbGlzdGVuZXJzLiBJZiB0aGVzZVxuICogY29uZGl0aW9ucyBhcmUgbWV0LCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuIElmIHRoZSB0aWNrZXIgaGFzIG5vdFxuICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gKiBhbmQgY29udGludWVzIHdpdGggdGhlIHByZXZpb3VzIGNvbmRpdGlvbnMgdG8gcmVxdWVzdCBhIG5ldyBmcmFtZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5UaWNrZXIucHJvdG90eXBlLl9zdGFydElmUG9zc2libGUgPSBmdW5jdGlvbiBfc3RhcnRJZlBvc3NpYmxlICgpXG57XG4gICAgaWYgKHRoaXMuc3RhcnRlZClcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmF1dG9TdGFydClcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3IgdGljayBldmVudHMuIENhbGxzIGNvbnRpbnVvdXNseSB1bmxlc3NcbiAqIGl0IGlzIHJlbW92ZWQgb3IgdGhlIHRpY2tlciBpcyBzdG9wcGVkLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciB1cGRhdGVzXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gW3ByaW9yaXR5PVBJWEkuVVBEQVRFX1BSSU9SSVRZLk5PUk1BTF0gLSBUaGUgcHJpb3JpdHkgZm9yIGVtaXR0aW5nXG4gKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAqL1xuVGlja2VyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQgKGZuLCBjb250ZXh0LCBwcmlvcml0eSlcbntcbiAgICAgICAgaWYgKCBwcmlvcml0eSA9PT0gdm9pZCAwICkgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMO1xuXG4gICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbn07XG5cbi8qKlxuICogQWRkIGEgaGFuZGxlciBmb3IgdGhlIHRpY2sgZXZlbnQgd2hpY2ggaXMgb25seSBleGVjdXRlIG9uY2UuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHRdIC0gVGhlIGxpc3RlbmVyIGNvbnRleHRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICovXG5UaWNrZXIucHJvdG90eXBlLmFkZE9uY2UgPSBmdW5jdGlvbiBhZGRPbmNlIChmbiwgY29udGV4dCwgcHJpb3JpdHkpXG57XG4gICAgICAgIGlmICggcHJpb3JpdHkgPT09IHZvaWQgMCApIHByaW9yaXR5ID0gVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDtcblxuICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5LCB0cnVlKSk7XG59O1xuXG4vKipcbiAqIEludGVybmFsbHkgYWRkcyB0aGUgZXZlbnQgaGFuZGxlciBzbyB0aGF0IGl0IGNhbiBiZSBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gKiBQcmlvcml0eSBhbGxvd3MgY2VydGFpbiBoYW5kbGVyICh1c2VyLCBBbmltYXRlZFNwcml0ZSwgSW50ZXJhY3Rpb24pIHRvIGJlIHJ1blxuICogYmVmb3JlIHRoZSByZW5kZXJpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IGxpc3RlbmVyIC0gQ3VycmVudCBsaXN0ZW5lciBiZWluZyBhZGRlZC5cbiAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICovXG5UaWNrZXIucHJvdG90eXBlLl9hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIF9hZGRMaXN0ZW5lciAobGlzdGVuZXIpXG57XG4gICAgLy8gRm9yIGF0dGFjaGluZyB0byBoZWFkXG4gICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9oZWFkLm5leHQ7XG4gICAgdmFyIHByZXZpb3VzID0gdGhpcy5faGVhZDtcblxuICAgIC8vIEFkZCB0aGUgZmlyc3QgaXRlbVxuICAgIGlmICghY3VycmVudClcbiAgICB7XG4gICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBHbyBmcm9tIGhpZ2hlc3QgdG8gbG93ZXN0IHByaW9yaXR5XG4gICAgICAgIHdoaWxlIChjdXJyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIucHJpb3JpdHkgPiBjdXJyZW50LnByaW9yaXR5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdCB5ZXQgY29ubmVjdGVkXG4gICAgICAgIGlmICghbGlzdGVuZXIucHJldmlvdXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbm5lY3QocHJldmlvdXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fc3RhcnRJZlBvc3NpYmxlKCk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhbnkgaGFuZGxlcnMgbWF0Y2hpbmcgdGhlIGZ1bmN0aW9uIGFuZCBjb250ZXh0IHBhcmFtZXRlcnMuXG4gKiBJZiBubyBoYW5kbGVycyBhcmUgbGVmdCBhZnRlciByZW1vdmluZywgdGhlbiBpdCBjYW5jZWxzIHRoZSBhbmltYXRpb24gZnJhbWUuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgcmVtb3ZlZFxuICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dCB0byBiZSByZW1vdmVkXG4gKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAqL1xuVGlja2VyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGZuLCBjb250ZXh0KVxue1xuICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgIHdoaWxlIChsaXN0ZW5lcilcbiAgICB7XG4gICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgIC8vIG5vIGJyZWFrIHRvIGRlbGV0ZSBhbGwgcG9zc2libGUgbWF0Y2hlc1xuICAgICAgICAvLyBpbmNhc2UgYSBsaXN0ZW5lciB3YXMgYWRkZWQgMisgdGltZXNcbiAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2hlYWQubmV4dClcbiAgICB7XG4gICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFN0YXJ0cyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyBsaXN0ZW5lcnNcbiAqIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQgYXQgdGhpcyBwb2ludC5cbiAqL1xuVGlja2VyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0ICgpXG57XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFN0b3BzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIHJlcXVlc3RlZFxuICogYW4gYW5pbWF0aW9uIGZyYW1lIGl0IGlzIGNhbmNlbGVkIGF0IHRoaXMgcG9pbnQuXG4gKi9cblRpY2tlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AgKClcbntcbiAgICBpZiAodGhpcy5zdGFydGVkKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nXG4gKiB0aGlzIG1ldGhvZCByZW1vdmVzIGFsbCByZWZlcmVuY2VzIHRvIGludGVybmFsIGV2ZW50cy5cbiAqL1xuVGlja2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIGlmICghdGhpcy5fcHJvdGVjdGVkKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuXG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcilcbiAgICAgICAge1xuICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGVhZC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICogY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZWxhcHNlZE1TfSxcbiAqIHRoZSBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICogaW52b2tpbmcgYWxsIGxpc3RlbmVycyB3aXRoIGN1cnJlbnQgZGVsdGFUaW1lLFxuICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNsYXN0VGltZX1cbiAqIHdpdGggdGhlIHZhbHVlIG9mIGN1cnJlbnRUaW1lIHRoYXQgd2FzIHByb3ZpZGVkLlxuICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAqIGZyYW1lIGNhbGxiYWNrcyBpZiB0aGUgdGlja2VyIGluc3RhbmNlIGhhcyBiZWVuIHN0YXJ0ZWRcbiAqIGFuZCBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbY3VycmVudFRpbWU9cGVyZm9ybWFuY2Uubm93KCldIC0gdGhlIGN1cnJlbnQgdGltZSBvZiBleGVjdXRpb25cbiAqL1xuVGlja2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGN1cnJlbnRUaW1lKVxue1xuICAgICAgICBpZiAoIGN1cnJlbnRUaW1lID09PSB2b2lkIDAgKSBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgdmFyIGVsYXBzZWRNUztcblxuICAgIC8vIElmIHRoZSBkaWZmZXJlbmNlIGluIHRpbWUgaXMgemVybyBvciBuZWdhdGl2ZSwgd2UgaWdub3JlIG1vc3Qgb2YgdGhlIHdvcmsgZG9uZSBoZXJlLlxuICAgIC8vIElmIHRoZXJlIGlzIG5vIHZhbGlkIGRpZmZlcmVuY2UsIHRoZW4gc2hvdWxkIGJlIG5vIHJlYXNvbiB0byBsZXQgYW55b25lIGtub3cgYWJvdXQgaXQuXG4gICAgLy8gQSB6ZXJvIGRlbHRhLCBpcyBleGFjdGx5IHRoYXQsIG5vdGhpbmcgc2hvdWxkIHVwZGF0ZS5cbiAgICAvL1xuICAgIC8vIFRoZSBkaWZmZXJlbmNlIGluIHRpbWUgY2FuIGJlIG5lZ2F0aXZlLCBhbmQgbm8gdGhpcyBkb2VzIG5vdCBtZWFuIHRpbWUgdHJhdmVsaW5nLlxuICAgIC8vIFRoaXMgY2FuIGJlIHRoZSByZXN1bHQgb2YgYSByYWNlIGNvbmRpdGlvbiBiZXR3ZWVuIHdoZW4gYW4gYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZFxuICAgIC8vIG9uIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIGV2ZW50IGxvb3AsIGFuZCB3aGVuIHRoZSB0aWNrZXIncyBzdGFydCBtZXRob2QgaXMgaW52b2tlZFxuICAgIC8vICh3aGljaCBpbnZva2VzIHRoZSBpbnRlcm5hbCBfcmVxdWVzdElmTmVlZGVkIG1ldGhvZCkuIElmIGEgZnJhbWUgaXMgcmVxdWVzdGVkIGJlZm9yZVxuICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQgaXMgaW52b2tlZCwgdGhlbiB0aGUgY2FsbGJhY2sgZm9yIHRoZSBhbmltYXRpb24gZnJhbWUgdGhlIHRpY2tlciByZXF1ZXN0cyxcbiAgICAvLyBjYW4gcmVjZWl2ZSBhIHRpbWUgYXJndW1lbnQgdGhhdCBjYW4gYmUgbGVzcyB0aGFuIHRoZSBsYXN0VGltZSB2YWx1ZSB0aGF0IHdhcyBzZXQgd2l0aGluXG4gICAgLy8gX3JlcXVlc3RJZk5lZWRlZC4gVGhpcyBkaWZmZXJlbmNlIGlzIGluIG1pY3Jvc2Vjb25kcywgYnV0IHRoaXMgaXMgZW5vdWdoIHRvIGNhdXNlIHByb2JsZW1zLlxuICAgIC8vXG4gICAgLy8gVGhpcyBjaGVjayBjb3ZlcnMgdGhpcyBicm93c2VyIGVuZ2luZSB0aW1pbmcgaXNzdWUsIGFzIHdlbGwgYXMgaWYgY29uc3VtZXJzIHBhc3MgYW4gaW52YWxpZFxuICAgIC8vIGN1cnJlbnRUaW1lIHZhbHVlLiBUaGlzIG1heSBoYXBwZW4gaWYgY29uc3VtZXJzIG9wdC1vdXQgb2YgdGhlIGF1dG9TdGFydCwgYW5kIHVwZGF0ZSB0aGVtc2VsdmVzLlxuXG4gICAgaWYgKGN1cnJlbnRUaW1lID4gdGhpcy5sYXN0VGltZSlcbiAgICB7XG4gICAgICAgIC8vIFNhdmUgdW5jYXBwZWQgZWxhcHNlZE1TIGZvciBtZWFzdXJlbWVudFxuICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLmVsYXBzZWRNUyA9IGN1cnJlbnRUaW1lIC0gdGhpcy5sYXN0VGltZTtcblxuICAgICAgICAvLyBjYXAgdGhlIG1pbGxpc2Vjb25kcyBlbGFwc2VkIHVzZWQgZm9yIGRlbHRhVGltZVxuICAgICAgICBpZiAoZWxhcHNlZE1TID4gdGhpcy5fbWF4RWxhcHNlZE1TKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgIH1cblxuICAgICAgICBlbGFwc2VkTVMgKj0gdGhpcy5zcGVlZDtcblxuICAgICAgICAvLyBJZiBub3QgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCwgZXhpdCB0aGUgZnVuY3Rpb24uXG4gICAgICAgIC8vIEdldCByZWFkeSBmb3IgbmV4dCBmcmFtZSBieSBzZXR0aW5nIF9sYXN0RnJhbWUsIGJ1dCBiYXNlZCBvbiBfbWluRWxhcHNlZE1TXG4gICAgICAgIC8vIGFkanVzdG1lbnQgdG8gZW5zdXJlIGEgcmVsYXRpdmVseSBzdGFibGUgaW50ZXJ2YWwuXG4gICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkZWx0YSA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fbGFzdEZyYW1lIHwgMDtcblxuICAgICAgICAgICAgaWYgKGRlbHRhIDwgdGhpcy5fbWluRWxhcHNlZE1TKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fbGFzdEZyYW1lID0gY3VycmVudFRpbWUgLSAoZGVsdGEgJSB0aGlzLl9taW5FbGFwc2VkTVMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWx0YU1TID0gZWxhcHNlZE1TO1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyAqIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgICAgIC8vIENhY2hlIGEgbG9jYWwgcmVmZXJlbmNlLCBpbi1jYXNlIHRpY2tlciBpcyBkZXN0cm95ZWRcbiAgICAgICAgLy8gZHVyaW5nIHRoZSBlbWl0LCB3ZSBjYW4gc3RpbGwgY2hlY2sgZm9yIGhlYWQubmV4dFxuICAgICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgICAgLy8gSW52b2tlIGxpc3RlbmVycyBhZGRlZCB0byBpbnRlcm5hbCBlbWl0dGVyXG4gICAgICAgIHZhciBsaXN0ZW5lciA9IGhlYWQubmV4dDtcblxuICAgICAgICB3aGlsZSAobGlzdGVuZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxpc3RlbmVyID0gbGlzdGVuZXIuZW1pdCh0aGlzLmRlbHRhVGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhlYWQubmV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZGVsdGFNUyA9IHRoaXMuZWxhcHNlZE1TID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XG59O1xuXG4vKipcbiAqIFRoZSBmcmFtZXMgcGVyIHNlY29uZCBhdCB3aGljaCB0aGlzIHRpY2tlciBpcyBydW5uaW5nLlxuICogVGhlIGRlZmF1bHQgaXMgYXBwcm94aW1hdGVseSA2MCBpbiBtb3N0IG1vZGVybiBicm93c2Vycy5cbiAqICoqTm90ZToqKiBUaGlzIGRvZXMgbm90IGZhY3RvciBpbiB0aGUgdmFsdWUgb2ZcbiAqIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0sIHdoaWNoIGlzIHNwZWNpZmljXG4gKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuRlBTLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIDEwMDAgLyB0aGlzLmVsYXBzZWRNUztcbn07XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIGFsbG93ZWQgdG9cbiAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGNhcCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAqIGJ1dCBkb2VzIG5vdCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLlRpY2tlciNGUFN9LlxuICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAqIGAwYCBhbmQgYFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgKiAxMDAwYC5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAxMFxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubWluRlBTLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIDEwMDAgLyB0aGlzLl9tYXhFbGFwc2VkTVM7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMubWluRlBTLnNldCA9IGZ1bmN0aW9uIChmcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIC8vIE1pbmltdW0gbXVzdCBiZSBiZWxvdyB0aGUgbWF4RlBTXG4gICAgdmFyIG1pbkZQUyA9IE1hdGgubWluKHRoaXMubWF4RlBTLCBmcHMpO1xuXG4gICAgLy8gTXVzdCBiZSBhdCBsZWFzdCAwLCBidXQgYmVsb3cgMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TXG4gICAgdmFyIG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBtaW5GUFMpIC8gMTAwMCwgc2V0dGluZ3MuVEFSR0VUX0ZQTVMpO1xuXG4gICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMSAvIG1pbkZQTVM7XG59O1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIG1pbmltdW0gYW1vdW50IG9mIG1pbGxpc2Vjb25kcyByZXF1aXJlZCB0b1xuICogZWxhcHNlIGJldHdlZW4gaW52b2tpbmcge0BsaW5rIFBJWEkuVGlja2VyI3VwZGF0ZX0uXG4gKiBUaGlzIHdpbGwgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAqIElmIGl0IGlzIHNldCB0byBgMGAsIHRoZW4gdGhlcmUgaXMgbm8gbGltaXQ7IFBpeGlKUyB3aWxsIHJlbmRlciBhcyBtYW55IGZyYW1lcyBhcyBpdCBjYW4uXG4gKiBPdGhlcndpc2UgaXQgd2lsbCBiZSBhdCBsZWFzdCBgbWluRlBTYFxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IDBcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLm1heEZQUy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgxMDAwIC8gdGhpcy5fbWluRWxhcHNlZE1TKTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy5tYXhGUFMuc2V0ID0gZnVuY3Rpb24gKGZwcylcbntcbiAgICBpZiAoZnBzID09PSAwKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gTWF4IG11c3QgYmUgYXQgbGVhc3QgdGhlIG1pbkZQU1xuICAgICAgICB2YXIgbWF4RlBTID0gTWF0aC5tYXgodGhpcy5taW5GUFMsIGZwcyk7XG5cbiAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMSAvIChtYXhGUFMgLyAxMDAwKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBzaGFyZWQgdGlja2VyIGluc3RhbmNlIHVzZWQgYnkge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9IGFuZCBieVxuICoge0BsaW5rIFBJWEkuVmlkZW9SZXNvdXJjZX0gdG8gdXBkYXRlIGFuaW1hdGlvbiBmcmFtZXMgLyB2aWRlbyB0ZXh0dXJlcy5cbiAqXG4gKiBJdCBtYXkgYWxzbyBiZSB1c2VkIGJ5IHtAbGluayBQSVhJLkFwcGxpY2F0aW9ufSBpZiBjcmVhdGVkIHdpdGggdGhlIGBzaGFyZWRUaWNrZXJgIG9wdGlvbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZS5cbiAqXG4gKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAqIFBsZWFzZSBmb2xsb3cgdGhlIGV4YW1wbGVzIGZvciB1c2FnZSwgaW5jbHVkaW5nIGhvdyB0byBvcHQtb3V0IG9mIGF1dG8tc3RhcnRpbmcgdGhlIHNoYXJlZCB0aWNrZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGxldCB0aWNrZXIgPSBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gKiAvLyBTZXQgdGhpcyB0byBwcmV2ZW50IHN0YXJ0aW5nIHRoaXMgdGlja2VyIHdoZW4gbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAqIC8vIEJ5IGRlZmF1bHQgdGhpcyBpcyB0cnVlIG9ubHkgZm9yIHRoZSBQSVhJLlRpY2tlci5zaGFyZWQgaW5zdGFuY2UuXG4gKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gKiAvLyBGWUksIGNhbGwgdGhpcyB0byBlbnN1cmUgdGhlIHRpY2tlciBpcyBzdG9wcGVkLiBJdCBzaG91bGQgYmUgc3RvcHBlZFxuICogLy8gaWYgeW91IGhhdmUgbm90IGF0dGVtcHRlZCB0byByZW5kZXIgYW55dGhpbmcgeWV0LlxuICogdGlja2VyLnN0b3AoKTtcbiAqIC8vIENhbGwgdGhpcyB3aGVuIHlvdSBhcmUgcmVhZHkgZm9yIGEgcnVubmluZyBzaGFyZWQgdGlja2VyLlxuICogdGlja2VyLnN0YXJ0KCk7XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFlvdSBtYXkgdXNlIHRoZSBzaGFyZWQgdGlja2VyIHRvIHJlbmRlci4uLlxuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCBzdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci52aWV3KTtcbiAqIHRpY2tlci5hZGQoZnVuY3Rpb24gKHRpbWUpIHtcbiAqIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAqIHRpY2tlci51cGRhdGUodGltZSk7XG4gKiByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xuICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICogfVxuICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gKlxuICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gKiBAc3RhdGljXG4gKi9cbnN0YXRpY0FjY2Vzc29ycy5zaGFyZWQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICBpZiAoIVRpY2tlci5fc2hhcmVkKVxuICAgIHtcbiAgICAgICAgdmFyIHNoYXJlZCA9IFRpY2tlci5fc2hhcmVkID0gbmV3IFRpY2tlcigpO1xuXG4gICAgICAgIHNoYXJlZC5hdXRvU3RhcnQgPSB0cnVlO1xuICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIFRpY2tlci5fc2hhcmVkO1xufTtcblxuLyoqXG4gKiBUaGUgc3lzdGVtIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0gYW5kIGJ5XG4gKiB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gZm9yIGNvcmUgdGltaW5nIGZ1bmN0aW9uYWxpdHkgdGhhdCBzaG91bGRuJ3QgdXN1YWxseSBuZWVkIHRvIGJlIHBhdXNlZCxcbiAqIHVubGlrZSB0aGUgYHNoYXJlZGAgdGlja2VyIHdoaWNoIGRyaXZlcyB2aXN1YWwgYW5pbWF0aW9ucyBhbmQgcmVuZGVyaW5nIHdoaWNoIG1heSB3YW50IHRvIGJlIHBhdXNlZC5cbiAqXG4gKiBUaGUgcHJvcGVydHkge0BsaW5rIFBJWEkuVGlja2VyI2F1dG9TdGFydH0gaXMgc2V0IHRvIGB0cnVlYCBmb3IgdGhpcyBpbnN0YW5jZS5cbiAqXG4gKiBAbWVtYmVyIHtQSVhJLlRpY2tlcn1cbiAqIEBzdGF0aWNcbiAqL1xuc3RhdGljQWNjZXNzb3JzLnN5c3RlbS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIGlmICghVGlja2VyLl9zeXN0ZW0pXG4gICAge1xuICAgICAgICB2YXIgc3lzdGVtID0gVGlja2VyLl9zeXN0ZW0gPSBuZXcgVGlja2VyKCk7XG5cbiAgICAgICAgc3lzdGVtLmF1dG9TdGFydCA9IHRydWU7XG4gICAgICAgIHN5c3RlbS5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gVGlja2VyLl9zeXN0ZW07XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGlja2VyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGlja2VyLCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBNaWRkbGV3YXJlIGZvciBmb3IgQXBwbGljYXRpb24gVGlja2VyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge1RpY2tlclBsdWdpbn0gZnJvbSAnQHBpeGkvdGlja2VyJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpY2tlclBsdWdpbiA9IGZ1bmN0aW9uIFRpY2tlclBsdWdpbiAoKSB7fTtcblxuVGlja2VyUGx1Z2luLmluaXQgPSBmdW5jdGlvbiBpbml0IChvcHRpb25zKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIC8vIFNldCBkZWZhdWx0XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBhdXRvU3RhcnQ6IHRydWUsXG4gICAgICAgIHNoYXJlZFRpY2tlcjogZmFsc2UsXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvLyBDcmVhdGUgdGlja2VyIHNldHRlclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndGlja2VyJyxcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGlja2VyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90aWNrZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlja2VyID0gdGlja2VyO1xuICAgICAgICAgICAgICAgIGlmICh0aWNrZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aWNrZXIuYWRkKHRoaXMucmVuZGVyLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuTE9XKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90aWNrZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNzdG9wXG4gICAgICovXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzJDEuX3RpY2tlci5zdG9wKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNzdGFydFxuICAgICAqL1xuICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMkMS5fdGlja2VyLnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byB0aGUgdGlja2VyLlxuICAgICAqXG4gICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAqIEBuYW1lIF90aWNrZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3RpY2tlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaWNrZXIgZm9yIGRvaW5nIHJlbmRlciB1cGRhdGVzLlxuICAgICAqXG4gICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAqIEBuYW1lIHRpY2tlclxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkFwcGxpY2F0aW9uI1xuICAgICAqIEBkZWZhdWx0IFBJWEkuVGlja2VyLnNoYXJlZFxuICAgICAqL1xuICAgIHRoaXMudGlja2VyID0gb3B0aW9ucy5zaGFyZWRUaWNrZXIgPyBUaWNrZXIuc2hhcmVkIDogbmV3IFRpY2tlcigpO1xuXG4gICAgLy8gU3RhcnQgdGhlIHJlbmRlcmluZ1xuICAgIGlmIChvcHRpb25zLmF1dG9TdGFydClcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICovXG5UaWNrZXJQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICBpZiAodGhpcy5fdGlja2VyKVxuICAgIHtcbiAgICAgICAgdmFyIG9sZFRpY2tlciA9IHRoaXMuX3RpY2tlcjtcblxuICAgICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICAgIG9sZFRpY2tlci5kZXN0cm95KCk7XG4gICAgfVxufTtcblxuZXhwb3J0IHsgVGlja2VyLCBUaWNrZXJQbHVnaW4sIFVQREFURV9QUklPUklUWSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlja2VyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb3JlIC0gdjUuMS4xXG4gKiBDb21waWxlZCBGcmksIDAyIEF1ZyAyMDE5IDIzOjIwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL2NvcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IHsgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4sIGlzUG93MiwgQmFzZVRleHR1cmVDYWNoZSwgVGV4dHVyZUNhY2hlLCB1aWQsIEV2ZW50RW1pdHRlciwgZ2V0UmVzb2x1dGlvbk9mVXJsLCBuZXh0UG93MiwgaXNNb2JpbGUsIFByb2dyYW1DYWNoZSwgcmVtb3ZlSXRlbXMsIGhleDJzdHJpbmcsIGhleDJyZ2IsIGRlcHJlY2F0aW9uLCBpc1dlYkdMU3VwcG9ydGVkLCBzYXlIZWxsbywgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIGxvZzIsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgU0NBTEVfTU9ERVMsIEZPUk1BVFMsIFRZUEVTLCBUQVJHRVRTLCBEUkFXX01PREVTLCBFTlYsIFBSRUNJU0lPTiwgQkxFTkRfTU9ERVMsIEdDX01PREVTLCBNSVBNQVBfTU9ERVMsIFdSQVBfTU9ERVMsIFJFTkRFUkVSX1RZUEUgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IEdyb3VwRDgsIFJlY3RhbmdsZSwgUG9pbnQsIE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogQmFzZSByZXNvdXJjZSBjbGFzcyBmb3IgdGV4dHVyZXMgdGhhdCBtYW5hZ2VzIHZhbGlkYXRpb24gYW5kIHVwbG9hZGluZywgZGVwZW5kaW5nIG9uIGl0cyB0eXBlLlxuICpcbiAqIFVwbG9hZGluZyBvZiBhIGJhc2UgdGV4dHVyZSB0byB0aGUgR1BVIGlzIHJlcXVpcmVkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBSZXNvdXJjZSA9IGZ1bmN0aW9uIFJlc291cmNlKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAwO1xuICAgIGlmICggaGVpZ2h0ID09PSB2b2lkIDAgKSBoZWlnaHQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgd2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgLyoqXG4gICAgICogSWYgcmVzb3VyY2UgaGFzIGJlZW4gZGVzdHJveWVkXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMuZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgcmVzb3VyY2UgaXMgY3JlYXRlZCBieSBCYXNlVGV4dHVyZVxuICAgICAqIHVzZWZ1bCBmb3IgZG9pbmcgY2xlYW51cCB3aXRoIEJhc2VUZXh0dXJlIGRlc3Ryb3lcbiAgICAgKiBhbmQgbm90IGNsZWFuaW5nIHVwIHJlc291cmNlcyB0aGF0IHdlcmUgY3JlYXRlZFxuICAgICAqIGV4dGVybmFsbHkuXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy5pbnRlcm5hbCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogTWluaS1ydW5uZXIgZm9yIGhhbmRsaW5nIHJlc2l6ZSBldmVudHNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMub25SZXNpemUgPSBuZXcgUnVubmVyKCdzZXRSZWFsU2l6ZScsIDIpO1xuXG4gICAgLyoqXG4gICAgICogTWluaS1ydW5uZXIgZm9yIGhhbmRsaW5nIHVwZGF0ZSBldmVudHNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMub25VcGRhdGUgPSBuZXcgUnVubmVyKCd1cGRhdGUnKTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHZhbGlkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIEJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAqXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUGFyZW50IHRleHR1cmVcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChiYXNlVGV4dHVyZSlcbntcbiAgICB0aGlzLm9uUmVzaXplLmFkZChiYXNlVGV4dHVyZSk7XG4gICAgdGhpcy5vblVwZGF0ZS5hZGQoYmFzZVRleHR1cmUpO1xuXG4gICAgLy8gQ2FsbCBhIHJlc2l6ZSBpbW1lZGlhdGUgaWYgd2UgYWxyZWFkeVxuICAgIC8vIGhhdmUgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgaWYgKHRoaXMuX3dpZHRoIHx8IHRoaXMuX2hlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMub25SZXNpemUucnVuKHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVW5iaW5kIHRvIGEgcGFyZW50IEJhc2VUZXh0dXJlXG4gKlxuICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gKi9cblJlc291cmNlLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKGJhc2VUZXh0dXJlKVxue1xuICAgIHRoaXMub25SZXNpemUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZShiYXNlVGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIFRyaWdnZXIgYSByZXNpemUgZXZlbnRcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAod2lkdGgsIGhlaWdodClcbntcbiAgICBpZiAod2lkdGggIT09IHRoaXMuX3dpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5faGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLm9uUmVzaXplLnJ1bih3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEhhcyBiZWVuIHZhbGlkYXRlZFxuICogQHJlYWRvbmx5XG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMudmFsaWQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISF0aGlzLl93aWR0aCAmJiAhIXRoaXMuX2hlaWdodDtcbn07XG5cbi8qKlxuICogSGFzIGJlZW4gdXBkYXRlZCB0cmlnZ2VyIGV2ZW50XG4gKi9cblJlc291cmNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbntcbiAgICBpZiAoIXRoaXMuZGVzdHJveWVkKVxuICAgIHtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5ydW4oKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoaXMgY2FuIGJlIG92ZXJyaWRkZW4gdG8gc3RhcnQgcHJlbG9hZGluZyBhIHJlc291cmNlXG4gKiBvciBkbyBhbnkgb3RoZXIgcHJlcGFyZSBzdGVwLlxuICogQHByb3RlY3RlZFxuICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gSGFuZGxlIHRoZSB2YWxpZGF0ZSBldmVudFxuICovXG5SZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKClcbntcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59O1xuXG4vKipcbiAqIFRoZSB3aWR0aCBvZiB0aGUgcmVzb3VyY2UuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICogQHJlYWRvbmx5XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl93aWR0aDtcbn07XG5cbi8qKlxuICogVGhlIGhlaWdodCBvZiB0aGUgcmVzb3VyY2UuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICogQHJlYWRvbmx5XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoZSB0ZXh0dXJlIG9yIHJldHVybnMgZmFsc2UgaWYgaXQgY2FudCBmb3Igc29tZSByZWFzb24uIE92ZXJyaWRlIHRoaXMuXG4gKlxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHllYWgsIHJlbmRlcmVyIVxuICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSB0ZXh0dXJlIGluc3RhbmNlIGZvciB0aGlzIHdlYmdsIGNvbnRleHRcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbntcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgc3R5bGUsIG9wdGlvbmFsIHRvIG92ZXJyaWRlXG4gKlxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHllYWgsIHJlbmRlcmVyIVxuICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSB0ZXh0dXJlIGluc3RhbmNlIGZvciB0aGlzIHdlYmdsIGNvbnRleHRcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaXMgc3VjY2Vzc1xuICovXG5SZXNvdXJjZS5wcm90b3R5cGUuc3R5bGUgPSBmdW5jdGlvbiBzdHlsZSAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbntcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIGFueXRoaW5nLCB0aGlzIGhhcHBlbnMgd2hlbiBkZXN0cm95aW5nIGlzIHJlYWR5LlxuICpcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG57XG4gICAgLy8gb3ZlcnJpZGVcbn07XG5cbi8qKlxuICogQ2FsbCB3aGVuIGRlc3Ryb3lpbmcgcmVzb3VyY2UsIHVuYmluZCBhbnkgQmFzZVRleHR1cmUgb2JqZWN0XG4gKiBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZCwgYXMgcmVmZXJlbmNlIGNvdW50cyBhcmUgbWFpbnRhaW5lZFxuICogaW50ZXJuYWxseS5cbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICB7XG4gICAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMub25SZXNpemUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggUmVzb3VyY2UucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBCYXNlIGZvciBhbGwgdGhlIGltYWdlL2NhbnZhcyByZXNvdXJjZXNcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgQmFzZUltYWdlUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIEJhc2VJbWFnZVJlc291cmNlKHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHZhciB3aWR0aCA9IHNvdXJjZS5uYXR1cmFsV2lkdGggfHwgc291cmNlLnZpZGVvV2lkdGggfHwgc291cmNlLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgc291cmNlLnZpZGVvSGVpZ2h0IHx8IHNvdXJjZS5oZWlnaHQ7XG5cbiAgICAgICAgUmVzb3VyY2UuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBlbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIH1cblxuICAgIGlmICggUmVzb3VyY2UgKSBCYXNlSW1hZ2VSZXNvdXJjZS5fX3Byb3RvX18gPSBSZXNvdXJjZTtcbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBSZXNvdXJjZSAmJiBSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXNlSW1hZ2VSZXNvdXJjZTtcblxuICAgIC8qKlxuICAgICAqIFNldCBjcm9zcyBvcmlnaW4gYmFzZWQgZGV0ZWN0aW5nIHRoZSB1cmwgYW5kIHRoZSBjcm9zc29yaWdpblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gRWxlbWVudCB0byBhcHBseSBjcm9zc09yaWdpblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkwgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfSBbY3Jvc3NvcmlnaW49dHJ1ZV0gLSBDcm9zcyBvcmlnaW4gdmFsdWUgdG8gdXNlXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiBjcm9zc09yaWdpbiAoZWxlbWVudCwgdXJsLCBjcm9zc29yaWdpbilcbiAgICB7XG4gICAgICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkICYmIHVybC5pbmRleE9mKCdkYXRhOicpICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3NzT3JpZ2luID0gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjcm9zc29yaWdpbiAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSB0eXBlb2YgY3Jvc3NvcmlnaW4gPT09ICdzdHJpbmcnID8gY3Jvc3NvcmlnaW4gOiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9IFtzb3VyY2VdIChvcHRpb25hbClcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgd2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBiYXNlVGV4dHVyZS5yZWFsSGVpZ2h0O1xuXG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZSB8fCB0aGlzLnNvdXJjZTtcblxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO1xuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS50YXJnZXQgPT09IGdsLlRFWFRVUkVfMkQgJiYgZ2xUZXh0dXJlLndpZHRoID09PSB3aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBoZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGJhc2VUZXh0dXJlLnRhcmdldCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHNvdXJjZSB3aWR0aC9oZWlnaHQgd2FzIGNoYW5nZWQsIHJlc2l6ZSBjYW4gY2F1c2UgZXh0cmEgYmFzZVRleHR1cmUgdXBkYXRlLlxuICAgICAqIFRyaWdnZXJzIG9uZSB1cGRhdGUgaW4gYW55IGNhc2UuXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLnNvdXJjZS5uYXR1cmFsV2lkdGggfHwgdGhpcy5zb3VyY2UudmlkZW9XaWR0aCB8fCB0aGlzLnNvdXJjZS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgdGhpcy5zb3VyY2UudmlkZW9IZWlnaHQgfHwgdGhpcy5zb3VyY2UuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIFJlc291cmNlLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGlzIEJhc2VJbWFnZVJlc291cmNlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBbZnJvbVRleHR1cmVdIE9wdGlvbmFsIGJhc2UgdGV4dHVyZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IERlc3Ryb3kgd2FzIHN1Y2Nlc3NmdWxcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuc291cmNlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJhc2VJbWFnZVJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxJbWFnZUVsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIEltYWdlUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlSW1hZ2VSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIEltYWdlUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4oaW1hZ2VFbGVtZW50LCBzb3VyY2UsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuXG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQuc3JjID0gc291cmNlO1xuICAgICAgICAgICAgc291cmNlID0gaW1hZ2VFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY2FsbCh0aGlzLCBzb3VyY2UpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVUkwgb2YgdGhlIGltYWdlIHNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHNvdXJjZS5zcmM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcHJvY2VzcyBpcyBjb21wbGV0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGRpc3Bvc2VkIGFmdGVyIHVwbG9hZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZUJpdG1hcCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjYXBhYmxlLCBjb252ZXJ0IHRoZSBpbWFnZSB1c2luZyBjcmVhdGVJbWFnZUJpdG1hcCBBUElcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IChvcHRpb25zLmNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuY3JlYXRlQml0bWFwIDogc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUCkgJiYgISF3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRyb2xzIHRleHR1cmUgcHJlbXVsdGlwbHlBbHBoYSBmaWVsZFxuICAgICAgICAgKiBDb3BpZXMgZnJvbSBvcHRpb25zXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW58bnVsbH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGx5QWxwaGEgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSW1hZ2VCaXRtYXAgZWxlbWVudCBjcmVhdGVkIGZvciBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0ltYWdlQml0bWFwfVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlICkgSW1hZ2VSZXNvdXJjZS5fX3Byb3RvX18gPSBCYXNlSW1hZ2VSZXNvdXJjZTtcbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VJbWFnZVJlc291cmNlICYmIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW1hZ2VSZXNvdXJjZTtcblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHdoZW4gaW1hZ2Ugd2lsbCBiZSBsb2FkZWQgYW5kIHByb2Nlc3NlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3JlYXRlQml0bWFwPXRydWVdIHdoZXRoZXIgcHJvY2VzcyBpbWFnZSBpbnRvIGJpdG1hcFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkIChjcmVhdGVCaXRtYXApXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAoY3JlYXRlQml0bWFwICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQml0bWFwID0gY3JlYXRlQml0bWFwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICB0aGlzJDEudXJsID0gdGhpcyQxLnNvdXJjZS5zcmM7XG4gICAgICAgICAgICB2YXIgcmVmID0gdGhpcyQxO1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHJlZi5zb3VyY2U7XG5cbiAgICAgICAgICAgIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMkMS5kZXN0cm95ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHRoaXMkMS5yZXNpemUoc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzJDEuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMkMS5jcmVhdGVCaXRtYXApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMkMS5wcm9jZXNzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHNvdXJjZS5jb21wbGV0ZSAmJiBzb3VyY2Uuc3JjKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBjb21wbGV0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB3ZSBuZWVkIHRvIGNvbnZlcnQgaW1hZ2UgaW50byBCaXRtYXBJbWFnZS5cbiAgICAgKiBDYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCByZWFsIHByb21pc2UgaXMgY2FjaGVkIGluc2lkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBjYWNoZWQgcHJvbWlzZSB0byBmaWxsIHRoYXQgYml0bWFwXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uIHByb2Nlc3MgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9wcm9jZXNzICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iaXRtYXAgIT09IG51bGwgfHwgIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSB3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAodGhpcy5zb3VyY2UsXG4gICAgICAgICAgICAwLCAwLCB0aGlzLnNvdXJjZS53aWR0aCwgdGhpcy5zb3VyY2UuaGVpZ2h0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHRoaXMucHJlbXVsdGlwbHlBbHBoYSA/ICdwcmVtdWx0aXBseScgOiAnbm9uZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJpdG1hcCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzJDEuZGVzdHJveWVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMkMS5iaXRtYXAgPSBiaXRtYXA7XG4gICAgICAgICAgICAgICAgdGhpcyQxLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fcHJvY2VzcyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSBpbWFnZSByZXNvdXJjZSB0byBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gUmVuZGVyZXIgdG8gdXBsb2FkIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEJhc2VUZXh0dXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gR0xUZXh0dXJlIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA9IHRoaXMucHJlbXVsdGlwbHlBbHBoYTtcblxuICAgICAgICBpZiAoIXRoaXMuY3JlYXRlQml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZC5jYWxsKHRoaXMsIHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuYml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB5ZWFoLCBpZ25vcmUgdGhlIG91dHB1dFxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYml0bWFwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQuY2FsbCh0aGlzLCByZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgdGhpcy5iaXRtYXApO1xuXG4gICAgICAgIGlmICghdGhpcy5wcmVzZXJ2ZUJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gY2hlY2tzIGlmIHRoZXJlIGFyZSBvdGhlciByZW5kZXJlcnMgdGhhdCBwb3NzaWJseSBuZWVkIHRoaXMgYml0bWFwXG5cbiAgICAgICAgICAgIHZhciBmbGFnID0gdHJ1ZTtcblxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBvdGhlclRleCA9IGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzW2tleV07XG5cbiAgICAgICAgICAgICAgICBpZiAob3RoZXJUZXggIT09IGdsVGV4dHVyZSAmJiBvdGhlclRleC5kaXJ0eUlkICE9PSBiYXNlVGV4dHVyZS5kaXJ0eUlkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmbGFnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJpdG1hcC5jbG9zZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLmJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBJbWFnZVJlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHJlc291cmNlIHR5cGVzLCBjbGFzcyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9LlxuICogQGV4YW1wbGVcbiAqIGNsYXNzIEN1c3RvbVJlc291cmNlIGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2Uge1xuICogICAvLyBNVVNUIGhhdmUgc291cmNlLCBvcHRpb25zIGNvbnN0cnVjdG9yIHNpZ25hdHVyZVxuICogICAvLyBmb3IgYXV0by1kZXRlY3RlZCByZXNvdXJjZXMgdG8gYmUgY3JlYXRlZC5cbiAqICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gKiAgICAgc3VwZXIoKTtcbiAqICAgfVxuICogICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAqICAgICAvLyB1cGxvYWQgd2l0aCBHTFxuICogICAgIHJldHVybiB0cnVlO1xuICogICB9XG4gKiAgIC8vIHVzZWQgdG8gYXV0by1kZXRlY3QgcmVzb3VyY2VcbiAqICAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pIHtcbiAqICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAneHl6J3x8IHNvdXJjZSBpbnN0YW5jZW9mIFNvbWVDbGFzcztcbiAqICAgfVxuICogfVxuICogLy8gSW5zdGFsbCB0aGUgbmV3IHJlc291cmNlIHR5cGVcbiAqIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRC5wdXNoKEN1c3RvbVJlc291cmNlKTtcbiAqXG4gKiBAbmFtZSBQSVhJLnJlc291cmNlcy5JTlNUQUxMRURcbiAqIEB0eXBlIHtBcnJheTwqPn1cbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICovXG52YXIgSU5TVEFMTEVEID0gW107XG5cbi8qKlxuICogQ3JlYXRlIGEgcmVzb3VyY2UgZWxlbWVudCBmcm9tIGEgc2luZ2xlIHNvdXJjZSBlbGVtZW50LiBUaGlzXG4gKiBhdXRvLWRldGVjdHMgd2hpY2ggdHlwZSBvZiByZXNvdXJjZSB0byBjcmVhdGUuIEFsbCByZXNvdXJjZXMgdGhhdFxuICogYXJlIGF1dG8tZGV0ZWN0YWJsZSBtdXN0IGhhdmUgYSBzdGF0aWMgYHRlc3RgIG1ldGhvZCBhbmQgYSBjb25zdHJ1Y3RvclxuICogd2l0aCB0aGUgYXJndW1lbnRzIGAoc291cmNlLCBvcHRpb25zPylgLiBDdXJyZW50bHksIHRoZSBzdXBwb3J0ZWRcbiAqIHJlc291cmNlcyBmb3IgYXV0by1kZXRlY3Rpb24gaW5jbHVkZTpcbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5JbWFnZVJlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkNhbnZhc1Jlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLlZpZGVvUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2V9XG4gKiBAc3RhdGljXG4gKiBAZnVuY3Rpb24gUElYSS5yZXNvdXJjZXMuYXV0b0RldGVjdFJlc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ3wqfSBzb3VyY2UgLSBSZXNvdXJjZSBzb3VyY2UsIHRoaXMgY2FuIGJlIHRoZSBVUkwgdG8gdGhlIHJlc291cmNlLFxuICogICAgICAgIGEgdHlwZWQtYXJyYXkgKGZvciBCdWZmZXJSZXNvdXJjZSksIEhUTUxWaWRlb0VsZW1lbnQsIFNWRyBkYXRhLXVyaVxuICogICAgICAgIG9yIGFueSBvdGhlciByZXNvdXJjZSB0aGF0IGNhbiBiZSBhdXRvLWRldGVjdGVkLiBJZiBub3QgcmVzb3VyY2UgaXNcbiAqICAgICAgICBkZXRlY3RlZCwgaXQncyBhc3N1bWVkIHRvIGJlIGFuIEltYWdlUmVzb3VyY2UuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gUGFzcy10aHJvdWdoIG9wdGlvbnMgdG8gdXNlIGZvciBSZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoXSAtIFdpZHRoIG9mIEJ1ZmZlclJlc291cmNlIG9yIFNWRyByYXN0ZXJpemF0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiBCdWZmZXJSZXNvdXJjZSBvciBTVkcgcmFzdGVyaXphdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIEltYWdlLCBTVkcgYW5kIFZpZGVvIGZsYWcgdG8gc3RhcnQgbG9hZGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIC0gU1ZHIHNvdXJjZSBzY2FsZS4gT3ZlcnJpZGRlbiBieSB3aWR0aCwgaGVpZ2h0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD1QSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBdIC0gSW1hZ2Ugb3B0aW9uIHRvIGNyZWF0ZSBCaXRtYXAgb2JqZWN0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyb3Nzb3JpZ2luPXRydWVdIC0gSW1hZ2UgYW5kIFZpZGVvIG9wdGlvbiB0byBzZXQgY3Jvc3NPcmlnaW5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBWaWRlbyBvcHRpb24gdG8gc3RhcnQgcGxheWluZyB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnVwZGF0ZUZQUz0wXSAtIFZpZGVvIG9wdGlvbiB0byB1cGRhdGUgaG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdGhlXG4gKiAgICAgICAgdGV4dHVyZSBzaG91bGQgYmUgdXBkYXRlZCBmcm9tIHRoZSB2aWRlby4gTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyXG4gKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gVGhlIGNyZWF0ZWQgcmVzb3VyY2UuXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG57XG4gICAgaWYgKCFzb3VyY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZXh0ZW5zaW9uID0gJyc7XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICAvLyBzZWFyY2ggZm9yIGZpbGUgZXh0ZW5zaW9uOiBwZXJpb2QsIDMtNCBjaGFycywgdGhlbiA/LCAjIG9yIEVPTFxuICAgICAgICB2YXIgcmVzdWx0ID0gKC9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaSkuZXhlYyhzb3VyY2UpO1xuXG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IHJlc3VsdFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IElOU1RBTExFRC5sZW5ndGggLSAxOyBpID49IDA7IC0taSlcbiAgICB7XG4gICAgICAgIHZhciBSZXNvdXJjZVBsdWdpbiA9IElOU1RBTExFRFtpXTtcblxuICAgICAgICBpZiAoUmVzb3VyY2VQbHVnaW4udGVzdCAmJiBSZXNvdXJjZVBsdWdpbi50ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBsdWdpbihzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2hlbiBpbiBkb3VidDogcHJvYmFibHkgYW4gaW1hZ2VcbiAgICAvLyBtaWdodCBiZSBhcHByb3ByaWF0ZSB0byB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gbnVsbFxuICAgIHJldHVybiBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEBpbnRlcmZhY2UgU2hhcmVkQXJyYXlCdWZmZXJcbiAqL1xuXG4vKipcbiAqIEJ1ZmZlciByZXNvdXJjZSB3aXRoIGRhdGEgb2YgdHlwZWQgYXJyYXkuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIEJ1ZmZlclJlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBCdWZmZXJSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVmLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcmVmLmhlaWdodDtcblxuICAgICAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnVmZmVyUmVzb3VyY2Ugd2lkdGggb3IgaGVpZ2h0IGludmFsaWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFJlc291cmNlLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBhcnJheVxuICAgICAgICAgKiBDYW5ub3QgYmUgQ2xhbXBlZFVpbnQ4QXJyYXkgYmVjYXVzZSBpdCBjYW50IGJlIHVwbG9hZGVkIHRvIFdlYkdMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gc291cmNlO1xuICAgIH1cblxuICAgIGlmICggUmVzb3VyY2UgKSBCdWZmZXJSZXNvdXJjZS5fX3Byb3RvX18gPSBSZXNvdXJjZTtcbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBSZXNvdXJjZSAmJiBSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCdWZmZXJSZXNvdXJjZTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSk7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gYmFzZVRleHR1cmUud2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gYmFzZVRleHR1cmUuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgPGNhbnZhcz5cbiAgICAgKi9cbiAgICBCdWZmZXJSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gdGVzdCAoc291cmNlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDhBcnJheVxuICAgICAgICAgICAgfHwgc291cmNlIGluc3RhbmNlb2YgVWludDMyQXJyYXk7XG4gICAgfTtcblxuICAgIHJldHVybiBCdWZmZXJSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxudmFyIGRlZmF1bHRCdWZmZXJPcHRpb25zID0ge1xuICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICBmb3JtYXQ6IEZPUk1BVFMuUkdCQSxcbiAgICBwcmVtdWx0aXBseUFscGhhOiBmYWxzZSxcbn07XG5cbi8qKlxuICogQSBUZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLlxuICogQWxsIHRleHR1cmVzIGhhdmUgYSBiYXNlIHRleHR1cmUsIHdoaWNoIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UuXG4gKiBUaGVyZWZvcmUgeW91IGNhbiBoYXZlIG1hbnkgdGV4dHVyZXMgYWxsIHVzaW5nIGEgc2luZ2xlIEJhc2VUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW3Jlc291cmNlPW51bGxdXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgcmVzb3VyY2UgdG8gdXNlLCBmb3IgdGhpbmdzIHRoYXQgYXJlbid0IFJlc291cmNlIG9iamVjdHMsIHdpbGwgYmUgY29udmVydGVkXG4gKiAgICAgICAgaW50byBhIFJlc291cmNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9uc1xuICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW29wdGlvbnMubWlwbWFwPVBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXSAtIElmIG1pcG1hcHBpbmcgaXMgZW5hYmxlZCBmb3IgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmFuaXNvdHJvcGljTGV2ZWw9UElYSS5zZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTF0gLSBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLldSQVBfTU9ERVN9IFtvcHRpb25zLndyYXBNb2RlPVBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFXSAtIFdyYXAgbW9kZSBmb3IgdGV4dHVyZXNcbiAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBEZWZhdWx0IHNjYWxlIG1vZGUsIGxpbmVhciwgbmVhcmVzdFxuICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICogQHBhcmFtIHtQSVhJLlRZUEVTfSBbb3B0aW9ucy50eXBlPVBJWEkuVFlQRVMuVU5TSUdORURfQllURV0gLSBHTCBkYXRhIHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UQVJHRVRTfSBbb3B0aW9ucy50YXJnZXQ9UElYSS5UQVJHRVRTLlRFWFRVUkVfMkRdIC0gR0wgdGV4dHVyZSB0YXJnZXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlbXVsdGlwbHlBbHBoYT10cnVlXSAtIFByZSBtdWx0aXBseSB0aGUgaW1hZ2UgYWxwaGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTBdIC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbl0gLSBSZXNvbHV0aW9uIG9mIHRoZSBiYXNlIHRleHR1cmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnNdIC0gT3B0aW9uYWwgcmVzb3VyY2Ugb3B0aW9ucyxcbiAqICAgICAgICBzZWUge0BsaW5rIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZSBhdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKi9cbnZhciBCYXNlVGV4dHVyZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEV2ZW50RW1pdHRlcikge1xuICAgIGZ1bmN0aW9uIEJhc2VUZXh0dXJlKHJlc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgaWYgKCByZXNvdXJjZSA9PT0gdm9pZCAwICkgcmVzb3VyY2UgPSBudWxsO1xuICAgICAgICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciBwcmVtdWx0aXBseUFscGhhID0gb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhO1xuICAgICAgICB2YXIgbWlwbWFwID0gb3B0aW9ucy5taXBtYXA7XG4gICAgICAgIHZhciBhbmlzb3Ryb3BpY0xldmVsID0gb3B0aW9ucy5hbmlzb3Ryb3BpY0xldmVsO1xuICAgICAgICB2YXIgc2NhbGVNb2RlID0gb3B0aW9ucy5zY2FsZU1vZGU7XG4gICAgICAgIHZhciB3aWR0aCA9IG9wdGlvbnMud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgdmFyIHdyYXBNb2RlID0gb3B0aW9ucy53cmFwTW9kZTtcbiAgICAgICAgdmFyIGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuICAgICAgICB2YXIgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgdmFyIHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHJlc291cmNlT3B0aW9ucyA9IG9wdGlvbnMucmVzb3VyY2VPcHRpb25zO1xuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIHJlc291cmNlIHRvIGEgUmVzb3VyY2Ugb2JqZWN0XG4gICAgICAgIGlmIChyZXNvdXJjZSAmJiAhKHJlc291cmNlIGluc3RhbmNlb2YgUmVzb3VyY2UpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvdXJjZSA9IGF1dG9EZXRlY3RSZXNvdXJjZShyZXNvdXJjZSwgcmVzb3VyY2VPcHRpb25zKTtcbiAgICAgICAgICAgIHJlc291cmNlLmludGVybmFsID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoIHx8IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgdGV4dHVyZSBzZXQgd2hlbiB0aGUgaW1hZ2UgaGFzIGxvYWRlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgfHwgMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJFU09MVVRJT05cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWlwbWFwIG1vZGUgb2YgdGhlIHRleHR1cmUsIGFmZmVjdHMgZG93bnNjYWxlZCBpbWFnZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NSVBNQVBfTU9ERVN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pcG1hcCA9IG1pcG1hcCAhPT0gdW5kZWZpbmVkID8gbWlwbWFwIDogc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmlzb3Ryb3BpYyBmaWx0ZXJpbmcgbGV2ZWwgb2YgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuQU5JU09UUk9QSUNfTEVWRUxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pc290cm9waWNMZXZlbCA9IGFuaXNvdHJvcGljTGV2ZWwgIT09IHVuZGVmaW5lZCA/IGFuaXNvdHJvcGljTGV2ZWwgOiBzZXR0aW5ncy5BTklTT1RST1BJQ19MRVZFTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG93IHRoZSB0ZXh0dXJlIHdyYXBzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3JhcE1vZGUgPSB3cmFwTW9kZSB8fCBzZXR0aW5ncy5XUkFQX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBtb2RlIHRvIGFwcGx5IHdoZW4gc2NhbGluZyB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkID8gc2NhbGVNb2RlIDogc2V0dGluZ3MuU0NBTEVfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZPUk1BVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuRk9STUFUUy5SR0JBXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdCB8fCBGT1JNQVRTLlJHQkE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHJlc291cmNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UWVBFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UWVBFUy5VTlNJR05FRF9CWVRFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlIHx8IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgdHlwZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRBUkdFVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVEFSR0VUUy5URVhUVVJFXzJEXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldCB8fCBUQVJHRVRTLlRFWFRVUkVfMkQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byB0cnVlIHRvIGVuYWJsZSBwcmUtbXVsdGlwbGllZCBhbHBoYVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBwcmVtdWx0aXBseUFscGhhICE9PSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aWQgPSB1aWQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBhdXRvbWF0aWMgdGV4dHVyZSBHYXJiYWdlIENvbGxlY3Rpb24sIHN0b3JlcyBsYXN0IEdDIHRpY2sgd2hlbiBpdCB3YXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRvdWNoZWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgdGV4dHVyZSBpcyBhIHBvd2VyIG9mIHR3bywgdHJ5IHRvIHVzZSBwb3dlciBvZiB0d28gdGV4dHVyZXMgYXMgbXVjaFxuICAgICAgICAgKiBhcyB5b3UgY2FuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIG9mIHJlbmRlciBjb250ZXh0IHRleHR1cmVzIHdoZXJlIHRoaXMgaXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2xUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSB0byB0aGUgR1BVIHdoZW4gbmVlZGVkLlxuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlKClgIHRvIGluY3JlbWVudCBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgVGV4dHVyZVN5c3RlbSB0byBvbmx5IHVwZGF0ZSB0ZXh0dXJlIHN0eWxlIHdoZW4gbmVlZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTdHlsZUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudGx5IGRlZmF1bHQgY2FjaGUgSUQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdlbmVyYWxseSBzcGVha2luZyBtZWFucyB3aGVuIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGFsdGVybmF0aXZlIGNhY2hlIGlkcywgc2luY2Ugc29tZSBCYXNlVGV4dHVyZXNcbiAgICAgICAgICogY2FuIGhhdmUgbW9yZSB0aGFuIG9uZSBJRCwgc2hvcnQgbmFtZSBhbmQgbG9uZ2VyIGZ1bGwgVVJMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PHN0cmluZz59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiBCYXNlVGV4dHVyZSBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlIHVzZWQgYnkgdGhpcyBCYXNlVGV4dHVyZSwgdGhlcmUgY2FuIG9ubHlcbiAgICAgICAgICogYmUgb25lIHJlc291cmNlIHBlciBCYXNlVGV4dHVyZSwgYnV0IHRleHR1cmVzIGNhbiBzaGFyZVxuICAgICAgICAgKiByZXNvdXJjZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgdGhlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hFbmFibGVkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmFpbHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNlcnJvclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgZXJyb3JlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Vycm9yXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBlcnJvcmVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIFNldCB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgfVxuXG4gICAgaWYgKCBFdmVudEVtaXR0ZXIgKSBCYXNlVGV4dHVyZS5fX3Byb3RvX18gPSBFdmVudEVtaXR0ZXI7XG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRFbWl0dGVyICYmIEV2ZW50RW1pdHRlci5wcm90b3R5cGUgKTtcbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXNlVGV4dHVyZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHJlYWxXaWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxyZWFsSGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBQaXhlbCB3aWR0aCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZWFsV2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwoKHRoaXMud2lkdGggKiB0aGlzLnJlc29sdXRpb24pIC0gMWUtNCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBpeGVsIGhlaWdodCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZWFsSGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKCh0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbikgLSAxZS00KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBzdHlsZSBvcHRpb25zIG9mIEJhc2VUZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFtzY2FsZU1vZGVdIC0gUGl4aSBzY2FsZW1vZGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTUlQTUFQX01PREVTfSBbbWlwbWFwXSAtIGVuYWJsZSBtaXBtYXBzXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiBzZXRTdHlsZSAoc2NhbGVNb2RlLCBtaXBtYXApXG4gICAge1xuICAgICAgICB2YXIgZGlydHk7XG5cbiAgICAgICAgaWYgKHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkICYmIHNjYWxlTW9kZSAhPT0gdGhpcy5zY2FsZU1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlO1xuICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pcG1hcCAhPT0gdW5kZWZpbmVkICYmIG1pcG1hcCAhPT0gdGhpcy5taXBtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWlwbWFwID0gbWlwbWFwO1xuICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdy9oL3Jlc29sdXRpb24uIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBWaXN1YWwgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IFZpc3VhbCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIE9wdGlvbmFsbHkgc2V0IHJlc29sdXRpb25cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gc2V0U2l6ZSAod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgcmVhbCBzaXplIG9mIGJhc2VUZXh0dXJlLCBwcmVzZXJ2ZXMgY3VycmVudCByZXNvbHV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxXaWR0aCBGdWxsIHJlbmRlcmVkIHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlYWxIZWlnaHQgRnVsbCByZW5kZXJlZCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIE9wdGlvbmFsbHkgc2V0IHJlc29sdXRpb25cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZWFsU2l6ZSA9IGZ1bmN0aW9uIHNldFJlYWxTaXplIChyZWFsV2lkdGgsIHJlYWxIZWlnaHQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlYWxXaWR0aCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSByZWFsSGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggY2hlY2sgZm9yIGlzUG93ZXJPZlR3byB0ZXh0dXJlIGJhc2VkIG9uIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLl9yZWZyZXNoUE9UID0gZnVuY3Rpb24gX3JlZnJlc2hQT1QgKClcbiAgICB7XG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gaXNQb3cyKHRoaXMucmVhbFdpZHRoKSAmJiBpc1BvdzIodGhpcy5yZWFsSGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyByZXNvbHV0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIHJlc1xuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlc29sdXRpb24gPSBmdW5jdGlvbiBzZXRSZXNvbHV0aW9uIChyZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgdmFyIG9sZFJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKG9sZFJlc29sdXRpb24gPT09IHJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHJlc291cmNlIGlmIGl0IHdhc24ndCBzZXQuIFRocm93cyBlcnJvciBpZiByZXNvdXJjZSBhbHJlYWR5IHByZXNlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IHJlc291cmNlIC0gdGhhdCBpcyBtYW5hZ2luZyB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb3VyY2UgPSBmdW5jdGlvbiBzZXRSZXNvdXJjZSAocmVzb3VyY2UpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSA9PT0gcmVzb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgY2FuIGJlIHNldCBvbmx5IG9uY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc291cmNlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5yZXNvdXJjZSA9IHJlc291cmNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnZhbGlkYXRlcyB0aGUgb2JqZWN0LiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA+IDAgJiYgdGhpcy5oZWlnaHQgPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBiYXNlIHRleHR1cmUuXG4gICAgICogVGhlIG1ldGhvZCBzdG9wcyBpZiByZXNvdXJjZSBkb2Vzbid0IHdhbnQgdGhpcyB0ZXh0dXJlIHRvIGJlIGRlc3Ryb3llZC5cbiAgICAgKiBSZW1vdmVzIHRleHR1cmUgZnJvbSBhbGwgY2FjaGVzLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFuZCBkZXN0cm95IHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS51bmJpbmQodGhpcyk7XG4gICAgICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgcmVzb3VyY2VkIGNyZWF0ZWQgaW50ZXJuYWxseVxuICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UuaW50ZXJuYWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNhY2hlSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG4gICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5hbGx5IGxldCB0aGUgV2ViR0wgcmVuZGVyZXIga25vdy4uXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRnJlZXMgdGhlIHRleHR1cmUgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLmVtaXQoJ2Rpc3Bvc2UnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJhc2UgdGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gaW1hZ2UgdXJsLCBpbWFnZSBlbGVtZW50LCBjYW52YXMgZWxlbWVudC4gSWYgdGhlXG4gICAgICogc291cmNlIGlzIGFuIGltYWdlIHVybCBvciBhbiBpbWFnZSBlbGVtZW50IGFuZCBub3QgaW4gdGhlIGJhc2UgdGV4dHVyZVxuICAgICAqIGNhY2hlLCBpdCB3aWxsIGJlIGNyZWF0ZWQgYW5kIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fFNWR0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIC0gVGhlXG4gICAgICogICAgICAgIHNvdXJjZSB0byBjcmVhdGUgYmFzZSB0ZXh0dXJlIGZyb20uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybnMge1BJWEkuQmFzZVRleHR1cmV9IFRoZSBuZXcgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiBmcm9tIChzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IFwicGl4aWlkX1wiICsgKHVpZCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gQmFzZVRleHR1cmVDYWNoZVtjYWNoZUlkXTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBjYWNoZUlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiYXNlVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEJhc2VUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbUJ1ZmZlciA9IGZ1bmN0aW9uIGZyb21CdWZmZXIgKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGJ1ZmZlciA9IGJ1ZmZlciB8fCBuZXcgRmxvYXQzMkFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG5cbiAgICAgICAgdmFyIHJlc291cmNlID0gbmV3IEJ1ZmZlclJlc291cmNlKGJ1ZmZlciwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pO1xuICAgICAgICB2YXIgdHlwZSA9IGJ1ZmZlciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IFRZUEVTLkZMT0FUIDogVFlQRVMuVU5TSUdORURfQllURTtcblxuICAgICAgICByZXR1cm4gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKGRlZmF1bHRCdWZmZXJPcHRpb25zLCBvcHRpb25zIHx8IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgdHlwZTogdHlwZSB9KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBCYXNlVGV4dHVyZSB0byB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBCYXNlVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBCYXNlVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlIChiYXNlVGV4dHVyZSwgaWQpXG4gICAge1xuICAgICAgICBpZiAoaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEJhc2VUZXh0dXJlQ2FjaGVbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKChcIkJhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFtcIiArIGlkICsgXCJdIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlcIikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2lkXSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIEJhc2VUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gaWQgb2YgYSBCYXNlVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIEJhc2VUZXh0dXJlIGluc3RhbmNlIGl0c2VsZi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfG51bGx9IFRoZSBCYXNlVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZUZyb21DYWNoZSAoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGJhc2VUZXh0dXJlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlRnJvbUNhY2hlID0gQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZUZyb21DYWNoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYXNlVGV4dHVyZSAmJiBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJhc2VUZXh0dXJlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQmFzZVRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIEdsb2JhbCBudW1iZXIgb2YgdGhlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbkJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IDA7XG5cbi8qKlxuICogQSByZXNvdXJjZSB0aGF0IGNvbnRhaW5zIGEgbnVtYmVyIG9mIHNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge251bWJlcnxBcnJheTwqPn0gc291cmNlIC0gTnVtYmVyIG9mIGl0ZW1zIGluIGFycmF5IG9yIHRoZSBjb2xsZWN0aW9uXG4gKiAgICAgICAgb2YgaW1hZ2UgVVJMcyB0byB1c2UuIENhbiBhbHNvIGJlIHJlc291cmNlcywgaW1hZ2UgZWxlbWVudHMsIGNhbnZhcywgZXRjLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGFwcGx5IHRvIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAqL1xudmFyIEFycmF5UmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIEFycmF5UmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgdmFyIHVybHM7XG4gICAgICAgIHZhciBsZW5ndGggPSBzb3VyY2U7XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdXJscyA9IHNvdXJjZTtcbiAgICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBSZXNvdXJjZS5jYWxsKHRoaXMsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiByZXNvdXJjZXMuXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQmFzZVRleHR1cmU+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlydHkgSURzIGZvciBlYWNoIHBhcnRcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBwYXJ0VGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuXG4gICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2gocGFydFRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMucHVzaCgtMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIGluIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHVybHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGxlbmd0aDsgaSQxKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRSZXNvdXJjZUF0KGF1dG9EZXRlY3RSZXNvdXJjZSh1cmxzW2kkMV0sIG9wdGlvbnMpLCBpJDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBSZXNvdXJjZSApIEFycmF5UmVzb3VyY2UuX19wcm90b19fID0gUmVzb3VyY2U7XG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBSZXNvdXJjZSAmJiBSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFycmF5UmVzb3VyY2U7XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoaXMgQmFzZUltYWdlUmVzb3VyY2VcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgYSByZXNvdXJjZSBieSBJRFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBaZXJvLWJhc2VkIGluZGV4IG9mIHJlc291cmNlIHRvIHNldFxuICAgICAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLkFycmF5UmVzb3VyY2V9IEluc3RhbmNlIGZvciBjaGFpbmluZ1xuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmFkZFJlc291cmNlQXQgPSBmdW5jdGlvbiBhZGRSZXNvdXJjZUF0IChyZXNvdXJjZSwgaW5kZXgpXG4gICAge1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0aGlzLml0ZW1zW2luZGV4XTtcblxuICAgICAgICBpZiAoIWJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiSW5kZXggXCIgKyBpbmRleCArIFwiIGlzIG91dCBvZiBib3VuZHNcIikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5oZXJpdCB0aGUgZmlyc3QgcmVzb3VyY2UgZGltZW5zaW9uc1xuICAgICAgICBpZiAocmVzb3VyY2UudmFsaWQgJiYgIXRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKHJlc291cmNlLndpZHRoLCByZXNvdXJjZS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0uc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIFJlc291cmNlLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcywgYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV8yRF9BUlJBWTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub24oJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVuc2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub2ZmKCd1cGRhdGUnLCBiYXNlVGV4dHVyZS51cGRhdGUsIGJhc2VUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGFsbCB0aGUgcmVzb3VyY2VzIHNpbXVsdGFuZW91c2x5XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gV2hlbiBsb2FkIGlzIHJlc29sdmVkXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXNvdXJjZXMgPSB0aGlzLml0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5yZXNvdXJjZTsgfSk7XG5cbiAgICAgICAgLy8gVE9ETzogYWxzbyBpbXBsZW1lbnQgbG9hZCBwYXJ0LWJ5LXBhcnQgc3RyYXRlZ3lcbiAgICAgICAgdmFyIHByb21pc2VzID0gcmVzb3VyY2VzLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5sb2FkKCk7IH0pO1xuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gcmVzb3VyY2VzWzBdO1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHJlZi53aWR0aDtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gcmVmLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIHRoaXMkMS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlcyB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciB0ZXh0dXJlIHdhcyB1cGxvYWRlZFxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gcmVmLmxlbmd0aDtcbiAgICAgICAgdmFyIGl0ZW1EaXJ0eUlkcyA9IHJlZi5pdGVtRGlydHlJZHM7XG4gICAgICAgIHZhciBpdGVtcyA9IHJlZi5pdGVtcztcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UzRChcbiAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJEX0FSUkFZLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgdGhpcy5fd2lkdGgsXG4gICAgICAgICAgICAgICAgdGhpcy5faGVpZ2h0LFxuICAgICAgICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIHRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc1tpXTtcblxuICAgICAgICAgICAgaWYgKGl0ZW1EaXJ0eUlkc1tpXSA8IGl0ZW0uZGlydHlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpdGVtRGlydHlJZHNbaV0gPSBpdGVtLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udmFsaWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTNEKFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRF9BUlJBWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAwLCAvLyB4b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAwLCAvLyB5b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpLCAvLyB6b2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLnNvdXJjZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gQXJyYXlSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIE9mZnNjcmVlbkNhbnZhc1xuICovXG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTENhbnZhc0VsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIENhbnZhcyBlbGVtZW50IHRvIHVzZVxuICovXG52YXIgQ2FudmFzUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlSW1hZ2VSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIENhbnZhc1Jlc291cmNlICgpIHtcbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlICkgQ2FudmFzUmVzb3VyY2UuX19wcm90b19fID0gQmFzZUltYWdlUmVzb3VyY2U7XG4gICAgQ2FudmFzUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZUltYWdlUmVzb3VyY2UgJiYgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgQ2FudmFzUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2FudmFzUmVzb3VyY2U7XG5cbiAgICBDYW52YXNSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gdGVzdCAoc291cmNlKVxuICAgIHtcbiAgICAgICAgdmFyIE9mZnNjcmVlbkNhbnZhcyA9IHdpbmRvdy5PZmZzY3JlZW5DYW52YXM7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3QgeWV0IHN1cHBvcnQgT2Zmc2NyZWVuQ2FudmFzXG4gICAgICAgIGlmIChPZmZzY3JlZW5DYW52YXMgJiYgc291cmNlIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIENhbnZhc1Jlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIGZvciBhIEN1YmVUZXh0dXJlIHdoaWNoIGNvbnRhaW5zIHNpeCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFBJWEkucmVzb3VyY2VzLlJlc291cmNlPn0gW3NvdXJjZV0gQ29sbGVjdGlvbiBvZiBVUkxzIG9yIHJlc291cmNlc1xuICogICAgICAgIHRvIHVzZSBhcyB0aGUgc2lkZXMgb2YgdGhlIGN1YmUuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gSW1hZ2VSZXNvdXJjZSBvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHJlc291cmNlXG4gKi9cbnZhciBDdWJlUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChBcnJheVJlc291cmNlKSB7XG4gICAgZnVuY3Rpb24gQ3ViZVJlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIEFycmF5UmVzb3VyY2UuY2FsbCh0aGlzLCBzb3VyY2UsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCAhPT0gQ3ViZVJlc291cmNlLlNJREVTKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiSW52YWxpZCBsZW5ndGguIEdvdCBcIiArICh0aGlzLmxlbmd0aCkgKyBcIiwgZXhwZWN0ZWQgNlwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YICsgaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIEFycmF5UmVzb3VyY2UgKSBDdWJlUmVzb3VyY2UuX19wcm90b19fID0gQXJyYXlSZXNvdXJjZTtcbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQXJyYXlSZXNvdXJjZSAmJiBBcnJheVJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDdWJlUmVzb3VyY2U7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYmluZGluZ1xuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLCBiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHJlc291cmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGRpcnR5ID0gdGhpcy5pdGVtRGlydHlJZHM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHNpZGUgPSB0aGlzLml0ZW1zW2ldO1xuXG4gICAgICAgICAgICBpZiAoZGlydHlbaV0gPCBzaWRlLmRpcnR5SWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlydHlbaV0gPSBzaWRlLmRpcnR5SWQ7XG4gICAgICAgICAgICAgICAgaWYgKHNpZGUudmFsaWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzaWRlLnJlc291cmNlLnVwbG9hZChyZW5kZXJlciwgc2lkZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEN1YmVSZXNvdXJjZTtcbn0oQXJyYXlSZXNvdXJjZSkpO1xuXG4vKipcbiAqIE51bWJlciBvZiB0ZXh0dXJlIHNpZGVzIHRvIHN0b3JlIGZvciBDdWJlUmVzb3VyY2VzXG4gKlxuICogQG5hbWUgUElYSS5yZXNvdXJjZXMuQ3ViZVJlc291cmNlLlNJREVTXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCA2XG4gKi9cbkN1YmVSZXNvdXJjZS5TSURFUyA9IDY7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgU1ZHIGVsZW1lbnRzIGFuZCBncmFwaGljcy5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSAtIEJhc2U2NCBlbmNvZGVkIFNWRyBlbGVtZW50IG9yIFVSTCBmb3IgU1ZHIGZpbGUuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZT0xXSBTY2FsZSB0byBhcHBseSB0byBTVkcuIE92ZXJyaWRkZW4gYnkuLi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gUmFzdGVyaXplIFNWRyB0aGlzIHdpZGUuIEFzcGVjdCByYXRpbyBwcmVzZXJ2ZWQgaWYgaGVpZ2h0IG5vdCBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBSYXN0ZXJpemUgU1ZHIHRoaXMgaGlnaC4gQXNwZWN0IHJhdGlvIHByZXNlcnZlZCBpZiB3aWR0aCBub3Qgc3BlY2lmaWVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSBTdGFydCBsb2FkaW5nIHJpZ2h0IGF3YXkuXG4gKi9cbnZhciBTVkdSZXNvdXJjZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhc2VJbWFnZVJlc291cmNlKSB7XG4gICAgZnVuY3Rpb24gU1ZHUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY2FsbCh0aGlzLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdmcgPSBzb3VyY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2Ugc2NhbGUgdG8gYXBwbHkgd2hlbiByYXN0ZXJpemluZyBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHdpZHRoIG92ZXJyaWRlIGZvciByYXN0ZXJpemF0aW9uIG9uIGxvYWRcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX292ZXJyaWRlV2lkdGggPSBvcHRpb25zLndpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGhlaWdodCBvdmVycmlkZSBmb3IgcmFzdGVyaXphdGlvbiBvbiBsb2FkXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vdmVycmlkZUhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsIHdoZW4gY29tcGxldGVseSBsb2FkZWRcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufHN0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gb3B0aW9ucy5jcm9zc29yaWdpbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICggQmFzZUltYWdlUmVzb3VyY2UgKSBTVkdSZXNvdXJjZS5fX3Byb3RvX18gPSBCYXNlSW1hZ2VSZXNvdXJjZTtcbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlSW1hZ2VSZXNvdXJjZSAmJiBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTVkdSZXNvdXJjZTtcblxuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAvLyBTYXZlIHRoaXMgdW50aWwgYWZ0ZXIgbG9hZCBpcyBmaW5pc2hlZFxuICAgICAgICAgICAgdGhpcyQxLl9yZXNvbHZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5yZXNpemUodGhpcyQxLnNvdXJjZS53aWR0aCwgdGhpcyQxLnNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyQxKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIENvbnZlcnQgU1ZHIGlubGluZSBzdHJpbmcgdG8gZGF0YS11cmlcbiAgICAgICAgICAgIGlmICgoL15cXDxzdmcvKS50ZXN0KHRoaXMkMS5zdmcudHJpbSgpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJ0b2EpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBiYXNlNjQgY29udmVyc2lvbnMuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMkMS5zdmcgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsXCIgKyAoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodGhpcyQxLnN2ZykpKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMkMS5fbG9hZFN2ZygpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gU1ZHIGltYWdlIGZyb20gYGltYWdlVXJsYCBvciBgZGF0YSBVUkxgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRTdmcgPSBmdW5jdGlvbiBfbG9hZFN2ZyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHRlbXBJbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNyb3NzT3JpZ2luKHRlbXBJbWFnZSwgdGhpcy5zdmcsIHRoaXMuX2Nyb3Nzb3JpZ2luKTtcbiAgICAgICAgdGVtcEltYWdlLnNyYyA9IHRoaXMuc3ZnO1xuXG4gICAgICAgIHRlbXBJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3ZnV2lkdGggPSB0ZW1wSW1hZ2Uud2lkdGg7XG4gICAgICAgICAgICB2YXIgc3ZnSGVpZ2h0ID0gdGVtcEltYWdlLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFNWRyBpbWFnZSBtdXN0IGhhdmUgd2lkdGggYW5kIGhlaWdodCBkZWZpbmVkIChpbiBwaXhlbHMpLCBjYW52YXMgQVBJIG5lZWRzIHRoZW0uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldCByZW5kZXIgc2l6ZVxuICAgICAgICAgICAgdmFyIHdpZHRoID0gc3ZnV2lkdGggKiB0aGlzJDEuc2NhbGU7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gc3ZnSGVpZ2h0ICogdGhpcyQxLnNjYWxlO1xuXG4gICAgICAgICAgICBpZiAodGhpcyQxLl9vdmVycmlkZVdpZHRoIHx8IHRoaXMkMS5fb3ZlcnJpZGVIZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aGlzJDEuX292ZXJyaWRlV2lkdGggfHwgdGhpcyQxLl9vdmVycmlkZUhlaWdodCAvIHN2Z0hlaWdodCAqIHN2Z1dpZHRoO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMkMS5fb3ZlcnJpZGVIZWlnaHQgfHwgdGhpcyQxLl9vdmVycmlkZVdpZHRoIC8gc3ZnV2lkdGggKiBzdmdIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aWR0aCA9IE1hdGgucm91bmQod2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBjYW52YXMgZWxlbWVudFxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMkMS5zb3VyY2U7XG5cbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGNhbnZhcy5fcGl4aUlkID0gXCJjYW52YXNfXCIgKyAodWlkKCkpO1xuXG4gICAgICAgICAgICAvLyBEcmF3IHRoZSBTdmcgdG8gdGhlIGNhbnZhc1xuICAgICAgICAgICAgY2FudmFzXG4gICAgICAgICAgICAgICAgLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgICAgICAgICAuZHJhd0ltYWdlKHRlbXBJbWFnZSwgMCwgMCwgc3ZnV2lkdGgsIHN2Z0hlaWdodCwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIHRoaXMkMS5fcmVzb2x2ZSgpO1xuICAgICAgICAgICAgdGhpcyQxLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0IHNpemUgZnJvbSBhbiBzdmcgc3RyaW5nIHVzaW5nIHJlZ2V4cC5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3ZnU3RyaW5nIC0gYSBzZXJpYWxpemVkIHN2ZyBlbGVtZW50XG4gICAgICogQHJldHVybiB7UElYSS5JU2l6ZX0gaW1hZ2UgZXh0ZW5zaW9uXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UuZ2V0U2l6ZSA9IGZ1bmN0aW9uIGdldFNpemUgKHN2Z1N0cmluZylcbiAgICB7XG4gICAgICAgIHZhciBzaXplTWF0Y2ggPSBTVkdSZXNvdXJjZS5TVkdfU0laRS5leGVjKHN2Z1N0cmluZyk7XG4gICAgICAgIHZhciBzaXplID0ge307XG5cbiAgICAgICAgaWYgKHNpemVNYXRjaClcbiAgICAgICAge1xuICAgICAgICAgICAgc2l6ZVtzaXplTWF0Y2hbMV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFszXSkpO1xuICAgICAgICAgICAgc2l6ZVtzaXplTWF0Y2hbNV1dID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KHNpemVNYXRjaFs3XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2Nyb3Nzb3JpZ2luID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gdGVzdCAoc291cmNlLCBleHRlbnNpb24pXG4gICAge1xuICAgICAgICAvLyB1cmwgZmlsZSBleHRlbnNpb24gaXMgU1ZHXG4gICAgICAgIHJldHVybiBleHRlbnNpb24gPT09ICdzdmcnXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMgU1ZHIGRhdGEtdXJpXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgc291cmNlLmluZGV4T2YoJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQnKSA9PT0gMClcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgaW5saW5lXG4gICAgICAgICAgICB8fCAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgJiYgc291cmNlLmluZGV4T2YoJzxzdmcnKSA9PT0gMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTVkdSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZWdFeHAgZm9yIFNWRyBzaXplLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudCB7UmVnRXhwfHN0cmluZ30gU1ZHX1NJWkVcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZVxuICogQGV4YW1wbGUgJmx0O3N2ZyB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiJmd0OyZsdDsvc3ZnJmd0O1xuICovXG5TVkdSZXNvdXJjZS5TVkdfU0laRSA9IC88c3ZnW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKj4vaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fG9iamVjdHxzdHJpbmd8QXJyYXk8c3RyaW5nfG9iamVjdD59IHNvdXJjZSAtIFZpZGVvIGVsZW1lbnQgdG8gdXNlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gU3RhcnQgbG9hZGluZyB0aGUgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBTdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLlxuICogTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gKi9cbnZhciBWaWRlb1Jlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZUltYWdlUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBWaWRlb1Jlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBbc291cmNlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuY3Jvc3NPcmlnaW4odmlkZW9FbGVtZW50LCAoc291cmNlWzBdLnNyYyB8fCBzb3VyY2VbMF0pLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcblxuICAgICAgICAgICAgLy8gYXJyYXkgb2Ygb2JqZWN0cyBvciBzdHJpbmdzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlZiA9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgc3JjID0gcmVmLnNyYztcbiAgICAgICAgICAgICAgICB2YXIgbWltZSA9IHJlZi5taW1lO1xuXG4gICAgICAgICAgICAgICAgc3JjID0gc3JjIHx8IHNvdXJjZVtpXTtcblxuICAgICAgICAgICAgICAgIHZhciBiYXNlU3JjID0gc3JjLnNwbGl0KCc/Jykuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHZhciBleHQgPSBiYXNlU3JjLnN1YnN0cihiYXNlU3JjLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcblxuICAgICAgICAgICAgICAgIG1pbWUgPSBtaW1lIHx8IChcInZpZGVvL1wiICsgZXh0KTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQuc3JjID0gc3JjO1xuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQudHlwZSA9IG1pbWU7XG5cbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuYXBwZW5kQ2hpbGQoc291cmNlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSBzb3VyY2VcbiAgICAgICAgICAgIHNvdXJjZSA9IHZpZGVvRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLmNhbGwodGhpcywgc291cmNlKTtcblxuICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlRlBTID0gb3B0aW9ucy51cGRhdGVGUFMgfHwgMDtcbiAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHNldCB0byB0cnVlIHdpbGwgYXV0b21hdGljYWxseSBwbGF5IHZpZGVvcyB1c2VkIGJ5IHRoaXMgdGV4dHVyZSBvbmNlXG4gICAgICAgICAqIHRoZXkgYXJlIGxvYWRlZC4gSWYgZmFsc2UsIGl0IHdpbGwgbm90IG1vZGlmeSB0aGUgcGxheWluZyBzdGF0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUGxheSA9IG9wdGlvbnMuYXV0b1BsYXkgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZWQgd2l0aCBsb2FkLlxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuXG4gICAgICAgIC8vIEJpbmQgZm9yIGxpc3RlbmVyc1xuICAgICAgICB0aGlzLl9vbkNhblBsYXkgPSB0aGlzLl9vbkNhblBsYXkuYmluZCh0aGlzKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBCYXNlSW1hZ2VSZXNvdXJjZSApIFZpZGVvUmVzb3VyY2UuX19wcm90b19fID0gQmFzZUltYWdlUmVzb3VyY2U7XG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlSW1hZ2VSZXNvdXJjZSAmJiBCYXNlSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUgKTtcbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFZpZGVvUmVzb3VyY2U7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBhdXRvVXBkYXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHVwZGF0ZUZQUzogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciB1cGRhdGluZyBvZiB0aGUgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWx0YVRpbWU9MF0gLSB0aW1lIGRlbHRhIHNpbmNlIGxhc3QgdGlja1xuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGVsdGFUaW1lKVxuICAgIHtcbiAgICAgICAgaWYgKCBkZWx0YVRpbWUgPT09IHZvaWQgMCApIGRlbHRhVGltZSA9IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYWNjb3VudCBmb3IgaWYgdmlkZW8gaGFzIGhhZCBpdHMgcGxheWJhY2tSYXRlIGNoYW5nZWRcbiAgICAgICAgICAgIHZhciBlbGFwc2VkTVMgPSBUaWNrZXIuc2hhcmVkLmVsYXBzZWRNUyAqIHRoaXMuc291cmNlLnBsYXliYWNrUmF0ZTtcblxuICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSBNYXRoLmZsb29yKHRoaXMuX21zVG9OZXh0VXBkYXRlIC0gZWxhcHNlZE1TKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdXBkYXRlRlBTIHx8IHRoaXMuX21zVG9OZXh0VXBkYXRlIDw9IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSB0aGlzLl91cGRhdGVGUFMgPyBNYXRoLmZsb29yKDEwMDAgLyB0aGlzLl91cGRhdGVGUFMpIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBwcmVsb2FkaW5nIHRoZSB2aWRlbyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICBpZiAoKHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9FTk9VR0hfREFUQSB8fCBzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRlVUVVJFX0RBVEEpXG4gICAgICAgICAgICAmJiBzb3VyY2Uud2lkdGggJiYgc291cmNlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgc291cmNlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgdGhpcy5fb25QbGF5U3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIHRoaXMuX29uUGxheVN0b3AuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc1NvdXJjZVJlYWR5KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMkMS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl9yZXNvbHZlID0gcmVzb2x2ZTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcGxheWluZy5cbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5faXNTb3VyY2VQbGF5aW5nID0gZnVuY3Rpb24gX2lzU291cmNlUGxheWluZyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuXG4gICAgICAgIHJldHVybiAoc291cmNlLmN1cnJlbnRUaW1lID4gMCAmJiBzb3VyY2UucGF1c2VkID09PSBmYWxzZSAmJiBzb3VyY2UuZW5kZWQgPT09IGZhbHNlICYmIHNvdXJjZS5yZWFkeVN0YXRlID4gMik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcmVhZHkgZm9yIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVhZHkuXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX2lzU291cmNlUmVhZHkgPSBmdW5jdGlvbiBfaXNTb3VyY2VSZWFkeSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDMgfHwgdGhpcy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgdXBkYXRlIGxvb3Agd2hlbiB0aGUgdmlkZW8gaXMgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25QbGF5U3RhcnQgPSBmdW5jdGlvbiBfb25QbGF5U3RhcnQgKClcbiAgICB7XG4gICAgICAgIC8vIEp1c3QgaW4gY2FzZSB0aGUgdmlkZW8gaGFzIG5vdCByZWNlaXZlZCBpdHMgY2FuIHBsYXkgZXZlbiB5ZXQuLlxuICAgICAgICBpZiAoIXRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc0F1dG9VcGRhdGluZyAmJiB0aGlzLmF1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcGF1c2UgZXZlbnQgaXMgdHJpZ2dlcmVkLCBzdG9wcyB0aGUgdXBkYXRlIGxvb3BcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uUGxheVN0b3AgPSBmdW5jdGlvbiBfb25QbGF5U3RvcCAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdGhlIHZpZGVvIGlzIGxvYWRlZCBhbmQgcmVhZHkgdG8gcGxheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5fb25DYW5QbGF5ID0gZnVuY3Rpb24gX29uQ2FuUGxheSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBzb3VyY2UgPSByZWYuc291cmNlO1xuXG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcblxuICAgICAgICB2YXIgdmFsaWQgPSB0aGlzLnZhbGlkO1xuXG4gICAgICAgIHRoaXMucmVzaXplKHNvdXJjZS52aWRlb1dpZHRoLCBzb3VyY2UudmlkZW9IZWlnaHQpO1xuXG4gICAgICAgIC8vIHByZXZlbnQgbXVsdGlwbGUgbG9hZGVkIGRpc3BhdGNoZXMuLlxuICAgICAgICBpZiAoIXZhbGlkICYmIHRoaXMuX3Jlc29sdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9pc1NvdXJjZVBsYXlpbmcoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fb25QbGF5U3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF1dG9QbGF5KVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UucGxheSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5faXNBdXRvVXBkYXRpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnNyYyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2UubG9hZCgpO1xuICAgICAgICB9XG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3VsZCB0aGUgYmFzZSB0ZXh0dXJlIGF1dG9tYXRpY2FsbHkgdXBkYXRlIGl0c2VsZiwgc2V0IHRvIHRydWUgYnkgZGVmYXVsdFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYXV0b1VwZGF0ZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9VcGRhdGU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hdXRvVXBkYXRlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX2F1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9VcGRhdGUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvVXBkYXRlICYmIHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYXV0b1VwZGF0ZSAmJiAhdGhpcy5faXNBdXRvVXBkYXRpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIb3cgbWFueSB0aW1lcyBhIHNlY29uZCB0byB1cGRhdGUgdGhlIHRleHR1cmUgZnJvbSB0aGUgdmlkZW8uIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlci5cbiAgICAgKiBBIGxvd2VyIGZwcyBjYW4gaGVscCBwZXJmb3JtYW5jZSwgYXMgdXBkYXRpbmcgdGhlIHRleHR1cmUgYXQgNjBmcHMgb24gYSAzMHBzIHZpZGVvIG1heSBub3QgYmUgZWZmaWNpZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy51cGRhdGVGUFMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVGUFM7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy51cGRhdGVGUFMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fdXBkYXRlRlBTKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVGUFMgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2aWRlbyBzb3VyY2VcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiB0ZXN0IChzb3VyY2UsIGV4dGVuc2lvbilcbiAgICB7XG4gICAgICAgIHJldHVybiAoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudClcbiAgICAgICAgICAgIHx8IFZpZGVvUmVzb3VyY2UuVFlQRVMuaW5kZXhPZihleHRlbnNpb24pID4gLTE7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBWaWRlb1Jlc291cmNlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gVmlkZW9SZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBMaXN0IG9mIGNvbW1vbiB2aWRlbyBmaWxlIGV4dGVuc2lvbnMgc3VwcG9ydGVkIGJ5IFZpZGVvUmVzb3VyY2UuXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge0FycmF5PHN0cmluZz59XG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqL1xuVmlkZW9SZXNvdXJjZS5UWVBFUyA9IFsnbXA0JywgJ200dicsICd3ZWJtJywgJ29nZycsICdvZ3YnLCAnaDI2NCcsICdhdmknLCAnbW92J107XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSW1hZ2VCaXRtYXAuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SW1hZ2VCaXRtYXB9IHNvdXJjZSAtIEltYWdlIGVsZW1lbnQgdG8gdXNlXG4gKi9cbnZhciBJbWFnZUJpdG1hcFJlc291cmNlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQmFzZUltYWdlUmVzb3VyY2UpIHtcbiAgICBmdW5jdGlvbiBJbWFnZUJpdG1hcFJlc291cmNlICgpIHtcbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlICkgSW1hZ2VCaXRtYXBSZXNvdXJjZS5fX3Byb3RvX18gPSBCYXNlSW1hZ2VSZXNvdXJjZTtcbiAgICBJbWFnZUJpdG1hcFJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VJbWFnZVJlc291cmNlICYmIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZSApO1xuICAgIEltYWdlQml0bWFwUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW1hZ2VCaXRtYXBSZXNvdXJjZTtcblxuICAgIEltYWdlQml0bWFwUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIHRlc3QgKHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiAhIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCAmJiBzb3VyY2UgaW5zdGFuY2VvZiBJbWFnZUJpdG1hcDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEltYWdlQml0bWFwUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbklOU1RBTExFRC5wdXNoKFxuICAgIEltYWdlUmVzb3VyY2UsXG4gICAgSW1hZ2VCaXRtYXBSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZSxcbiAgICBWaWRlb1Jlc291cmNlLFxuICAgIFNWR1Jlc291cmNlLFxuICAgIEJ1ZmZlclJlc291cmNlLFxuICAgIEN1YmVSZXNvdXJjZSxcbiAgICBBcnJheVJlc291cmNlXG4pO1xuXG52YXIgaW5kZXggPSAoe1xuICAgIElOU1RBTExFRDogSU5TVEFMTEVELFxuICAgIGF1dG9EZXRlY3RSZXNvdXJjZTogYXV0b0RldGVjdFJlc291cmNlLFxuICAgIEFycmF5UmVzb3VyY2U6IEFycmF5UmVzb3VyY2UsXG4gICAgQnVmZmVyUmVzb3VyY2U6IEJ1ZmZlclJlc291cmNlLFxuICAgIENhbnZhc1Jlc291cmNlOiBDYW52YXNSZXNvdXJjZSxcbiAgICBDdWJlUmVzb3VyY2U6IEN1YmVSZXNvdXJjZSxcbiAgICBJbWFnZVJlc291cmNlOiBJbWFnZVJlc291cmNlLFxuICAgIEltYWdlQml0bWFwUmVzb3VyY2U6IEltYWdlQml0bWFwUmVzb3VyY2UsXG4gICAgU1ZHUmVzb3VyY2U6IFNWR1Jlc291cmNlLFxuICAgIFZpZGVvUmVzb3VyY2U6IFZpZGVvUmVzb3VyY2UsXG4gICAgUmVzb3VyY2U6IFJlc291cmNlLFxuICAgIEJhc2VJbWFnZVJlc291cmNlOiBCYXNlSW1hZ2VSZXNvdXJjZVxufSk7XG5cbi8qKlxuICogU3lzdGVtIGlzIGEgYmFzZSBjbGFzcyB1c2VkIGZvciBleHRlbmRpbmcgc3lzdGVtcyB1c2VkIGJ5IHRoZSB7QGxpbmsgUElYSS5SZW5kZXJlcn1cbiAqXG4gKiBAc2VlIFBJWEkuUmVuZGVyZXIjYWRkU3lzdGVtXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTeXN0ZW0gPSBmdW5jdGlvbiBTeXN0ZW0ocmVuZGVyZXIpXG57XG4gICAgLyoqXG4gICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbn07XG5cbi8qKlxuICogR2VuZXJpYyBkZXN0cm95IG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAqL1xuU3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBEZXB0aFRleHR1cmUuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJ1ZmZlclJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIERlcHRoUmVzb3VyY2UgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCdWZmZXJSZXNvdXJjZSkge1xuICAgIGZ1bmN0aW9uIERlcHRoUmVzb3VyY2UgKCkge1xuICAgICAgICBCdWZmZXJSZXNvdXJjZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGlmICggQnVmZmVyUmVzb3VyY2UgKSBEZXB0aFJlc291cmNlLl9fcHJvdG9fXyA9IEJ1ZmZlclJlc291cmNlO1xuICAgIERlcHRoUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQnVmZmVyUmVzb3VyY2UgJiYgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlICk7XG4gICAgRGVwdGhSZXNvdXJjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEZXB0aFJlc291cmNlO1xuXG4gICAgRGVwdGhSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSk7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gYmFzZVRleHR1cmUud2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gYmFzZVRleHR1cmUuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCAvLyBOZWVkZWQgZm9yIGRlcHRoIHRvIHJlbmRlciBwcm9wZXJseSBpbiB3ZWJnbDIuMFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gRGVwdGhSZXNvdXJjZTtcbn0oQnVmZmVyUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBGcmFtZSBidWZmZXIgdXNlZCBieSB0aGUgQmFzZVJlbmRlclRleHR1cmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIEZyYW1lYnVmZmVyKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCB8fCAxMDApO1xuICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCB8fCAxMDApO1xuXG4gICAgdGhpcy5zdGVuY2lsID0gZmFsc2U7XG4gICAgdGhpcy5kZXB0aCA9IGZhbHNlO1xuXG4gICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICB0aGlzLmRpcnR5U2l6ZSA9IDA7XG5cbiAgICB0aGlzLmRlcHRoVGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5jb2xvclRleHR1cmVzID0gW107XG5cbiAgICB0aGlzLmdsRnJhbWVidWZmZXJzID0ge307XG5cbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIgPSBuZXcgUnVubmVyKCdkaXNwb3NlRnJhbWVidWZmZXInLCAyKTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMSA9IHsgY29sb3JUZXh0dXJlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogUmVmZXJlbmNlIHRvIHRoZSBjb2xvclRleHR1cmUuXG4gKlxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gKiBAcmVhZG9ubHlcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEuY29sb3JUZXh0dXJlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlc1swXTtcbn07XG5cbi8qKlxuICogQWRkIHRleHR1cmUgdG8gdGhlIGNvbG9yVGV4dHVyZSBhcnJheVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF0gLSBJbmRleCBvZiB0aGUgYXJyYXkgdG8gYWRkIHRoZSB0ZXh0dXJlIHRvXG4gKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmVdIC0gVGV4dHVyZSB0byBhZGQgdG8gdGhlIGFycmF5XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5hZGRDb2xvclRleHR1cmUgPSBmdW5jdGlvbiBhZGRDb2xvclRleHR1cmUgKGluZGV4LCB0ZXh0dXJlKVxue1xuICAgICAgICBpZiAoIGluZGV4ID09PSB2b2lkIDAgKSBpbmRleCA9IDA7XG5cbiAgICAvLyBUT0RPIGFkZCBzb21lIHZhbGlkYXRpb24gdG8gdGhlIHRleHR1cmUgLSBzYW1lIHdpZHRoIC8gaGVpZ2h0IGV0Yz9cbiAgICB0aGlzLmNvbG9yVGV4dHVyZXNbaW5kZXhdID0gdGV4dHVyZSB8fCBuZXcgQmFzZVRleHR1cmUobnVsbCwgeyBzY2FsZU1vZGU6IDAsXG4gICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIG1pcG1hcDogZmFsc2UsXG4gICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0IH0pOy8vIHx8IG5ldyBUZXh0dXJlKCk7XG5cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkIGEgZGVwdGggdGV4dHVyZSB0byB0aGUgZnJhbWUgYnVmZmVyXG4gKlxuICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5hZGREZXB0aFRleHR1cmUgPSBmdW5jdGlvbiBhZGREZXB0aFRleHR1cmUgKHRleHR1cmUpXG57XG4gICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gdGV4dHVyZSB8fCBuZXcgQmFzZVRleHR1cmUobmV3IERlcHRoUmVzb3VyY2UobnVsbCwgeyB3aWR0aDogdGhpcy53aWR0aCwgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KSwgeyBzY2FsZU1vZGU6IDAsXG4gICAgICAgIHJlc29sdXRpb246IDEsXG4gICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICBtaXBtYXA6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IEZPUk1BVFMuREVQVEhfQ09NUE9ORU5ULFxuICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9TSE9SVCB9KTsvLyBVTlNJR05FRF9TSE9SVDtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEVuYWJsZSBkZXB0aCBvbiB0aGUgZnJhbWUgYnVmZmVyXG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5lbmFibGVEZXB0aCA9IGZ1bmN0aW9uIGVuYWJsZURlcHRoICgpXG57XG4gICAgdGhpcy5kZXB0aCA9IHRydWU7XG5cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5hYmxlIHN0ZW5jaWwgb24gdGhlIGZyYW1lIGJ1ZmZlclxuICovXG5GcmFtZWJ1ZmZlci5wcm90b3R5cGUuZW5hYmxlU3RlbmNpbCA9IGZ1bmN0aW9uIGVuYWJsZVN0ZW5jaWwgKClcbntcbiAgICB0aGlzLnN0ZW5jaWwgPSB0cnVlO1xuXG4gICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlc2l6ZSB0aGUgZnJhbWUgYnVmZmVyXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAqL1xuRnJhbWVidWZmZXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAod2lkdGgsIGhlaWdodClcbntcbiAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICBpZiAod2lkdGggPT09IHRoaXMud2lkdGggJiYgaGVpZ2h0ID09PSB0aGlzLmhlaWdodCkgeyByZXR1cm47IH1cblxuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuZGlydHlTaXplKys7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAvLyB0YWtlIGludG8gYWNvdW50IHRoZSBmYWN0IHRoZSB0ZXh0dXJlIG1heSBoYXZlIGEgZGlmZmVyZW50IHJlc29sdXRpb24uLlxuICAgICAgICB0ZXh0dXJlLnNldFNpemUod2lkdGggLyByZXNvbHV0aW9uLCBoZWlnaHQgLyByZXNvbHV0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kZXB0aFRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiQxID0gdGhpcy5kZXB0aFRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmRlcHRoVGV4dHVyZS5zZXRTaXplKHdpZHRoIC8gcmVzb2x1dGlvbiQxLCBoZWlnaHQgLyByZXNvbHV0aW9uJDEpO1xuICAgIH1cbn07XG5cbi8qKlxuICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gKi9cbkZyYW1lYnVmZmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxue1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5ydW4odGhpcywgZmFsc2UpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEZyYW1lYnVmZmVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDEgKTtcblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVJlbmRlclRleHR1cmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgb2Ygc2lnbmF0dXJlXG4gICAgICAgICAgICB2YXIgd2lkdGgkMSA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQkMSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHZhciBzY2FsZU1vZGUgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1szXTtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgd2lkdGg6IHdpZHRoJDEsIGhlaWdodDogaGVpZ2h0JDEsIHNjYWxlTW9kZTogc2NhbGVNb2RlLCByZXNvbHV0aW9uOiByZXNvbHV0aW9uIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG5cbiAgICAgICAgQmFzZVRleHR1cmUuY2FsbCh0aGlzLCBudWxsLCBvcHRpb25zKTtcblxuICAgICAgICB2YXIgcmVmID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVmLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcmVmLmhlaWdodDtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCkgfHwgMTAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpIHx8IDEwMDtcbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgcmVuZGVyIHRhcmdldCAod2Ugb25seSBuZWVkIG9uZSBhcyB0aGlzIGNhbiBiZSBzaGFyZWQgYWNyb3NzIHJlbmRlcmVycylcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYW52YXNSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuY2xlYXJDb2xvciA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKHRoaXMud2lkdGggKiB0aGlzLnJlc29sdXRpb24sIHRoaXMuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKVxuICAgICAgICAgICAgLmFkZENvbG9yVGV4dHVyZSgwLCB0aGlzKVxuICAgICAgICAgICAgLmVuYWJsZVN0ZW5jaWwoKTtcblxuICAgICAgICAvLyBUT0RPIC0gY291bGQgdGhpcyBiZSBhZGRlZCB0aGUgc3lzdGVtcz9cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSBbe31dO1xuICAgIH1cblxuICAgIGlmICggQmFzZVRleHR1cmUgKSBCYXNlUmVuZGVyVGV4dHVyZS5fX3Byb3RvX18gPSBCYXNlVGV4dHVyZTtcbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlVGV4dHVyZSAmJiBCYXNlVGV4dHVyZS5wcm90b3R5cGUgKTtcbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXNlUmVuZGVyVGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIEJhc2VSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAod2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIucmVzaXplKHdpZHRoICogdGhpcy5yZXNvbHV0aW9uLCBoZWlnaHQgKiB0aGlzLnJlc29sdXRpb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBhbmQgZnJhbWVidWZmZXIgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmRpc3Bvc2UoKTtcblxuICAgICAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmUuXG4gICAgICpcbiAgICAgKi9cbiAgICBCYXNlUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlciA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlUmVuZGVyVGV4dHVyZTtcbn0oQmFzZVRleHR1cmUpKTtcblxuLyoqXG4gKiBTdG9yZXMgYSB0ZXh0dXJlJ3MgZnJhbWUgaW4gVVYgY29vcmRpbmF0ZXMsIGluXG4gKiB3aGljaCBldmVyeXRoaW5nIGxpZXMgaW4gdGhlIHJlY3RhbmdsZSBgWygwLDApLCAoMSwwKSxcbiAqICgxLDEpLCAoMCwxKV1gLlxuICpcbiAqIHwgQ29ybmVyICAgICAgIHwgQ29vcmRpbmF0ZXMgfFxuICogfC0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18XG4gKiB8IFRvcC1MZWZ0ICAgICB8IGAoeDAseTApYCAgIHxcbiAqIHwgVG9wLVJpZ2h0ICAgIHwgYCh4MSx5MSlgICAgfFxuICogfCBCb3R0b20tUmlnaHQgfCBgKHgyLHkyKWAgICB8XG4gKiB8IEJvdHRvbS1MZWZ0ICB8IGAoeDMseTMpYCAgIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlVXZzID0gZnVuY3Rpb24gVGV4dHVyZVV2cygpXG57XG4gICAgLyoqXG4gICAgICogWC1jb21wb25lbnQgb2YgdG9wLWxlZnQgY29ybmVyIGAoeDAseTApYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLngwID0gMDtcblxuICAgIC8qKlxuICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1sZWZ0IGNvcm5lciBgKHgwLHkwKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy55MCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBYLWNvbXBvbmVudCBvZiB0b3AtcmlnaHQgY29ybmVyIGAoeDEseTEpYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLngxID0gMTtcblxuICAgIC8qKlxuICAgICAqIFktY29tcG9uZW50IG9mIHRvcC1yaWdodCBjb3JuZXIgYCh4MSx5MSlgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueTEgPSAwO1xuXG4gICAgLyoqXG4gICAgICogWC1jb21wb25lbnQgb2YgYm90dG9tLXJpZ2h0IGNvcm5lciBgKHgyLHkyKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy54MiA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDIseTIpYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnkyID0gMTtcblxuICAgIC8qKlxuICAgICAqIFgtY29tcG9uZW50IG9mIGJvdHRvbS1sZWZ0IGNvcm5lciBgKHgzLHkzKWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy54MyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBZLWNvbXBvbmVudCBvZiBib3R0b20tcmlnaHQgY29ybmVyIGAoeDMseTMpYC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnkzID0gMTtcblxuICAgIHRoaXMudXZzRmxvYXQzMiA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBAcHJvdGVjdGVkXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYmFzZUZyYW1lIC0gVGhlIGJhc2UgZnJhbWUgb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGUgLSBSb3RhdGlvbiBvZiBmcmFtZSwgc2VlIHtAbGluayBQSVhJLkdyb3VwRDh9XG4gKi9cblRleHR1cmVVdnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoZnJhbWUsIGJhc2VGcmFtZSwgcm90YXRlKVxue1xuICAgIHZhciB0dyA9IGJhc2VGcmFtZS53aWR0aDtcbiAgICB2YXIgdGggPSBiYXNlRnJhbWUuaGVpZ2h0O1xuXG4gICAgaWYgKHJvdGF0ZSlcbiAgICB7XG4gICAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQgZGl2IDIgZGl2IGJhc2VGcmFtZSBzaXplXG4gICAgICAgIHZhciB3MiA9IGZyYW1lLndpZHRoIC8gMiAvIHR3O1xuICAgICAgICB2YXIgaDIgPSBmcmFtZS5oZWlnaHQgLyAyIC8gdGg7XG5cbiAgICAgICAgLy8gY29vcmRpbmF0ZXMgb2YgY2VudGVyXG4gICAgICAgIHZhciBjWCA9IChmcmFtZS54IC8gdHcpICsgdzI7XG4gICAgICAgIHZhciBjWSA9IChmcmFtZS55IC8gdGgpICsgaDI7XG5cbiAgICAgICAgcm90YXRlID0gR3JvdXBEOC5hZGQocm90YXRlLCBHcm91cEQ4Lk5XKTsgLy8gTlcgaXMgdG9wLWxlZnQgY29ybmVyXG4gICAgICAgIHRoaXMueDAgPSBjWCArICh3MiAqIEdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgIHRoaXMueTAgPSBjWSArIChoMiAqIEdyb3VwRDgudVkocm90YXRlKSk7XG5cbiAgICAgICAgcm90YXRlID0gR3JvdXBEOC5hZGQocm90YXRlLCAyKTsgLy8gcm90YXRlIDkwIGRlZ3JlZXMgY2xvY2t3aXNlXG4gICAgICAgIHRoaXMueDEgPSBjWCArICh3MiAqIEdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgIHRoaXMueTEgPSBjWSArIChoMiAqIEdyb3VwRDgudVkocm90YXRlKSk7XG5cbiAgICAgICAgcm90YXRlID0gR3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgdGhpcy54MiA9IGNYICsgKHcyICogR3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgdGhpcy55MiA9IGNZICsgKGgyICogR3JvdXBEOC51WShyb3RhdGUpKTtcblxuICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICB0aGlzLngzID0gY1ggKyAodzIgKiBHcm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICB0aGlzLnkzID0gY1kgKyAoaDIgKiBHcm91cEQ4LnVZKHJvdGF0ZSkpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLngwID0gZnJhbWUueCAvIHR3O1xuICAgICAgICB0aGlzLnkwID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgIHRoaXMueDEgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICB0aGlzLnkxID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgIHRoaXMueDIgPSAoZnJhbWUueCArIGZyYW1lLndpZHRoKSAvIHR3O1xuICAgICAgICB0aGlzLnkyID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG5cbiAgICAgICAgdGhpcy54MyA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgdGhpcy55MyA9IChmcmFtZS55ICsgZnJhbWUuaGVpZ2h0KSAvIHRoO1xuICAgIH1cblxuICAgIHRoaXMudXZzRmxvYXQzMlswXSA9IHRoaXMueDA7XG4gICAgdGhpcy51dnNGbG9hdDMyWzFdID0gdGhpcy55MDtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbMl0gPSB0aGlzLngxO1xuICAgIHRoaXMudXZzRmxvYXQzMlszXSA9IHRoaXMueTE7XG4gICAgdGhpcy51dnNGbG9hdDMyWzRdID0gdGhpcy54MjtcbiAgICB0aGlzLnV2c0Zsb2F0MzJbNV0gPSB0aGlzLnkyO1xuICAgIHRoaXMudXZzRmxvYXQzMls2XSA9IHRoaXMueDM7XG4gICAgdGhpcy51dnNGbG9hdDMyWzddID0gdGhpcy55Mztcbn07XG5cbnZhciBERUZBVUxUX1VWUyA9IG5ldyBUZXh0dXJlVXZzKCk7XG5cbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlIG9yIHBhcnQgb2YgYW4gaW1hZ2UuXG4gKlxuICogSXQgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBkaXNwbGF5IGxpc3QgZGlyZWN0bHk7IGluc3RlYWQgdXNlIGl0IGFzIHRoZSB0ZXh0dXJlIGZvciBhIFNwcml0ZS5cbiAqIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkIGZvciBhIHRleHR1cmUsIHRoZW4gdGhlIHdob2xlIGltYWdlIGlzIHVzZWQuXG4gKlxuICogWW91IGNhbiBkaXJlY3RseSBjcmVhdGUgYSB0ZXh0dXJlIGZyb20gYW4gaW1hZ2UgYW5kIHRoZW4gcmV1c2UgaXQgbXVsdGlwbGUgdGltZXMgbGlrZSB0aGlzIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogbGV0IHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlMiA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIElmIHlvdSBkaWRudCBwYXNzIHRoZSB0ZXh0dXJlIGZyYW1lIHRvIGNvbnN0cnVjdG9yLCBpdCBlbmFibGVzIGBub0ZyYW1lYCBtb2RlOlxuICogaXQgc3Vic2NyaWJlcyBvbiBiYXNlVGV4dHVyZSBldmVudHMsIGl0IGF1dG9tYXRpY2FsbHkgcmVzaXplcyBhdCB0aGUgc2FtZSB0aW1lIGFzIGJhc2VUZXh0dXJlLlxuICpcbiAqIFRleHR1cmVzIG1hZGUgZnJvbSBTVkdzLCBsb2FkZWQgb3Igbm90LCBjYW5ub3QgYmUgdXNlZCBiZWZvcmUgdGhlIGZpbGUgZmluaXNoZXMgcHJvY2Vzc2luZy5cbiAqIFlvdSBjYW4gY2hlY2sgZm9yIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHNwcml0ZSdzIF90ZXh0dXJlSUQgcHJvcGVydHkuXG4gKiBgYGBqc1xuICogdmFyIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnN2ZycpO1xuICogdmFyIHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiAvL3Nwcml0ZTEuX3RleHR1cmVJRCBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCBpZiB0aGUgdGV4dHVyZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZyB0aGUgU1ZHIGZpbGVcbiAqIGBgYFxuICogWW91IGNhbiB1c2UgYSB0aWNrZXIgb3IgckFGIHRvIGVuc3VyZSB5b3VyIHNwcml0ZXMgbG9hZCB0aGUgZmluaXNoZWQgdGV4dHVyZXMgYWZ0ZXIgcHJvY2Vzc2luZy4gU2VlIGlzc3VlICMzMDY4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0dXJlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRXZlbnRFbWl0dGVyKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZShiYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIHJvdGF0ZSwgYW5jaG9yKVxuICAgIHtcbiAgICAgICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhpcyBUZXh0dXJlIGhhdmUgYW55IGZyYW1lIGRhdGEgYXNzaWduZWQgdG8gaXQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbW9kZSBpcyBlbmFibGVkIGF1dG9tYXRpY2FsbHkgaWYgbm8gZnJhbWUgd2FzIHBhc3NlZCBpbnNpZGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEluIHRoaXMgbW9kZSB0ZXh0dXJlIGlzIHN1YnNjcmliZWQgdG8gYmFzZVRleHR1cmUgZXZlbnRzLCBhbmQgZmlyZXMgYHVwZGF0ZWAgb24gYW55IGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQmV3YXJlLCBhZnRlciBsb2FkaW5nIG9yIHJlc2l6ZSBvZiBiYXNlVGV4dHVyZSBldmVudCBjYW4gZmlyZWQgdHdvIHRpbWVzIVxuICAgICAgICAgKiBJZiB5b3Ugd2FudCBtb3JlIGNvbnRyb2wsIHN1YnNjcmliZSBvbiBiYXNlVGV4dHVyZSBpdHNlbGYuXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIHRleHR1cmUub24oJ3VwZGF0ZScsICgpID0+IHt9KTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEFueSBhc3NpZ25tZW50IG9mIGBmcmFtZWAgc3dpdGNoZXMgb2ZmIGBub0ZyYW1lYCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFmcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ub0ZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIHRyaW1tZWQgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYHRyaW1gIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpbSA9IHRyaW07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IGEgcmVuZGVyZXIga25vdyB0aGF0IGEgdGV4dHVyZSBoYXMgYmVlbiB1cGRhdGVkICh1c2VkIG1haW5seSBmb3IgV2ViR0wgdXYgdXBkYXRlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVxdWlyZXNVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFVWIGRhdGEgY2FjaGUuIENhbiBiZSB1c2VkIGFzIHF1YWQgVVZcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlVXZzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91dnMgPSBERUZBVUxUX1VWUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIHRleHR1cmVcbiAgICAgICAgICogQnkgZGVmYXVsdCB0aGF0IG9iamVjdCBpcyBub3QgY3JlYXRlZCBiZWNhdXNlIGl0cyBoZWF2eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZyA9IG9yaWcgfHwgZnJhbWU7Ly8gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICB0aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuXG4gICAgICAgIGlmIChyb3RhdGUgPT09IHRydWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb2xkIHRleHR1cmVwYWNrZXIgbGVnYWN5LCBzb21lIGdhbWVzL2xpYnJhcmllcyBhcmUgcGFzc2luZyBcInRydWVcIiBmb3Igcm90YXRlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9yb3RhdGUgJSAyICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F0dGVtcHQgdG8gdXNlIGRpYW1vbmQtc2hhcGVkIFVWcy4gSWYgeW91IGFyZSBzdXJlLCBzZXQgcm90YXRpb24gbWFudWFsbHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmNob3IgcG9pbnQgdGhhdCBpcyB1c2VkIGFzIGRlZmF1bHQgaWYgc3ByaXRlIGlzIGNyZWF0ZWQgd2l0aCB0aGlzIHRleHR1cmUuXG4gICAgICAgICAqIENoYW5naW5nIHRoZSBgZGVmYXVsdEFuY2hvcmAgYXQgYSBsYXRlciBwb2ludCBvZiB0aW1lIHdpbGwgbm90IHVwZGF0ZSBTcHJpdGUncyBhbmNob3IgcG9pbnQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqIEBkZWZhdWx0IHswLDB9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRBbmNob3IgPSBhbmNob3IgPyBuZXcgUG9pbnQoYW5jaG9yLngsIGFuY2hvci55KSA6IG5ldyBQb2ludCgwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIElEIGlzIG9ic2VydmVkIGJ5IHNwcml0ZXMgYW5kIFRleHR1cmVNYXRyaXggaW5zdGFuY2VzLlxuICAgICAgICAgKiBDYWxsIHVwZGF0ZVV2cygpIHRvIGluY3JlbWVudCBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkcyB1bmRlciB3aGljaCB0aGlzIFRleHR1cmUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHRleHR1cmUgY2FjaGUuIFRoaXMgaXNcbiAgICAgICAgICogYXV0b21hdGljYWxseSBzZXQgYXMgbG9uZyBhcyBUZXh0dXJlLmFkZFRvQ2FjaGUgaXMgdXNlZCwgYnV0IG1heSBub3QgYmUgc2V0IGlmIGFcbiAgICAgICAgICogVGV4dHVyZSBpcyBhZGRlZCBkaXJlY3RseSB0byB0aGUgVGV4dHVyZUNhY2hlIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5ub0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcmFtZSB3ZSBzaG91bGQgbW9uaXRvciBmb3IgYW55IGJhc2UgdGV4dHVyZSBjaGFuZ2VzLi5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICggRXZlbnRFbWl0dGVyICkgVGV4dHVyZS5fX3Byb3RvX18gPSBFdmVudEVtaXR0ZXI7XG4gICAgVGV4dHVyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudEVtaXR0ZXIgJiYgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSApO1xuICAgIFRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGV4dHVyZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHJlc29sdXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZnJhbWU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scm90YXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGlzIHRleHR1cmUgb24gdGhlIGdwdS5cbiAgICAgKlxuICAgICAqIENhbGxzIHRoZSBUZXh0dXJlUmVzb3VyY2UgdXBkYXRlLlxuICAgICAqXG4gICAgICogSWYgeW91IGFkanVzdGVkIGBmcmFtZWAgbWFudWFsbHksIHBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGJhc2UgdGV4dHVyZSBpcyB1cGRhdGVkXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUuXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUub25CYXNlVGV4dHVyZVVwZGF0ZWQgPSBmdW5jdGlvbiBvbkJhc2VUZXh0dXJlVXBkYXRlZCAoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyB0aGlzIGNvZGUgbG9va3MgY29uZnVzaW5nLi4gYm9vIHRvIGFidXNpbmcgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgICAgIC8vIGlmIHVzZXIgZ2F2ZSB1cyBmcmFtZSB0aGF0IGhhcyBiaWdnZXIgc2l6ZSB0aGFuIHJlc2l6ZWQgdGV4dHVyZSBpdCBjYW4gYmUgYSBwcm9ibGVtXG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gdGhpcy5fZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKGRlc3Ryb3lCYXNlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChkZXN0cm95QmFzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVmID0gdGhpcy5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSByZWYucmVzb3VyY2U7XG5cbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHRleHR1cmUgaWYgaXQgZXhpc3RzIGluIHRoZSB0ZXh0dXJlIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgcmVtb3ZlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGFjdHVhbGx5IGRlc3Ryb3llZCB0b28uLlxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSAmJiBUZXh0dXJlQ2FjaGVbcmVzb3VyY2UudXJsXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHJlc291cmNlLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5mcmFtZSwgdGhpcy5vcmlnLCB0aGlzLnRyaW0sIHRoaXMucm90YXRlLCB0aGlzLmRlZmF1bHRBbmNob3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbnRlcm5hbCBXZWJHTCBVViBjYWNoZS4gVXNlIGl0IGFmdGVyIHlvdSBjaGFuZ2UgYGZyYW1lYCBvciBgdHJpbWAgb2YgdGhlIHRleHR1cmUuXG4gICAgICogQ2FsbCBpdCBhZnRlciBjaGFuZ2luZyB0aGUgZnJhbWVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS51cGRhdGVVdnMgPSBmdW5jdGlvbiB1cGRhdGVVdnMgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl91dnMgPT09IERFRkFVTFRfVVZTKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl91dnMgPSBuZXcgVGV4dHVyZVV2cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSwgdGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5yb3RhdGUpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgVGV4dHVyZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxQSVhJLkJhc2VUZXh0dXJlfSBzb3VyY2VcbiAgICAgKiAgICAgICAgU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiBmcm9tIChzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcblxuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IFwicGl4aWlkX1wiICsgKHVpZCgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucmVzb2x1dGlvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwoc291cmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG5cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSBiYXNlIHRleHR1cmUhXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgVGhlIG9wdGlvbmFsIGFycmF5IHRvIHVzZSwgaWYgbm8gZGF0YVxuICAgICAqICAgICAgICBpcyBwcm92aWRlZCwgYSBuZXcgRmxvYXQzMkFycmF5IGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tQnVmZmVyID0gZnVuY3Rpb24gZnJvbUJ1ZmZlciAoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0dXJlKEJhc2VUZXh0dXJlLmZyb21CdWZmZXIoYnVmZmVyLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRleHR1cmUgZnJvbSBhIHNvdXJjZSBhbmQgYWRkIHRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIFRoZSBpbnB1dCBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlVXJsIC0gRmlsZSBuYW1lIG9mIHRleHR1cmUsIGZvciBjYWNoZSBhbmQgcmVzb2x2aW5nIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lXSAtIEh1bWFuIHJlYWRhYmxlIG5hbWUgZm9yIHRoZSB0ZXh0dXJlIGNhY2hlLiBJZiBubyBuYW1lIGlzXG4gICAgICogICAgICAgIHNwZWNpZmllZCwgb25seSBgaW1hZ2VVcmxgIHdpbGwgYmUgdXNlZCBhcyB0aGUgY2FjaGUgSUQuXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBPdXRwdXQgdGV4dHVyZVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUxvYWRlciA9IGZ1bmN0aW9uIGZyb21Mb2FkZXIgKHNvdXJjZSwgaW1hZ2VVcmwsIG5hbWUpXG4gICAge1xuICAgICAgICB2YXIgcmVzb3VyY2UgPSBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UpO1xuXG4gICAgICAgIHJlc291cmNlLnVybCA9IGltYWdlVXJsO1xuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBzZXR0aW5ncy5TQ0FMRV9NT0RFLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogZ2V0UmVzb2x1dGlvbk9mVXJsKGltYWdlVXJsKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSBuZXcgVGV4dHVyZShiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gTm8gbmFtZSwgdXNlIGltYWdlVXJsIGluc3RlYWRcbiAgICAgICAgaWYgKCFuYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lID0gaW1hZ2VVcmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFsc28gYWRkIHRoZSBmcmFtZSB0byBwaXhpJ3MgZ2xvYmFsIGNhY2hlIGZvciAnZnJvbUxvYWRlcicgZnVuY3Rpb25cbiAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBuYW1lKTtcbiAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIG5hbWUpO1xuXG4gICAgICAgIC8vIGFsc28gYWRkIHJlZmVyZW5jZXMgYnkgdXJsIGlmIHRoZXkgYXJlIGRpZmZlcmVudC5cbiAgICAgICAgaWYgKG5hbWUgIT09IGltYWdlVXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIFRleHR1cmUgdG8gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlID0gZnVuY3Rpb24gYWRkVG9DYWNoZSAodGV4dHVyZSwgaWQpXG4gICAge1xuICAgICAgICBpZiAoaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChUZXh0dXJlQ2FjaGVbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKChcIlRleHR1cmUgYWRkZWQgdG8gdGhlIGNhY2hlIHdpdGggYW4gaWQgW1wiICsgaWQgKyBcIl0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeVwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFRleHR1cmVDYWNoZVtpZF0gPSB0ZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIFRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiByZW1vdmVGcm9tQ2FjaGUgKHRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHRleHR1cmUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyb21DYWNoZSA9IFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVGcm9tQ2FjaGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHR1cmVGcm9tQ2FjaGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGV4dHVyZSAmJiB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRleHR1cmUgbWF0Y2hlcyB0aGUgb25lIGJlaW5nIHBhc3NlZCBpbiBiZWZvcmUgZGVsZXRpbmcgaXQgZnJvbSB0aGUgY2FjaGUuXG4gICAgICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVt0ZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV0gPT09IHRleHR1cmUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgcmVzb2x1dGlvbiBvZiBiYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZXNvbHV0aW9uLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgc3BlY2lmaWVzIHRoZSByZWdpb24gb2YgdGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgZnJhbWVgIG1hbnVhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmZyYW1lLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5mcmFtZS5zZXQgPSBmdW5jdGlvbiAoZnJhbWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcblxuICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICB2YXIgeCA9IGZyYW1lLng7XG4gICAgICAgIHZhciB5ID0gZnJhbWUueTtcbiAgICAgICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQ7XG4gICAgICAgIHZhciB4Tm90Rml0ID0geCArIHdpZHRoID4gdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgdmFyIHlOb3RGaXQgPSB5ICsgaGVpZ2h0ID4gdGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHhOb3RGaXQgfHwgeU5vdEZpdClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHJlbGF0aW9uc2hpcCA9IHhOb3RGaXQgJiYgeU5vdEZpdCA/ICdhbmQnIDogJ29yJztcbiAgICAgICAgICAgIHZhciBlcnJvclggPSBcIlg6IFwiICsgeCArIFwiICsgXCIgKyB3aWR0aCArIFwiID0gXCIgKyAoeCArIHdpZHRoKSArIFwiID4gXCIgKyAodGhpcy5iYXNlVGV4dHVyZS53aWR0aCk7XG4gICAgICAgICAgICB2YXIgZXJyb3JZID0gXCJZOiBcIiArIHkgKyBcIiArIFwiICsgaGVpZ2h0ICsgXCIgPSBcIiArICh5ICsgaGVpZ2h0KSArIFwiID4gXCIgKyAodGhpcy5iYXNlVGV4dHVyZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RleHR1cmUgRXJyb3I6IGZyYW1lIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGJhc2UgVGV4dHVyZSBkaW1lbnNpb25zOiAnXG4gICAgICAgICAgICAgICAgKyBlcnJvclggKyBcIiBcIiArIHJlbGF0aW9uc2hpcCArIFwiIFwiICsgZXJyb3JZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmFsaWQgPSB3aWR0aCAmJiBoZWlnaHQgJiYgdGhpcy5iYXNlVGV4dHVyZS52YWxpZDtcblxuICAgICAgICBpZiAoIXRoaXMudHJpbSAmJiAhdGhpcy5yb3RhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMub3JpZyA9IGZyYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRleHR1cmUgaXMgcm90YXRlZCBpbnNpZGUgdGhlIGF0bGFzXG4gICAgICogc2V0IHRvIDIgdG8gY29tcGVuc2F0ZSBmb3IgdGV4dHVyZSBwYWNrZXIgcm90YXRpb25cbiAgICAgKiBzZXQgdG8gNiB0byBjb21wZW5zYXRlIGZvciBzcGluZSBwYWNrZXIgcm90YXRpb25cbiAgICAgKiBjYW4gYmUgdXNlZCB0byByb3RhdGUgb3IgbWlycm9yIHNwcml0ZXNcbiAgICAgKiBTZWUge0BsaW5rIFBJWEkuR3JvdXBEOH0gZm9yIGV4cGxhbmF0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdGF0ZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdGF0ZS5zZXQgPSBmdW5jdGlvbiAocm90YXRlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3JvdGF0ZSA9IHJvdGF0ZTtcbiAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWcud2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRleHR1cmUgaW4gcGl4ZWxzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGV4dHVyZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuXG5mdW5jdGlvbiBjcmVhdGVXaGl0ZVRleHR1cmUoKVxue1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IDE2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxNjtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCAxNiwgMTYpO1xuXG4gICAgcmV0dXJuIG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShuZXcgQ2FudmFzUmVzb3VyY2UoY2FudmFzKSkpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBbGxIYW5kbGVycyh0ZXgpXG57XG4gICAgdGV4LmRlc3Ryb3kgPSBmdW5jdGlvbiBfZW1wdHlEZXN0cm95KCkgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5vbiA9IGZ1bmN0aW9uIF9lbXB0eU9uKCkgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5vbmNlID0gZnVuY3Rpb24gX2VtcHR5T25jZSgpIHsgLyogZW1wdHkgKi8gfTtcbiAgICB0ZXguZW1pdCA9IGZ1bmN0aW9uIF9lbXB0eUVtaXQoKSB7IC8qIGVtcHR5ICovIH07XG59XG5cbi8qKlxuICogQW4gZW1wdHkgdGV4dHVyZSwgdXNlZCBvZnRlbiB0byBub3QgaGF2ZSB0byBjcmVhdGUgbXVsdGlwbGUgZW1wdHkgdGV4dHVyZXMuXG4gKiBDYW4gbm90IGJlIGRlc3Ryb3llZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAqL1xuVGV4dHVyZS5FTVBUWSA9IG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZSgpKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWS5iYXNlVGV4dHVyZSk7XG5cbi8qKlxuICogQSB3aGl0ZSB0ZXh0dXJlIG9mIDE2eDE2IHNpemUsIHVzZWQgZm9yIGdyYXBoaWNzIGFuZCBvdGhlciB0aGluZ3NcbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLldISVRFID0gY3JlYXRlV2hpdGVUZXh0dXJlKCk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUuYmFzZVRleHR1cmUpO1xuXG4vKipcbiAqIEEgUmVuZGVyVGV4dHVyZSBpcyBhIHNwZWNpYWwgdGV4dHVyZSB0aGF0IGFsbG93cyBhbnkgUGl4aUpTIGRpc3BsYXkgb2JqZWN0IHRvIGJlIHJlbmRlcmVkIHRvIGl0LlxuICpcbiAqIF9fSGludF9fOiBBbGwgRGlzcGxheU9iamVjdHMgKGkuZS4gU3ByaXRlcykgdGhhdCByZW5kZXIgdG8gYSBSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBfX0hpbnQtMl9fOiBUaGUgYWN0dWFsIG1lbW9yeSBhbGxvY2F0aW9uIHdpbGwgaGFwcGVuIG9uIGZpcnN0IHJlbmRlci5cbiAqIFlvdSBzaG91bGRuJ3QgY3JlYXRlIHJlbmRlclRleHR1cmVzIGVhY2ggZnJhbWUganVzdCB0byBkZWxldGUgdGhlbSBhZnRlciwgdHJ5IHRvIHJldXNlIHRoZW0uXG4gKlxuICogQSBSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSg4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZS5jcmVhdGUoMTAwLCAxMDApO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKVxuICAgIHtcbiAgICAgICAgLy8gc3VwcG9ydCBmb3IgbGVnYWN5Li5cbiAgICAgICAgdmFyIF9sZWdhY3lSZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgaWYgKCEoYmFzZVJlbmRlclRleHR1cmUgaW5zdGFuY2VvZiBCYXNlUmVuZGVyVGV4dHVyZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciBzY2FsZU1vZGUgPSBhcmd1bWVudHNbM107XG4gICAgICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGFyZ3VtZW50c1s0XTtcblxuICAgICAgICAgICAgLy8gd2UgaGF2ZSBhbiBvbGQgcmVuZGVyIHRleHR1cmUuLlxuICAgICAgICAgICAgY29uc29sZS53YXJuKChcIlBsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoXCIgKyB3aWR0aCArIFwiLCBcIiArIGhlaWdodCArIFwiKSBpbnN0ZWFkIG9mIHRoZSBjdG9yIGRpcmVjdGx5LlwiKSk7XG4gICAgICAgICAgICBfbGVnYWN5UmVuZGVyZXIgPSBhcmd1bWVudHNbMF07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICBmcmFtZSA9IG51bGw7XG4gICAgICAgICAgICBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBCYXNlUmVuZGVyVGV4dHVyZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IHJlc29sdXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBUZXh0dXJlLmNhbGwodGhpcywgYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKTtcblxuICAgICAgICB0aGlzLmxlZ2FjeVJlbmRlcmVyID0gX2xlZ2FjeVJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IHRoZSByZW5kZXJlciBrbm93IGlmIHRoZSB0ZXh0dXJlIGlzIHZhbGlkLiBJZiBpdCdzIG5vdCB0aGVuIGl0IGNhbm5vdCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9yZXMgYHNvdXJjZUZyYW1lYCB3aGVuIHRoaXMgdGV4dHVyZSBpcyBpbnNpZGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICAgICAqIFlvdSBjYW4gcmVhZCBpdCBpbnNpZGUgZmlsdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBrZXkgZm9yIHBvb2xlZCB0ZXh0dXJlIG9mIEZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyUG9vbEtleSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9XG5cbiAgICBpZiAoIFRleHR1cmUgKSBSZW5kZXJUZXh0dXJlLl9fcHJvdG9fXyA9IFRleHR1cmU7XG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUZXh0dXJlICYmIFRleHR1cmUucHJvdG90eXBlICk7XG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZW5kZXJUZXh0dXJlO1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgUmVuZGVyVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jlc2l6ZUJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIHRoZSBiYXNlVGV4dHVyZS53aWR0aCBhbmQgaGVpZ2h0IHZhbHVlcyBiZSByZXNpemVkIGFzIHdlbGw/XG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3aWR0aCwgaGVpZ2h0LCByZXNpemVCYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICggcmVzaXplQmFzZVRleHR1cmUgPT09IHZvaWQgMCApIHJlc2l6ZUJhc2VUZXh0dXJlID0gdHJ1ZTtcblxuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuXG4gICAgICAgIC8vIFRPRE8gLSBjb3VsZCBiZSBub3QgcmVxdWlyZWQuLlxuICAgICAgICB0aGlzLnZhbGlkID0gKHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwKTtcblxuICAgICAgICB0aGlzLl9mcmFtZS53aWR0aCA9IHRoaXMub3JpZy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSB0aGlzLm9yaWcuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIGlmIChyZXNpemVCYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlLCBidXQgZG9lcyBub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNpemUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiB0byBhcHBseSB0byBSZW5kZXJUZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5wcm90b3R5cGUuc2V0UmVzb2x1dGlvbiA9IGZ1bmN0aW9uIHNldFJlc29sdXRpb24gKHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gcmVmLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS5yZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBiYXNlVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuICAgICAgICB0aGlzLnJlc2l6ZShiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0LCBmYWxzZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0xMDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZVxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmUuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gZmFsbGJhY2ssIG9sZC1zdHlsZTogY3JlYXRlKHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbilcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlaWdodDogYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogYXJndW1lbnRzWzJdLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb246IGFyZ3VtZW50c1szXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBSZW5kZXJUZXh0dXJlKG5ldyBCYXNlUmVuZGVyVGV4dHVyZShvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlO1xufShUZXh0dXJlKSk7XG5cbi8qKlxuICogRXhwZXJpbWVudGFsIVxuICpcbiAqIFRleHR1cmUgcG9vbCwgdXNlZCBieSBGaWx0ZXJTeXN0ZW0gYW5kIHBsdWdpbnNcbiAqIFN0b3JlcyBjb2xsZWN0aW9uIG9mIHRlbXBvcmFyeSBwb3cyIG9yIHNjcmVlbi1zaXplZCByZW5kZXJUZXh0dXJlc1xuICpcbiAqIElmIHlvdSB1c2UgY3VzdG9tIFJlbmRlclRleHR1cmVQb29sIGZvciB5b3VyIGZpbHRlcnMsIHlvdSBjYW4gdXNlIG1ldGhvZHNcbiAqIGBnZXRGaWx0ZXJUZXh0dXJlYCBhbmQgYHJldHVybkZpbHRlclRleHR1cmVgIHNhbWUgYXMgaW5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZW5kZXJUZXh0dXJlUG9vbCA9IGZ1bmN0aW9uIFJlbmRlclRleHR1cmVQb29sKHRleHR1cmVPcHRpb25zKVxue1xuICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICB0aGlzLnRleHR1cmVPcHRpb25zID0gdGV4dHVyZU9wdGlvbnMgfHwge307XG4gICAgLyoqXG4gICAgICogQWxsb3cgcmVuZGVyVGV4dHVyZXMgb2YgdGhlIHNhbWUgc2l6ZSBhcyBzY3JlZW4sIG5vdCBqdXN0IHBvdzJcbiAgICAgKlxuICAgICAqIEF1dG9tYXRpY2FsbHkgc2V0cyB0byB0cnVlIGFmdGVyIGBzZXRTY3JlZW5TaXplYFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMuZW5hYmxlRnVsbFNjcmVlbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5fcGl4ZWxzV2lkdGggPSAwO1xuICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IDA7XG59O1xuXG4vKipcbiAqIGNyZWF0ZXMgb2YgdGV4dHVyZSB3aXRoIHBhcmFtcyB0aGF0IHdlcmUgc3BlY2lmaWVkIGluIHBvb2wgY29uc3RydWN0b3JcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIHdpZHRoIG9mIHRleHR1cmUgaW4gcGl4ZWxzXG4gKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCBoZWlnaHQgb2YgdGV4dHVyZSBpbiBwaXhlbHNcbiAqIEByZXR1cm5zIHtSZW5kZXJUZXh0dXJlfVxuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuY3JlYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUgKHJlYWxXaWR0aCwgcmVhbEhlaWdodClcbntcbiAgICB2YXIgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHdpZHRoOiByZWFsV2lkdGgsXG4gICAgICAgIGhlaWdodDogcmVhbEhlaWdodCxcbiAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICB9LCB0aGlzLnRleHR1cmVPcHRpb25zKSk7XG5cbiAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICpcbiAqIEBwcm90ZWN0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0T3B0aW1hbFRleHR1cmUgPSBmdW5jdGlvbiBnZXRPcHRpbWFsVGV4dHVyZSAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbilcbntcbiAgICAgICAgaWYgKCByZXNvbHV0aW9uID09PSB2b2lkIDAgKSByZXNvbHV0aW9uID0gMTtcblxuICAgIHZhciBrZXkgPSBSZW5kZXJUZXh0dXJlUG9vbC5TQ1JFRU5fS0VZO1xuXG4gICAgbWluV2lkdGggKj0gcmVzb2x1dGlvbjtcbiAgICBtaW5IZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgIGlmICghdGhpcy5lbmFibGVGdWxsU2NyZWVuIHx8IG1pbldpZHRoICE9PSB0aGlzLl9waXhlbHNXaWR0aCB8fCBtaW5IZWlnaHQgIT09IHRoaXMuX3BpeGVsc0hlaWdodClcbiAgICB7XG4gICAgICAgIG1pbldpZHRoID0gbmV4dFBvdzIobWluV2lkdGgpO1xuICAgICAgICBtaW5IZWlnaHQgPSBuZXh0UG93MihtaW5IZWlnaHQpO1xuICAgICAgICBrZXkgPSAoKG1pbldpZHRoICYgMHhGRkZGKSA8PCAxNikgfCAobWluSGVpZ2h0ICYgMHhGRkZGKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudGV4dHVyZVBvb2xba2V5XSlcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XSA9IFtdO1xuICAgIH1cblxuICAgIHZhciByZW5kZXJUZXh0dXJlID0gdGhpcy50ZXh0dXJlUG9vbFtrZXldLnBvcCgpO1xuXG4gICAgaWYgKCFyZW5kZXJUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMuY3JlYXRlVGV4dHVyZShtaW5XaWR0aCwgbWluSGVpZ2h0KTtcbiAgICB9XG5cbiAgICByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXkgPSBrZXk7XG4gICAgcmVuZGVyVGV4dHVyZS5zZXRSZXNvbHV0aW9uKHJlc29sdXRpb24pO1xuXG4gICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG59O1xuXG4vKipcbiAqIEdldHMgZXh0cmEgdGV4dHVyZSBvZiB0aGUgc2FtZSBzaXplIGFzIGlucHV0IHJlbmRlclRleHR1cmVcbiAqXG4gKiBgZ2V0RmlsdGVyVGV4dHVyZShpbnB1dCwgMC41KWAgb3IgYGdldEZpbHRlclRleHR1cmUoMC41LCBpbnB1dClgXG4gKlxuICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IHJlbmRlclRleHR1cmUgZnJvbSB3aGljaCBzaXplIGFuZCByZXNvbHV0aW9uIHdpbGwgYmUgY29waWVkXG4gKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIG92ZXJyaWRlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlclRleHR1cmVcbiAqICBJdCBvdmVycmlkZXMsIGl0IGRvZXMgbm90IG11bHRpcGx5XG4gKiBAcmV0dXJucyB7UElYSS5SZW5kZXJUZXh0dXJlfVxuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIGdldEZpbHRlclRleHR1cmUgKGlucHV0LCByZXNvbHV0aW9uKVxue1xuICAgIHZhciBmaWx0ZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsVGV4dHVyZShpbnB1dC53aWR0aCwgaW5wdXQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IGlucHV0LnJlc29sdXRpb24pO1xuXG4gICAgZmlsdGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IGlucHV0LmZpbHRlckZyYW1lO1xuXG4gICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG59O1xuXG4vKipcbiAqIFBsYWNlIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGV4dHVyZSB0byBmcmVlXG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5yZXR1cm5UZXh0dXJlID0gZnVuY3Rpb24gcmV0dXJuVGV4dHVyZSAocmVuZGVyVGV4dHVyZSlcbntcbiAgICB2YXIga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuXG4gICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldLnB1c2gocmVuZGVyVGV4dHVyZSk7XG59O1xuXG4vKipcbiAqIEFsaWFzIGZvciByZXR1cm5UZXh0dXJlLCB0byBiZSBjb21wbGlhbnQgd2l0aCBGaWx0ZXJTeXN0ZW0gaW50ZXJmYWNlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUZXh0dXJlIHRvIGZyZWVcbiAqL1xuUmVuZGVyVGV4dHVyZVBvb2wucHJvdG90eXBlLnJldHVybkZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiByZXR1cm5GaWx0ZXJUZXh0dXJlIChyZW5kZXJUZXh0dXJlKVxue1xuICAgIHRoaXMucmV0dXJuVGV4dHVyZShyZW5kZXJUZXh0dXJlKTtcbn07XG5cbi8qKlxuICogQ2xlYXJzIHRoZSBwb29sXG4gKlxuICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveVRleHR1cmVzPXRydWVdIGRlc3Ryb3kgYWxsIHN0b3JlZCB0ZXh0dXJlc1xuICovXG5SZW5kZXJUZXh0dXJlUG9vbC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoZGVzdHJveVRleHR1cmVzKVxue1xuICAgIGRlc3Ryb3lUZXh0dXJlcyA9IGRlc3Ryb3lUZXh0dXJlcyAhPT0gZmFsc2U7XG4gICAgaWYgKGRlc3Ryb3lUZXh0dXJlcylcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy50ZXh0dXJlUG9vbClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtpXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbn07XG5cbi8qKlxuICogSWYgc2NyZWVuIHNpemUgd2FzIGNoYW5nZWQsIGRyb3BzIGFsbCBzY3JlZW4tc2l6ZWQgdGV4dHVyZXMsXG4gKiBzZXRzIG5ldyBzY3JlZW4gc2l6ZSwgc2V0cyBgZW5hYmxlRnVsbFNjcmVlbmAgdG8gdHJ1ZVxuICpcbiAqIFNpemUgaXMgbWVhc3VyZWQgaW4gcGl4ZWxzLCBgcmVuZGVyZXIudmlld2AgY2FuIGJlIHBhc3NlZCBoZXJlLCBub3QgYHJlbmRlcmVyLnNjcmVlbmBcbiAqXG4gKiBAcGFyYW0ge1BJWEkuSVNpemV9IHNpemUgLSBJbml0aWFsIHNpemUgb2Ygc2NyZWVuXG4gKi9cblJlbmRlclRleHR1cmVQb29sLnByb3RvdHlwZS5zZXRTY3JlZW5TaXplID0gZnVuY3Rpb24gc2V0U2NyZWVuU2l6ZSAoc2l6ZSlcbntcbiAgICBpZiAoc2l6ZS53aWR0aCA9PT0gdGhpcy5fcGl4ZWxzV2lkdGhcbiAgICAgICAgJiYgc2l6ZS5oZWlnaHQgPT09IHRoaXMuX3BpeGVsc0hlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2NyZWVuS2V5ID0gUmVuZGVyVGV4dHVyZVBvb2wuU0NSRUVOX0tFWTtcbiAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV07XG5cbiAgICB0aGlzLmVuYWJsZUZ1bGxTY3JlZW4gPSBzaXplLndpZHRoID4gMCAmJiBzaXplLmhlaWdodCA+IDA7XG5cbiAgICBpZiAodGV4dHVyZXMpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMudGV4dHVyZVBvb2xbc2NyZWVuS2V5XSA9IFtdO1xuXG4gICAgdGhpcy5fcGl4ZWxzV2lkdGggPSBzaXplLndpZHRoO1xuICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHNpemUuaGVpZ2h0O1xufTtcblxuLyoqXG4gKiBLZXkgdGhhdCBpcyB1c2VkIHRvIHN0b3JlIGZ1bGxzY3JlZW4gcmVuZGVyVGV4dHVyZXMgaW4gYSBwb29sXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cblJlbmRlclRleHR1cmVQb29sLlNDUkVFTl9LRVkgPSAnc2NyZWVuJztcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4vKipcbiAqIEhvbGRzIHRoZSBpbmZvcm1hdGlvbiBmb3IgYSBzaW5nbGUgYXR0cmlidXRlIHN0cnVjdHVyZSByZXF1aXJlZCB0byByZW5kZXIgZ2VvbWV0cnkuXG4gKlxuICogVGhpcyBkb2VzIG5vdCBjb250YWluIHRoZSBhY3R1YWwgZGF0YSwgYnV0IGluc3RlYWQgaGFzIGEgYnVmZmVyIGlkIHRoYXQgbWFwcyB0byBhIHtAbGluayBQSVhJLkJ1ZmZlcn1cbiAqIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBdHRyaWJ1dGUgPSBmdW5jdGlvbiBBdHRyaWJ1dGUoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSlcbntcbiAgICBpZiAoIG5vcm1hbGl6ZWQgPT09IHZvaWQgMCApIG5vcm1hbGl6ZWQgPSBmYWxzZTtcbiAgICBpZiAoIHR5cGUgPT09IHZvaWQgMCApIHR5cGUgPSA1MTI2O1xuXG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLm5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIEF0dHJpYnV0ZS5cbiAqL1xuQXR0cmlidXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBdHRyaWJ1dGUgYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAgdGhlIGlkIG9mIHRoZSBidWZmZXIgdGhhdCB0aGlzIGF0dHJpYnV0ZSB3aWxsIGxvb2sgZm9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NpemU9Ml0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZT0wXSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0PTBdIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gKlxuICogQHJldHVybnMge1BJWEkuQXR0cmlidXRlfSBBIG5ldyB7QGxpbmsgUElYSS5BdHRyaWJ1dGV9IGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICovXG5BdHRyaWJ1dGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKVxue1xuICAgIHJldHVybiBuZXcgQXR0cmlidXRlKGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlKTtcbn07XG5cbnZhciBVSUQgPSAwO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4vKipcbiAqIEEgd3JhcHBlciBmb3IgZGF0YSBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGFuZCB1cGxvYWRlZCBieSBXZWJHTFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJ1ZmZlciA9IGZ1bmN0aW9uIEJ1ZmZlcihkYXRhLCBfc3RhdGljLCBpbmRleClcbntcbiAgICBpZiAoIF9zdGF0aWMgPT09IHZvaWQgMCApIF9zdGF0aWMgPSB0cnVlO1xuICAgIGlmICggaW5kZXggPT09IHZvaWQgMCApIGluZGV4ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSBpbiB0aGUgYnVmZmVyLCBhcyBhIHR5cGVkIGFycmF5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgbmV3IEZsb2F0MzJBcnJheSgxKTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgR0xCdWZmZXI+fVxuICAgICAqL1xuICAgIHRoaXMuX2dsQnVmZmVycyA9IHt9O1xuXG4gICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xuXG4gICAgdGhpcy5zdGF0aWMgPSBfc3RhdGljO1xuXG4gICAgdGhpcy5pZCA9IFVJRCsrO1xuXG4gICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUJ1ZmZlcicsIDIpO1xufTtcblxuLy8gVE9ETyBjb3VsZCBleHBsb3JlIGZsYWdnaW5nIG9ubHkgYSBwYXJ0aWFsIHVwbG9hZD9cbi8qKlxuICogZmxhZ3MgdGhpcyBidWZmZXIgYXMgcmVxdWlyaW5nIGFuIHVwbG9hZCB0byB0aGUgR1BVXG4gKiBAcGFyYW0ge0FycmF5QnVmZmVyfFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld30gW2RhdGFdIHRoZSBkYXRhIHRvIHVwZGF0ZSBpbiB0aGUgYnVmZmVyLlxuICovXG5CdWZmZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGF0YSlcbntcbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHRoaXMuZGF0YTtcbiAgICB0aGlzLl91cGRhdGVJRCsrO1xufTtcblxuLyoqXG4gKiBkaXNwb3NlcyBXZWJHTCByZXNvdXJjZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgZ2VvbWV0cnlcbiAqL1xuQnVmZmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxue1xuICAgIHRoaXMuZGlzcG9zZVJ1bm5lci5ydW4odGhpcywgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgYnVmZmVyXG4gKi9cbkJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgIHRoaXMuZGF0YSA9IG51bGw7XG59O1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBidWZmZXIgYmFzZWQgb24gYW4gYXJyYXkgb3IgVHlwZWRBcnJheVxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJWaWV3IHwgbnVtYmVyW119IGRhdGEgdGhlIFR5cGVkQXJyYXkgdGhhdCB0aGUgYnVmZmVyIHdpbGwgc3RvcmUuIElmIHRoaXMgaXMgYSByZWd1bGFyIEFycmF5IGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgRmxvYXQzMkFycmF5LlxuICogQHJldHVybiB7UElYSS5CdWZmZXJ9IEEgbmV3IEJ1ZmZlciBiYXNlZCBvbiB0aGUgZGF0YSBwcm92aWRlZC5cbiAqL1xuQnVmZmVyLmZyb20gPSBmdW5jdGlvbiBmcm9tIChkYXRhKVxue1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXkpXG4gICAge1xuICAgICAgICBkYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEJ1ZmZlcihkYXRhKTtcbn07XG5cbmZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpXG57XG4gICAgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ0ludDMyQXJyYXknO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMilcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQxNkFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSlcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPIG1hcCBvdXQgdGhlIHJlc3Qgb2YgdGhlIGFycmF5IGVsZW1lbnRzIVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG52YXIgbWFwID0ge1xuICAgIEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LFxuICAgIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSxcbiAgICBJbnQzMkFycmF5OiBJbnQzMkFycmF5LFxuICAgIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXksXG59O1xuXG5mdW5jdGlvbiBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcylcbntcbiAgICB2YXIgb3V0U2l6ZSA9IDA7XG4gICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgdmFyIHZpZXdzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5cy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHN0cmlkZSArPSBzaXplc1tpXTtcbiAgICAgICAgb3V0U2l6ZSArPSBhcnJheXNbaV0ubGVuZ3RoO1xuICAgIH1cblxuICAgIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIob3V0U2l6ZSAqIDQpO1xuXG4gICAgdmFyIG91dCA9IG51bGw7XG4gICAgdmFyIGxpdHRsZU9mZnNldCA9IDA7XG5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBhcnJheXMubGVuZ3RoOyBpJDErKylcbiAgICB7XG4gICAgICAgIHZhciBzaXplID0gc2l6ZXNbaSQxXTtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2kkMV07XG5cbiAgICAgICAgdmFyIHR5cGUgPSBnZXRCdWZmZXJUeXBlKGFycmF5KTtcblxuICAgICAgICBpZiAoIXZpZXdzW3R5cGVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyYXkubGVuZ3RoOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpbmRleFN0YXJ0ID0gKChqIC8gc2l6ZSB8IDApICogc3RyaWRlKSArIGxpdHRsZU9mZnNldDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGogJSBzaXplO1xuXG4gICAgICAgICAgICBvdXRbaW5kZXhTdGFydCArIGluZGV4XSA9IGFycmF5W2pdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbn1cblxudmFyIGJ5dGVTaXplTWFwID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG52YXIgVUlEJDEgPSAwO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG52YXIgbWFwJDEgPSB7XG4gICAgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LFxuICAgIEludDMyQXJyYXk6IEludDMyQXJyYXksXG4gICAgVWludDhBcnJheTogVWludDhBcnJheSxcbiAgICBVaW50MTZBcnJheTogVWludDE2QXJyYXksXG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogVGhlIEdlb21ldHJ5IHJlcHJlc2VudHMgYSBtb2RlbC4gSXQgY29uc2lzdHMgb2YgdHdvIGNvbXBvbmVudHM6XG4gKiAtIEdlb21ldHJ5U3R5bGUgLSBUaGUgc3RydWN0dXJlIG9mIHRoZSBtb2RlbCBzdWNoIGFzIHRoZSBhdHRyaWJ1dGVzIGxheW91dFxuICogLSBHZW9tZXRyeURhdGEgLSB0aGUgZGF0YSBvZiB0aGUgbW9kZWwgLSB0aGlzIGNvbnNpc3RzIG9mIGJ1ZmZlcnMuXG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogR2VvbWV0cnkgY2FuIGJlIGRlZmluZWQgd2l0aG91dCBwYXNzaW5nIGluIGEgc3R5bGUgb3IgZGF0YSBpZiByZXF1aXJlZCAodGhhdHMgaG93IEkgcHJlZmVyISlcbiAqXG4gKiBgYGBqc1xuICogbGV0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAqXG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIFswLCAwLCAxMDAsIDAsIDEwMCwgMTAwLCAwLCAxMDBdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgndXZzJywgWzAsMCwxLDAsMSwxLDAsMV0sMilcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pXG4gKlxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHZW9tZXRyeSA9IGZ1bmN0aW9uIEdlb21ldHJ5KGJ1ZmZlcnMsIGF0dHJpYnV0ZXMpXG57XG4gICAgaWYgKCBidWZmZXJzID09PSB2b2lkIDAgKSBidWZmZXJzID0gW107XG4gICAgaWYgKCBhdHRyaWJ1dGVzID09PSB2b2lkIDAgKSBhdHRyaWJ1dGVzID0ge307XG5cbiAgICB0aGlzLmJ1ZmZlcnMgPSBidWZmZXJzO1xuXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIFZBT3NcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuZ2xWZXJ0ZXhBcnJheU9iamVjdHMgPSB7fTtcblxuICAgIHRoaXMuaWQgPSBVSUQkMSsrO1xuXG4gICAgdGhpcy5pbnN0YW5jZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBpbnN0YW5jZXMgaW4gdGhpcyBnZW9tZXRyeSwgcGFzcyBpdCB0byBgR2VvbWV0cnlTeXN0ZW0uZHJhdygpYFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgdGhpcy5pbnN0YW5jZUNvdW50ID0gMTtcblxuICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VHZW9tZXRyeScsIDIpO1xuXG4gICAgLyoqXG4gICAgICogQ291bnQgb2YgZXhpc3RpbmcgKG5vdCBkZXN0cm95ZWQpIG1lc2hlcyB0aGF0IHJlZmVyZW5jZSB0aGlzIGdlb21ldHJ5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVmQ291bnQgPSAwO1xufTtcblxuLyoqXG4qXG4qIEFkZHMgYW4gYXR0cmlidXRlIHRvIHRoZSBnZW9tZXRyeVxuKlxuKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIChtYXRjaGluZyB1cCB0byBhIHNoYWRlcilcbiogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gW2J1ZmZlcl0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBhdHRyaWJ1dGUgLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4qIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4qIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4qIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydD0wXSBIb3cgZmFyIGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbipcbiogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5hZGRBdHRyaWJ1dGUgPSBmdW5jdGlvbiBhZGRBdHRyaWJ1dGUgKGlkLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKVxue1xuICAgICAgICBpZiAoIG5vcm1hbGl6ZWQgPT09IHZvaWQgMCApIG5vcm1hbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKCBpbnN0YW5jZSA9PT0gdm9pZCAwICkgaW5zdGFuY2UgPSBmYWxzZTtcblxuICAgIGlmICghYnVmZmVyKVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwYXNzIGEgYnVmZmVyIHdoZW4gY3JlYXRpbmcgYW4gYXR0cmlidXRlJyk7XG4gICAgfVxuXG4gICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBhIGJ1ZmZlciFcbiAgICBpZiAoIWJ1ZmZlci5kYXRhKVxuICAgIHtcbiAgICAgICAgLy8gaXRzIGFuIGFycmF5IVxuICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICB9XG5cbiAgICB2YXIgaWRzID0gaWQuc3BsaXQoJ3wnKTtcblxuICAgIGlmIChpZHMubGVuZ3RoID4gMSlcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZShpZHNbaV0sIGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgYnVmZmVySW5kZXggPSB0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpO1xuXG4gICAgaWYgKGJ1ZmZlckluZGV4ID09PSAtMSlcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgdGhpcy5hdHRyaWJ1dGVzW2lkXSA9IG5ldyBBdHRyaWJ1dGUoYnVmZmVySW5kZXgsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKTtcblxuICAgIC8vIGFzc3VtaW5nIHRoYXQgaWYgdGhlcmUgaXMgaW5zdGFuY2VkIGRhdGEgdGhlbiB0aGlzIHdpbGwgYmUgZHJhd24gd2l0aCBpbnN0YW5jaW5nIVxuICAgIHRoaXMuaW5zdGFuY2VkID0gdGhpcy5pbnN0YW5jZWQgfHwgaW5zdGFuY2U7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGF0dHJpYnV0ZVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBpZCAgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSByZXF1aXJlZFxuICogQHJldHVybiB7UElYSS5BdHRyaWJ1dGV9IHRoZSBhdHRyaWJ1dGUgcmVxdWVzdGVkLlxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24gZ2V0QXR0cmlidXRlIChpZClcbntcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2lkXTtcbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgcmVxdWVzdGVkIGJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBpZCAgdGhlIG5hbWUgb2YgdGhlIGJ1ZmZlciByZXF1aXJlZFxuICogQHJldHVybiB7UElYSS5CdWZmZXJ9IHRoZSBidWZmZXIgcmVxdWVzdGVkLlxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuZ2V0QnVmZmVyID0gZnVuY3Rpb24gZ2V0QnVmZmVyIChpZClcbntcbiAgICByZXR1cm4gdGhpcy5idWZmZXJzW3RoaXMuZ2V0QXR0cmlidXRlKGlkKS5idWZmZXJdO1xufTtcblxuLyoqXG4qXG4qIEFkZHMgYW4gaW5kZXggYnVmZmVyIHRvIHRoZSBnZW9tZXRyeVxuKiBUaGUgaW5kZXggYnVmZmVyIGNvbnRhaW5zIGludGVnZXJzLCB0aHJlZSBmb3IgZWFjaCB0cmlhbmdsZSBpbiB0aGUgZ2VvbWV0cnksIHdoaWNoIHJlZmVyZW5jZSB0aGUgdmFyaW91cyBhdHRyaWJ1dGUgYnVmZmVycyAocG9zaXRpb24sIGNvbG91ciwgVVYgY29vcmRpbmF0ZXMsIG90aGVyIFVWIGNvb3JkaW5hdGVzLCBub3JtYWwsIOKApikuIFRoZXJlIGlzIG9ubHkgT05FIGluZGV4IGJ1ZmZlci5cbipcbiogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gW2J1ZmZlcl0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBpbmRleCBidWZmZXIuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5hZGRJbmRleCA9IGZ1bmN0aW9uIGFkZEluZGV4IChidWZmZXIpXG57XG4gICAgaWYgKCFidWZmZXIuZGF0YSlcbiAgICB7XG4gICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICB9XG5cbiAgICBidWZmZXIuaW5kZXggPSB0cnVlO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG5cbiAgICBpZiAodGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKSA9PT0gLTEpXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSBpbmRleCBidWZmZXJcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGluZGV4IGJ1ZmZlci5cbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gZ2V0SW5kZXggKClcbntcbiAgICByZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcjtcbn07XG5cbi8qKlxuICogdGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgc3RydWN0dXJlIHNvIHRoYXQgYWxsIGN1cnJlbnQgYXR0cmlidXRlcyBiZWNvbWUgaW50ZXJsZWF2ZWQgaW50byBhIHNpbmdsZSBidWZmZXJcbiAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpZiB5b3VyIG1vZGVsIHJlbWFpbnMgc3RhdGljIGFzIGl0IG9mZmVycyBhIGxpdHRsZSBwZXJmb3JtYW5jZSBib29zdFxuICpcbiAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmludGVybGVhdmUgPSBmdW5jdGlvbiBpbnRlcmxlYXZlICgpXG57XG4gICAgLy8gYSBzaW1wbGUgY2hlY2sgdG8gc2VlIGlmIGJ1ZmZlcnMgYXJlIGFscmVhZHkgaW50ZXJsZWF2ZWQuLlxuICAgIGlmICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAxIHx8ICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAyICYmIHRoaXMuaW5kZXhCdWZmZXIpKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICAvLyBhc3N1bWUgYWxyZWFkeSB0aGF0IG5vIGJ1ZmZlcnMgYXJlIGludGVybGVhdmVkXG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHZhciBzaXplcyA9IFtdO1xuICAgIHZhciBpbnRlcmxlYXZlZEJ1ZmZlciA9IG5ldyBCdWZmZXIoKTtcbiAgICB2YXIgaTtcblxuICAgIGZvciAoaSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG4gICAge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuXG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgYXJyYXlzLnB1c2goYnVmZmVyLmRhdGEpO1xuXG4gICAgICAgIHNpemVzLnB1c2goKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuXG4gICAgICAgIGF0dHJpYnV0ZS5idWZmZXIgPSAwO1xuICAgIH1cblxuICAgIGludGVybGVhdmVkQnVmZmVyLmRhdGEgPSBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcyk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyc1tpXSAhPT0gdGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYnVmZmVycyA9IFtpbnRlcmxlYXZlZEJ1ZmZlcl07XG5cbiAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuR2VvbWV0cnkucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiBnZXRTaXplICgpXG57XG4gICAgZm9yICh2YXIgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG4gICAge1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5idWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuXG4gICAgICAgIHJldHVybiBidWZmZXIuZGF0YS5sZW5ndGggLyAoKGF0dHJpYnV0ZS5zdHJpZGUgLyA0KSB8fCBhdHRyaWJ1dGUuc2l6ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbntcbiAgICB0aGlzLmRpc3Bvc2VSdW5uZXIucnVuKHRoaXMsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGdlb21ldHJ5LlxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmRpc3Bvc2UoKTtcblxuICAgIHRoaXMuYnVmZmVycyA9IG51bGw7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xufTtcblxuLyoqXG4gKiByZXR1cm5zIGEgY2xvbmUgb2YgdGhlIGdlb21ldHJ5XG4gKlxuICogQHJldHVybnMge1BJWEkuR2VvbWV0cnl9IGEgbmV3IGNsb25lIG9mIHRoaXMgZ2VvbWV0cnlcbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgZ2VvbWV0cnkuYnVmZmVyc1tpXSA9IG5ldyBCdWZmZXIodGhpcy5idWZmZXJzW2ldLmRhdGEuc2xpY2UoKSk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSQxIGluIHRoaXMuYXR0cmlidXRlcylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWIgPSB0aGlzLmF0dHJpYnV0ZXNbaSQxXTtcblxuICAgICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzW2kkMV0gPSBuZXcgQXR0cmlidXRlKFxuICAgICAgICAgICAgYXR0cmliLmJ1ZmZlcixcbiAgICAgICAgICAgIGF0dHJpYi5zaXplLFxuICAgICAgICAgICAgYXR0cmliLm5vcm1hbGl6ZWQsXG4gICAgICAgICAgICBhdHRyaWIudHlwZSxcbiAgICAgICAgICAgIGF0dHJpYi5zdHJpZGUsXG4gICAgICAgICAgICBhdHRyaWIuc3RhcnQsXG4gICAgICAgICAgICBhdHRyaWIuaW5zdGFuY2VcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1t0aGlzLmJ1ZmZlcnMuaW5kZXhPZih0aGlzLmluZGV4QnVmZmVyKV07XG4gICAgICAgIGdlb21ldHJ5LmluZGV4QnVmZmVyLmluZGV4ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2VvbWV0cnk7XG59O1xuXG4vKipcbiAqIG1lcmdlcyBhbiBhcnJheSBvZiBnZW9tZXRyaWVzIGludG8gYSBuZXcgc2luZ2xlIG9uZVxuICogZ2VvbWV0cnkgYXR0cmlidXRlIHN0eWxlcyBtdXN0IG1hdGNoIGZvciB0aGlzIG9wZXJhdGlvbiB0byB3b3JrXG4gKlxuICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5W119IGdlb21ldHJpZXMgYXJyYXkgb2YgZ2VvbWV0cmllcyB0byBtZXJnZVxuICogQHJldHVybnMge1BJWEkuR2VvbWV0cnl9IHNoaW55IG5ldyBnZW9tZXRyeSFcbiAqL1xuR2VvbWV0cnkubWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSAoZ2VvbWV0cmllcylcbntcbiAgICAvLyB0b2RvIGFkZCBhIGdlb21ldHJ5IGNoZWNrIVxuICAgIC8vIGFsc28gYSBzaXplIGNoZWNrLi4gY2FudCBiZSB0b28gYmlnIV1cblxuICAgIHZhciBnZW9tZXRyeU91dCA9IG5ldyBHZW9tZXRyeSgpO1xuXG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHZhciBzaXplcyA9IFtdO1xuICAgIHZhciBvZmZzZXRzID0gW107XG5cbiAgICB2YXIgZ2VvbWV0cnk7XG5cbiAgICAvLyBwYXNzIG9uZS4uIGdldCBzaXplcy4uXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGorKylcbiAgICAgICAge1xuICAgICAgICAgICAgc2l6ZXNbal0gPSBzaXplc1tqXSB8fCAwO1xuICAgICAgICAgICAgc2l6ZXNbal0gKz0gZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIG9mZnNldHNbal0gPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYnVpbGQgdGhlIGNvcnJlY3Qgc2l6ZSBhcnJheXMuLlxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpJDErKylcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gdHlwZXMhXG4gICAgICAgIGFycmF5c1tpJDFdID0gbmV3IG1hcCQxW2dldEJ1ZmZlclR5cGUoZ2VvbWV0cnkuYnVmZmVyc1tpJDFdLmRhdGEpXShzaXplc1tpJDFdKTtcbiAgICAgICAgZ2VvbWV0cnlPdXQuYnVmZmVyc1tpJDFdID0gbmV3IEJ1ZmZlcihhcnJheXNbaSQxXSk7XG4gICAgfVxuXG4gICAgLy8gcGFzcyB0byBzZXQgZGF0YS4uXG4gICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkkMisrKVxuICAgIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2kkMl07XG5cbiAgICAgICAgZm9yICh2YXIgaiQxID0gMDsgaiQxIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGokMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBhcnJheXNbaiQxXS5zZXQoZ2VvbWV0cnkuYnVmZmVyc1tqJDFdLmRhdGEsIG9mZnNldHNbaiQxXSk7XG4gICAgICAgICAgICBvZmZzZXRzW2okMV0gKz0gZ2VvbWV0cnkuYnVmZmVyc1tqJDFdLmRhdGEubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2VvbWV0cnlPdXQuYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG5cbiAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5T3V0LmJ1ZmZlcnNbZ2VvbWV0cnkuYnVmZmVycy5pbmRleE9mKGdlb21ldHJ5LmluZGV4QnVmZmVyKV07XG4gICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLmluZGV4ID0gdHJ1ZTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgICAgIHZhciBvZmZzZXQyID0gMDtcbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4VG9Db3VudCA9IDA7XG5cbiAgICAgICAgLy8gZ2V0IGEgYnVmZmVyXG4gICAgICAgIGZvciAodmFyIGkkMyA9IDA7IGkkMyA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpJDMrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmJ1ZmZlcnNbaSQzXSAhPT0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVySW5kZXhUb0NvdW50ID0gaSQzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgc3RyaWRlIG9mIG9uZSBidWZmZXIuLlxuICAgICAgICBmb3IgKHZhciBpJDQgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbaSQ0XTtcblxuICAgICAgICAgICAgaWYgKChhdHRyaWJ1dGUuYnVmZmVyIHwgMCkgPT09IGJ1ZmZlckluZGV4VG9Db3VudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpZGUgKz0gKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRpbWUgdG8gb2ZmIHNldCBhbGwgaW5kZXhlcy4uXG4gICAgICAgIGZvciAodmFyIGkkNSA9IDA7IGkkNSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpJDUrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyRGF0YSA9IGdlb21ldHJpZXNbaSQ1XS5pbmRleEJ1ZmZlci5kYXRhO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqJDIgPSAwOyBqJDIgPCBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoOyBqJDIrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci5kYXRhW2okMiArIG9mZnNldDJdICs9IG9mZnNldDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2Zmc2V0ICs9IGdlb21ldHJ5LmJ1ZmZlcnNbYnVmZmVySW5kZXhUb0NvdW50XS5kYXRhLmxlbmd0aCAvIChzdHJpZGUpO1xuICAgICAgICAgICAgb2Zmc2V0MiArPSBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdlb21ldHJ5T3V0O1xufTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFF1YWQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChHZW9tZXRyeSkge1xuICAgIGZ1bmN0aW9uIFF1YWQoKVxuICAgIHtcbiAgICAgICAgR2VvbWV0cnkuY2FsbCh0aGlzKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgW1xuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgMCwgMSBdKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAzLCAyXSk7XG4gICAgfVxuXG4gICAgaWYgKCBHZW9tZXRyeSApIFF1YWQuX19wcm90b19fID0gR2VvbWV0cnk7XG4gICAgUXVhZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBHZW9tZXRyeSAmJiBHZW9tZXRyeS5wcm90b3R5cGUgKTtcbiAgICBRdWFkLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFF1YWQ7XG5cbiAgICByZXR1cm4gUXVhZDtcbn0oR2VvbWV0cnkpKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZCB3aXRoIHV2cyBsaWtlIGluIHY0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG52YXIgUXVhZFV2ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBRdWFkVXYoKVxuICAgIHtcbiAgICAgICAgR2VvbWV0cnkuY2FsbCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdmVydGljZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLTEsIC0xLFxuICAgICAgICAgICAgMSwgLTEsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgLTEsIDEgXSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVdnMgb2YgdGhlIHF1YWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIDAsIDAsXG4gICAgICAgICAgICAxLCAwLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIDAsIDEgXSk7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMudmVydGljZXMpO1xuICAgICAgICB0aGlzLnV2QnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnV2cyk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHRoaXMudmVydGV4QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHRoaXMudXZCdWZmZXIpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbiAgICB9XG5cbiAgICBpZiAoIEdlb21ldHJ5ICkgUXVhZFV2Ll9fcHJvdG9fXyA9IEdlb21ldHJ5O1xuICAgIFF1YWRVdi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBHZW9tZXRyeSAmJiBHZW9tZXRyeS5wcm90b3R5cGUgKTtcbiAgICBRdWFkVXYucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUXVhZFV2O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB0d28gUmVjdGFuZ2xlIHRvIHRoZSBxdWFkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gdGFyZ2V0VGV4dHVyZUZyYW1lIC0gdGhlIGZpcnN0IHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSB0aGUgc2Vjb25kIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuUXVhZH0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUXVhZFV2LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKHRhcmdldFRleHR1cmVGcmFtZSwgZGVzdGluYXRpb25GcmFtZSlcbiAgICB7XG4gICAgICAgIHZhciB4ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS54IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgeSA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueSAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy51dnNbMF0gPSB4O1xuICAgICAgICB0aGlzLnV2c1sxXSA9IHk7XG5cbiAgICAgICAgdGhpcy51dnNbMl0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1szXSA9IHk7XG5cbiAgICAgICAgdGhpcy51dnNbNF0gPSB4ICsgKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGgpO1xuICAgICAgICB0aGlzLnV2c1s1XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnV2c1s2XSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzddID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgIHggPSBkZXN0aW5hdGlvbkZyYW1lLng7XG4gICAgICAgIHkgPSBkZXN0aW5hdGlvbkZyYW1lLnk7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1swXSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbMV0gPSB5O1xuXG4gICAgICAgIHRoaXMudmVydGljZXNbMl0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1szXSA9IHk7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s0XSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzVdID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudmVydGljZXNbNl0gPSB4O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzddID0geSArIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBsZWdhY3kgdXBsb2FkIG1ldGhvZCwganVzdCBtYXJrcyBidWZmZXJzIGRpcnR5XG4gICAgICogQHJldHVybnMge1BJWEkuUXVhZFV2fSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBRdWFkVXYucHJvdG90eXBlLmludmFsaWRhdGUgPSBmdW5jdGlvbiBpbnZhbGlkYXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5fdXBkYXRlSUQrKztcbiAgICAgICAgdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgcmV0dXJuIFF1YWRVdjtcbn0oR2VvbWV0cnkpKTtcblxudmFyIFVJRCQyID0gMDtcblxuLyoqXG4gKiBVbmlmb3JtIGdyb3VwIGhvbGRzIHVuaWZvcm0gbWFwIGFuZCBzb21lIElEJ3MgZm9yIHdvcmtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBVbmlmb3JtR3JvdXAgPSBmdW5jdGlvbiBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMpXG57XG4gICAgLyoqXG4gICAgICogdW5pZm9ybSB2YWx1ZXNcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy51bmlmb3JtcyA9IHVuaWZvcm1zO1xuXG4gICAgLyoqXG4gICAgICogSXRzIGEgZ3JvdXAgYW5kIG5vdCBhIHNpbmdsZSB1bmlmb3Jtc1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIHRoaXMuZ3JvdXAgPSB0cnVlO1xuXG4gICAgLy8gbGV0cyBnZW5lcmF0ZSB0aGlzIHdoZW4gdGhlIHNoYWRlciA/XG4gICAgdGhpcy5zeW5jVW5pZm9ybXMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIGRpcnR5IHZlcnNpb25cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGlydHlJZCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiB1bmlxdWUgaWRcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaWQgPSBVSUQkMisrO1xuXG4gICAgLyoqXG4gICAgICogVW5pZm9ybXMgd29udCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRpYyA9ICEhX3N0YXRpYztcbn07XG5cblVuaWZvcm1Hcm91cC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpXG57XG4gICAgdGhpcy5kaXJ0eUlkKys7XG59O1xuXG5Vbmlmb3JtR3JvdXAucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAobmFtZSwgdW5pZm9ybXMsIF9zdGF0aWMpXG57XG4gICAgdGhpcy51bmlmb3Jtc1tuYW1lXSA9IG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMpO1xufTtcblxuVW5pZm9ybUdyb3VwLmZyb20gPSBmdW5jdGlvbiBmcm9tICh1bmlmb3JtcywgX3N0YXRpYylcbntcbiAgICByZXR1cm4gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG59O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmaWx0ZXIgc3RhdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIEZpbHRlclN0YXRlID0gZnVuY3Rpb24gRmlsdGVyU3RhdGUoKVxue1xuICAgIHRoaXMucmVuZGVyVGV4dHVyZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUYXJnZXQgb2YgdGhlIGZpbHRlcnNcbiAgICAgKiBXZSBzdG9yZSBmb3IgY2FzZSB3aGVuIGN1c3RvbSBmaWx0ZXIgd2FudHMgdG8ga25vdyB0aGUgZWxlbWVudCBpdCB3YXMgYXBwbGllZCBvblxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENvbXBhdGliaWxpdHkgd2l0aCBQaXhpSlMgdjQgZmlsdGVyc1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubGVnYWN5ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHV0aW9uIG9mIGZpbHRlcnNcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgIC8vIG5leHQgdGhyZWUgZmllbGRzIGFyZSBjcmVhdGVkIG9ubHkgZm9yIHJvb3RcbiAgICAvLyByZS1hc3NpZ25lZCBmb3IgZXZlcnl0aGluZyBlbHNlXG5cbiAgICAvKipcbiAgICAgKiBTb3VyY2UgZnJhbWVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAvKipcbiAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBmaWx0ZXJzXG4gICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJbXX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZmlsdGVycyA9IFtdO1xufTtcblxuLyoqXG4gKiBjbGVhcnMgdGhlIHN0YXRlXG4gKiBAcHJpdmF0ZVxuICovXG5GaWx0ZXJTdGF0ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKVxue1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyVGV4dHVyZSA9IG51bGw7XG59O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgZmlsdGVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbnZhciBGaWx0ZXJTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgZmlsdGVycyBmb3IgdGhlIEZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjayA9IFt7fV07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0b3JlcyBhIGJ1bmNoIG9mIFBPMiB0ZXh0dXJlcyB1c2VkIGZvciBmaWx0ZXJpbmdcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbCA9IG5ldyBSZW5kZXJUZXh0dXJlUG9vbCgpO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuc2V0U2NyZWVuU2l6ZShyZW5kZXJlci52aWV3KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYSBwb29sIGZvciBzdG9yaW5nIGZpbHRlciBzdGF0ZXMsIHNhdmUgdXMgY3JlYXRpbmcgbmV3IG9uZXMgZWFjaCB0aWNrXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB2ZXJ5IHNpbXBsZSBnZW9tZXRyeSB1c2VkIHdoZW4gZHJhd2luZyBhIGZpbHRlciBlZmZlY3QgdG8gdGhlIHNjcmVlblxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1YWQgPSBuZXcgUXVhZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBRdWFkIFVWc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWRVdn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVhZFV2ID0gbmV3IFF1YWRVdigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZW1wb3JhcnkgcmVjdCBmb3IgbWF0aHNcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZlIHN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB1bmlmb3JtIGdyb3VwIGlzIGF0dGFjaGVkIHRvIGZpbHRlciB1bmlmb3JtcyB3aGVuIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SZWN0YW5nbGV9IG91dHB1dEZyYW1lXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFNpemVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0UGl4ZWxcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0Q2xhbXBcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHJlc29sdXRpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGZpbHRlckFyZWFcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hZDMyQXJyYXl9IGZpbHRlckNsYW1wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgICBvdXRwdXRGcmFtZTogdGhpcy50ZW1wUmVjdCxcbiAgICAgICAgICAgIGlucHV0U2l6ZTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0UGl4ZWw6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBpbnB1dENsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcblxuICAgICAgICAgICAgLy8gbGVnYWN5IHZhcmlhYmxlc1xuICAgICAgICAgICAgZmlsdGVyQXJlYTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGZpbHRlckNsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICB0aGlzLl9waXhlbHNXaWR0aCA9IHJlbmRlcmVyLnZpZXcud2lkdGg7XG4gICAgICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHJlbmRlcmVyLnZpZXcuaGVpZ2h0O1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgRmlsdGVyU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRmlsdGVyU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIG5ldyBmaWx0ZXIgdG8gdGhlIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IG9mIHRoZSBmaWx0ZXIgdG8gcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJbXX0gZmlsdGVycyAtIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2ggKHRhcmdldCwgZmlsdGVycylcbiAgICB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBmaWx0ZXJTdGFjayA9IHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlUG9vbC5wb3AoKSB8fCBuZXcgRmlsdGVyU3RhdGUoKTtcblxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgICAgIHZhciBhdXRvRml0ID0gZmlsdGVyc1swXS5hdXRvRml0O1xuICAgICAgICB2YXIgbGVnYWN5ID0gZmlsdGVyc1swXS5sZWdhY3k7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyID0gIGZpbHRlcnNbaV07XG5cbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBsb3dlc3QgcmVzb2x1dGlvbi4uXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gTWF0aC5taW4ocmVzb2x1dGlvbiwgZmlsdGVyLnJlc29sdXRpb24pO1xuICAgICAgICAgICAgLy8gYW5kIHRoZSBsYXJnZXN0IGFtb3VudCBvZiBwYWRkaW5nIVxuICAgICAgICAgICAgcGFkZGluZyA9IE1hdGgubWF4KHBhZGRpbmcsIGZpbHRlci5wYWRkaW5nKTtcbiAgICAgICAgICAgIC8vIG9ubHkgYXV0byBmaXQgaWYgYWxsIGZpbHRlcnMgYXJlIGF1dG9maXRcbiAgICAgICAgICAgIGF1dG9GaXQgPSBhdXRvRml0IHx8IGZpbHRlci5hdXRvRml0O1xuXG4gICAgICAgICAgICBsZWdhY3kgPSBsZWdhY3kgfHwgZmlsdGVyLmxlZ2FjeTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXJTdGFjay5sZW5ndGggPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrWzBdLnJlbmRlclRleHR1cmUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmN1cnJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBmaWx0ZXJTdGFjay5wdXNoKHN0YXRlKTtcblxuICAgICAgICBzdGF0ZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgICAgICBzdGF0ZS5sZWdhY3kgPSBsZWdhY3k7XG5cbiAgICAgICAgc3RhdGUudGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmNvcHlGcm9tKHRhcmdldC5maWx0ZXJBcmVhIHx8IHRhcmdldC5nZXRCb3VuZHModHJ1ZSkpO1xuXG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLnBhZChwYWRkaW5nKTtcbiAgICAgICAgaWYgKGF1dG9GaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lLmZpdCh0aGlzLnJlbmRlcmVyLnJlbmRlclRleHR1cmUuc291cmNlRnJhbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcm91bmQgdG8gd2hvbGUgbnVtYmVyIGJhc2VkIG9uIHJlc29sdXRpb25cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY2VpbChyZXNvbHV0aW9uKTtcblxuICAgICAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCwgc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICAgICAgc3RhdGUuZmlsdGVycyA9IGZpbHRlcnM7XG5cbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnJlbmRlclRleHR1cmUud2lkdGg7XG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc3RhdGUucmVuZGVyVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChzdGF0ZS5yZW5kZXJUZXh0dXJlLCBzdGF0ZS5zb3VyY2VGcmFtZSk7Ly8gLywgc3RhdGUuZGVzdGluYXRpb25GcmFtZSk7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9wcyBvZmYgdGhlIGZpbHRlciBhbmQgYXBwbGllcyBpdC5cbiAgICAgKlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wICgpXG4gICAge1xuICAgICAgICB2YXIgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgdmFyIHN0YXRlID0gZmlsdGVyU3RhY2sucG9wKCk7XG4gICAgICAgIHZhciBmaWx0ZXJzID0gc3RhdGUuZmlsdGVycztcblxuICAgICAgICB0aGlzLmFjdGl2ZVN0YXRlID0gc3RhdGU7XG5cbiAgICAgICAgdmFyIGdsb2JhbFVuaWZvcm1zID0gdGhpcy5nbG9iYWxVbmlmb3Jtcy51bmlmb3JtcztcblxuICAgICAgICBnbG9iYWxVbmlmb3Jtcy5vdXRwdXRGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICBnbG9iYWxVbmlmb3Jtcy5yZXNvbHV0aW9uID0gc3RhdGUucmVzb2x1dGlvbjtcblxuICAgICAgICB2YXIgaW5wdXRTaXplID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRTaXplO1xuICAgICAgICB2YXIgaW5wdXRQaXhlbCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0UGl4ZWw7XG4gICAgICAgIHZhciBpbnB1dENsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcblxuICAgICAgICBpbnB1dFNpemVbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICBpbnB1dFNpemVbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgaW5wdXRTaXplWzJdID0gMS4wIC8gaW5wdXRTaXplWzBdO1xuICAgICAgICBpbnB1dFNpemVbM10gPSAxLjAgLyBpbnB1dFNpemVbMV07XG5cbiAgICAgICAgaW5wdXRQaXhlbFswXSA9IGlucHV0U2l6ZVswXSAqIHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIGlucHV0UGl4ZWxbMV0gPSBpbnB1dFNpemVbMV0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzJdID0gMS4wIC8gaW5wdXRQaXhlbFswXTtcbiAgICAgICAgaW5wdXRQaXhlbFszXSA9IDEuMCAvIGlucHV0UGl4ZWxbMV07XG5cbiAgICAgICAgaW5wdXRDbGFtcFswXSA9IDAuNSAqIGlucHV0UGl4ZWxbMl07XG4gICAgICAgIGlucHV0Q2xhbXBbMV0gPSAwLjUgKiBpbnB1dFBpeGVsWzNdO1xuICAgICAgICBpbnB1dENsYW1wWzJdID0gKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoICogaW5wdXRTaXplWzJdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzJdKTtcbiAgICAgICAgaW5wdXRDbGFtcFszXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgKiBpbnB1dFNpemVbM10pIC0gKDAuNSAqIGlucHV0UGl4ZWxbM10pO1xuXG4gICAgICAgIC8vIG9ubHkgdXBkYXRlIHRoZSByZWN0IGlmIGl0cyBsZWdhY3kuLlxuICAgICAgICBpZiAoc3RhdGUubGVnYWN5KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZmlsdGVyQXJlYSA9IGdsb2JhbFVuaWZvcm1zLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgIGZpbHRlckFyZWFbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsxXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVsyXSA9IHN0YXRlLnNvdXJjZUZyYW1lLng7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzNdID0gc3RhdGUuc291cmNlRnJhbWUueTtcblxuICAgICAgICAgICAgZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQ2xhbXAgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dENsYW1wO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbG9iYWxVbmlmb3Jtcy51cGRhdGUoKTtcblxuICAgICAgICB2YXIgbGFzdFN0YXRlID0gZmlsdGVyU3RhY2tbZmlsdGVyU3RhY2subGVuZ3RoIC0gMV07XG5cbiAgICAgICAgaWYgKGZpbHRlcnMubGVuZ3RoID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBmaWx0ZXJzWzBdLmFwcGx5KHRoaXMsIHN0YXRlLnJlbmRlclRleHR1cmUsIGxhc3RTdGF0ZS5yZW5kZXJUZXh0dXJlLCBmYWxzZSwgc3RhdGUpO1xuXG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUoc3RhdGUucmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZmxpcCA9IHN0YXRlLnJlbmRlclRleHR1cmU7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUoXG4gICAgICAgICAgICAgICAgZmxpcC53aWR0aCxcbiAgICAgICAgICAgICAgICBmbGlwLmhlaWdodCxcbiAgICAgICAgICAgICAgICBzdGF0ZS5yZXNvbHV0aW9uXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBmbG9wLmZpbHRlckZyYW1lID0gZmxpcC5maWx0ZXJGcmFtZTtcblxuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGggLSAxOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBmbG9wLCB0cnVlLCBzdGF0ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdCA9IGZsaXA7XG5cbiAgICAgICAgICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgZmFsc2UsIHN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsaXApO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wucHVzaChzdGF0ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5hcHBseUZpbHRlciA9IGZ1bmN0aW9uIGFwcGx5RmlsdGVyIChmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQob3V0cHV0LCBvdXRwdXQgPyBvdXRwdXQuZmlsdGVyRnJhbWUgOiBudWxsKTtcblxuICAgICAgICBpZiAoY2xlYXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgICAgIC8vIGdsLmVuYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHRoZSB1bmlmb3Jtcy4uXG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy51U2FtcGxlciA9IGlucHV0O1xuICAgICAgICBmaWx0ZXIudW5pZm9ybXMuZmlsdGVyR2xvYmFscyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXM7XG5cbiAgICAgICAgLy8gVE9ETyBtYWtlIGl0IHNvIHRoYXQgdGhlIG9yZGVyIG9mIHRoaXMgZG9lcyBub3QgbWF0dGVyLi5cbiAgICAgICAgLy8gYmVjYXVzZSBpdCBkb2VzIGF0IHRoZSBtb21lbnQgY29zIG9mIGdsb2JhbCB1bmlmb3Jtcy5cbiAgICAgICAgLy8gdGhleSBuZWVkIHRvIGdldCByZXN5bmNlZFxuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldChmaWx0ZXIuc3RhdGUpO1xuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChmaWx0ZXIpO1xuXG4gICAgICAgIGlmIChmaWx0ZXIubGVnYWN5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnF1YWRVdi5tYXAoaW5wdXQuX2ZyYW1lLCBpbnB1dC5maWx0ZXJGcmFtZSk7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkVXYpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFUyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZCk7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVfU1RSSVApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgICAqXG4gICAgICogVXNlIGBvdXRwdXRNYXRyaXggKiB2VGV4dHVyZUNvb3JkYCBpbiB0aGUgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB0byBtYXAgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuY2FsY3VsYXRlU3ByaXRlTWF0cml4ID0gZnVuY3Rpb24gY2FsY3VsYXRlU3ByaXRlTWF0cml4IChvdXRwdXRNYXRyaXgsIHNwcml0ZSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzLmFjdGl2ZVN0YXRlO1xuICAgICAgICB2YXIgc291cmNlRnJhbWUgPSByZWYuc291cmNlRnJhbWU7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gcmVmLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgIHZhciByZWYkMSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgdmFyIG9yaWcgPSByZWYkMS5vcmlnO1xuICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LnNldChkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCAwLCAwLFxuICAgICAgICAgICAgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQsIHNvdXJjZUZyYW1lLngsIHNvdXJjZUZyYW1lLnkpO1xuICAgICAgICB2YXIgd29ybGRUcmFuc2Zvcm0gPSBzcHJpdGUud29ybGRUcmFuc2Zvcm0uY29weVRvKE1hdHJpeC5URU1QX01BVFJJWCk7XG5cbiAgICAgICAgd29ybGRUcmFuc2Zvcm0uaW52ZXJ0KCk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKDEuMCAvIG9yaWcud2lkdGgsIDEuMCAvIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzcHJpdGUuYW5jaG9yLngsIHNwcml0ZS5hbmNob3IueSk7XG5cbiAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBGaWx0ZXIgU3lzdGVtLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIC8vIFRob3NlIHRleHR1cmVzIGhhcyB0byBiZSBkZXN0cm95ZWQgYnkgUmVuZGVyVGV4dHVyZVN5c3RlbSBvciBGcmFtZWJ1ZmZlclN5c3RlbVxuICAgICAgICB0aGlzLnRleHR1cmVQb29sLmNsZWFyKGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIFBvd2VyLW9mLVR3byByZW5kZXIgdGV4dHVyZSBvciBmdWxsU2NyZWVuIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2lkdGggLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbkhlaWdodCAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUgaW4gcmVhbCBwaXhlbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gb2YgdGhlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUgKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICBpZiAoIHJlc29sdXRpb24gPT09IHZvaWQgMCApIHJlc29sdXRpb24gPSAxO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVQb29sLmdldE9wdGltYWxUZXh0dXJlKG1pbldpZHRoLCBtaW5IZWlnaHQsIHJlc29sdXRpb24pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGV4dHJhIHJlbmRlciB0ZXh0dXJlIHRvIHVzZSBpbnNpZGUgY3VycmVudCBmaWx0ZXJcbiAgICAgKiBUbyBiZSBjb21wbGlhbnQgd2l0aCBvbGRlciBmaWx0ZXJzLCB5b3UgY2FuIHVzZSBwYXJhbXMgaW4gYW55IG9yZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW2lucHV0XSByZW5kZXJUZXh0dXJlIGZyb20gd2hpY2ggc2l6ZSBhbmQgcmVzb2x1dGlvbiB3aWxsIGJlIGNvcGllZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gb3ZlcnJpZGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gZ2V0RmlsdGVyVGV4dHVyZSAoaW5wdXQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHN3YXAgPSBpbnB1dDtcblxuICAgICAgICAgICAgaW5wdXQgPSByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHN3YXA7XG4gICAgICAgIH1cblxuICAgICAgICBpbnB1dCA9IGlucHV0IHx8IHRoaXMuYWN0aXZlU3RhdGUucmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB2YXIgZmlsdGVyVGV4dHVyZSA9IHRoaXMudGV4dHVyZVBvb2wuZ2V0T3B0aW1hbFRleHR1cmUoaW5wdXQud2lkdGgsIGlucHV0LmhlaWdodCwgcmVzb2x1dGlvbiB8fCBpbnB1dC5yZXNvbHV0aW9uKTtcblxuICAgICAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gaW5wdXQuZmlsdGVyRnJhbWU7XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmUgLSBUaGUgcmVuZGVyVGFyZ2V0IHRvIGZyZWVcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnJldHVybkZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiByZXR1cm5GaWx0ZXJUZXh0dXJlIChyZW5kZXJUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5lbXB0eVBvb2wgPSBmdW5jdGlvbiBlbXB0eVBvb2wgKClcbiAgICB7XG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wuY2xlYXIodHJ1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNhbGxzIGB0ZXh0dXJlUG9vbC5yZXNpemUoKWAsIGFmZmVjdHMgZnVsbFNjcmVlbiByZW5kZXJUZXh0dXJlc1xuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICgpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sLnNldFNjcmVlblNpemUodGhpcy5yZW5kZXJlci52aWV3KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEZpbHRlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQmFzZSBmb3IgYSBjb21tb24gb2JqZWN0IHJlbmRlcmVyIHRoYXQgY2FuIGJlIHVzZWQgYXMgYVxuICogc3lzdGVtIHJlbmRlcmVyIHBsdWdpbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgT2JqZWN0UmVuZGVyZXIgPSBmdW5jdGlvbiBPYmplY3RSZW5kZXJlcihyZW5kZXJlcilcbntcbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xufTtcblxuLyoqXG4gKiBTdHViIG1ldGhvZCB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIGVtcHR5IHRoZSBjdXJyZW50XG4gKiBiYXRjaCBieSByZW5kZXJpbmcgb2JqZWN0cyBub3cuXG4gKi9cbk9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoICgpXG57XG4gICAgLy8gZmx1c2ghXG59O1xuXG4vKipcbiAqIEdlbmVyaWMgZGVzdHJ1Y3Rpb24gbWV0aG9kIHRoYXQgZnJlZXMgYWxsIHJlc291cmNlcy4gVGhpc1xuICogc2hvdWxkIGJlIGNhbGxlZCBieSBzdWJjbGFzc2VzLlxuICovXG5PYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbn07XG5cbi8qKlxuICogU3R1YiBtZXRob2QgdGhhdCBpbml0aWFsaXplcyBhbnkgc3RhdGUgcmVxdWlyZWQgYmVmb3JlXG4gKiByZW5kZXJpbmcgc3RhcnRzLiBJdCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYHByZXJlbmRlcmBcbiAqIHNpZ25hbCwgd2hpY2ggb2NjdXJzIGV2ZXJ5IGZyYW1lLCBpbiB0aGF0IGl0IGlzIGNhbGxlZFxuICogd2hlbmV2ZXIgYW4gb2JqZWN0IHJlcXVlc3RzIF90aGlzXyByZW5kZXJlciBzcGVjaWZpY2FsbHkuXG4gKi9cbk9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0ICgpXG57XG4gICAgLy8gc2V0IHRoZSBzaGFkZXIuLlxufTtcblxuLyoqXG4gKiBTdG9wcyB0aGUgcmVuZGVyZXIuIEl0IHNob3VsZCBmcmVlIHVwIGFueSBzdGF0ZSBhbmRcbiAqIGJlY29tZSBkb3JtYW50LlxuICovXG5PYmplY3RSZW5kZXJlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AgKClcbntcbiAgICB0aGlzLmZsdXNoKCk7XG59O1xuXG4vKipcbiAqIEtlZXBzIHRoZSBvYmplY3QgdG8gcmVuZGVyLiBJdCBkb2Vzbid0IGhhdmUgdG8gYmVcbiAqIHJlbmRlcmVkIGltbWVkaWF0ZWx5LlxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIHJlbmRlci5cbiAqL1xuT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAob2JqZWN0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG57XG4gICAgLy8gcmVuZGVyIHRoZSBvYmplY3Rcbn07XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGJhdGNoaW5nLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIEJhdGNoU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gQmF0Y2hTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGVtcHR5IHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9iamVjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbXB0eVJlbmRlcmVyID0gbmV3IE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnRseSBhY3RpdmUgT2JqZWN0UmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IHRoaXMuZW1wdHlSZW5kZXJlcjtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIEJhdGNoU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBCYXRjaFN5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhdGNoU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCByZW5kZXJlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk9iamVjdFJlbmRlcmVyfSBvYmplY3RSZW5kZXJlciAtIFRoZSBvYmplY3QgcmVuZGVyZXIgdG8gdXNlLlxuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5zZXRPYmplY3RSZW5kZXJlciA9IGZ1bmN0aW9uIHNldE9iamVjdFJlbmRlcmVyIChvYmplY3RSZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZW5kZXJlciA9PT0gb2JqZWN0UmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBvYmplY3RSZW5kZXJlcjtcblxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgaWYgeW91IHdpc2ggdG8gZG8gc29tZSBjdXN0b20gcmVuZGVyaW5nXG4gICAgICogSXQgd2lsbCBiYXNpY2FsbHkgcmVuZGVyIGFueXRoaW5nIHRoYXQgbWF5IGJlIGJhdGNoZWQgdXAgc3VjaCBhcyBzcHJpdGVzXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gZmx1c2ggKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHN5c3RlbSB0byBhbiBlbXB0eSByZW5kZXJlclxuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXRjaFN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogVGhlIG1heGltdW0gc3VwcG9ydCBmb3IgdXNpbmcgV2ViR0wuIElmIGEgZGV2aWNlIGRvZXMgbm90XG4gKiBzdXBwb3J0IFdlYkdMIHZlcnNpb24sIGZvciBpbnN0YW5jZSBXZWJHTCAyLCBpdCB3aWxsIHN0aWxsXG4gKiBhdHRlbXB0IHRvIGZhbGxiYWNrIHN1cHBvcnQgdG8gV2ViR0wgMS4gSWYgeW91IHdhbnQgdG9cbiAqIGV4cGxpY2l0bHkgcmVtb3ZlIGZlYXR1cmUgc3VwcG9ydCB0byB0YXJnZXQgYSBtb3JlIHN0YWJsZVxuICogYmFzZWxpbmUsIHByZWZlciBhIGxvd2VyIGVudmlyb25tZW50LlxuICpcbiAqIER1ZSB0byB7QGxpbmsgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTM0ODIzfGJ1ZyBpbiBjaHJvbWl1bX1cbiAqIHdlIGRpc2FibGUgd2ViZ2wyIGJ5IGRlZmF1bHQgZm9yIGFsbCBub24tYXBwbGUgbW9iaWxlIGRldmljZXMuXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgUFJFRkVSX0VOVlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCBQSVhJLkVOVi5XRUJHTDJcbiAqL1xuc2V0dGluZ3MuUFJFRkVSX0VOViA9IGlzTW9iaWxlLmFueSA/IEVOVi5XRUJHTCA6IEVOVi5XRUJHTDI7XG5cbnZhciBDT05URVhUX1VJRCA9IDA7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBjb250ZXh0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIENvbnRleHRTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBDb250ZXh0U3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFaXRoZXIgMSBvciAyIHRvIHJlZmxlY3QgdGhlIFdlYkdMIHZlcnNpb24gYmVpbmcgdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnNpb25zIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9kcmF3X2J1ZmZlcnN9IGRyYXdCdWZmZXJzIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZGVwdGhfdGV4dHVyZX0gZGVwdGhUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3RleHR1cmVfZmxvYXR9IGZsb2F0VGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2xvc2VfY29udGV4dH0gbG9zZUNvbnRleHQgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdmVydGV4X2FycmF5X29iamVjdH0gdmVydGV4QXJyYXlPYmplY3QgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWN9IGFuaXNvdHJvcGljRmlsdGVyaW5nIC0gV2ViR0wgdjEgYW5kIHYyIGV4dGVuc2lvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0ge307XG5cbiAgICAgICAgLy8gQmluZCBmdW5jdGlvbnNcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IHRoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBDb250ZXh0U3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb250ZXh0U3lzdGVtO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgaXNMb3N0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgdGhlIGNvbnRleHQgaXMgbG9zdFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmlzTG9zdC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5nbCB8fCB0aGlzLmdsLmlzQ29udGV4dExvc3QoKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY29udGV4dCBjaGFuZ2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgbmV3IHdlYmdsIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEKys7XG5cbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmluaXRGcm9tQ29udGV4dCA9IGZ1bmN0aW9uIGluaXRGcm9tQ29udGV4dCAoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICAgIHRoaXMudmFsaWRhdGVDb250ZXh0KGdsKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEID0gQ09OVEVYVF9VSUQrKztcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UucnVuKGdsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcm9tIGNvbnRleHQgb3B0aW9uc1xuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmluaXRGcm9tT3B0aW9ucyA9IGZ1bmN0aW9uIGluaXRGcm9tT3B0aW9ucyAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuY3JlYXRlQ29udGV4dCh0aGlzLnJlbmRlcmVyLnZpZXcsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuaW5pdEZyb21Db250ZXh0KGdsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIFdlYkdMIENvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYW52YXMge0hUTUxDYW52YXNFbGVtZW50fSB0aGUgY2FudmFzIGVsZW1lbnQgdGhhdCB3ZSB3aWxsIGdldCB0aGUgY29udGV4dCBmcm9tXG4gICAgICogQHBhcmFtIG9wdGlvbnMge29iamVjdH0gQW4gb3B0aW9ucyBvYmplY3QgdGhhdCBnZXRzIHBhc3NlZCBpbiB0byB0aGUgY2FudmFzIGVsZW1lbnQgY29udGFpbmluZyB0aGUgY29udGV4dCBhdHRyaWJ1dGVzXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqIEByZXR1cm4ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0ID0gZnVuY3Rpb24gY3JlYXRlQ29udGV4dCAoY2FudmFzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIGdsO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IDE7XG5cbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywgb3B0aW9ucylcbiAgICAgICAgICAgIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgaWYgKCFnbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBXZWJHTC4gVHJ5IHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgICAgICB0aGlzLmdldEV4dGVuc2lvbnMoKTtcblxuICAgICAgICByZXR1cm4gZ2w7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEF1dG8tcG9wdWxhdGUgdGhlIGV4dGVuc2lvbnNcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5nZXRFeHRlbnNpb25zID0gZnVuY3Rpb24gZ2V0RXh0ZW5zaW9ucyAoKVxuICAgIHtcbiAgICAgICAgLy8gdGltZSB0byBzZXQgdXAgZGVmYXVsdCBleHRlbnNpb25zIHRoYXQgUGl4aSB1c2VzLlxuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIHtcbiAgICAgICAgICAgICAgICBkcmF3QnVmZmVyczogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKSxcbiAgICAgICAgICAgICAgICBkZXB0aFRleHR1cmU6IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX1dFQkdMX2RlcHRoX3RleHR1cmUnKSxcbiAgICAgICAgICAgICAgICBsb3NlQ29udGV4dDogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhBcnJheU9iamVjdDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSxcbiAgICAgICAgICAgICAgICBhbmlzb3Ryb3BpY0ZpbHRlcmluZzogZ2wuZ2V0RXh0ZW5zaW9uKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKSxcbiAgICAgICAgICAgICAgICB1aW50MzJFbGVtZW50SW5kZXg6IGdsLmdldEV4dGVuc2lvbignT0VTX2VsZW1lbnRfaW5kZXhfdWludCcpLFxuICAgICAgICAgICAgICAgIC8vIEZsb2F0cyBhbmQgaGFsZi1mbG9hdHNcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmU6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmVMaW5lYXI6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyksXG4gICAgICAgICAgICAgICAgdGV4dHVyZUhhbGZGbG9hdDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0JyksXG4gICAgICAgICAgICAgICAgdGV4dHVyZUhhbGZGbG9hdExpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhcicpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy53ZWJHTFZlcnNpb24gPT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5leHRlbnNpb25zLCB7XG4gICAgICAgICAgICAgICAgYW5pc290cm9waWNGaWx0ZXJpbmc6IGdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJyksXG4gICAgICAgICAgICAgICAgLy8gRmxvYXRzIGFuZCBoYWxmLWZsb2F0c1xuICAgICAgICAgICAgICAgIGNvbG9yQnVmZmVyRmxvYXQ6IGdsLmdldEV4dGVuc2lvbignRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZUxpbmVhcjogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXInKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSBsb3N0IHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1dlYkdMQ29udGV4dEV2ZW50fSBldmVudCAtIFRoZSBjb250ZXh0IGxvc3QgZXZlbnQuXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaGFuZGxlQ29udGV4dExvc3QgPSBmdW5jdGlvbiBoYW5kbGVDb250ZXh0TG9zdCAoZXZlbnQpXG4gICAge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgcmVzdG9yZWQgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRSZXN0b3JlZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UucnVuKHRoaXMuZ2wpO1xuICAgIH07XG5cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLnJlbmRlcmVyLnZpZXc7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKTtcblxuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0obnVsbCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBwb3N0LXJlbmRlciBydW5uZXIgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gcG9zdHJlbmRlciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5mbHVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gUmVuZGVyIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS52YWxpZGF0ZUNvbnRleHQgPSBmdW5jdGlvbiB2YWxpZGF0ZUNvbnRleHQgKGdsKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO1xuXG4gICAgICAgIC8vIHRoaXMgaXMgZ29pbmcgdG8gYmUgZmFpcmx5IHNpbXBsZSBmb3Igbm93Li4gYnV0IGF0IGxlYXN0IHdlIGhhdmUgcm9vbSB0byBncm93IVxuICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuc3RlbmNpbClcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1Byb3ZpZGVkIFdlYkdMIGNvbnRleHQgZG9lcyBub3QgaGF2ZSBhIHN0ZW5jaWwgYnVmZmVyLCBtYXNrcyBtYXkgbm90IHJlbmRlciBjb3JyZWN0bHknKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQ29udGV4dFN5c3RlbS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIENvbnRleHRTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmcmFtZWJ1ZmZlcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgRnJhbWVidWZmZXJTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBGcmFtZWJ1ZmZlclN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIG1hbmFnZWQgZnJhbWVidWZmZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRnJhbWVidWZmZXJbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnJhbWVidWZmZXIgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtGcmFtZWJ1ZmZlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVua25vd25GcmFtZWJ1ZmZlciA9IG5ldyBGcmFtZWJ1ZmZlcigxMCwgMTApO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgRnJhbWVidWZmZXJTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRnJhbWVidWZmZXJTeXN0ZW07XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBzaXplOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGhpcy5oYXNNUlQgPSB0cnVlO1xuICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG5cbiAgICAgICAgLy8gd2ViZ2wyXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgdmFyIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZHJhd0J1ZmZlcnM7XG4gICAgICAgICAgICB2YXIgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuZGVwdGhUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzID0gZnVuY3Rpb24gKGFjdGl2ZVRleHR1cmVzKSB7IHJldHVybiBuYXRpdmVEcmF3QnVmZmVyc0V4dGVuc2lvbi5kcmF3QnVmZmVyc1dFQkdMKGFjdGl2ZVRleHR1cmVzKTsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc01SVCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIGEgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIGZyYW1lLCBkZWZhdWx0IGlzIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKGZyYW1lYnVmZmVyLCBmcmFtZSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIGNhY2hpbmcgbGF5ZXIhXG5cbiAgICAgICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmluaXRGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQgIT09IGZyYW1lYnVmZmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IGZyYW1lYnVmZmVyO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBhbGwgdGV4dHVyZXMgYXJlIHVuYm91bmQuLlxuXG4gICAgICAgICAgICAvLyBub3cgY2hlY2sgZm9yIHVwZGF0ZXMuLi5cbiAgICAgICAgICAgIGlmIChmYm8uZGlydHlJZCAhPT0gZnJhbWVidWZmZXIuZGlydHlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmYm8uZGlydHlJZCA9IGZyYW1lYnVmZmVyLmRpcnR5SWQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmJvLmRpcnR5Rm9ybWF0ICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUZvcm1hdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZiby5kaXJ0eUZvcm1hdCA9IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZmJvLmRpcnR5U2l6ZSAhPT0gZnJhbWVidWZmZXIuZGlydHlTaXplKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5U2l6ZSA9IGZyYW1lYnVmZmVyLmRpcnR5U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV0udGV4dHVyZVBhcnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUudW5iaW5kKGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXNbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIHRoaXMucmVuZGVyZXIud2lkdGgsIHRoaXMucmVuZGVyZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIFdlYkdMUmVuZGVyaW5nQ29udGV4dCdzIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggLSBYIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgLSBZIHBvc2l0aW9uIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIC0gV2lkdGggb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHZpZXdwb3J0XG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnNldFZpZXdwb3J0ID0gZnVuY3Rpb24gc2V0Vmlld3BvcnQgKHgsIHksIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB2YXIgdiA9IHRoaXMudmlld3BvcnQ7XG5cbiAgICAgICAgaWYgKHYud2lkdGggIT09IHdpZHRoIHx8IHYuaGVpZ2h0ICE9PSBoZWlnaHQgfHwgdi54ICE9PSB4IHx8IHYueSAhPT0geSlcbiAgICAgICAge1xuICAgICAgICAgICAgdi54ID0geDtcbiAgICAgICAgICAgIHYueSA9IHk7XG4gICAgICAgICAgICB2LndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB2LmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5nbC52aWV3cG9ydCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNpemUgb2YgdGhlIGN1cnJlbnQgd2lkdGggYW5kIGhlaWdodC4gUmV0dXJucyBvYmplY3Qgd2l0aCBgd2lkdGhgIGFuZCBgaGVpZ2h0YCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNpemUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGVtcFxuICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMuY3VycmVudC53aWR0aCwgaGVpZ2h0OiB0aGlzLmN1cnJlbnQuaGVpZ2h0IH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5yZW5kZXJlci53aWR0aCwgaGVpZ2h0OiB0aGlzLnJlbmRlcmVyLmhlaWdodCB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgY29sb3Igb2YgdGhlIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByIC0gUmVkIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGcgLSBHcmVlbiB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiIC0gQmx1ZSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhIC0gQWxwaGEgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAociwgZywgYiwgYSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgLy8gVE9ETyBjbGVhciBjb2xvciBjYW4gYmUgc2V0IG9ubHkgb25lIHJpZ2h0P1xuICAgICAgICBnbC5jbGVhckNvbG9yKHIsIGcsIGIsIGEpO1xuICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmluaXRGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIGluaXRGcmFtZWJ1ZmZlciAoZnJhbWVidWZmZXIpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIC8vIFRPRE8gLSBtYWtlIHRoaXMgYSBjbGFzcz9cbiAgICAgICAgdmFyIGZibyA9IHtcbiAgICAgICAgICAgIGZyYW1lYnVmZmVyOiBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpLFxuICAgICAgICAgICAgc3RlbmNpbDogbnVsbCxcbiAgICAgICAgICAgIGRpcnR5SWQ6IDAsXG4gICAgICAgICAgICBkaXJ0eUZvcm1hdDogMCxcbiAgICAgICAgICAgIGRpcnR5U2l6ZTogMCxcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGZibztcblxuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMucHVzaChmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBmYm87XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gcmVzaXplRnJhbWVidWZmZXIgKGZyYW1lYnVmZmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKGZiby5zdGVuY2lsKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoY29sb3JUZXh0dXJlc1tpXSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUsIDApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gdXBkYXRlRnJhbWVidWZmZXIgKGZyYW1lYnVmZmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgLy8gYmluZCB0aGUgY29sb3IgdGV4dHVyZVxuICAgICAgICB2YXIgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG5cbiAgICAgICAgdmFyIGNvdW50ID0gY29sb3JUZXh0dXJlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKCFnbC5kcmF3QnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgY291bnQgPSBNYXRoLm1pbihjb3VudCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aXZlVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZVBhcnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQodGV4dHVyZS50ZXh0dXJlLCAwKTtcblxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLFxuICAgICAgICAgICAgICAgICAgICBnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGksXG4gICAgICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCArIHRleHR1cmUuc2lkZSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleHR1cmUsIDApO1xuXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgICAgIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWN0aXZlVGV4dHVyZXMucHVzaChnbC5DT0xPUl9BVFRBQ0hNRU5UMCArIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGl2ZVRleHR1cmVzLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRyYXdCdWZmZXJzKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB3cml0ZURlcHRoVGV4dHVyZSA9IHRoaXMud3JpdGVEZXB0aFRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmICh3cml0ZURlcHRoVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVwdGhUZXh0dXJlID0gZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZGVwdGhUZXh0dXJlLCAwKTtcblxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLFxuICAgICAgICAgICAgICAgICAgICBnbC5ERVBUSF9BVFRBQ0hNRU5ULFxuICAgICAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJELFxuICAgICAgICAgICAgICAgICAgICBkZXB0aFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZiby5zdGVuY2lsICYmIChmcmFtZWJ1ZmZlci5zdGVuY2lsIHx8IGZyYW1lYnVmZmVyLmRlcHRoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZmJvLnN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcblxuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcblxuICAgICAgICAgICAgLy8gVE9ETy4uIHRoaXMgaXMgZGVwdGggQU5EIHN0ZW5jaWw/XG4gICAgICAgICAgICBpZiAoIWZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSlcbiAgICAgICAgICAgIHsgLy8geW91IGNhbid0IGhhdmUgYm90aCwgc28gb25lIHNob3VsZCB0YWtlIHByaW9yaXR5IGlmIGVuYWJsZWRcbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIGZiby5lbmFibGVTdGVuY2lsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyIGZyYW1lYnVmZmVyIHRoYXQgaGFzIHRvIGJlIGRpc3Bvc2VkIG9mXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGFsbCBkZWxldGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUZyYW1lYnVmZmVyID0gZnVuY3Rpb24gZGlzcG9zZUZyYW1lYnVmZmVyIChmcmFtZWJ1ZmZlciwgY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICB2YXIgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgaWYgKCFmYm8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuaW5kZXhPZihmcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgaWYgKGluZGV4ID49IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIGlmIChmYm8uc3RlbmNpbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGFsbCBmcmFtZWJ1ZmZlcnMsIGJ1dCBub3QgdGV4dHVyZXMgYm91bmQgdG8gdGhlbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBhbGwgZGVsZXRlIGZ1bmN0aW9uIGNhbGxzXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VBbGwgPSBmdW5jdGlvbiBkaXNwb3NlQWxsIChjb250ZXh0TG9zdClcbiAgICB7XG4gICAgICAgIHZhciBsaXN0ID0gdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzO1xuXG4gICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlRnJhbWVidWZmZXIobGlzdFtpXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIHJlc2V0cyBmcmFtZWJ1ZmZlciBzdG9yZWQgc3RhdGUsIGJpbmRzIHNjcmVlbiBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcmVuZGVyVGV4dHVyZSByZXNldCgpXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBGcmFtZWJ1ZmZlclN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbnZhciBHTEJ1ZmZlciA9IGZ1bmN0aW9uIEdMQnVmZmVyKGJ1ZmZlcilcbntcbiAgICB0aGlzLmJ1ZmZlciA9IGJ1ZmZlcjtcbiAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgdGhpcy5ieXRlTGVuZ3RoID0gLTE7XG4gICAgdGhpcy5yZWZDb3VudCA9IDA7XG59O1xuXG52YXIgYnl0ZVNpemVNYXAkMSA9IHsgNTEyNjogNCwgNTEyMzogMiwgNTEyMTogMSB9O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBnZW9tZXRyeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBHZW9tZXRyeVN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIEdlb21ldHJ5U3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHdlIGhhcyBgKl92ZXJ0ZXhfYXJyYXlfb2JqZWN0YCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc1ZhbyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBoYXMgYEFOR0xFX2luc3RhbmNlZF9hcnJheXNgIGV4dGVuc2lvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgc3VwcG9ydCBgZ2wuVU5TSUdORURfSU5UYCBpbiBgZ2wuZHJhd0VsZW1lbnRzYCBvciBgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkYFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FjaGUgb2YgY3VycmVudGx5IGJvdW5kIGJ1ZmZlcixcbiAgICAgICAgICogY29udGFpbnMgb25seSB0d28gbWVtYmVycyB3aXRoIGtleXMgQVJSQVlfQlVGRkVSIGFuZCBFTEVNRU5UX0FSUkFZX0JVRkZFUlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlciwgUElYSS5CdWZmZXI+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlIGZvciBhbGwgZ2VvbWV0cmllcyBieSBpZCwgdXNlZCBpbiBjYXNlIHJlbmRlcmVyIGdldHMgZGVzdHJveWVkIG9yIGZvciBwcm9maWxpbmdcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgZm9yIGFsbCBidWZmZXJzIGJ5IGlkLCB1c2VkIGluIGNhc2UgcmVuZGVyZXIgZ2V0cyBkZXN0cm95ZWQgb3IgZm9yIHByb2ZpbGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVycyA9IHt9O1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgR2VvbWV0cnlTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSAmJiBTeXN0ZW0ucHJvdG90eXBlICk7XG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VvbWV0cnlTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlzcG9zZUFsbCh0cnVlKTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQ7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgLy8gd2ViZ2wyXG4gICAgICAgIGlmICghZ2wuY3JlYXRlVmVydGV4QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICB2YXIgbmF0aXZlVmFvRXh0ZW5zaW9uID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMudmVydGV4QXJyYXlPYmplY3Q7XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuYXRpdmVWYW9FeHRlbnNpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb24uY3JlYXRlVmVydGV4QXJyYXlPRVMoKTsgfTtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHsgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModmFvKTsgfTtcblxuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKHZhbykgeyByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHZhbyk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNWYW8gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2VFeHQgPSBnbC5nZXRFeHRlbnNpb24oJ0FOR0xFX2luc3RhbmNlZF9hcnJheXMnKTtcblxuICAgICAgICAgICAgaWYgKGluc3RhbmNlRXh0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gaW5zdGFuY2VFeHQudmVydGV4QXR0cmliRGl2aXNvckFOR0xFKGEsIGIpOyB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHsgcmV0dXJuIGluc3RhbmNlRXh0LmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQsIGUpOyB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBpbnN0YW5jZUV4dC5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNJbnN0YW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYW5Vc2VVSW50MzJFbGVtZW50SW5kZXggPSBjb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiB8fCAhIWNvbnRleHQuZXh0ZW5zaW9ucy51aW50MzJFbGVtZW50SW5kZXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGdlb21ldHJ5IHNvIHRoYXQgaXMgY2FuIGJlIGRyYXduLiBDcmVhdGluZyBhIFZhbyBpZiByZXF1aXJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSBpbnN0YW5jZSBvZiBnZW9tZXRyeSB0byBiaW5kXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gW3NoYWRlcl0gaW5zdGFuY2Ugb2Ygc2hhZGVyIHRvIHVzZSB2YW8gZm9yXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChnZW9tZXRyeSwgc2hhZGVyKVxuICAgIHtcbiAgICAgICAgc2hhZGVyID0gc2hhZGVyIHx8IHRoaXMucmVuZGVyZXIuc2hhZGVyLnNoYWRlcjtcblxuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIC8vIG5vdCBzdXJlIHRoZSBiZXN0IHdheSB0byBhZGRyZXNzIHRoaXMuLlxuICAgICAgICAvLyBjdXJyZW50bHkgZGlmZmVyZW50IHNoYWRlcnMgcmVxdWlyZSBkaWZmZXJlbnQgVkFPcyBmb3IgdGhlIHNhbWUgZ2VvbWV0cnlcbiAgICAgICAgLy8gU3RpbGwgbXVsbGluZyBvdmVyIHRoZSBiZXN0IHdheSB0byBzb2x2ZSB0aGlzIG9uZS4uXG4gICAgICAgIC8vIHdpbGwgbGlrZWx5IG5lZWQgdG8gbW9kaWZ5IHRoZSBzaGFkZXIgYXR0cmlidXRlIGxvY2F0aW9ucyBhdCBydW4gdGltZSFcbiAgICAgICAgdmFyIHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIXZhb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdID0gZ2VvbWV0cnk7XG4gICAgICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdID0gdmFvcyA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZhbyA9IHZhb3Nbc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvICE9PSB2YW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcblxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzVmFvKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gLSBvcHRpbWlzZSBsYXRlciFcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBsb29wIHRocm91Z2ggaWYgbm90aGluZyBjaGFuZ2VkIVxuICAgICAgICAvLyBtYXliZSBsb29rIHRvIGFkZCBhbiAnYXV0b3VwZGF0ZScgdG8gZ2VvbWV0cnk/XG4gICAgICAgIHRoaXMudXBkYXRlQnVmZmVycygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBhbmQgdW5iaW5kIGFueSBhY3RpdmUgVkFPIGFuZCBnZW9tZXRyeVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYnVmZmVyc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUudXBkYXRlQnVmZmVycyA9IGZ1bmN0aW9uIHVwZGF0ZUJ1ZmZlcnMgKClcbiAgICB7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbaV07XG5cbiAgICAgICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCAhPT0gZ2xCdWZmZXIudXBkYXRlSUQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xCdWZmZXIudXBkYXRlSUQgPSBidWZmZXIuX3VwZGF0ZUlEO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBjYW4gY2FjaGUgdGhpcyBvbiBidWZmZXIhIG1heWJlIGFkZGVkIGEgZ2V0dGVyIC8gc2V0dGVyP1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgY291bGQgY2hhbmdlIGlmIHRoZSBWQU8gY2hhbmdlcy4uLlxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gY29tZSB1cCB3aXRoIGEgYmV0dGVyIHdheSB0byBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKHR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRCdWZmZXIgPSBnbEJ1ZmZlcjtcblxuICAgICAgICAgICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgaXMgYWx3YXlzIHplcm8gZm9yIG5vdyFcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YSh0eXBlLCAwLCBidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmF3VHlwZSA9IGJ1ZmZlci5zdGF0aWMgPyBnbC5TVEFUSUNfRFJBVyA6IGdsLkRZTkFNSUNfRFJBVztcblxuICAgICAgICAgICAgICAgICAgICBnbEJ1ZmZlci5ieXRlTGVuZ3RoID0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YSh0eXBlLCBidWZmZXIuZGF0YSwgZHJhd1R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBjb21wYWJpbGl0eSBiZXR3ZWVuIGEgZ2VvbWV0cnkgYW5kIGEgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY2hlY2tDb21wYXRpYmlsaXR5ID0gZnVuY3Rpb24gY2hlY2tDb21wYXRpYmlsaXR5IChnZW9tZXRyeSwgcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIC8vIGdlb21ldHJ5IG11c3QgaGF2ZSBhdCBsZWFzdCBhbGwgdGhlIGF0dHJpYnV0ZXMgdGhhdCB0aGUgc2hhZGVyIHJlcXVpcmVzLlxuICAgICAgICB2YXIgZ2VvbWV0cnlBdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG5cbiAgICAgICAgZm9yICh2YXIgaiBpbiBzaGFkZXJBdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWdlb21ldHJ5QXR0cmlidXRlc1tqXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwic2hhZGVyIGFuZCBnZW9tZXRyeSBpbmNvbXBhdGlibGUsIGdlb21ldHJ5IG1pc3NpbmcgdGhlIFxcXCJcIiArIGogKyBcIlxcXCIgYXR0cmlidXRlXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIGdlb21ldHJ5IGFuZCBwcm9ncmFtIGFuZCBnZW5lcmF0ZXMgYSB1bmlxdWUgc2lnbmF0dXJlIGZvciB0aGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSB0byBnZXQgc2lnbmF0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSB0byB0ZXN0IGdlb21ldHJ5IGFnYWluc3RcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSBnZW9tZXRyeSBhbmQgcHJvZ3JhbVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gZ2V0U2lnbmF0dXJlIChnZW9tZXRyeSwgcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG5cbiAgICAgICAgdmFyIHN0cmluZ3MgPSBbJ2cnLCBnZW9tZXRyeS5pZF07XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRyaWJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2hhZGVyQXR0cmlidXRlc1tpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgZ2V0cyBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIElmIHZhbyBpcyBjcmVhdGVkLCBpdCBpcyBib3VuZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBJbnN0YW5jZSBvZiBnZW9tZXRyeSB0byB0byBnZW5lcmF0ZSBWYW8gZm9yXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBJbnN0YW5jZSBvZiBwcm9ncmFtXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmluaXRHZW9tZXRyeVZhbyA9IGZ1bmN0aW9uIGluaXRHZW9tZXRyeVZhbyAoZ2VvbWV0cnksIHByb2dyYW0pXG4gICAge1xuICAgICAgICB0aGlzLmNoZWNrQ29tcGF0aWJpbGl0eShnZW9tZXRyeSwgcHJvZ3JhbSk7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcblxuICAgICAgICB2YXIgc2lnbmF0dXJlID0gdGhpcy5nZXRTaWduYXR1cmUoZ2VvbWV0cnksIHByb2dyYW0pO1xuXG4gICAgICAgIHZhciB2YW9PYmplY3RIYXNoID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgdmFyIHZhbyA9IHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXTtcblxuICAgICAgICBpZiAodmFvKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgZ2l2ZSB1cyBlYXN5IGFjY2VzcyB0byB0aGUgdmFvXG4gICAgICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFvO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIHZhciB0ZW1wU3RyaWRlID0ge307XG4gICAgICAgIHZhciB0ZW1wU3RhcnQgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBqIGluIGJ1ZmZlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBTdHJpZGVbal0gPSAwO1xuICAgICAgICAgICAgdGVtcFN0YXJ0W2pdID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGokMSBpbiBhdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbaiQxXS5zaXplICYmIHByb2dyYW0uYXR0cmlidXRlRGF0YVtqJDFdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbaiQxXS5zaXplID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2okMV0uc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFhdHRyaWJ1dGVzW2okMV0uc2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oKFwiUElYSSBHZW9tZXRyeSBhdHRyaWJ1dGUgJ1wiICsgaiQxICsgXCInIHNpemUgY2Fubm90IGJlIGRldGVybWluZWQgKGxpa2VseSB0aGUgYm91bmQgc2hhZGVyIGRvZXMgbm90IGhhdmUgdGhlIGF0dHJpYnV0ZSlcIikpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2F0dHJpYnV0ZXNbaiQxXS5idWZmZXJdICs9IGF0dHJpYnV0ZXNbaiQxXS5zaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGVzW2okMV0udHlwZV07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqJDIgaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaiQyXTtcbiAgICAgICAgICAgIHZhciBhdHRyaWJTaXplID0gYXR0cmlidXRlLnNpemU7XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RyaWRlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl0gPT09IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZS50eXBlXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQgPSB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFvID0gZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtcblxuICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcblxuICAgICAgICAvLyBmaXJzdCB1cGRhdGUgLSBhbmQgY3JlYXRlIHRoZSBidWZmZXJzIVxuICAgICAgICAvLyBvbmx5IGNyZWF0ZSBhIGdsIGJ1ZmZlciBpZiBpdCBhY3R1YWxseSBnZXRzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG5cbiAgICAgICAgICAgIGlmICghYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSA9IG5ldyBHTEJ1ZmZlcihnbC5jcmVhdGVCdWZmZXIoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLnJlZkNvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbWFrZSB0aGlzIGEgZGF0YSBvYmplY3Q/XG4gICAgICAgIC8vIGxldHMgd2FpdCB0byBzZWUgaWYgd2UgbmVlZCB0byBmaXJzdCFcblxuICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgLy8gYWRkIGl0IHRvIHRoZSBjYWNoZSFcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdID0gdmFvO1xuXG4gICAgICAgIHJldHVybiB2YW87XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IGJ1ZmZlciBidWZmZXIgd2l0aCBkYXRhXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VCdWZmZXIgPSBmdW5jdGlvbiBkaXNwb3NlQnVmZmVyIChidWZmZXIsIGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSB0aGlzLm1hbmFnZWRCdWZmZXJzW2J1ZmZlci5pZF07XG5cbiAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuXG4gICAgICAgIGlmICghZ2xCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGV4dExvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBnZW9tZXRyeVxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgR2VvbWV0cnkgd2l0aCBidWZmZXJzLiBPbmx5IFZBTyB3aWxsIGJlIGRpc3Bvc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGRlbGV0ZVZlcnRleEFycmF5XG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRpc3Bvc2VHZW9tZXRyeSA9IGZ1bmN0aW9uIGRpc3Bvc2VHZW9tZXRyeSAoZ2VvbWV0cnksIGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdO1xuXG4gICAgICAgIHZhciB2YW9zID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG4gICAgICAgIHZhciBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcblxuICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcblxuICAgICAgICBpZiAoIXZhb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ1ZiA9IGJ1ZmZlcnNbaV0uX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgYnVmLnJlZkNvdW50LS07XG4gICAgICAgICAgICBpZiAoYnVmLnJlZkNvdW50ID09PSAwICYmICFjb250ZXh0TG9zdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2VCdWZmZXIoYnVmZmVyc1tpXSwgY29udGV4dExvc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgdmFvSWQgaW4gdmFvcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgb25seSBzaWduYXR1cmVzLCBldmVyeXRoaW5nIGVsc2UgYXJlIGNvcGllc1xuICAgICAgICAgICAgICAgIGlmICh2YW9JZFswXSA9PT0gJ2cnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbyA9IHZhb3NbdmFvSWRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVWYW8gPT09IHZhbylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZGlzcG9zZSBhbGwgV2ViR0wgcmVzb3VyY2VzIG9mIGFsbCBtYW5hZ2VkIGdlb21ldHJpZXMgYW5kIGJ1ZmZlcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYGdsLmRlbGV0ZWAgY2FsbHNcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZGlzcG9zZUFsbCA9IGZ1bmN0aW9uIGRpc3Bvc2VBbGwgKGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgdmFyIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEdlb21ldHJpZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VHZW9tZXRyeSh0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2FsbFtpXV0sIGNvbnRleHRMb3N0KTtcbiAgICAgICAgfVxuICAgICAgICBhbGwgPSBPYmplY3Qua2V5cyh0aGlzLm1hbmFnZWRCdWZmZXJzKTtcbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgYWxsLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcih0aGlzLm1hbmFnZWRCdWZmZXJzW2FsbFtpJDFdXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlIHZlcnRleCBhcnJheSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IC0gR2VvbWV0cnkgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIFNoYWRlciBwcm9ncmFtIGluc3RhbmNlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmFjdGl2YXRlVmFvID0gZnVuY3Rpb24gYWN0aXZhdGVWYW8gKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgICAgdmFyIENPTlRFWFRfVUlEID0gdGhpcy5DT05URVhUX1VJRDtcbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBnZW9tZXRyeS5idWZmZXJzO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBmaXJzdCB1cGRhdGUgdGhlIGluZGV4IGJ1ZmZlciBpZiB3ZSBoYXZlIG9uZS4uXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5idWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3RCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIC8vIGFkZCBhIG5ldyBvbmUhXG4gICAgICAgIGZvciAodmFyIGogaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIHZhciBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgaWYgKHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEJ1ZmZlciAhPT0gZ2xCdWZmZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZ2xCdWZmZXIuYnVmZmVyKTtcblxuICAgICAgICAgICAgICAgICAgICBsYXN0QnVmZmVyID0gZ2xCdWZmZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdLmxvY2F0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBpbnRyb2R1Y2Ugc3RhdGUgYWdhaW5cbiAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gb3B0aW1pc2UgdGhpcyBmb3Igb2xkZXIgZGV2aWNlcyB0aGF0IGhhdmUgbm8gVkFPc1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGxvY2F0aW9uKTtcblxuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIobG9jYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zaXplLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudHlwZSB8fCBnbC5GTE9BVCxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLm5vcm1hbGl6ZWQsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdGFydCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlLmluc3RhbmNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjYWxjdWxhdGUgaW5zdGFuY2UgY291bnQgYmFzZWQgb2YgdGhpcy4uLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNJbnN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliRGl2aXNvcihsb2NhdGlvbiwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dlb21ldHJ5IGVycm9yLCBHUFUgSW5zdGFuY2luZyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyB0aGUgZ2VvbWV0cnlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIC0gdGhlIHR5cGUgcHJpbWl0aXZlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZV0gLSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF0gLSBTdGFydGluZyBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaW5zdGFuY2VDb3VudF0gLSB0aGUgbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGUgc2V0IG9mIGVsZW1lbnRzIHRvIGV4ZWN1dGVcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIGRyYXcgKHR5cGUsIHNpemUsIHN0YXJ0LCBpbnN0YW5jZUNvdW50KVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gdGhpcy5fYWN0aXZlR2VvbWV0cnk7XG5cbiAgICAgICAgLy8gVE9ETy4uIHRoaXMgc2hvdWxkIG5vdCBjaGFuZ2Ugc28gbWF5YmUgY2FjaGUgdGhlIGZ1bmN0aW9uP1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJ5dGVTaXplID0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5CWVRFU19QRVJfRUxFTUVOVDtcbiAgICAgICAgICAgIHZhciBnbFR5cGUgPSBieXRlU2l6ZSA9PT0gMiA/IGdsLlVOU0lHTkVEX1NIT1JUIDogZ2wuVU5TSUdORURfSU5UO1xuXG4gICAgICAgICAgICBpZiAoYnl0ZVNpemUgPT09IDIgfHwgKGJ5dGVTaXplID09PSA0ICYmIHRoaXMuY2FuVXNlVUludDMyRWxlbWVudEluZGV4KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQodHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2xUeXBlLCAoc3RhcnQgfHwgMCkgKiBieXRlU2l6ZSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsVHlwZSwgKHN0YXJ0IHx8IDApICogYnl0ZVNpemUpO1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCd1bnN1cHBvcnRlZCBpbmRleCBidWZmZXIgdHlwZTogdWludDMyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIG5lZWQgYSBiZXR0ZXIgd2F5IHRvIGNhbGN1bGF0ZSBzaXplLi5cbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQodHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpLCBpbnN0YW5jZUNvdW50IHx8IDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVuYmluZC9yZXNldCBldmVyeXRoaW5nXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuYmluZFZlcnRleEFycmF5KG51bGwpO1xuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBHZW9tZXRyeVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQG1ldGhvZCBjb21waWxlUHJvZ3JhbVxuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGZyYWdtZW50U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSBmcmFnbWVudCBzaGFkZXIgc291cmNlIGFzIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKiBAcGFyYW0gYXR0cmlidXRlTG9jYXRpb25zIHtPYmplY3R9IEFuIGF0dHJpYnV0ZSBsb2NhdGlvbiBtYXAgdGhhdCBsZXRzIHlvdSBtYW51YWxseSBzZXQgdGhlIGF0dHJpYnV0ZSBsb2NhdGlvbnNcbiAqIEByZXR1cm4ge1dlYkdMUHJvZ3JhbX0gdGhlIHNoYWRlciBwcm9ncmFtXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBhdHRyaWJ1dGVMb2NhdGlvbnMpXG57XG4gICAgdmFyIGdsVmVydFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNyYyk7XG4gICAgdmFyIGdsRnJhZ1NoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTcmMpO1xuXG4gICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XG5cbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xWZXJ0U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2xGcmFnU2hhZGVyKTtcblxuICAgIC8vIG9wdGlvbmFsbHksIHNldCB0aGUgYXR0cmlidXRlcyBtYW51YWxseSBmb3IgdGhlIHByb2dyYW0gcmF0aGVyIHRoYW4gbGV0dGluZyBXZWJHTCBkZWNpZGUuLlxuICAgIGlmIChhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpIGluIGF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmluZEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIGF0dHJpYnV0ZUxvY2F0aW9uc1tpXSwgaSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcblxuICAgIC8vIGlmIGxpbmtpbmcgZmFpbHMsIHRoZW4gbG9nIGFuZCBjbGVhbnVwXG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1BpeGkuanMgRXJyb3I6IENvdWxkIG5vdCBpbml0aWFsaXplIHNoYWRlci4nKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuVkFMSURBVEVfU1RBVFVTJywgZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5WQUxJREFURV9TVEFUVVMpKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2wuZ2V0RXJyb3IoKScsIGdsLmdldEVycm9yKCkpO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGEgcHJvZ3JhbSBpbmZvIGxvZywgbG9nIGl0XG4gICAgICAgIGlmIChnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSAhPT0gJycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUGl4aS5qcyBXYXJuaW5nOiBnbC5nZXRQcm9ncmFtSW5mb0xvZygpJywgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgcHJvZ3JhbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gY2xlYW4gdXAgc29tZSBzaGFkZXJzXG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsVmVydFNoYWRlcik7XG4gICAgZ2wuZGVsZXRlU2hhZGVyKGdsRnJhZ1NoYWRlcik7XG5cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGdsIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IFRoZSBjdXJyZW50IFdlYkdMIGNvbnRleHQge1dlYkdMUHJvZ3JhbX1cbiAqIEBwYXJhbSB0eXBlIHtOdW1iZXJ9IHRoZSB0eXBlLCBjYW4gYmUgZWl0aGVyIFZFUlRFWF9TSEFERVIgb3IgRlJBR01FTlRfU0hBREVSXG4gKiBAcGFyYW0gdmVydGV4U3JjIHtzdHJpbmd8c3RyaW5nW119IFRoZSB2ZXJ0ZXggc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHJldHVybiB7V2ViR0xTaGFkZXJ9IHRoZSBzaGFkZXJcbiAqL1xuZnVuY3Rpb24gY29tcGlsZVNoYWRlcihnbCwgdHlwZSwgc3JjKVxue1xuICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG5cbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKHNyYyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuXG4vKipcbiAqIEBtZXRob2QgZGVmYXVsdFZhbHVlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gdHlwZSB7U3RyaW5nfSBUeXBlIG9mIHZhbHVlXG4gKiBAcGFyYW0gc2l6ZSB7TnVtYmVyfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpXG57XG4gICAgc3dpdGNoICh0eXBlKVxuICAgIHtcbiAgICAgICAgY2FzZSAnZmxvYXQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSAndmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAndmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAndmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEJzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSAnaXZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpdmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYm9vbCc6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY2FzZSAnYnZlYzInOlxuXG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdtYXQyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMV0pO1xuXG4gICAgICAgIGNhc2UgJ21hdDQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gYm9vbGVhbkFycmF5KHNpemUpXG57XG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHNpemUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG52YXIgdW5rbm93bkNvbnRleHQgPSB7fTtcbnZhciBjb250ZXh0ID0gdW5rbm93bkNvbnRleHQ7XG5cbi8qKlxuICogcmV0dXJucyBhIGxpdHRsZSBXZWJHTCBjb250ZXh0IHRvIHVzZSBmb3IgcHJvZ3JhbSBpbnNwZWN0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7d2ViR0wtY29udGV4dH0gYSBnbCBjb250ZXh0IHRvIHRlc3Qgd2l0aFxuICovXG5mdW5jdGlvbiBnZXRUZXN0Q29udGV4dCgpXG57XG4gICAgaWYgKGNvbnRleHQgPT09IHVua25vd25Db250ZXh0KVxuICAgIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIHZhciBnbDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCB7fSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWdsKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIHt9KVxuICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIHt9KTtcblxuICAgICAgICAgICAgaWYgKCFnbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgZ2wgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZvciBzaGFkZXIgdGVzdGluZy4uXG4gICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQgPSBnbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY29udGV4dDtcbn1cblxudmFyIG1heEZyYWdtZW50UHJlY2lzaW9uO1xuXG5mdW5jdGlvbiBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpXG57XG4gICAgaWYgKCFtYXhGcmFnbWVudFByZWNpc2lvbilcbiAgICB7XG4gICAgICAgIG1heEZyYWdtZW50UHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgdmFyIGdsID0gZ2V0VGVzdENvbnRleHQoKTtcblxuICAgICAgICBpZiAoZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChnbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHNoYWRlckZyYWdtZW50ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuSElHSF9GTE9BVCk7XG5cbiAgICAgICAgICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IHNoYWRlckZyYWdtZW50LnByZWNpc2lvbiA/IFBSRUNJU0lPTi5ISUdIIDogUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhGcmFnbWVudFByZWNpc2lvbjtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBmbG9hdCBwcmVjaXNpb24gb24gdGhlIHNoYWRlciwgZW5zdXJpbmcgdGhlIGRldmljZSBzdXBwb3J0cyB0aGUgcmVxdWVzdCBwcmVjaXNpb24uXG4gKiBJZiB0aGUgcHJlY2lzaW9uIGlzIGFscmVhZHkgcHJlc2VudCwgaXQganVzdCBlbnN1cmVzIHRoYXQgdGhlIGRldmljZSBpcyBhYmxlIHRvIGhhbmRsZSBpdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAtIFRoZSBzaGFkZXIgc291cmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkUHJlY2lzaW9uIC0gVGhlIHJlcXVlc3QgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWF4U3VwcG9ydGVkUHJlY2lzaW9uIC0gVGhlIG1heGltdW0gcHJlY2lzaW9uIHRoZSBzaGFkZXIgc3VwcG9ydHMuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBtb2RpZmllZCBzaGFkZXIgc291cmNlXG4gKi9cbmZ1bmN0aW9uIHNldFByZWNpc2lvbihzcmMsIHJlcXVlc3RlZFByZWNpc2lvbiwgbWF4U3VwcG9ydGVkUHJlY2lzaW9uKVxue1xuICAgIGlmIChzcmMuc3Vic3RyaW5nKDAsIDkpICE9PSAncHJlY2lzaW9uJylcbiAgICB7XG4gICAgICAgIC8vIG5vIHByZWNpc2lvbiBzdXBwbGllZCwgc28gUGl4aUpTIHdpbGwgYWRkIHRoZSByZXF1ZXN0ZWQgbGV2ZWwuXG4gICAgICAgIHZhciBwcmVjaXNpb24gPSByZXF1ZXN0ZWRQcmVjaXNpb247XG5cbiAgICAgICAgLy8gSWYgaGlnaHAgaXMgcmVxdWVzdGVkIGJ1dCBub3Qgc3VwcG9ydGVkLCBkb3duZ3JhZGUgcHJlY2lzaW9uIHRvIGEgbGV2ZWwgYWxsIGRldmljZXMgc3VwcG9ydC5cbiAgICAgICAgaWYgKHJlcXVlc3RlZFByZWNpc2lvbiA9PT0gUFJFQ0lTSU9OLkhJR0ggJiYgbWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSClcbiAgICAgICAge1xuICAgICAgICAgICAgcHJlY2lzaW9uID0gUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXCJwcmVjaXNpb24gXCIgKyBwcmVjaXNpb24gKyBcIiBmbG9hdDtcXG5cIiArIHNyYyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gUFJFQ0lTSU9OLkhJR0ggJiYgc3JjLnN1YnN0cmluZygwLCAxNSkgPT09ICdwcmVjaXNpb24gaGlnaHAnKVxuICAgIHtcbiAgICAgICAgLy8gcHJlY2lzaW9uIHdhcyBzdXBwbGllZCwgYnV0IGF0IGEgbGV2ZWwgdGhpcyBkZXZpY2UgZG9lcyBub3Qgc3VwcG9ydCwgc28gZG93bmdyYWRpbmcgdG8gbWVkaXVtcC5cbiAgICAgICAgcmV0dXJuIHNyYy5yZXBsYWNlKCdwcmVjaXNpb24gaGlnaHAnLCAncHJlY2lzaW9uIG1lZGl1bXAnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuXG52YXIgR0xTTF9UT19TSVpFID0ge1xuICAgIGZsb2F0OiAgICAxLFxuICAgIHZlYzI6ICAgICAyLFxuICAgIHZlYzM6ICAgICAzLFxuICAgIHZlYzQ6ICAgICA0LFxuXG4gICAgaW50OiAgICAgIDEsXG4gICAgaXZlYzI6ICAgIDIsXG4gICAgaXZlYzM6ICAgIDMsXG4gICAgaXZlYzQ6ICAgIDQsXG5cbiAgICBib29sOiAgICAgMSxcbiAgICBidmVjMjogICAgMixcbiAgICBidmVjMzogICAgMyxcbiAgICBidmVjNDogICAgNCxcblxuICAgIG1hdDI6ICAgICA0LFxuICAgIG1hdDM6ICAgICA5LFxuICAgIG1hdDQ6ICAgICAxNixcblxuICAgIHNhbXBsZXIyRDogIDEsXG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAbWV0aG9kIG1hcFNpemVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG1hcFNpemUodHlwZSlcbntcbiAgICByZXR1cm4gR0xTTF9UT19TSVpFW3R5cGVdO1xufVxuXG52YXIgR0xfVEFCTEUgPSBudWxsO1xuXG52YXIgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgICBGTE9BVDogICAgICAgJ2Zsb2F0JyxcbiAgICBGTE9BVF9WRUMyOiAgJ3ZlYzInLFxuICAgIEZMT0FUX1ZFQzM6ICAndmVjMycsXG4gICAgRkxPQVRfVkVDNDogICd2ZWM0JyxcblxuICAgIElOVDogICAgICAgICAnaW50JyxcbiAgICBJTlRfVkVDMjogICAgJ2l2ZWMyJyxcbiAgICBJTlRfVkVDMzogICAgJ2l2ZWMzJyxcbiAgICBJTlRfVkVDNDogICAgJ2l2ZWM0JyxcblxuICAgIEJPT0w6ICAgICAgICAnYm9vbCcsXG4gICAgQk9PTF9WRUMyOiAgICdidmVjMicsXG4gICAgQk9PTF9WRUMzOiAgICdidmVjMycsXG4gICAgQk9PTF9WRUM0OiAgICdidmVjNCcsXG5cbiAgICBGTE9BVF9NQVQyOiAgJ21hdDInLFxuICAgIEZMT0FUX01BVDM6ICAnbWF0MycsXG4gICAgRkxPQVRfTUFUNDogICdtYXQ0JyxcblxuICAgIFNBTVBMRVJfMkQ6ICAnc2FtcGxlcjJEJyxcbiAgICBTQU1QTEVSX0NVQkU6ICAnc2FtcGxlckN1YmUnLFxuICAgIFNBTVBMRVJfMkRfQVJSQVk6ICAnc2FtcGxlcjJEQXJyYXknLFxufTtcblxuZnVuY3Rpb24gbWFwVHlwZShnbCwgdHlwZSlcbntcbiAgICBpZiAoIUdMX1RBQkxFKVxuICAgIHtcbiAgICAgICAgdmFyIHR5cGVOYW1lcyA9IE9iamVjdC5rZXlzKEdMX1RPX0dMU0xfVFlQRVMpO1xuXG4gICAgICAgIEdMX1RBQkxFID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0biA9IHR5cGVOYW1lc1tpXTtcblxuICAgICAgICAgICAgR0xfVEFCTEVbZ2xbdG5dXSA9IEdMX1RPX0dMU0xfVFlQRVNbdG5dO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEdMX1RBQkxFW3R5cGVdO1xufVxuXG4vLyBjdiA9IENhY2hlZFZhbHVlXG4vLyB2ID0gdmFsdWVcbi8vIHVkID0gdW5pZm9ybURhdGFcbi8vIHV2ID0gdW5pZm9ybVZhbHVlXG4vLyBsID0gbG9jYXRpb25cbnZhciBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA9IHtcblxuICAgIGZsb2F0OiBcIlxcbiAgICBpZihjdiAhPT0gdilcXG4gICAge1xcbiAgICAgICAgY3YudiA9IHY7XFxuICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHYpXFxuICAgIH1cIixcblxuICAgIHZlYzI6IFwiXFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBnbC51bmlmb3JtMmYobG9jYXRpb24sIHZbMF0sIHZbMV0pXFxuICAgIH1cIixcblxuICAgIHZlYzM6IFwiXFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBjdlsyXSA9IHZbMl07XFxuXFxuICAgICAgICBnbC51bmlmb3JtM2YobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pXFxuICAgIH1cIixcblxuICAgIHZlYzQ6ICAgICAnZ2wudW5pZm9ybTRmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG5cbiAgICBpbnQ6ICAgICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAgICAnZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKScsXG4gICAgaXZlYzM6ICAgICdnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICBpdmVjNDogICAgJ2dsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuXG4gICAgYm9vbDogICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogICAgJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGJ2ZWMzOiAgICAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgYnZlYzQ6ICAgICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcblxuICAgIG1hdDI6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0NDogICAgICdnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuXG4gICAgc2FtcGxlcjJEOiAgICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG59O1xuXG52YXIgR0xTTF9UT19BUlJBWV9TRVRURVJTID0ge1xuXG4gICAgZmxvYXQ6ICAgIFwiZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdilcIixcblxuICAgIHZlYzI6ICAgICBcImdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjMzogICAgIFwiZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWM0OiAgICAgJ2dsLnVuaWZvcm00ZnYobG9jYXRpb24sIHYpJyxcblxuICAgIG1hdDQ6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MjogICAgICdnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuXG4gICAgaW50OiAgICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICAgICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzM6ICAgICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzQ6ICAgICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG5cbiAgICBib29sOiAgICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogICAgJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMzogICAgJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjNDogICAgJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcblxuICAgIHNhbXBsZXIyRDogICAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXJDdWJlOiAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxufTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHVuaWZvcm1EYXRhKVxue1xuICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgIHZhciBmdW5jID0gXCJ2YXIgdiA9IG51bGw7XFxuICAgIHZhciBjdiA9IG51bGxcXG4gICAgdmFyIGdsID0gcmVuZGVyZXIuZ2xcIjtcblxuICAgIGZvciAodmFyIGkgaW4gZ3JvdXAudW5pZm9ybXMpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHVuaWZvcm1EYXRhW2ldO1xuXG4gICAgICAgIGlmICghZGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLmdyb3VwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5zeW5jVW5pZm9ybUdyb3VwKHV2LlwiICsgaSArIFwiKTtcXG4gICAgICAgICAgICAgICAgXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyAmJiB1bmlmb3JtRGF0YVtpXS52YWx1ZSAhPT0gMCA8LS0gZG8gd2Ugc3RpbGwgbmVlZCB0aGlzP1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnZmxvYXQnICYmIGRhdGEuc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgIGlmKHV2LlwiICsgaSArIFwiICE9PSB1ZC5cIiArIGkgKyBcIi52YWx1ZSlcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHVkLlwiICsgaSArIFwiLnZhbHVlID0gdXYuXCIgKyBpICsgXCJcXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCB1di5cIiArIGkgKyBcIilcXG4gICAgICAgICAgICB9XFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICBlbHNlIGlmICgoZGF0YS50eXBlID09PSAnc2FtcGxlcjJEJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyQ3ViZScgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlcjJEQXJyYXknKSAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSlcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICB7XG4gICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHV2LlwiICsgaSArIFwiLCBcIiArIHRleHR1cmVDb3VudCArIFwiKTtcXG5cXG4gICAgICAgICAgICBpZih1ZC5cIiArIGkgKyBcIi52YWx1ZSAhPT0gXCIgKyB0ZXh0dXJlQ291bnQgKyBcIilcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHVkLlwiICsgaSArIFwiLnZhbHVlID0gXCIgKyB0ZXh0dXJlQ291bnQgKyBcIjtcXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCBcIiArIHRleHR1cmVDb3VudCArIFwiKTtcXG47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxcbiAgICAgICAgICAgIH1cXG5cIjtcblxuICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAnbWF0MycgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0uYSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gYW5kIHNvbWUgc21hcnQgY2FjaGluZyBkaXJ0eSBpZHMgaGVyZSFcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIGZhbHNlLCB1di5cIiArIGkgKyBcIi50b0FycmF5KHRydWUpKTtcXG4gICAgICAgICAgICAgICAgXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCBmYWxzZSwgdXYuXCIgKyBpICsgXCIpO1xcbiAgICAgICAgICAgICAgICBcXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBkbyB3ZSBuZWVkIGJvdGggaGVyZT9cbiAgICAgICAgICAgIC8vIG1heWJlIHdlIGNhbiBnZXQgYXdheSB3aXRoIG9ubHkgdXNpbmcgcG9pbnRzP1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLnggIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuXCIgKyBpICsgXCIudmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1di5cIiArIGkgKyBcIjtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCB2LngsIHYueSk7XFxuICAgICAgICAgICAgICAgIH1cXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuXCIgKyBpICsgXCIudmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1di5cIiArIGkgKyBcIjtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgdlswXSwgdlsxXSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gZG8gd2UgbmVlZCBib3RoIGhlcmU/XG4gICAgICAgICAgICAvLyBtYXliZSB3ZSBjYW4gZ2V0IGF3YXkgd2l0aCBvbmx5IHVzaW5nIHBvaW50cz9cbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS53aWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZC5cIiArIGkgKyBcIi52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2LlwiICsgaSArIFwiO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkgfHwgY3ZbMl0gIT09IHYud2lkdGggfHwgY3ZbM10gIT09IHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2LndpZHRoO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2LmhlaWdodDtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgdi54LCB2LnksIHYud2lkdGgsIHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB9XFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkLlwiICsgaSArIFwiLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXYuXCIgKyBpICsgXCI7XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHZbMl07XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHZbM107XFxuXFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVUeXBlID0gKGRhdGEuc2l6ZSA9PT0gMSkgPyBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA6IEdMU0xfVE9fQVJSQVlfU0VUVEVSUztcblxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gIHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoJ2xvY2F0aW9uJywgKFwidWQuXCIgKyBpICsgXCIubG9jYXRpb25cIikpO1xuXG4gICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgY3YgPSB1ZC5cIiArIGkgKyBcIi52YWx1ZTtcXG4gICAgICAgICAgICB2ID0gdXYuXCIgKyBpICsgXCI7XFxuICAgICAgICAgICAgXCIgKyB0ZW1wbGF0ZSArIFwiO1xcblwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBGdW5jdGlvbigndWQnLCAndXYnLCAncmVuZGVyZXInLCBmdW5jKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctZnVuY1xufVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gW1xuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxuICAgICd2b2lkIG1haW4odm9pZCl7JyxcbiAgICAnZmxvYXQgdGVzdCA9IDAuMTsnLFxuICAgICclZm9ybG9vcCUnLFxuICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnfScgXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihtYXhJZnMsIGdsKVxue1xuICAgIGlmIChtYXhJZnMgPT09IDApXG4gICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmAnKTtcbiAgICB9XG5cbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG5cbiAgICB3aGlsZSAodHJ1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICB7XG4gICAgICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxuICAgICAgICB7XG4gICAgICAgICAgICBtYXhJZnMgPSAobWF4SWZzIC8gMikgfCAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdmFsaWQhXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhJZnM7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcylcbntcbiAgICB2YXIgc3JjID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heElmczsgKytpKVxuICAgIHtcbiAgICAgICAgaWYgKGkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpIDwgbWF4SWZzIC0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9IFwiaWYodGVzdCA9PSBcIiArIGkgKyBcIi4wKXt9XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuXG4vLyBDYWNoZSB0aGUgcmVzdWx0IHRvIHByZXZlbnQgcnVubmluZyB0aGlzIG92ZXIgYW5kIG92ZXJcbnZhciB1bnNhZmVFdmFsO1xuXG4vKipcbiAqIE5vdCBhbGwgcGxhdGZvcm1zIGFsbG93IHRvIGdlbmVyYXRlIGZ1bmN0aW9uIGNvZGUgKGUuZy4sIGBuZXcgRnVuY3Rpb25gKS5cbiAqIHRoaXMgcHJvdmlkZXMgdGhlIHBsYXRmb3JtLWxldmVsIGRldGVjdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHVuc2FmZUV2YWxTdXBwb3J0ZWQoKVxue1xuICAgIGlmICh0eXBlb2YgdW5zYWZlRXZhbCA9PT0gJ2Jvb2xlYW4nKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZUV2YWw7XG4gICAgfVxuXG4gICAgdHJ5XG4gICAge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICB2YXIgZnVuYyA9IG5ldyBGdW5jdGlvbigncGFyYW0xJywgJ3BhcmFtMicsICdwYXJhbTMnLCAncmV0dXJuIHBhcmFtMVtwYXJhbTJdID09PSBwYXJhbTM7Jyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tbmV3LWZ1bmMgKi9cblxuICAgICAgICB1bnNhZmVFdmFsID0gZnVuYyh7IGE6ICdiJyB9LCAnYScsICdiJykgPT09IHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKVxuICAgIHtcbiAgICAgICAgdW5zYWZlRXZhbCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB1bnNhZmVFdmFsO1xufVxuXG52YXIgZGVmYXVsdEZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yICo9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxufVwiO1xuXG52YXIgZGVmYXVsdFZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cXG5cIjtcblxuLy8gaW1wb3J0ICogYXMgZnJvbSAnLi4vc3lzdGVtcy9zaGFkZXIvc2hhZGVyJztcblxudmFyIFVJRCQzID0gMDtcblxudmFyIG5hbWVDYWNoZSA9IHt9O1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBzaGFkZXIgcHJvZ3JhbS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQcm9ncmFtID0gZnVuY3Rpb24gUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKVxue1xuICAgIGlmICggbmFtZSA9PT0gdm9pZCAwICkgbmFtZSA9ICdwaXhpLXNoYWRlcic7XG5cbiAgICB0aGlzLmlkID0gVUlEJDMrKztcblxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjIHx8IFByb2dyYW0uZGVmYXVsdFZlcnRleFNyYztcblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjIHx8IFByb2dyYW0uZGVmYXVsdEZyYWdtZW50U3JjO1xuXG4gICAgdGhpcy52ZXJ0ZXhTcmMgPSB0aGlzLnZlcnRleFNyYy50cmltKCk7XG4gICAgdGhpcy5mcmFnbWVudFNyYyA9IHRoaXMuZnJhZ21lbnRTcmMudHJpbSgpO1xuXG4gICAgaWYgKHRoaXMudmVydGV4U3JjLnN1YnN0cmluZygwLCA4KSAhPT0gJyN2ZXJzaW9uJylcbiAgICB7XG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKTtcblxuICAgICAgICBpZiAobmFtZUNhY2hlW25hbWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0rKztcbiAgICAgICAgICAgIG5hbWUgKz0gXCItXCIgKyAobmFtZUNhY2hlW25hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWVDYWNoZVtuYW1lXSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IFwiI2RlZmluZSBTSEFERVJfTkFNRSBcIiArIG5hbWUgKyBcIlxcblwiICsgKHRoaXMudmVydGV4U3JjKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IFwiI2RlZmluZSBTSEFERVJfTkFNRSBcIiArIG5hbWUgKyBcIlxcblwiICsgKHRoaXMuZnJhZ21lbnRTcmMpO1xuXG4gICAgICAgIHRoaXMudmVydGV4U3JjID0gc2V0UHJlY2lzaW9uKHRoaXMudmVydGV4U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fVkVSVEVYLCBQUkVDSVNJT04uSElHSCk7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBzZXRQcmVjaXNpb24odGhpcy5mcmFnbWVudFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX0ZSQUdNRU5ULCBnZXRNYXhGcmFnbWVudFByZWNpc2lvbigpKTtcbiAgICB9XG5cbiAgICAvLyBjdXJyZW50bHkgdGhpcyBkb2VzIG5vdCBleHRyYWN0IHN0cnVjdHMgb25seSBkZWZhdWx0IHR5cGVzXG4gICAgdGhpcy5leHRyYWN0RGF0YSh0aGlzLnZlcnRleFNyYywgdGhpcy5mcmFnbWVudFNyYyk7XG5cbiAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHN0b3JlIHNoYWRlciByZWZlcmVuY2VzLi5cbiAgICB0aGlzLmdsUHJvZ3JhbXMgPSB7fTtcblxuICAgIHRoaXMuc3luY1VuaWZvcm1zID0gbnVsbDtcbn07XG5cbnZhciBzdGF0aWNBY2Nlc3NvcnMgPSB7IGRlZmF1bHRWZXJ0ZXhTcmM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZGVmYXVsdEZyYWdtZW50U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIGRhdGEgZm9yIGEgYnV5IGNyZWF0aW5nIGEgc21hbGwgdGVzdCBwcm9ncmFtXG4gKiBvciByZWFkaW5nIHRoZSBzcmMgZGlyZWN0bHkuXG4gKiBAcHJvdGVjdGVkXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICovXG5Qcm9ncmFtLnByb3RvdHlwZS5leHRyYWN0RGF0YSA9IGZ1bmN0aW9uIGV4dHJhY3REYXRhICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKVxue1xuICAgIHZhciBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG5cbiAgICBpZiAoZ2wpXG4gICAge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IGNvbXBpbGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcblxuICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB0aGlzLmdldEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gdGhpcy5nZXRVbmlmb3JtRGF0YShwcm9ncmFtLCBnbCk7XG5cbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHt9O1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB7fTtcbiAgICB9XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIGF0dHJpYnV0ZSBkYXRhIGZyb20gdGhlIHByb2dyYW1cbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtXZWJHTFByb2dyYW19IFtwcm9ncmFtXSAtIHRoZSBXZWJHTCBwcm9ncmFtXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gW2dsXSAtIHRoZSBXZWJHTCBjb250ZXh0XG4gKlxuICogQHJldHVybnMge29iamVjdH0gdGhlIGF0dHJpYnV0ZSBkYXRhIGZvciB0aGlzIHByb2dyYW1cbiAqL1xuUHJvZ3JhbS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlRGF0YSA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZURhdGEgKHByb2dyYW0sIGdsKVxue1xuICAgIHZhciBhdHRyaWJ1dGVzID0ge307XG4gICAgdmFyIGF0dHJpYnV0ZXNBcnJheSA9IFtdO1xuXG4gICAgdmFyIHRvdGFsQXR0cmlidXRlcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX0FUVFJJQlVURVMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJEYXRhID0gZ2wuZ2V0QWN0aXZlQXR0cmliKHByb2dyYW0sIGkpO1xuICAgICAgICB2YXIgdHlwZSA9IG1hcFR5cGUoZ2wsIGF0dHJpYkRhdGEudHlwZSk7XG5cbiAgICAgICAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBuYW1lOiBhdHRyaWJEYXRhLm5hbWUsXG4gICAgICAgICAgICBzaXplOiBtYXBTaXplKHR5cGUpLFxuICAgICAgICAgICAgbG9jYXRpb246IDAsXG4gICAgICAgIH07XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAgICAgICBhdHRyaWJ1dGVzW2F0dHJpYkRhdGEubmFtZV0gPSBkYXRhO1xuICAgICAgICBhdHRyaWJ1dGVzQXJyYXkucHVzaChkYXRhKTtcbiAgICB9XG5cbiAgICBhdHRyaWJ1dGVzQXJyYXkuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKGEubmFtZSA+IGIubmFtZSkgPyAxIDogLTE7IH0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbmZ1c2luZy1hcnJvd1xuXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgYXR0cmlidXRlc0FycmF5Lmxlbmd0aDsgaSQxKyspXG4gICAge1xuICAgICAgICBhdHRyaWJ1dGVzQXJyYXlbaSQxXS5sb2NhdGlvbiA9IGkkMTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cmlidXRlcztcbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgdW5pZm9ybSBkYXRhIGZyb20gdGhlIHByb2dyYW1cbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHt3ZWJHTC1wcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgd2ViZ2wgcHJvZ3JhbVxuICogQHBhcmFtIHtjb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgdW5pZm9ybSBkYXRhIGZvciB0aGlzIHByb2dyYW1cbiAqL1xuUHJvZ3JhbS5wcm90b3R5cGUuZ2V0VW5pZm9ybURhdGEgPSBmdW5jdGlvbiBnZXRVbmlmb3JtRGF0YSAocHJvZ3JhbSwgZ2wpXG57XG4gICAgdmFyIHVuaWZvcm1zID0ge307XG5cbiAgICB2YXIgdG90YWxVbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcblxuICAgIC8vIFRPRE8gZXhwb3NlIHRoaXMgYXMgYSBwcm9wP1xuICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG4gICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxVbmlmb3JtczsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm1EYXRhID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybShwcm9ncmFtLCBpKTtcbiAgICAgICAgdmFyIG5hbWUgPSB1bmlmb3JtRGF0YS5uYW1lLnJlcGxhY2UoL1xcWy4qP1xcXS8sICcnKTtcblxuICAgICAgICB2YXIgaXNBcnJheSA9IHVuaWZvcm1EYXRhLm5hbWUubWF0Y2goL1xcWy4qP1xcXS8sICcnKTtcbiAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCB1bmlmb3JtRGF0YS50eXBlKTtcblxuICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgIHVuaWZvcm1zW25hbWVdID0ge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIHNpemU6IHVuaWZvcm1EYXRhLnNpemUsXG4gICAgICAgICAgICBpc0FycmF5OmlzQXJyYXksXG4gICAgICAgICAgICB2YWx1ZTogZGVmYXVsdFZhbHVlKHR5cGUsIHVuaWZvcm1EYXRhLnNpemUpLFxuICAgICAgICB9O1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG4gICAgfVxuXG4gICAgcmV0dXJuIHVuaWZvcm1zO1xufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5zdGF0aWNBY2Nlc3NvcnMuZGVmYXVsdFZlcnRleFNyYy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiBkZWZhdWx0VmVydGV4O1xufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnN0YXRpY0FjY2Vzc29ycy5kZWZhdWx0RnJhZ21lbnRTcmMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50O1xufTtcblxuLyoqXG4gKiBBIHNob3J0IGhhbmQgZnVuY3Rpb24gdG8gY3JlYXRlIGEgcHJvZ3JhbSBiYXNlZCBvZiBhIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVyXG4gKiB0aGlzIG1ldGhvZCB3aWxsIGFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZXJlIGlzIGEgY2FjaGVkIHByb2dyYW0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gKlxuICogQHJldHVybnMge1BJWEkuUHJvZ3JhbX0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICovXG5Qcm9ncmFtLmZyb20gPSBmdW5jdGlvbiBmcm9tICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKVxue1xuICAgIHZhciBrZXkgPSB2ZXJ0ZXhTcmMgKyBmcmFnbWVudFNyYztcblxuICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbUNhY2hlW2tleV07XG5cbiAgICBpZiAoIXByb2dyYW0pXG4gICAge1xuICAgICAgICBQcm9ncmFtQ2FjaGVba2V5XSA9IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBQcm9ncmFtLCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBBIGhlbHBlciBjbGFzcyBmb3Igc2hhZGVyc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNoYWRlciA9IGZ1bmN0aW9uIFNoYWRlcihwcm9ncmFtLCB1bmlmb3JtcylcbntcbiAgICAvKipcbiAgICAgKiBQcm9ncmFtIHRoYXQgdGhlIHNoYWRlciB1c2VzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlByb2dyYW19XG4gICAgICovXG4gICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcblxuICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgLy8gdW5pZm9ybXMgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBhIHVuaWZvcm0gZ3JvdXBcbiAgICBpZiAodW5pZm9ybXMpXG4gICAge1xuICAgICAgICBpZiAodW5pZm9ybXMgaW5zdGFuY2VvZiBVbmlmb3JtR3JvdXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gdW5pZm9ybXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG5ldyBVbmlmb3JtR3JvdXAodW5pZm9ybXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh7fSk7XG4gICAgfVxuXG4gICAgLy8gdGltZSB0byBidWlsZCBzb21lIGdldHRlcnMgYW5kIHNldHRlcnMhXG4gICAgLy8gSSBndWVzcyBkb3duIHRoZSBsaW5lIHRoaXMgY291bGQgc29ydCBvZiBnZW5lcmF0ZSBhbiBpbnN0cnVjdGlvbiBsaXN0IHJhdGhlciB0aGFuIHVzZSBkaXJ0eSBpZHM/XG4gICAgLy8gZG9lcyB0aGUgdHJpY2sgZm9yIG5vdyB0aG91Z2ghXG4gICAgZm9yICh2YXIgaSBpbiBwcm9ncmFtLnVuaWZvcm1EYXRhKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDIgPSB7IHVuaWZvcm1zOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8vIFRPRE8gbW92ZSB0byBzaGFkZXIgc3lzdGVtLi5cblNoYWRlci5wcm90b3R5cGUuY2hlY2tVbmlmb3JtRXhpc3RzID0gZnVuY3Rpb24gY2hlY2tVbmlmb3JtRXhpc3RzIChuYW1lLCBncm91cClcbntcbiAgICBpZiAoZ3JvdXAudW5pZm9ybXNbbmFtZV0pXG4gICAge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIGdyb3VwLnVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm0gPSBncm91cC51bmlmb3Jtc1tpXTtcblxuICAgICAgICBpZiAodW5pZm9ybS5ncm91cClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tVbmlmb3JtRXhpc3RzKG5hbWUsIHVuaWZvcm0pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuU2hhZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIC8vIHVzYWdlIGNvdW50IG9uIHByb2dyYW1zP1xuICAgIC8vIHJlbW92ZSBpZiBub3QgdXNlZCFcbiAgICB0aGlzLnVuaWZvcm1Hcm91cCA9IG51bGw7XG59O1xuXG4vKipcbiAqIFNoYWRlciB1bmlmb3JtIHZhbHVlcywgc2hvcnRjdXQgZm9yIGB1bmlmb3JtR3JvdXAudW5pZm9ybXNgXG4gKiBAcmVhZG9ubHlcbiAqIEBtZW1iZXIge29iamVjdH1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDIudW5pZm9ybXMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXM7XG59O1xuXG4vKipcbiAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBzaGFkZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICpcbiAqIEByZXR1cm5zIHtQSVhJLlNoYWRlcn0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICovXG5TaGFkZXIuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxue1xuICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgcmV0dXJuIG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNoYWRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQyICk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxudmFyIEJMRU5EID0gMDtcbnZhciBPRkZTRVQgPSAxO1xudmFyIENVTExJTkcgPSAyO1xudmFyIERFUFRIX1RFU1QgPSAzO1xudmFyIFdJTkRJTkcgPSA0O1xuXG4vKipcbiAqIFRoaXMgaXMgYSBXZWJHTCBzdGF0ZSwgYW5kIGlzIGlzIHBhc3NlZCBUaGUgV2ViR0wgU3RhdGVNYW5hZ2VyLlxuICpcbiAqIEVhY2ggbWVzaCByZW5kZXJlZCBtYXkgcmVxdWlyZSBXZWJHTCB0byBiZSBpbiBhIGRpZmZlcmVudCBzdGF0ZS5cbiAqIEZvciBleGFtcGxlIHlvdSBtYXkgd2FudCBkaWZmZXJlbnQgYmxlbmQgbW9kZSBvciB0byBlbmFibGUgcG9seWdvbiBvZmZzZXRzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3RhdGUgPSBmdW5jdGlvbiBTdGF0ZSgpXG57XG4gICAgdGhpcy5kYXRhID0gMDtcblxuICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG5cbiAgICB0aGlzLmJsZW5kID0gdHJ1ZTtcbiAgICAvLyAgdGhpcy5kZXB0aFRlc3QgPSB0cnVlO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQzID0geyBibGVuZDogeyBjb25maWd1cmFibGU6IHRydWUgfSxvZmZzZXRzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGN1bGxpbmc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZGVwdGhUZXN0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGNsb2Nrd2lzZUZyb250RmFjZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxibGVuZE1vZGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scG9seWdvbk9mZnNldDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuYmxlbmQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmJsZW5kLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IEJMRU5EKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFjdGl2YXRlcyBhZGRpbmcgYW4gb2Zmc2V0IHRvIGRlcHRoIHZhbHVlcyBvZiBwb2x5Z29uJ3MgZnJhZ21lbnRzXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLm9mZnNldHMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5vZmZzZXRzLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBPRkZTRVQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWN0aXZhdGVzIGN1bGxpbmcgb2YgcG9seWdvbnMuXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmN1bGxpbmcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDMuY3VsbGluZy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IENVTExJTkcpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWN0aXZhdGVzIGRlcHRoIGNvbXBhcmlzb25zIGFuZCB1cGRhdGVzIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmRlcHRoVGVzdC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5kZXB0aFRlc3Quc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfVEVTVCkpICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBERVBUSF9URVNUKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCBmcm9udCBvciBiYWNrLWZhY2luZyBwb2x5Z29ucyBjYW4gYmUgY3VsbGVkLlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmNsb2Nrd2lzZUZyb250RmFjZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5jbG9ja3dpc2VGcm9udEZhY2Uuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgV0lORElORykpICE9PSB2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSBePSAoMSA8PCBXSU5ESU5HKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgd2hlbiB0aGlzIHN0YXRlIGlzIHNldC4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICogU2V0dGluZyB0aGlzIG1vZGUgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiBOT19CTEVORCB3aWxsIGF1dG9tYXRpY2FsbHkgc3dpdGNoIGJsZW5kaW5nIG9uLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuYmxlbmRNb2RlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuYmxlbmQgPSAodmFsdWUgIT09IEJMRU5EX01PREVTLk5PTkUpO1xuICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xufTtcblxuLyoqXG4gKiBUaGUgcG9seWdvbiBvZmZzZXQuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBhbnl0aGluZyBvdGhlciB0aGFuIDAgd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IDBcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMucG9seWdvbk9mZnNldC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDMucG9seWdvbk9mZnNldC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgdGhpcy5fcG9seWdvbk9mZnNldCA9IHZhbHVlO1xufTtcblxuU3RhdGUuZm9yMmQgPSBmdW5jdGlvbiBmb3IyZCAoKVxue1xuICAgIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuXG4gICAgc3RhdGUuZGVwdGhUZXN0ID0gZmFsc2U7XG4gICAgc3RhdGUuYmxlbmQgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHN0YXRlO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFN0YXRlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDMgKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMSA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcbiAgICB2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxufVxcblwiO1xuXG52YXIgZGVmYXVsdEZyYWdtZW50JDEgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBGaWx0ZXIgaXMgYSBzcGVjaWFsIHR5cGUgb2YgV2ViR0wgc2hhZGVyIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc2NyZWVuLlxuICpcbiAqIHtAbGluayBodHRwOi8vcGl4aWpzLmlvL2V4YW1wbGVzLyMvZmlsdGVycy9ibHVyLWZpbHRlci5qcyBFeGFtcGxlfSBvZiB0aGVcbiAqIHtAbGluayBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlciBCbHVyRmlsdGVyfS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqIEZpbHRlcnMgY2FuIGJlIGFwcGxpZWQgdG8gYW55IERpc3BsYXlPYmplY3Qgb3IgQ29udGFpbmVyLlxuICogUGl4aUpTJyBgRmlsdGVyU3lzdGVtYCByZW5kZXJzIHRoZSBjb250YWluZXIgaW50byB0ZW1wb3JhcnkgRnJhbWVidWZmZXIsXG4gKiB0aGVuIGZpbHRlciByZW5kZXJzIGl0IHRvIHRoZSBzY3JlZW4uXG4gKiBNdWx0aXBsZSBmaWx0ZXJzIGNhbiBiZSBhZGRlZCB0byB0aGUgYGZpbHRlcnNgIGFycmF5IHByb3BlcnR5IGFuZCBzdGFja2VkIG9uIGVhY2ggb3RoZXIuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobXlTaGFkZXJWZXJ0LCBteVNoYWRlckZyYWcsIHsgbXlVbmlmb3JtOiAwLjUgfSk7XG4gKiBjb25zdCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW2ZpbHRlcl07XG4gKiBgYGBcbiAqXG4gKiAjIyMgUHJldmlvdXMgVmVyc2lvbiBEaWZmZXJlbmNlc1xuICpcbiAqIEluIFBpeGlKUyAqKnYzKiosIGEgZmlsdGVyIHdhcyBhbHdheXMgYXBwbGllZCB0byBfd2hvbGUgc2NyZWVuXy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NCoqLCBhIGZpbHRlciBjYW4gYmUgYXBwbGllZCBfb25seSBwYXJ0IG9mIHRoZSBzY3JlZW5fLlxuICogRGV2ZWxvcGVycyBoYWQgdG8gY3JlYXRlIGEgc2V0IG9mIHVuaWZvcm1zIHRvIGRlYWwgd2l0aCBjb29yZGluYXRlcy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NSoqIGNvbWJpbmVzIF9ib3RoIGFwcHJvYWNoZXNfLlxuICogRGV2ZWxvcGVycyBjYW4gdXNlIG5vcm1hbCBjb29yZGluYXRlcyBvZiB2MyBhbmQgdGhlbiBhbGxvdyBmaWx0ZXIgdG8gdXNlIHBhcnRpYWwgRnJhbWVidWZmZXJzLFxuICogYnJpbmdpbmcgdGhvc2UgZXh0cmEgdW5pZm9ybXMgaW50byBhY2NvdW50LlxuICpcbiAqIEFsc28gYmUgYXdhcmUgdGhhdCB3ZSBoYXZlIGNoYW5nZWQgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyLCBwbGVhc2UgY29uc3VsdFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogIyMjIEJ1aWx0LWluIFVuaWZvcm1zXG4gKlxuICogUGl4aUpTIHZpZXdwb3J0IHVzZXMgc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLCBgKDAsIDAsIHJlbmRlcmVyLnNjcmVlbi53aWR0aCwgcmVuZGVyZXIuc2NyZWVuLmhlaWdodClgLFxuICogYW5kIGBwcm9qZWN0aW9uTWF0cml4YCB1bmlmb3JtIG1hcHMgaXQgdG8gdGhlIGdsIHZpZXdwb3J0LlxuICpcbiAqICoqdVNhbXBsZXIqKlxuICpcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB1bmlmb3JtIGlzIHRoZSBpbnB1dCB0ZXh0dXJlIHRoYXQgY29udGFpbmVyIHdhcyByZW5kZXJlZCBpbnRvLlxuICogX0ltcG9ydGFudCBub3RlOiBhcyB3aXRoIGFsbCBGcmFtZWJ1ZmZlcnMgaW4gUGl4aUpTLCBib3RoIGlucHV0IGFuZCBvdXRwdXQgYXJlXG4gKiBwcmVtdWx0aXBsaWVkIGJ5IGFscGhhLl9cbiAqXG4gKiBCeSBkZWZhdWx0LCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWQgdG8gZnJhZ21lbnQgc2hhZGVyIHdpdGggYHZUZXh0dXJlQ29vcmRgLlxuICogVXNlIGl0IHRvIHNhbXBsZSB0aGUgaW5wdXQuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmcmFnbWVudCA9IGBcbiAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gKiB2b2lkIG1haW4odm9pZClcbiAqIHtcbiAqICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XG4gKiB9XG4gKiBgO1xuICpcbiAqIGNvbnN0IG15RmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG51bGwsIGZyYWdtZW50KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZmlsdGVyIGlzIGp1c3Qgb25lIHVuaWZvcm0gbGVzcyB0aGFuIHtAbGluayBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXIgQWxwaGFGaWx0ZXJ9LlxuICpcbiAqICoqb3V0cHV0RnJhbWUqKlxuICpcbiAqIFRoZSBgb3V0cHV0RnJhbWVgIGhvbGRzIHRoZSByZWN0YW5nbGUgd2hlcmUgZmlsdGVyIGlzIGFwcGxpZWQgaW4gc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLlxuICogSXQncyB0aGUgc2FtZSBhcyBgcmVuZGVyZXIuc2NyZWVuYCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqIE9ubHkgYSBwYXJ0IG9mICBgb3V0cHV0RnJhbWUuendgIHNpemUgb2YgdGVtcG9yYXJ5IEZyYW1lYnVmZmVyIGlzIHVzZWQsXG4gKiBgKDAsIDAsIG91dHB1dEZyYW1lLndpZHRoLCBvdXRwdXRGcmFtZS5oZWlnaHQpYCxcbiAqXG4gKiBGaWx0ZXJzIHVzZXMgdGhpcyBxdWFkIHRvIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2UsIGl0cyBwYXNzZWQgaW50byBgYVZlcnRleFBvc2l0aW9uYCBhdHRyaWJ1dGUuXG4gKiBUbyBjYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uIGluIHNjcmVlbiBzcGFjZSB1c2luZyBub3JtYWxpemVkICgwLTEpIHNwYWNlOlxuICpcbiAqIGBgYFxuICogdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gKiB7XG4gKiAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gKiAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICogfVxuICogYGBgXG4gKlxuICogKippbnB1dFNpemUqKlxuICpcbiAqIFRlbXBvcmFyeSBmcmFtZWJ1ZmZlciBpcyBkaWZmZXJlbnQsIGl0IGNhbiBiZSBlaXRoZXIgdGhlIHNpemUgb2Ygc2NyZWVuLCBlaXRoZXIgcG93ZXItb2YtdHdvLlxuICogVGhlIGBpbnB1dFNpemUueHlgIGFyZSBzaXplIG9mIHRlbXBvcmFyeSBmcmFtZWJ1ZmZlciB0aGF0IGhvbGRzIGlucHV0LlxuICogVGhlIGBpbnB1dFNpemUuendgIGlzIGludmVydGVkLCBpdCdzIGEgc2hvcnRjdXQgdG8gZXZhZGUgZGl2aXNpb24gaW5zaWRlIHRoZSBzaGFkZXIuXG4gKlxuICogU2V0IGBpbnB1dFNpemUueHkgPSBvdXRwdXRGcmFtZS56d2AgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKlxuICogVG8gY2FsY3VsYXRlIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZSwgeW91IGhhdmUgdG8gbWFwIGl0IHRvIGZpbHRlciBub3JtYWxpemVkIHNwYWNlLlxuICogTXVsdGlwbHkgYnkgYG91dHB1dEZyYW1lLnp3YCB0byBnZXQgaW5wdXQgY29vcmRpbmF0ZS5cbiAqIERpdmlkZSBieSBgaW5wdXRTaXplLnh5YCB0byBnZXQgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLlxuICpcbiAqIGBgYFxuICogdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICoge1xuICogICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpOyAvLyBzYW1lIGFzIC9pbnB1dFNpemUueHlcbiAqIH1cbiAqIGBgYFxuICogKipyZXNvbHV0aW9uKipcbiAqXG4gKiBUaGUgYHJlc29sdXRpb25gIGlzIHRoZSByYXRpbyBvZiBzY3JlZW4gKENTUykgcGl4ZWxzIHRvIHJlYWwgcGl4ZWxzLlxuICpcbiAqICoqaW5wdXRQaXhlbCoqXG4gKlxuICogYGlucHV0UGl4ZWwueHlgIGlzIHRoZSBzaXplIG9mIGZyYW1lYnVmZmVyIGluIHJlYWwgcGl4ZWxzLCBzYW1lIGFzIGBpbnB1dFNpemUueHkgKiByZXNvbHV0aW9uYFxuICogYGlucHV0UGl4ZWwuendgIGlzIGludmVydGVkIGBpbnB1dFBpeGVsLnh5YC5cbiAqXG4gKiBJdCdzIGhhbmR5IGZvciBmaWx0ZXJzIHRoYXQgdXNlIG5laWdoYm91ciBwaXhlbHMsIGxpa2Uge0BsaW5rIFBJWEkuZmlsdGVycy5GWEFBRmlsdGVyIEZYQUFGaWx0ZXJ9LlxuICpcbiAqICoqaW5wdXRDbGFtcCoqXG4gKlxuICogSWYgeW91IHRyeSB0byBnZXQgaW5mbyBmcm9tIG91dHNpZGUgb2YgdXNlZCBwYXJ0IG9mIEZyYW1lYnVmZmVyIC0geW91J2xsIGdldCB1bmRlZmluZWQgYmVoYXZpb3VyLlxuICogRm9yIGRpc3BsYWNlbWVudHMsIGNvb3JkaW5hdGVzIGhhcyB0byBiZSBjbGFtcGVkLlxuICpcbiAqIFRoZSBgaW5wdXRDbGFtcC54eWAgaXMgbGVmdC10b3AgcGl4ZWwgY2VudGVyLCB5b3UgbWF5IGlnbm9yZSBpdCwgYmVjYXVzZSB3ZSB1c2UgbGVmdC10b3AgcGFydCBvZiBGcmFtZWJ1ZmZlclxuICogYGlucHV0Q2xhbXAuendgIGlzIGJvdHRvbS1yaWdodCBwaXhlbCBjZW50ZXIuXG4gKlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKiBPUlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBtaW4obW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICpcbiAqICMjIyBBZGRpdGlvbmFsIEluZm9ybWF0aW9uXG4gKlxuICogQ29tcGxldGUgZG9jdW1lbnRhdGlvbiBvbiBGaWx0ZXIgdXNhZ2UgaXMgbG9jYXRlZCBpbiB0aGVcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzIGNhbiBiZSBkb3dubG9hZGVkXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGUgUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU2hhZGVyKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgdmFyIHByb2dyYW0gPSBQcm9ncmFtLmZyb20odmVydGV4U3JjIHx8IEZpbHRlci5kZWZhdWx0VmVydGV4U3JjLFxuICAgICAgICAgICAgZnJhZ21lbnRTcmMgfHwgRmlsdGVyLmRlZmF1bHRGcmFnbWVudFNyYyk7XG5cbiAgICAgICAgU2hhZGVyLmNhbGwodGhpcywgcHJvZ3JhbSwgdW5pZm9ybXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGFkZGluZyBvZiB0aGUgZmlsdGVyLiBTb21lIGZpbHRlcnMgcmVxdWlyZSBleHRyYSBzcGFjZSB0byBicmVhdGggc3VjaCBhcyBhIGJsdXIuXG4gICAgICAgICAqIEluY3JlYXNpbmcgdGhpcyB3aWxsIGFkZCBleHRyYSB3aWR0aCBhbmQgaGVpZ2h0IHRvIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCB0aGF0IHRoZVxuICAgICAgICAgKiBmaWx0ZXIgaXMgYXBwbGllZCB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYWRkaW5nID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIGZpbHRlci4gU2V0dGluZyB0aGlzIHRvIGJlIGxvd2VyIHdpbGwgbG93ZXIgdGhlIHF1YWxpdHkgYnV0XG4gICAgICAgICAqIGluY3JlYXNlIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgZmlsdGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSBzZXR0aW5ncy5GSUxURVJfUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCBpcyB0cnVlIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCwgaWYgZmFsc2UgaXQgd2lsbCBub3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkLCBQaXhpSlMgd2lsbCBmaXQgdGhlIGZpbHRlciBhcmVhIGludG8gYm91bmRhcmllcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLlxuICAgICAgICAgKiBTd2l0Y2ggaXQgb2ZmIGlmIGl0IGRvZXMgbm90IHdvcmsgZm9yIHNwZWNpZmljIHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0ZpdCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExlZ2FjeSBmaWx0ZXJzIHVzZSBwb3NpdGlvbiBhbmQgdXZzIGZyb20gYXR0cmlidXRlc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVnYWN5ID0gISF0aGlzLnByb2dyYW0uYXR0cmlidXRlRGF0YS5hVGV4dHVyZUNvb3JkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgdGhlIGZpbHRlciByZXF1aXJlcyB0byByZW5kZXJcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICB9XG5cbiAgICBpZiAoIFNoYWRlciApIEZpbHRlci5fX3Byb3RvX18gPSBTaGFkZXI7XG4gICAgRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNoYWRlciAmJiBTaGFkZXIucHJvdG90eXBlICk7XG4gICAgRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuICAgIHZhciBzdGF0aWNBY2Nlc3NvcnMgPSB7IGRlZmF1bHRWZXJ0ZXhTcmM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZGVmYXVsdEZyYWdtZW50U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgcmVuZGVyIHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbY3VycmVudFN0YXRlXSAtIEl0J3MgY3VycmVudCBzdGF0ZSBvZiBmaWx0ZXIuXG4gICAgICogICAgICAgIFRoZXJlIGFyZSBzb21lIHVzZWZ1bCBwcm9wZXJ0aWVzIGluIHRoZSBjdXJyZW50U3RhdGUgOlxuICAgICAqICAgICAgICB0YXJnZXQsIGZpbHRlcnMsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lLCByZW5kZXJUYXJnZXQsIHJlc29sdXRpb25cbiAgICAgKi9cbiAgICBGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyLCBjdXJyZW50U3RhdGUpXG4gICAge1xuICAgICAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHN0YXRpY0FjY2Vzc29ycy5kZWZhdWx0VmVydGV4U3JjLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQxO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWNBY2Nlc3NvcnMuZGVmYXVsdEZyYWdtZW50U3JjLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50JDE7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggRmlsdGVyLCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBGaWx0ZXI7XG59KFNoYWRlcikpO1xuXG4vKipcbiAqIFVzZWQgZm9yIGNhY2hpbmcgc2hhZGVyIElEc1xuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvdGVjdGVkXG4gKi9cbkZpbHRlci5TT1VSQ0VfS0VZX01BUCA9IHt9O1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgb3RoZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZNYXNrQ29vcmQgPSAoIG90aGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFzaztcXG51bmlmb3JtIGZsb2F0IGFscGhhO1xcbnVuaWZvcm0gZmxvYXQgbnBtQWxwaGE7XFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgbWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChtYXNrLCB2TWFza0Nvb3JkKTtcXG4gICAgZmxvYXQgYWxwaGFNdWwgPSAxLjAgLSBucG1BbHBoYSAqICgxLjAgLSBtYXNreS5hKTtcXG5cXG4gICAgb3JpZ2luYWwgKj0gKGFscGhhTXVsICogbWFza3kuciAqIGFscGhhICogY2xpcCk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IG9yaWdpbmFsO1xcbn1cXG5cIjtcblxudmFyIHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBUYWtlcyBgdHJpbWAgYW5kIGByb3RhdGVgIGludG8gYWNjb3VudC4gTWF5IGNvbnRhaW4gY2xhbXAgc2V0dGluZ3MgZm9yIE1lc2hlcyBhbmQgVGlsaW5nU3ByaXRlLlxuICpcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgYHV2TWF0cml4YCBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIFRha2VzIHRyYWNrIG9mIFRleHR1cmUgY2hhbmdlcyB0aHJvdWdoIGBfbGFzdFRleHR1cmVJRGAgcHJpdmF0ZSBmaWVsZC5cbiAqIFVzZSBgdXBkYXRlKClgIG1ldGhvZCBjYWxsIHRvIHRyYWNrIGl0IGZyb20gb3V0c2lkZS5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLk1lc2hcbiAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVNYXRyaXggPSBmdW5jdGlvbiBUZXh0dXJlTWF0cml4KHRleHR1cmUsIGNsYW1wTWFyZ2luKVxue1xuICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgLyoqXG4gICAgICogTWF0cml4IG9wZXJhdGlvbiB0aGF0IGNvbnZlcnRzIHRleHR1cmUgcmVnaW9uIGNvb3JkcyB0byB0ZXh0dXJlIGNvb3Jkc1xuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBDbGFtcCByZWdpb24gZm9yIG5vcm1hbGl6ZWQgY29vcmRzLCBsZWZ0LXRvcCBwaXhlbCBjZW50ZXIgaW4geHkgLCBib3R0b20tcmlnaHQgaW4gencuXG4gICAgICogQ2FsY3VsYXRlZCBiYXNlZCBvbiBjbGFtcE9mZnNldC5cbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgdGhpcy51Q2xhbXBGcmFtZSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVkIGNsYW1wIG9mZnNldC5cbiAgICAgKiBDYWxjdWxhdGVkIGJhc2VkIG9uIGNsYW1wT2Zmc2V0LlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLnVDbGFtcE9mZnNldCA9IG5ldyBGbG9hdDMyQXJyYXkoMik7XG5cbiAgICAvKipcbiAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLl91cGRhdGVJRCA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICogQ2hhbmdlIHRvIDEuNSBpZiB5b3UgdGV4dHVyZSBoYXMgcmVwZWF0ZWQgcmlnaHQgYW5kIGJvdHRvbSBsaW5lcywgdGhhdCBsZWFkcyB0byBzbW9vdGhlciBib3JkZXJzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY2xhbXBPZmZzZXQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAqIFdvcmtzIHdpdGggVGlsaW5nU3ByaXRlIGFuZCBNZXNoXG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbGFtcE1hcmdpbiA9ICh0eXBlb2YgY2xhbXBNYXJnaW4gPT09ICd1bmRlZmluZWQnKSA/IDAuNSA6IGNsYW1wTWFyZ2luO1xuXG4gICAgLyoqXG4gICAgICogSWYgdGV4dHVyZSBzaXplIGlzIHRoZSBzYW1lIGFzIGJhc2VUZXh0dXJlXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMuaXNTaW1wbGUgPSBmYWxzZTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkNCA9IHsgdGV4dHVyZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIHRleHR1cmUgcHJvcGVydHlcbiAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDQudGV4dHVyZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDQudGV4dHVyZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZTtcbiAgICB0aGlzLl91cGRhdGVJRCA9IC0xO1xufTtcblxuLyoqXG4gKiBNdWx0aXBsaWVzIHV2cyBhcnJheSB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgbWVzaCB1dnNcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PXV2c10gb3V0cHV0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAqL1xuVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiBtdWx0aXBseVV2cyAodXZzLCBvdXQpXG57XG4gICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0ID0gdXZzO1xuICAgIH1cblxuICAgIHZhciBtYXQgPSB0aGlzLm1hcENvb3JkO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpXG4gICAge1xuICAgICAgICB2YXIgeCA9IHV2c1tpXTtcbiAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuXG4gICAgICAgIG91dFtpXSA9ICh4ICogbWF0LmEpICsgKHkgKiBtYXQuYykgKyBtYXQudHg7XG4gICAgICAgIG91dFtpICsgMV0gPSAoeCAqIG1hdC5iKSArICh5ICogbWF0LmQpICsgbWF0LnR5O1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIHVwZGF0ZXMgbWF0cmljZXMgaWYgdGV4dHVyZSB3YXMgY2hhbmdlZFxuICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGU9ZmFsc2VdIGlmIHRydWUsIG1hdHJpY2VzIHdpbGwgYmUgdXBkYXRlZCBhbnkgY2FzZVxuICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IGl0IHdhcyB1cGRhdGVkXG4gKi9cblRleHR1cmVNYXRyaXgucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZm9yY2VVcGRhdGUpXG57XG4gICAgdmFyIHRleCA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICBpZiAoIXRleCB8fCAhdGV4LnZhbGlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghZm9yY2VVcGRhdGVcbiAgICAgICAgJiYgdGhpcy5fdXBkYXRlSUQgPT09IHRleC5fdXBkYXRlSUQpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlSUQgPSB0ZXguX3VwZGF0ZUlEO1xuXG4gICAgdmFyIHV2cyA9IHRleC5fdXZzO1xuXG4gICAgdGhpcy5tYXBDb29yZC5zZXQodXZzLngxIC0gdXZzLngwLCB1dnMueTEgLSB1dnMueTAsIHV2cy54MyAtIHV2cy54MCwgdXZzLnkzIC0gdXZzLnkwLCB1dnMueDAsIHV2cy55MCk7XG5cbiAgICB2YXIgb3JpZyA9IHRleC5vcmlnO1xuICAgIHZhciB0cmltID0gdGV4LnRyaW07XG5cbiAgICBpZiAodHJpbSlcbiAgICB7XG4gICAgICAgIHRlbXBNYXQuc2V0KG9yaWcud2lkdGggLyB0cmltLndpZHRoLCAwLCAwLCBvcmlnLmhlaWdodCAvIHRyaW0uaGVpZ2h0LFxuICAgICAgICAgICAgLXRyaW0ueCAvIHRyaW0ud2lkdGgsIC10cmltLnkgLyB0cmltLmhlaWdodCk7XG4gICAgICAgIHRoaXMubWFwQ29vcmQuYXBwZW5kKHRlbXBNYXQpO1xuICAgIH1cblxuICAgIHZhciB0ZXhCYXNlID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgIHZhciBmcmFtZSA9IHRoaXMudUNsYW1wRnJhbWU7XG4gICAgdmFyIG1hcmdpbiA9IHRoaXMuY2xhbXBNYXJnaW4gLyB0ZXhCYXNlLnJlc29sdXRpb247XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuY2xhbXBPZmZzZXQ7XG5cbiAgICBmcmFtZVswXSA9ICh0ZXguX2ZyYW1lLnggKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICBmcmFtZVsxXSA9ICh0ZXguX2ZyYW1lLnkgKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgZnJhbWVbMl0gPSAodGV4Ll9mcmFtZS54ICsgdGV4Ll9mcmFtZS53aWR0aCAtIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgIGZyYW1lWzNdID0gKHRleC5fZnJhbWUueSArIHRleC5fZnJhbWUuaGVpZ2h0IC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgIHRoaXMudUNsYW1wT2Zmc2V0WzBdID0gb2Zmc2V0IC8gdGV4QmFzZS5yZWFsV2lkdGg7XG4gICAgdGhpcy51Q2xhbXBPZmZzZXRbMV0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxIZWlnaHQ7XG5cbiAgICB0aGlzLmlzU2ltcGxlID0gdGV4Ll9mcmFtZS53aWR0aCA9PT0gdGV4QmFzZS53aWR0aFxuICAgICAgICAmJiB0ZXguX2ZyYW1lLmhlaWdodCA9PT0gdGV4QmFzZS5oZWlnaHRcbiAgICAgICAgJiYgdGV4LnJvdGF0ZSA9PT0gMDtcblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRleHR1cmVNYXRyaXgucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkNCApO1xuXG4vKipcbiAqIFRoaXMgaGFuZGxlcyBhIFNwcml0ZSBhY3RpbmcgYXMgYSBtYXNrLCBhcyBvcHBvc2VkIHRvIGEgR3JhcGhpYy5cbiAqXG4gKiBXZWJHTCBvbmx5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGVNYXNrRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gU3ByaXRlTWFza0ZpbHRlcihzcHJpdGUpXG4gICAge1xuICAgICAgICB2YXIgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50KTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcHJpdGUgbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBtYXRyaXhcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgU3ByaXRlTWFza0ZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXI7XG4gICAgU3ByaXRlTWFza0ZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ByaXRlTWFza0ZpbHRlcjtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0LlxuICAgICAqL1xuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlLmFwcGx5ID0gZnVuY3Rpb24gYXBwbHkgKGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tTcHJpdGUgPSB0aGlzLm1hc2tTcHJpdGU7XG4gICAgICAgIHZhciB0ZXggPSB0aGlzLm1hc2tTcHJpdGUudGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleC52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGV4LnRyYW5zZm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbWFyZ2luID0gMC4wLCBsZXQgaXQgYmxlZWQgYSBiaXQsIHNoYWRlciBjb2RlIGJlY29tZXMgZWFzaWVyXG4gICAgICAgICAgICAvLyBhc3N1bWluZyB0aGF0IGF0bGFzIHRleHR1cmVzIHdlcmUgbWFkZSB3aXRoIDEtcGl4ZWwgcGFkZGluZ1xuICAgICAgICAgICAgdGV4LnRyYW5zZm9ybSA9IG5ldyBUZXh0dXJlTWF0cml4KHRleCwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgICB0ZXgudHJhbnNmb3JtLnVwZGF0ZSgpO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybXMubnBtQWxwaGEgPSB0ZXguYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA/IDAuMCA6IDEuMDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXNrID0gdGV4O1xuICAgICAgICAvLyBnZXQgX25vcm1hbGl6ZWQgc3ByaXRlIHRleHR1cmUgY29vcmRzXyBhbmQgY29udmVydCB0aGVtIHRvIF9ub3JtYWxpemVkIGF0bGFzIHRleHR1cmUgY29vcmRzXyB3aXRoIGBwcmVwZW5kYFxuICAgICAgICB0aGlzLnVuaWZvcm1zLm90aGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCBtYXNrU3ByaXRlKVxuICAgICAgICAgICAgLnByZXBlbmQodGV4LnRyYW5zZm9ybS5tYXBDb29yZCk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuYWxwaGEgPSBtYXNrU3ByaXRlLndvcmxkQWxwaGE7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFza0NsYW1wID0gdGV4LnRyYW5zZm9ybS51Q2xhbXBGcmFtZTtcblxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNwcml0ZU1hc2tGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBtYXNrcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBNYXNrU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gTWFza1N5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBUT0RPIC0gd2UgZG9uJ3QgbmVlZCBib3RoIVxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGN1cnJlbnQgcHVzaGVkIG1hc2tlZCBpcyBzY2lzc29yXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXQgdG8gbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlIHNjaXNzb3JcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZVNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1c2VkIHNwcml0ZSBtYXNrIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGVNYXNrRmlsdGVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaW5kZXggb2YgYWxwaGEgbWFzayBwb29sXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgTWFza1N5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0gJiYgU3lzdGVtLnByb3RvdHlwZSApO1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFza1N5c3RlbTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAodGFyZ2V0LCBtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gdGhlIHJvb3QgY2hlY2sgbWVhbnMgc2Npc3NvciByZWN0IHdpbGwgbm90XG4gICAgICAgIC8vIGJlIHVzZWQgb24gcmVuZGVyIHRleHR1cmVzIG1vcmUgaW5mbyBoZXJlOlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvcHVsbC8zNTQ1XG5cbiAgICAgICAgaWYgKG1hc2tEYXRhLmlzU3ByaXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnB1c2hTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZW5hYmxlU2Npc3NvclxuICAgICAgICAgICAgJiYgIXRoaXMuc2Npc3NvclxuICAgICAgICAgICAgJiYgdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LnJvb3RcbiAgICAgICAgICAgICYmICF0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGhcbiAgICAgICAgICAgICYmIG1hc2tEYXRhLmlzRmFzdFJlY3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IG1hc2tEYXRhLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB2YXIgcm90ID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuXG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIVxuICAgICAgICAgICAgcm90ID0gTWF0aC5yb3VuZChyb3QgKiAoMTgwIC8gTWF0aC5QSSkpO1xuXG4gICAgICAgICAgICBpZiAocm90ICUgOTApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAodGFyZ2V0LCBtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIGlmIChtYXNrRGF0YS5pc1Nwcml0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wb3BTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZW5hYmxlU2Npc3NvciAmJiAhdGhpcy5yZW5kZXJlci5zdGVuY2lsLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBvcFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wb3BTdGVuY2lsTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBzcHJpdGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoU3ByaXRlTWFzayA9IGZ1bmN0aW9uIHB1c2hTcHJpdGVNYXNrICh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcblxuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBTcHJpdGVNYXNrRmlsdGVyKG1hc2tEYXRhKV07XG4gICAgICAgIH1cblxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrRGF0YTtcblxuICAgICAgICB2YXIgc3Rhc2hGaWx0ZXJBcmVhID0gdGFyZ2V0LmZpbHRlckFyZWE7XG5cbiAgICAgICAgdGFyZ2V0LmZpbHRlckFyZWEgPSBtYXNrRGF0YS5nZXRCb3VuZHModHJ1ZSk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnB1c2godGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IHN0YXNoRmlsdGVyQXJlYTtcblxuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4Kys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wb3BTcHJpdGVNYXNrID0gZnVuY3Rpb24gcG9wU3ByaXRlTWFzayAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgtLTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgTWFzayBhbmQgYWRkcyBpdCB0byB0aGUgY3VycmVudCBmaWx0ZXIgc3RhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoU3RlbmNpbE1hc2sgPSBmdW5jdGlvbiBwdXNoU3RlbmNpbE1hc2sgKG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucHVzaFN0ZW5jaWwobWFza0RhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucG9wU3RlbmNpbE1hc2sgPSBmdW5jdGlvbiBwb3BTdGVuY2lsTWFzayAoKVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5yZW5kZXJlci5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucG9wU3RlbmNpbCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaFNjaXNzb3JNYXNrID0gZnVuY3Rpb24gcHVzaFNjaXNzb3JNYXNrICh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgdmFyIHJlbmRlclRhcmdldCA9IHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcblxuICAgICAgICB2YXIgYm91bmRzID0gbWFza0RhdGEuZ2V0Qm91bmRzKCk7XG5cbiAgICAgICAgYm91bmRzLmZpdChyZW5kZXJUYXJnZXQuc2l6ZSk7XG4gICAgICAgIG1hc2tEYXRhLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLmVuYWJsZSh0aGlzLnJlbmRlcmVyLmdsLlNDSVNTT1JfVEVTVCk7XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKFxuICAgICAgICAgICAgYm91bmRzLnggKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgKHJlbmRlclRhcmdldC5yb290ID8gcmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0IC0gYm91bmRzLnkgLSBib3VuZHMuaGVpZ2h0IDogYm91bmRzLnkpICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGJvdW5kcy53aWR0aCAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICBib3VuZHMuaGVpZ2h0ICogcmVzb2x1dGlvblxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgdGhpcy5zY2lzc29yRGF0YSA9IG1hc2tEYXRhO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb3Agc2Npc3NvciBtYXNrXG4gICAgICpcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wb3BTY2lzc29yTWFzayA9IGZ1bmN0aW9uIHBvcFNjaXNzb3JNYXNrICgpXG4gICAge1xuICAgICAgICB0aGlzLnNjaXNzb3JSZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLy8gbXVzdCBiZSBzY2lzc29yIVxuICAgICAgICB2YXIgcmVmID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGdsLmRpc2FibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1hc2tTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzdGVuY2lscyAodXNlZCBmb3IgbWFza3MpLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFN0ZW5jaWxTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBTdGVuY2lsU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFzayBzdGFja1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBbXTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFN0ZW5jaWxTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0ZW5jaWxTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBtYXNrIHN0YWNrIHRoYXQgaXMgdXNlZCBieSB0aGlzIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc1tdfSBzdGVuY2lsTWFza1N0YWNrIC0gVGhlIG1hc2sgc3RhY2tcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5zZXRNYXNrU3RhY2sgPSBmdW5jdGlvbiBzZXRNYXNrU3RhY2sgKHN0ZW5jaWxNYXNrU3RhY2spXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgY3VyU3RhY2tMZW4gPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoO1xuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IHN0ZW5jaWxNYXNrU3RhY2s7XG4gICAgICAgIGlmIChzdGVuY2lsTWFza1N0YWNrLmxlbmd0aCAhPT0gY3VyU3RhY2tMZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzdGVuY2lsTWFza1N0YWNrLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IGdyYXBoaWNzIC0gVGhlIG1hc2tcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5wdXNoU3RlbmNpbCA9IGZ1bmN0aW9uIHB1c2hTdGVuY2lsIChncmFwaGljcylcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBwcmV2TWFza0NvdW50ID0gdGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aDtcblxuICAgICAgICBpZiAocHJldk1hc2tDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucHVzaChncmFwaGljcyk7XG5cbiAgICAgICAgLy8gSW5jcmVtZW50IHRoZSByZWZlcmVuY2Ugc3RlbmNpbCB2YWx1ZSB3aGVyZSB0aGUgbmV3IG1hc2sgb3ZlcmxhcHMgd2l0aCB0aGUgb2xkIG9uZXMuXG4gICAgICAgIGdsLmNvbG9yTWFzayhmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCBwcmV2TWFza0NvdW50LCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLklOQ1IpO1xuXG4gICAgICAgIGdyYXBoaWNzLnJlbmRlcmFibGUgPSB0cnVlO1xuICAgICAgICBncmFwaGljcy5yZW5kZXIodGhpcy5yZW5kZXJlcik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgZ3JhcGhpY3MucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3VzZUN1cnJlbnQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqL1xuICAgIFN0ZW5jaWxTeXN0ZW0ucHJvdG90eXBlLnBvcFN0ZW5jaWwgPSBmdW5jdGlvbiBwb3BTdGVuY2lsICgpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgZ3JhcGhpY3MgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayBpcyBlbXB0eSFcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuXG4gICAgICAgICAgICBncmFwaGljcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzdGVuY2lsIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uIF91c2VDdXJyZW50ICgpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbGwgMXMgZXF1YWwgdG8gdGhlIG51bWJlciBvZiBhY2l0dmUgc3RlbmNpbCBtYXNrcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJpdHdpc2UgbWFzay5cbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fZ2V0Qml0d2lzZU1hc2sgPSBmdW5jdGlvbiBfZ2V0Qml0d2lzZU1hc2sgKClcbiAgICB7XG4gICAgICAgIHJldHVybiAoMSA8PCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKSAtIDE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIFN5c3RlbS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBTdGVuY2lsU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgdGhlIHByb2plY3Rpb24gbWF0cml4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuXG52YXIgUHJvamVjdGlvblN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFByb2plY3Rpb25TeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0uY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBkZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2plY3QgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0cmFuc2Zvcm0gdGhhdCB3aWxsIGJlIGFwcGVuZGVkIHRvIHRoZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAgICAgKiBpZiBudWxsLCBub3RoaW5nIHdpbGwgYmUgYXBwbGllZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFByb2plY3Rpb25TeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByb2plY3Rpb25TeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBSZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gSWYgaXMgcm9vdFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpXG4gICAge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IHRoaXMuc291cmNlRnJhbWUgfHwgZGVzdGluYXRpb25GcmFtZTtcblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KTtcblxuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeC5hcHBlbmQodGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gIHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAvLyBidXQgd291bGQgYmUgc3dlZXQgdG8gc3RpY2sgYW5kIGV2ZW4gb24gdGhlIGdsb2JhbCB1bmlmb3Jtcy4uXG4gICAgICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBJZiBpcyByb290XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuY2FsY3VsYXRlUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2plY3Rpb24gKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KVxuICAgIHtcbiAgICAgICAgdmFyIHBtID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuXG4gICAgICAgIC8vIEkgZG9uJ3QgdGhpbmsgd2Ugd2lsbCBuZWVkIHRoaXMgbGluZS4uXG4gICAgICAgIC8vIHBtLmlkZW50aXR5KCk7XG5cbiAgICAgICAgaWYgKCFyb290KVxuICAgICAgICB7XG4gICAgICAgICAgICBwbS5hID0gKDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMikgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcG0uZCA9ICgxIC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiAyKSAqIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgIHBtLnR4ID0gLTEgLSAoc291cmNlRnJhbWUueCAqIHBtLmEpO1xuICAgICAgICAgICAgcG0udHkgPSAtMSAtIChzb3VyY2VGcmFtZS55ICogcG0uZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBwbS5hID0gKDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMikgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcG0uZCA9ICgtMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMikgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBwbS50eCA9IC0xIC0gKHNvdXJjZUZyYW1lLnggKiBwbS5hKTtcbiAgICAgICAgICAgIHBtLnR5ID0gMSAtIChzb3VyY2VGcmFtZS55ICogcG0uZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhbnNmb3JtIG9mIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCB0byB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtICgpLy8gbWF0cml4KVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFByb2plY3Rpb25TeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgdGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHJlbmRlciB0ZXh0dXJlcy5cbiAqXG4gKiBTaG91bGQgYmUgYWRkZWQgYWZ0ZXIgRnJhbWVidWZmZXJTeXN0ZW1cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cblxudmFyIFJlbmRlclRleHR1cmVTeXN0ZW0gPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTeXN0ZW0pIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xlYXIgYmFja2dyb3VuZCBjb2xvciBhcyByZ2JhXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gcmVuZGVyZXIuX2JhY2tncm91bmRDb2xvclJnYmE7XG5cbiAgICAgICAgLy8gVE9ETyBtb3ZlIHRoaXMgcHJvcGVydHkgc29tZXdoZXJlIGVsc2UhXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hc2tzIGZvciB0aGUgU3RlbmNpbFN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0TWFza1N0YWNrID0gW107XG5cbiAgICAgICAgLy8gZW1wdHkgcmVuZGVyIHRleHR1cmU/XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFJlbmRlclRleHR1cmVTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJlbmRlclRleHR1cmVTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoZSBjdXJyZW50IHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFJlbmRlclRleHR1cmUgdG8gYmluZCwgYnkgZGVmYXVsdCBpdHMgYG51bGxgLCB0aGUgc2NyZWVuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3NvdXJjZUZyYW1lXSAtIHBhcnQgb2Ygc2NyZWVuIHRoYXQgaXMgbWFwcGVkIHRvIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW2Rlc3RpbmF0aW9uRnJhbWVdIC0gcGFydCBvZiByZW5kZXJUZXh0dXJlLCBieSBkZWZhdWx0IGl0IGhhcyB0aGUgc2FtZSBzaXplIGFzIHNvdXJjZUZyYW1lXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKHJlbmRlclRleHR1cmUsIHNvdXJjZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKVxuICAgIHtcbiAgICAgICAgaWYgKCByZW5kZXJUZXh0dXJlID09PSB2b2lkIDAgKSByZW5kZXJUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmN1cnJlbnQgPSByZW5kZXJUZXh0dXJlO1xuXG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmluZChiYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlciwgZGVzdGluYXRpb25GcmFtZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi51cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2soYmFzZVRleHR1cmUuc3RlbmNpbE1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAvLyBUT0RPIHRoZXNlIHZhbGlkYXRpb24gY2hlY2tzIGhhcHBlbiBkZWVwZXIgZG93bi4uXG4gICAgICAgICAgICAvLyB0aGluZyB0aGV5IGNhbiBiZSBhdm9pZGVkLi5cbiAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQobnVsbCwgZGVzdGluYXRpb25GcmFtZSk7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGhpcy4uXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2sodGhpcy5kZWZhdWx0TWFza1N0YWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUuY29weUZyb20oc291cmNlRnJhbWUpO1xuXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS54ID0gZGVzdGluYXRpb25GcmFtZS54IC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgPSBkZXN0aW5hdGlvbkZyYW1lLnkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChzb3VyY2VGcmFtZSA9PT0gZGVzdGluYXRpb25GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0aGlzLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVyYXNlcyB0aGUgcmVuZGVyIHRleHR1cmUgYW5kIGZpbGxzIHRoZSBkcmF3aW5nIGFyZWEgd2l0aCBhIGNvbG91clxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gW2NsZWFyQ29sb3JdIC0gVGhlIGNvbG9yIGFzIHJnYmEsIGRlZmF1bHQgdG8gdXNlIHRoZSByZW5kZXJlciBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyIChjbGVhckNvbG9yKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgY2xlYXJDb2xvciA9IGNsZWFyQ29sb3IgfHwgdGhpcy5jdXJyZW50LmJhc2VUZXh0dXJlLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmNsZWFyQ29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmNsZWFyKGNsZWFyQ29sb3JbMF0sIGNsZWFyQ29sb3JbMV0sIGNsZWFyQ29sb3JbMl0sIGNsZWFyQ29sb3JbM10pO1xuICAgIH07XG5cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKCkvLyBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSByb290IG9ubHkhXG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHJlbmRlclRleHR1cmUgc3RhdGVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLmJpbmQobnVsbCk7XG4gICAgfTtcblxuICAgIHJldHVybiBSZW5kZXJUZXh0dXJlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgV2ViR0wgUHJvZ3JhbVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdMUHJvZ3JhbSA9IGZ1bmN0aW9uIEdMUHJvZ3JhbShwcm9ncmFtLCB1bmlmb3JtRGF0YSlcbntcbiAgICAvKipcbiAgICAgKiBUaGUgc2hhZGVyIHByb2dyYW1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMUHJvZ3JhbX1cbiAgICAgKi9cbiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuXG4gICAgLyoqXG4gICAgICogaG9sZHMgdGhlIHVuaWZvcm0gZGF0YSB3aGljaCBjb250YWlucyB1bmlmb3JtIGxvY2F0aW9uc1xuICAgICAqIGFuZCBjdXJyZW50IHVuaWZvcm0gdmFsdWVzIHVzZWQgZm9yIGNhY2hpbmcgYW5kIHByZXZlbnRpbmcgdW5uZWVkZWQgR1BVIGNvbW1hbmRzXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMudW5pZm9ybURhdGEgPSB1bmlmb3JtRGF0YTtcblxuICAgIC8qKlxuICAgICAqIHVuaWZvcm1Hcm91cHMgaG9sZHMgdGhlIHZhcmlvdXMgdXBsb2FkIGZ1bmN0aW9ucyBmb3IgdGhlIHNoYWRlci4gRWFjaCB1bmlmb3JtIGdyb3VwXG4gICAgICogYW5kIHByb2dyYW0gaGF2ZSBhIHVuaXF1ZSB1cGxvYWQgZnVuY3Rpb24gZ2VuZXJhdGVkLlxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSB7fTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyBwcm9ncmFtXG4gKi9cbkdMUHJvZ3JhbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcbiAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSBudWxsO1xuICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG59O1xuXG52YXIgVUlEJDQgPSAwO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzaGFkZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIFNoYWRlclN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFNoYWRlclN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBWYWxpZGF0aW9uIGNoZWNrIHRoYXQgdGhpcyBlbnZpcm9ubWVudCBzdXBwb3J0IGBuZXcgRnVuY3Rpb25gXG4gICAgICAgIHRoaXMuc3lzdGVtQ2hlY2soKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgV2ViR0wgcmVuZGVyaW5nIGNvbnRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSB0byBob2xkcyB0aGUgZ2VuZXJhdGVkIGZ1bmN0aW9ucy4gU3RvcmVkIGFnYWluc3QgVW5pZm9ybU9iamVjdHMgdW5pcXVlIHNpZ25hdHVyZVxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWNoZSA9IHt9O1xuXG4gICAgICAgIHRoaXMuaWQgPSBVSUQkNCsrO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgU2hhZGVyU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2hhZGVyU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGZ1bmN0aW9uIGJ5IGBAcGl4aS91bnNhZmUtZXZhbGAgdG8gc2lsZW5jZVxuICAgICAqIHRocm93aW5nIGFuIGVycm9yIGlmIHBsYXRmb3JtIGRvZXNuJ3Qgc3VwcG9ydCB1bnNhZmUtZXZhbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuc3lzdGVtQ2hlY2sgPSBmdW5jdGlvbiBzeXN0ZW1DaGVjayAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF1bnNhZmVFdmFsU3VwcG9ydGVkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ3VycmVudCBlbnZpcm9ubWVudCBkb2VzIG5vdCBhbGxvdyB1bnNhZmUtZXZhbCwgJ1xuICAgICAgICAgICAgICAgICsgJ3BsZWFzZSB1c2UgQHBpeGkvdW5zYWZlLWV2YWwgbW9kdWxlIHRvIGVuYWJsZSBzdXBwb3J0LicpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgc2hhZGVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgLSB0aGUgbmV3IHNoYWRlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZG9udFN5bmMgLSBmYWxzZSBpZiB0aGUgc2hhZGVyIHNob3VsZCBhdXRvbWF0aWNhbGx5IHN5bmMgaXRzIHVuaWZvcm1zLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdMUHJvZ3JhbX0gdGhlIGdsUHJvZ3JhbSB0aGF0IGJlbG9uZ3MgdG8gdGhlIHNoYWRlci5cbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChzaGFkZXIsIGRvbnRTeW5jKVxuICAgIHtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMgPSB0aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zO1xuXG4gICAgICAgIHZhciBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gfHwgdGhpcy5nZW5lcmF0ZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuXG4gICAgICAgIC8vIFRPRE8gLSBzb21lIGN1cnJlbnQgUGl4aSBwbHVnaW5zIGJ5cGFzcyB0aGlzLi4gc28gaXQgbm90IHNhZmUgdG8gdXNlIHlldC4uXG4gICAgICAgIGlmICh0aGlzLnByb2dyYW0gIT09IHByb2dyYW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0oZ2xQcm9ncmFtLnByb2dyYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFkb250U3luYylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zeW5jVW5pZm9ybUdyb3VwKHNoYWRlci51bmlmb3JtR3JvdXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdsUHJvZ3JhbTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdW5pZm9ybXMgdmFsdWVzIHRvIHRoZSBjdXJyZW50bHkgYm91bmQgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHVuaWZvcm1zIC0gdGhlIHVuaWZvcm1zIHZhbHVlcyB0aGF0IGJlIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2hhZGVyXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zZXRVbmlmb3JtcyA9IGZ1bmN0aW9uIHNldFVuaWZvcm1zICh1bmlmb3JtcylcbiAgICB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlci5wcm9ncmFtO1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gc2hhZGVyLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgc2hhZGVyLnN5bmNVbmlmb3JtcyhnbFByb2dyYW0udW5pZm9ybURhdGEsIHVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybUdyb3VwID0gZnVuY3Rpb24gc3luY1VuaWZvcm1Hcm91cCAoZ3JvdXApXG4gICAge1xuICAgICAgICB2YXIgZ2xQcm9ncmFtID0gdGhpcy5nZXRnbFByb2dyYW0oKTtcblxuICAgICAgICBpZiAoIWdyb3VwLnN0YXRpYyB8fCBncm91cC5kaXJ0eUlkICE9PSBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSA9IGdyb3VwLmRpcnR5SWQ7XG5cbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlYWJsZSBieSB0aGUgQHBpeGkvdW5zYWZlLWV2YWwgcGFja2FnZSB0byB1c2Ugc3RhdGljXG4gICAgICogc3luY1VuZm9ybXMgaW5zdGVhZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5zeW5jVW5pZm9ybXMgPSBmdW5jdGlvbiBzeW5jVW5pZm9ybXMgKGdyb3VwLCBnbFByb2dyYW0pXG4gICAge1xuICAgICAgICB2YXIgc3luY0Z1bmMgPSBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gfHwgdGhpcy5jcmVhdGVTeW5jR3JvdXBzKGdyb3VwKTtcblxuICAgICAgICBzeW5jRnVuYyhnbFByb2dyYW0udW5pZm9ybURhdGEsIGdyb3VwLnVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jcmVhdGVTeW5jR3JvdXBzID0gZnVuY3Rpb24gY3JlYXRlU3luY0dyb3VwcyAoZ3JvdXApXG4gICAge1xuICAgICAgICB2YXIgaWQgPSB0aGlzLmdldFNpZ25hdHVyZShncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlW2lkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWNoZVtpZF0gPSBnZW5lcmF0ZVVuaWZvcm1zU3luYyhncm91cCwgdGhpcy5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF0gPSB0aGlzLmNhY2hlW2lkXTtcblxuICAgICAgICByZXR1cm4gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHVuaWZvcm0gZ3JvdXAgYW5kIGRhdGEgYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVW5pZm9ybUdyb3VwfSBncm91cCB0aGUgdW5pZm9ybSBncm91cCB0byBnZXQgc2lnbmF0dXJlIG9mXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1EYXRhIHVuaWZvcm0gaW5mb3JtYXRpb24gZ2VuZXJhdGVkIGJ5IHRoZSBzaGFkZXJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSB1bmlmb3JtIGdyb3VwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdldFNpZ25hdHVyZSA9IGZ1bmN0aW9uIGdldFNpZ25hdHVyZSAoZ3JvdXAsIHVuaWZvcm1EYXRhKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0gZ3JvdXAudW5pZm9ybXM7XG5cbiAgICAgICAgdmFyIHN0cmluZ3MgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIHVuaWZvcm1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG5cbiAgICAgICAgICAgIGlmICh1bmlmb3JtRGF0YVtpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2godW5pZm9ybURhdGFbaV0udHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgR0xTaGFkZSByb2YgdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICogVGhpcyBjYW4gYmUgaGFuZHkgZm9yIHdoZW4geW91IHRvIGhhdmUgYSBsaXR0bGUgbW9yZSBjb250cm9sIG92ZXIgdGhlIHNldHRpbmcgb2YgeW91ciB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIGZvciB0aGUgY3VycmVudGx5IGJvdW5kIFNoYWRlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRnbFByb2dyYW0gPSBmdW5jdGlvbiBnZXRnbFByb2dyYW0gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBnbFByb2dyYW0gdmVyc2lvbiBvZiB0aGUgU2hhZGVyIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgdGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdMUHJvZ3JhbX0gQSBzaGlueSBuZXcgZ2xQcm9ncmFtIVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiBnZW5lcmF0ZVNoYWRlciAoc2hhZGVyKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICB2YXIgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuXG4gICAgICAgIHZhciBhdHRyaWJNYXAgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpIGluIHByb2dyYW0uYXR0cmlidXRlRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmliTWFwW2ldID0gcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2ldLmxvY2F0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYWRlclByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgcHJvZ3JhbS52ZXJ0ZXhTcmMsIHByb2dyYW0uZnJhZ21lbnRTcmMsIGF0dHJpYk1hcCk7XG4gICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkkMSBpbiBwcm9ncmFtLnVuaWZvcm1EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHByb2dyYW0udW5pZm9ybURhdGFbaSQxXTtcblxuICAgICAgICAgICAgdW5pZm9ybURhdGFbaSQxXSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIGkkMSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZShkYXRhLnR5cGUsIGRhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oc2hhZGVyUHJvZ3JhbSwgdW5pZm9ybURhdGEpO1xuXG4gICAgICAgIHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IGdsUHJvZ3JhbTtcblxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgU2hhZGVyU3lzdGVtIHN0YXRlLCBkb2VzIG5vdCBhZmZlY3QgV2ViR0wgc3RhdGVcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBTeXN0ZW0gYW5kIHJlbW92ZXMgYWxsIGl0cyB0ZXh0dXJlc1xuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gaW1wbGVtZW50IGRlc3Ryb3kgbWV0aG9kIGZvciBTaGFkZXJTeXN0ZW1cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2hhZGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge251bWJlcltdW119IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsLCBhcnJheSlcbntcbiAgICBpZiAoIGFycmF5ID09PSB2b2lkIDAgKSBhcnJheSA9IFtdO1xuXG4gICAgLy8gVE9ETyAtIHByZW11bHRpcGx5IGFscGhhIHdvdWxkIGJlIGRpZmZlcmVudC5cbiAgICAvLyBhZGQgYSBib29sZWFuIGZvciB0aGF0IVxuICAgIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5BRERdID0gW2dsLk9ORSwgZ2wuT05FXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5NVUxUSVBMWV0gPSBbZ2wuRFNUX0NPTE9SLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNDUkVFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk9WRVJMQVldID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuREFSS0VOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkxJR0hURU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfRE9ER0VdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JfQlVSTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IQVJEX0xJR0hUXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNPRlRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRElGRkVSRU5DRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5FWENMVVNJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuSFVFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNBVFVSQVRJT05dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQ09MT1JdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTFVNSU5PU0lUWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT05FXSA9IFswLCAwXTtcblxuICAgIC8vIG5vdC1wcmVtdWx0aXBsaWVkIGJsZW5kIG1vZGVzXG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkFERF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkUsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuXG4gICAgLy8gY29tcG9zaXRlIG9wZXJhdGlvbnNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX09VVF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0lOXSA9IFtnbC5aRVJPLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuXG4gICAgLy8gU1VCVFJBQ1QgZnJvbSBmbGFzaFxuICAgIGFycmF5W0JMRU5EX01PREVTLlNVQlRSQUNUXSA9IFtnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLkZVTkNfUkVWRVJTRV9TVUJUUkFDVCwgZ2wuRlVOQ19BRERdO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG52YXIgQkxFTkQkMSA9IDA7XG52YXIgT0ZGU0VUJDEgPSAxO1xudmFyIENVTExJTkckMSA9IDI7XG52YXIgREVQVEhfVEVTVCQxID0gMztcbnZhciBXSU5ESU5HJDEgPSA0O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBXZWJHTCBzdGF0ZSBtYWNoaW5lcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBTdGF0ZVN5c3RlbSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFN5c3RlbSkge1xuICAgIGZ1bmN0aW9uIFN0YXRlU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHTCBjb250ZXh0XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RhdGUgSURcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGVJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvbHlnb24gb2Zmc2V0XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCbGVuZCBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT05FXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT05FO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGN1cnJlbnQgYmxlbmQgZXF1YXRpb24gaXMgZGlmZmVyZW50XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFwID0gW107XG5cbiAgICAgICAgLy8gbWFwIGZ1bmN0aW9ucyBmb3Igd2hlbiB3ZSBzZXQgc3RhdGUuLlxuICAgICAgICB0aGlzLm1hcFtCTEVORCQxXSA9IHRoaXMuc2V0QmxlbmQ7XG4gICAgICAgIHRoaXMubWFwW09GRlNFVCQxXSA9IHRoaXMuc2V0T2Zmc2V0O1xuICAgICAgICB0aGlzLm1hcFtDVUxMSU5HJDFdID0gdGhpcy5zZXRDdWxsRmFjZTtcbiAgICAgICAgdGhpcy5tYXBbREVQVEhfVEVTVCQxXSA9IHRoaXMuc2V0RGVwdGhUZXN0O1xuICAgICAgICB0aGlzLm1hcFtXSU5ESU5HJDFdID0gdGhpcy5zZXRGcm9udEZhY2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgY2hlY2sgY2FsbHNcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoZWNrcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFdlYkdMIFN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUgPSBuZXcgU3RhdGUoKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZS5kZXB0aCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0gKSBTdGF0ZVN5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW07XG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdGF0ZVN5c3RlbTtcblxuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgdGhpcy5ibGVuZE1vZGVzID0gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsKTtcblxuICAgICAgICB0aGlzLnNldCh0aGlzLmRlZmF1bHRTdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldC5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChzdGF0ZSlcbiAgICB7XG4gICAgICAgIHN0YXRlID0gc3RhdGUgfHwgdGhpcy5kZWZhdWx0U3RhdGU7XG5cbiAgICAgICAgLy8gVE9ETyBtYXliZSB0byBhbiBvYmplY3QgY2hlY2s/ICggdGhpcy5zdGF0ZSA9PT0gc3RhdGUgKT9cbiAgICAgICAgaWYgKHRoaXMuc3RhdGVJZCAhPT0gc3RhdGUuZGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGRpZmYgPSB0aGlzLnN0YXRlSWQgXiBzdGF0ZS5kYXRhO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICAvLyBvcmRlciBmcm9tIGxlYXN0IHRvIG1vc3QgY29tbW9uXG4gICAgICAgICAgICB3aGlsZSAoZGlmZilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlmZiAmIDEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdGF0ZSBjaGFuZ2UhXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwW2ldLmNhbGwodGhpcywgISEoc3RhdGUuZGF0YSAmICgxIDw8IGkpKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGlmZiA9IGRpZmYgPj4gMTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYXNlZCBvbiB0aGUgYWJvdmUgc2V0dGluZ3Mgd2UgY2hlY2sgZm9yIHNwZWNpZmljIG1vZGVzLi5cbiAgICAgICAgLy8gZm9yIGV4YW1wbGUgaWYgYmxlbmQgaXMgYWN0aXZlIHdlIGNoZWNrIGFuZCBzZXQgdGhlIGJsZW5kIG1vZGVzXG4gICAgICAgIC8vIG9yIG9mIHBvbHlnb24gb2Zmc2V0IGlzIGFjdGl2ZSB3ZSBjaGVjayB0aGUgcG9seSBkZXB0aC5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3NbaSQxXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RhdGUsIHdoZW4gcHJldmlvdXMgc3RhdGUgaXMgdW5rbm93blxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXRcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuZm9yY2VTdGF0ZSA9IGZ1bmN0aW9uIGZvcmNlU3RhdGUgKHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm1hcC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0aGlzLmNoZWNrcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpJDFdKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZWQgYmxlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgYmxlbmRpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEJsZW5kID0gZnVuY3Rpb24gc2V0QmxlbmQgKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSwgdmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5CTEVORCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgcG9seWdvbiBvZmZzZXQgdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0T2Zmc2V0ID0gZnVuY3Rpb24gc2V0T2Zmc2V0ICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tQb2x5Z29uT2Zmc2V0LCB2YWx1ZSk7XG5cbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLlBPTFlHT05fT0ZGU0VUX0ZJTEwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgZGVwdGggdGVzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBkZXB0aCB0ZXN0aW5nLlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXREZXB0aFRlc3QgPSBmdW5jdGlvbiBzZXREZXB0aFRlc3QgKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkRFUFRIX1RFU1QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHdoZXRoZXIgdG8gZW5hYmxlIG9yIGRpc2FibGUgY3VsbCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFR1cm4gb24gb3Igb2ZmIHdlYmdsIGN1bGwgZmFjZS5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0Q3VsbEZhY2UgPSBmdW5jdGlvbiBzZXRDdWxsRmFjZSAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2wgZnJvbnQgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSB0cnVlIGlzIGNsb2Nrd2lzZSBhbmQgZmFsc2UgaXMgY291bnRlci1jbG9ja3dpc2VcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RnJvbnRGYWNlID0gZnVuY3Rpb24gc2V0RnJvbnRGYWNlICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSBibGVuZCBtb2RlIHRvIHNldCB0by5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0QmxlbmRNb2RlID0gZnVuY3Rpb24gc2V0QmxlbmRNb2RlICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5ibGVuZE1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gdmFsdWU7XG5cbiAgICAgICAgdmFyIG1vZGUgPSB0aGlzLmJsZW5kTW9kZXNbdmFsdWVdO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKG1vZGVbMF0sIG1vZGVbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jU2VwYXJhdGUobW9kZVswXSwgbW9kZVsxXSwgbW9kZVsyXSwgbW9kZVszXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUubGVuZ3RoID09PSA2KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gdHJ1ZTtcbiAgICAgICAgICAgIGdsLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShtb2RlWzRdLCBtb2RlWzVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9ibGVuZEVxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ibGVuZEVxID0gZmFsc2U7XG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUoZ2wuRlVOQ19BREQsIGdsLkZVTkNfQUREKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHRoZSBwb2x5Z29uIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHRoZSBwb2x5Z29uIG9mZnNldCBzY2FsZVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRQb2x5Z29uT2Zmc2V0ID0gZnVuY3Rpb24gc2V0UG9seWdvbk9mZnNldCAodmFsdWUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gICAgfTtcblxuICAgIC8vIHVzZWRcbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHRoZSBsb2dpYyBhbmQgZGlzYWJsZXMgdGhlIHZhb3NcbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5waXhlbFN0b3JlaSh0aGlzLmdsLlVOUEFDS19GTElQX1lfV0VCR0wsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmZvcmNlU3RhdGUoMCk7XG5cbiAgICAgICAgdGhpcy5fYmxlbmRFcSA9IHRydWU7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gLTE7XG4gICAgICAgIHRoaXMuc2V0QmxlbmRNb2RlKDApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjaGVja3MgdG8gc2VlIHdoaWNoIHVwZGF0ZXMgc2hvdWxkIGJlIGNoZWNrZWQgYmFzZWQgb24gd2hpY2ggc2V0dGluZ3MgaGF2ZSBiZWVuIGFjdGl2YXRlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgaWYgYmxlbmQgaXMgZW5hYmxlZCB0aGVuIHdlIHNob3VsZCBjaGVjayB0aGUgYmxlbmQgbW9kZXMgZWFjaCB0aW1lIHRoZSBzdGF0ZSBpcyBjaGFuZ2VkXG4gICAgICogb3IgaWYgcG9seWdvbiBmaWxsIGlzIGFjdGl2YXRlZCB0aGVuIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHBvbHlnb24gb2Zmc2V0IGNoYW5nZXMuXG4gICAgICogVGhlIGlkZWEgaXMgdGhhdCB3ZSBvbmx5IGNoZWNrIHdoYXQgd2UgaGF2ZSB0b28uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jICB0aGUgY2hlY2tpbmcgZnVuY3Rpb24gdG8gYWRkIG9yIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgIHNob3VsZCB0aGUgY2hlY2sgZnVuY3Rpb24gYmUgYWRkZWQgb3IgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlQ2hlY2sgPSBmdW5jdGlvbiB1cGRhdGVDaGVjayAoZnVuYywgdmFsdWUpXG4gICAge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoZWNrcy5pbmRleE9mKGZ1bmMpO1xuXG4gICAgICAgIGlmICh2YWx1ZSAmJiBpbmRleCA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnB1c2goZnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXZhbHVlICYmIGluZGV4ICE9PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlU3lzdGVtfSBTeXN0ZW0gIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlICB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSA9IGZ1bmN0aW9uIGNoZWNrQmxlbmRNb2RlIChzeXN0ZW0sIHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3lzdGVtLnNldEJsZW5kTW9kZShzdGF0ZS5ibGVuZE1vZGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5TdGF0ZVN5c3RlbX0gU3lzdGVtICB0aGUgU3lzdGVtIHRvIHBlcmZvcm0gdGhlIHN0YXRlIGNoZWNrIG9uXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBzdGF0ZSAgdGhlIHN0YXRlIHRoYXQgdGhlIGJsZW5kTW9kZSB3aWxsIHB1bGxlZCBmcm9tXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0uY2hlY2tQb2x5Z29uT2Zmc2V0ID0gZnVuY3Rpb24gY2hlY2tQb2x5Z29uT2Zmc2V0IChzeXN0ZW0sIHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3lzdGVtLnNldFBvbHlnb25PZmZzZXQoc3RhdGUucG9seWdvbk9mZnNldCwgMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTdGF0ZVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0aW9uIG9uIHRoZSBHUFUsXG4gKiBlbnN1cmluZyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkIHVwIHdpdGggdGV4dHVyZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGJlaW5nIHVzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgVGV4dHVyZUdDU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZUdDU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrIGNvdW50XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIGlkbGUgdGltZSwgaW4gc2Vjb25kc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NQVhfSURMRVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhJZGxlID0gc2V0dGluZ3MuR0NfTUFYX0lETEU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1heGltdW0gbnVtYmVyIG9mIGl0ZW0gdG8gY2hlY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoZWNrQ291bnRNYXggPSBzZXR0aW5ncy5HQ19NQVhfQ0hFQ0tfQ09VTlQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgZ2FyYWJhZ2UgY29sbGVjdGlvbiBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR0NfTU9ERVN9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NT0RFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1vZGUgPSBzZXR0aW5ncy5HQ19NT0RFO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtICkgVGV4dHVyZUdDU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbTtcbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGV4dHVyZUdDU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkXG4gICAgICogaWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFVcbiAgICAgKi9cbiAgICBUZXh0dXJlR0NTeXN0ZW0ucHJvdG90eXBlLnBvc3RyZW5kZXIgPSBmdW5jdGlvbiBwb3N0cmVuZGVyICgpXG4gICAge1xuICAgICAgICB0aGlzLmNvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gR0NfTU9ERVMuTUFOVUFMKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoZWNrQ291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5jaGVja0NvdW50ID4gdGhpcy5jaGVja0NvdW50TWF4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuXG4gICAgICAgICAgICB0aGlzLnJ1bigpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiBydW4gKClcbiAgICB7XG4gICAgICAgIHZhciB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgdmFyIG1hbmFnZWRUZXh0dXJlcyA9ICB0bS5tYW5hZ2VkVGV4dHVyZXM7XG4gICAgICAgIHZhciB3YXNSZW1vdmVkID0gZmFsc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICAvLyBvbmx5IHN1cHBvcnRzIG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXMgYXQgdGhlIG1vbWVudCFcbiAgICAgICAgICAgIGlmICghdGV4dHVyZS5mcmFtZWJ1ZmZlciAmJiB0aGlzLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcy5tYXhJZGxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKHRleHR1cmUsIHRydWUpO1xuICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2FzUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2FzUmVtb3ZlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobWFuYWdlZFRleHR1cmVzW2kkMV0gIT09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaisrXSA9IG1hbmFnZWRUZXh0dXJlc1tpJDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzLmxlbmd0aCA9IGo7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIHRleHR1cmVzIHdpdGhpbiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgYW5kIGl0cyBjaGlsZHJlbiBmcm9tIHRoZSBHUFVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3QgdG8gcmVtb3ZlIHRoZSB0ZXh0dXJlcyBmcm9tLlxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUudW5sb2FkID0gZnVuY3Rpb24gdW5sb2FkIChkaXNwbGF5T2JqZWN0KVxuICAgIHtcbiAgICAgICAgdmFyIHRtID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlU3lzdGVtO1xuXG4gICAgICAgIC8vIG9ubHkgZGVzdHJveSBub24gZ2VuZXJhdGVkIHRleHR1cmVzXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlICYmIGRpc3BsYXlPYmplY3QuX3RleHR1cmUuX2dsUmVuZGVyVGFyZ2V0cylcbiAgICAgICAge1xuICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUoZGlzcGxheU9iamVjdC5fdGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmxvYWQoZGlzcGxheU9iamVjdC5jaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIFRleHR1cmVHQ1N5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogSW50ZXJuYWwgdGV4dHVyZSBmb3IgV2ViR0wgY29udGV4dFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR0xUZXh0dXJlID0gZnVuY3Rpb24gR0xUZXh0dXJlKHRleHR1cmUpXG57XG4gICAgLyoqXG4gICAgICogVGhlIFdlYkdMIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFRleHR1cmV9XG4gICAgICovXG4gICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIHRleHR1cmUgdGhhdCB3YXMgdXNlZCBpbiB0ZXhJbWFnZTJEXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSAtMTtcblxuICAgIC8qKlxuICAgICAqIEhlaWdodCBvZiB0ZXh0dXJlIHRoYXQgd2FzIHVzZWQgaW4gdGV4SW1hZ2UyRFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogVGV4dHVyZSBjb250ZW50cyBkaXJ0eSBmbGFnXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGlydHlJZCA9IC0xO1xuXG4gICAgLyoqXG4gICAgICogVGV4dHVyZSBzdHlsZSBkaXJ0eSBmbGFnXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGlydHlTdHlsZUlkID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG1pcCBsZXZlbHMgaGFzIHRvIGJlIGdlbmVyYXRlZFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFdyYXBNb2RlIGNvcGllZCBmcm9tIGJhc2VUZXh0dXJlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud3JhcE1vZGUgPSAzMzA3MTtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gNjQwODtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgY29waWVkIGZyb20gYmFzZVRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbnRlcm5hbEZvcm1hdCA9IDUxMjE7XG59O1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0ZXh0dXJlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBUZXh0dXJlU3lzdGVtID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU3lzdGVtKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZVN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBUT0RPIHNldCB0byBtYXggdGV4dHVyZXMuLi5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgbG9jYXRpb25cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgbWFuYWdlZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlkIHNvbWVvbmUgdGVtcGVyIHdpdGggdGV4dHVyZXMgc3RhdGU/IFdlJ2xsIG92ZXJ3cml0ZSB0aGVtIHdoZW4gd2UgbmVlZCB0byB1bmJpbmQgc29tZXRoaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZVRleHR1cmUgdmFsdWUgdGhhdCBzaG93cyB0aGF0IHdlIGRvbid0IGtub3cgd2hhdCBpcyBib3VuZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5rbm93blRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoKTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSApIFRleHR1cmVTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtO1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtICYmIFN5c3RlbS5wcm90b3R5cGUgKTtcbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRleHR1cmVTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uO1xuXG4gICAgICAgIHZhciBtYXhUZXh0dXJlcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyk7XG5cbiAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aCA9IG1heFRleHR1cmVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gbW92ZSB0aGlzLi4gdG8gYSBuaWNlIG1ha2UgZW1wdHkgdGV4dHVyZXMgY2xhc3MuLlxuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXMgPSB7fTtcblxuICAgICAgICB2YXIgZW1wdHlUZXh0dXJlMkQgPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoNCkpO1xuXG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXSA9IGVtcHR5VGV4dHVyZTJEO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0gPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdLnRleHR1cmUpO1xuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IDY7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGkkMSwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XG5cbiAgICAgICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSQyKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmluZChudWxsLCBpJDIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJpbmQgYSB0ZXh0dXJlIHRvIGEgc3BlY2lmaWMgbG9jYXRpb25cbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IHRvIHVuYmluZCBzb21ldGhpbmcsIHBsZWFzZSB1c2UgYHVuYmluZCh0ZXh0dXJlKWAgaW5zdGVhZCBvZiBgYmluZChudWxsLCB0ZXh0dXJlTG9jYXRpb24pYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV8UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG9jYXRpb249MF0gLSBMb2NhdGlvbiB0byBiaW5kIGF0XG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKHRleHR1cmUsIGxvY2F0aW9uKVxuICAgIHtcbiAgICAgICAgaWYgKCBsb2NhdGlvbiA9PT0gdm9pZCAwICkgbG9jYXRpb24gPSAwO1xuXG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgaWYgKHRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHR1cmUudG91Y2hlZCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuXG4gICAgICAgICAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0VGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dICE9PSB0ZXh0dXJlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUodGV4dHVyZS50YXJnZXQsIGdsVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgIT09IHRleHR1cmUuZGlydHlJZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0udGV4dHVyZSk7XG4gICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGV4dHVyZSBsb2NhdGlvbiBhbmQgYm91bmQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEFjdHVhbCBgYmluZChudWxsLCBpKWAgY2FsbHMgd2lsbCBiZSBwZXJmb3JtZWQgYXQgbmV4dCBgdW5iaW5kKClgIGNhbGxcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMudW5rbm93blRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVW5iaW5kIGEgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfFBJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGJpbmRcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKHRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuICAgICAgICB2YXIgYm91bmRUZXh0dXJlcyA9IHJlZi5ib3VuZFRleHR1cmVzO1xuXG4gICAgICAgIGlmICh0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHNvbWVvbmUgY2hhbmdlZCB3ZWJHTCBzdGF0ZSxcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgdG8gYmUgc3VyZSB0aGF0IG91ciB0ZXh0dXJlIGRvZXMgbm90IGFwcGVhciBpbiBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyIHNhbXBsZXJzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRoaXMudW5rbm93blRleHR1cmUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYm91bmRUZXh0dXJlc1tpJDFdID09PSB0ZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gaSQxKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkkMSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gaSQxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlLnRhcmdldF0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgYm91bmRUZXh0dXJlc1tpJDFdID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5pbml0VGV4dHVyZSA9IGZ1bmN0aW9uIGluaXRUZXh0dXJlICh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IG5ldyBHTFRleHR1cmUodGhpcy5nbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIC8vIGd1YXJhbnRlZSBhbiB1cGRhdGUuLlxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IC0xO1xuXG4gICAgICAgIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gPSBnbFRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VkVGV4dHVyZXMucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgdGV4dHVyZS5vbignZGlzcG9zZScsIHRoaXMuZGVzdHJveVRleHR1cmUsIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBnbFRleHR1cmU7XG4gICAgfTtcblxuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlVHlwZSA9IGZ1bmN0aW9uIGluaXRUZXh0dXJlVHlwZSAodGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gdGV4dHVyZS5mb3JtYXQ7XG4gICAgICAgIGdsVGV4dHVyZS50eXBlID0gdGV4dHVyZS50eXBlO1xuICAgICAgICBpZiAodGhpcy53ZWJHTFZlcnNpb24gIT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IGdsLkZMT0FUXG4gICAgICAgICAgICAmJiB0ZXh0dXJlLmZvcm1hdCA9PT0gZ2wuUkdCQSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmludGVybmFsRm9ybWF0ID0gZ2wuUkdCQTMyRjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGF0J3MgV2ViR0wxIEhBTEZfRkxPQVRfT0VTXG4gICAgICAgIC8vIHdlIGhhdmUgdG8gY29udmVydCBpdCB0byBXZWJHTCBIQUxGX0ZMT0FUXG4gICAgICAgIGlmICh0ZXh0dXJlLnR5cGUgPT09IFRZUEVTLkhBTEZfRkxPQVQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlID0gZ2wuSEFMRl9GTE9BVDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2xUZXh0dXJlLnR5cGUgPT09IGdsLkhBTEZfRkxPQVRcbiAgICAgICAgICAgICYmIHRleHR1cmUuZm9ybWF0ID09PSBnbC5SR0JBKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUuaW50ZXJuYWxGb3JtYXQgPSBnbC5SR0JBMTZGO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIHVwZGF0ZVRleHR1cmUgKHRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIWdsVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICB0aGlzLmluaXRUZXh0dXJlVHlwZSh0ZXh0dXJlLCBnbFRleHR1cmUpO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKVxuICAgICAgICA7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCwgcmVuZGVyVGV4dHVyZS1saWtlIGxvZ2ljXG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0ZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0ZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCAhPT0gd2lkdGhcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHRcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuZGlydHlJZCA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgICAgIGdsLnRleEltYWdlMkQodGV4dHVyZS50YXJnZXQsIDAsXG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS5pbnRlcm5hbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIGdsVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgb25seSB1cGRhdGUgd2hhdCBjaGFuZ2VzLi5cbiAgICAgICAgaWYgKHRleHR1cmUuZGlydHlTdHlsZUlkICE9PSBnbFRleHR1cmUuZGlydHlTdHlsZUlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IHRleHR1cmUuZGlydHlJZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgcmVtb3ZpbmcgdGhlIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZU1hbmFnZXIuXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZSAodGV4dHVyZSwgc2tpcFJlbW92ZSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmJpbmQodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoIXNraXBSZW1vdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLm1hbmFnZWRUZXh0dXJlcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGV4dHVyZSBzdHlsZSBzdWNoIGFzIG1pcG1hcCBmbGFnXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZVN0eWxlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZVN0eWxlICh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKCFnbFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgodGV4dHVyZS5taXBtYXAgPT09IE1JUE1BUF9NT0RFUy5QT1cyIHx8IHRoaXMud2ViR0xWZXJzaW9uICE9PSAyKSAmJiAhdGV4dHVyZS5pc1Bvd2VyT2ZUd28pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSAwO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5taXBtYXAgPSB0ZXh0dXJlLm1pcG1hcCA+PSAxO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndyYXBNb2RlID0gdGV4dHVyZS53cmFwTW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2Uuc3R5bGUodGhpcy5yZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKSlcbiAgICAgICAgO1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eVN0eWxlSWQgPSB0ZXh0dXJlLmRpcnR5U3R5bGVJZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHN0eWxlIGZvciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiBzZXRTdHlsZSAodGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAodGV4dHVyZS50YXJnZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsVGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbFRleHR1cmUud3JhcE1vZGUpO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID8gZ2wuTElORUFSX01JUE1BUF9MSU5FQVIgOiBnbC5ORUFSRVNUX01JUE1BUF9ORUFSRVNUKTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgdmFyIGFuaXNvdHJvcGljRXh0ID0gdGhpcy5yZW5kZXJlci5jb250ZXh0LmV4dGVuc2lvbnMuYW5pc290cm9waWNGaWx0ZXJpbmc7XG5cbiAgICAgICAgICAgIGlmIChhbmlzb3Ryb3BpY0V4dCAmJiB0ZXh0dXJlLmFuaXNvdHJvcGljTGV2ZWwgPiAwICYmIHRleHR1cmUuc2NhbGVNb2RlID09PSBTQ0FMRV9NT0RFUy5MSU5FQVIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gTWF0aC5taW4odGV4dHVyZS5hbmlzb3Ryb3BpY0xldmVsLCBnbC5nZXRQYXJhbWV0ZXIoYW5pc290cm9waWNFeHQuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSk7XG5cbiAgICAgICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJmKHRleHR1cmUudGFyZ2V0LCBhbmlzb3Ryb3BpY0V4dC5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCwgbGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUiA6IGdsLk5FQVJFU1QpO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGV4dHVyZVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogU3lzdGVtcyBhcmUgaW5kaXZpZHVhbCBjb21wb25lbnRzIHRvIHRoZSBSZW5kZXJlciBwaXBlbGluZS5cbiAqIEBuYW1lc3BhY2UgUElYSS5zeXN0ZW1zXG4gKi9cblxudmFyIHN5c3RlbXMgPSAoe1xuICAgIEZpbHRlclN5c3RlbTogRmlsdGVyU3lzdGVtLFxuICAgIEJhdGNoU3lzdGVtOiBCYXRjaFN5c3RlbSxcbiAgICBDb250ZXh0U3lzdGVtOiBDb250ZXh0U3lzdGVtLFxuICAgIEZyYW1lYnVmZmVyU3lzdGVtOiBGcmFtZWJ1ZmZlclN5c3RlbSxcbiAgICBHZW9tZXRyeVN5c3RlbTogR2VvbWV0cnlTeXN0ZW0sXG4gICAgTWFza1N5c3RlbTogTWFza1N5c3RlbSxcbiAgICBTdGVuY2lsU3lzdGVtOiBTdGVuY2lsU3lzdGVtLFxuICAgIFByb2plY3Rpb25TeXN0ZW06IFByb2plY3Rpb25TeXN0ZW0sXG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbTogUmVuZGVyVGV4dHVyZVN5c3RlbSxcbiAgICBTaGFkZXJTeXN0ZW06IFNoYWRlclN5c3RlbSxcbiAgICBTdGF0ZVN5c3RlbTogU3RhdGVTeXN0ZW0sXG4gICAgVGV4dHVyZUdDU3lzdGVtOiBUZXh0dXJlR0NTeXN0ZW0sXG4gICAgVGV4dHVyZVN5c3RlbTogVGV4dHVyZVN5c3RlbVxufSk7XG5cbnZhciB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4vKipcbiAqIFRoZSBBYnN0cmFjdFJlbmRlcmVyIGlzIHRoZSBiYXNlIGZvciBhIFBpeGlKUyBSZW5kZXJlci4gSXQgaXMgZXh0ZW5kZWQgYnkgdGhlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICogYW5kIHtAbGluayBQSVhJLlJlbmRlcmVyfSB3aGljaCBjYW4gYmUgdXNlZCBmb3IgcmVuZGVyaW5nIGEgUGl4aUpTIHNjZW5lLlxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFic3RyYWN0UmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudEVtaXR0ZXIpIHtcbiAgICBmdW5jdGlvbiBBYnN0cmFjdFJlbmRlcmVyKHN5c3RlbSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIEV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZGVmYXVsdCByZW5kZXIgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc2V0dGluZ3MuUkVOREVSX09QVElPTlMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIERlcHJlY2F0aW9uIG5vdGljZSBmb3IgcmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uXG4gICAgICAgIGlmIChvcHRpb25zLnJvdW5kUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXR0aW5ncy5ST1VORF9QSVhFTFMgPSBvcHRpb25zLnJvdW5kUGl4ZWxzO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMC4wJywgJ1JlbmRlcmVyIHJvdW5kUGl4ZWxzIG9wdGlvbiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTJywgMik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN1cHBsaWVkIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5SRU5ERVJFUl9UWVBFLlVOS05PV05cbiAgICAgICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWVhc3VyZW1lbnRzIG9mIHRoZSBzY3JlZW4uICgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KS5cbiAgICAgICAgICpcbiAgICAgICAgICogSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3IgdGhlIHdob2xlIHN0YWdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgQ1NTIGRpbWVuc2lvbnMgb2YgY2FudmFzIHZpZXcgc2hvdWxkIGJlIHJlc2l6ZWQgdG8gc2NyZWVuIGRpbWVuc2lvbnMgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSBvcHRpb25zLmF1dG9EZW5zaXR5IHx8IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZTtcbiAgICAgICAgLy8gYXV0b1Jlc2l6ZSBpcyBkZXByZWNhdGVkLCBwcm92aWRlcyBmYWxsYmFjayBzdXBwb3J0XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgcHJlc2VydmVEcmF3aW5nQnVmZmVyIGZsYWcgYWZmZWN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgY29udGVudHMgb2ZcbiAgICAgICAgICogdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHJldGFpbmVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2V0cyBpZiB0aGUgQ2FudmFzUmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgICAgICogSWYgdGhlIHNjZW5lIGlzIE5PVCB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgYSBjYW52YXMgc2l6ZWQgZmlsbFJlY3Qgb3BlcmF0aW9uIGV2ZXJ5XG4gICAgICAgICAqIGZyYW1lIHRvIHNldCB0aGUgY2FudmFzIGJhY2tncm91bmQgY29sb3IuIElmIHRoZSBzY2VuZSBpcyB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgY2xlYXJSZWN0XG4gICAgICAgICAqIHRvIGNsZWFyIHRoZSBjYW52YXMgZXZlcnkgZnJhbWUuIERpc2FibGUgdGhpcyBieSBzZXR0aW5nIHRoaXMgdG8gZmFsc2UuIEZvciBleGFtcGxlLCBpZlxuICAgICAgICAgKiB5b3VyIGdhbWUgaGFzIGEgY2FudmFzIGZpbGxpbmcgYmFja2dyb3VuZCBpbWFnZSB5b3Ugb2Z0ZW4gZG9uJ3QgbmVlZCB0aGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIG51bWJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAweDAwMDAwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gJyMwMDAwMDAnO1xuXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgdGhpcy5fYmFja2dyb3VuZENvbG9yOyAvLyBydW4gYmcgY29sb3Igc2V0dGVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgdGVtcG9yYXJ5IGRpc3BsYXkgb2JqZWN0IHVzZWQgYXMgdGhlIHBhcmVudCBvZiB0aGUgY3VycmVudGx5IGJlaW5nIHJlbmRlcmVkIGl0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgQ29udGFpbmVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHJvb3Qgb2JqZWN0IHRoYXQgdGhlIHJlbmRlcmVyIHRyaWVkIHRvIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwbHVnaW5zLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5zID0ge307XG4gICAgfVxuXG4gICAgaWYgKCBFdmVudEVtaXR0ZXIgKSBBYnN0cmFjdFJlbmRlcmVyLl9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlcjtcbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciAmJiBFdmVudEVtaXR0ZXIucHJvdG90eXBlICk7XG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdFJlbmRlcmVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJhY2tncm91bmRDb2xvcjogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGljTWFwIC0gVGhlIGRpY3Rpb25hcnkgb2Ygc3RhdGljYWxseSBzYXZlZCBwbHVnaW5zLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gaW5pdFBsdWdpbnMgKHN0YXRpY01hcClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gc3RhdGljTWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBuZXcgKHN0YXRpY01hcFtvXSkodGhpcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB2aWV3LndpZHRoLCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IGhvcml6b250YWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgODAwXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTYW1lIGFzIHZpZXcuaGVpZ2h0LCBhY3R1YWwgbnVtYmVyIG9mIHBpeGVscyBpbiB0aGUgY2FudmFzIGJ5IHZlcnRpY2FsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBzY3JlZW4gYW5kIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICogQ2FudmFzIGRpbWVuc2lvbnMgYXJlIG11bHRpcGxpZWQgYnkgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHNjcmVlbldpZHRoO1xuICAgICAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG5cbiAgICAgICAgdGhpcy52aWV3LndpZHRoID0gc2NyZWVuV2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMudmlldy5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRoaXMuYXV0b0RlbnNpdHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS53aWR0aCA9IHNjcmVlbldpZHRoICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IHNjcmVlbkhlaWdodCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAgICogVGhpcyBjYW4gYmUgcXVpdGUgdXNlZnVsIGlmIHlvdXIgZGlzcGxheU9iamVjdCBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb20uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNob3VsZCBiZSBvbmUgb2YgdGhlIHNjYWxlTW9kZSBjb25zdHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlZ2lvbl0gLSBUaGUgcmVnaW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LCB0aGF0IHNoYWxsIGJlIHJlbmRlcmVkLFxuICAgICAqICAgICAgICBpZiBubyByZWdpb24gaXMgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gQSB0ZXh0dXJlIG9mIHRoZSBncmFwaGljcyBvYmplY3QuXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVUZXh0dXJlIChkaXNwbGF5T2JqZWN0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24sIHJlZ2lvbilcbiAgICB7XG4gICAgICAgIHJlZ2lvbiA9IHJlZ2lvbiB8fCBkaXNwbGF5T2JqZWN0LmdldExvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgLy8gbWluaW11bSB0ZXh0dXJlIHNpemUgaXMgMXgxLCAweDAgd2lsbCB0aHJvdyBhbiBlcnJvclxuICAgICAgICBpZiAocmVnaW9uLndpZHRoID09PSAwKSB7IHJlZ2lvbi53aWR0aCA9IDE7IH1cbiAgICAgICAgaWYgKHJlZ2lvbi5oZWlnaHQgPT09IDApIHsgcmVnaW9uLmhlaWdodCA9IDE7IH1cblxuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHJlZ2lvbi53aWR0aCB8IDAsIHJlZ2lvbi5oZWlnaHQgfCAwLCBzY2FsZU1vZGUsIHJlc29sdXRpb24pO1xuXG4gICAgICAgIHRlbXBNYXRyaXgudHggPSAtcmVnaW9uLng7XG4gICAgICAgIHRlbXBNYXRyaXgudHkgPSAtcmVnaW9uLnk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoZGlzcGxheU9iamVjdCwgcmVuZGVyVGV4dHVyZSwgZmFsc2UsIHRlbXBNYXRyaXgsICEhZGlzcGxheU9iamVjdC5wYXJlbnQpO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJUZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIG9wdGlvbmFsbHkgcmVtb3ZlcyB0aGUgQ2FudmFzIERPTSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKHJlbW92ZVZpZXcpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBvIGluIHRoaXMucGx1Z2lucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW5zW29dLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVtb3ZlVmlldyAmJiB0aGlzLnZpZXcucGFyZW50Tm9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy52aWV3KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy50eXBlID0gUkVOREVSRVJfVFlQRS5VTktOT1dOO1xuXG4gICAgICAgIHRoaXMudmlldyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zY3JlZW4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDA7XG5cbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IDA7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmFja2dyb3VuZENvbG9yLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmFja2dyb3VuZENvbG9yLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gaGV4MnN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEFic3RyYWN0UmVuZGVyZXI7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIFRoZSBSZW5kZXJlciBkcmF3cyB0aGUgc2NlbmUgYW5kIGFsbCBpdHMgY29udGVudCBvbnRvIGEgV2ViR0wgZW5hYmxlZCBjYW52YXMuXG4gKlxuICogVGhpcyByZW5kZXJlciBzaG91bGQgYmUgdXNlZCBmb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IFdlYkdMLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgd29ya3MgYnkgYXV0b21hdGljYWxseSBtYW5hZ2luZyBXZWJHTEJhdGNoZXNtLCBzbyBubyBuZWVkIGZvciBTcHJpdGUgQmF0Y2hlcyBvciBTcHJpdGUgQ2xvdWRzLlxuICogRG9uJ3QgZm9yZ2V0IHRvIGFkZCB0aGUgdmlldyB0byB5b3VyIERPTSBvciB5b3Ugd2lsbCBub3Qgc2VlIGFueXRoaW5nIVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuQWJzdHJhY3RSZW5kZXJlclxuICovXG52YXIgUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChBYnN0cmFjdFJlbmRlcmVyKSB7XG4gICAgZnVuY3Rpb24gUmVuZGVyZXIob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gICAgICAgIEFic3RyYWN0UmVuZGVyZXIuY2FsbCh0aGlzLCAnV2ViR0wnLCBvcHRpb25zKTtcblxuICAgICAgICAvLyB0aGUgb3B0aW9ucyB3aWxsIGhhdmUgYmVlbiBtb2RpZmllZCBoZXJlIGluIHRoZSBzdXBlciBjb25zdHJ1Y3RvciB3aXRoIHBpeGkncyBkZWZhdWx0IHNldHRpbmdzLi5cbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhpcyByZW5kZXJlciBhcyBhIHN0YW5kYXJkaXplZCBjb25zdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSRU5ERVJFUl9UWVBFLldFQkdMO1xuXG4gICAgICAgIC8vIHRoaXMgd2lsbCBiZSBzZXQgYnkgdGhlIGNvbnRleHRTeXN0ZW0gKHRoaXMuY29udGV4dClcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSAwO1xuXG4gICAgICAgIC8vIFRPRE8gbGVnYWN5IVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBzaWduYWwgaW5zdGFuY2VzIG9mICoqcnVubmVyKiosIHRoZXNlXG4gICAgICAgICAqIGFyZSBhc3NpZ25lZCB0byBlYWNoIHN5c3RlbSBjcmVhdGVkLlxuICAgICAgICAgKiBAc2VlIFBJWEkuUnVubmVyXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyZXIjcnVubmVyc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gZGVzdHJveSAtIERlc3Ryb3kgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IGNvbnRleHRDaGFuZ2UgLSBDb250ZXh0IGNoYW5nZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcmVzZXQgLSBSZXNldCBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gdXBkYXRlIC0gVXBkYXRlIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBwb3N0cmVuZGVyIC0gUG9zdC1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHByZXJlbmRlciAtIFByZS1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHJlc2l6ZSAtIFJlc2l6ZSBydW5uZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucnVubmVycyA9IHtcbiAgICAgICAgICAgIGRlc3Ryb3k6IG5ldyBSdW5uZXIoJ2Rlc3Ryb3knKSxcbiAgICAgICAgICAgIGNvbnRleHRDaGFuZ2U6IG5ldyBSdW5uZXIoJ2NvbnRleHRDaGFuZ2UnLCAxKSxcbiAgICAgICAgICAgIHJlc2V0OiBuZXcgUnVubmVyKCdyZXNldCcpLFxuICAgICAgICAgICAgdXBkYXRlOiBuZXcgUnVubmVyKCd1cGRhdGUnKSxcbiAgICAgICAgICAgIHBvc3RyZW5kZXI6IG5ldyBSdW5uZXIoJ3Bvc3RyZW5kZXInKSxcbiAgICAgICAgICAgIHByZXJlbmRlcjogbmV3IFJ1bm5lcigncHJlcmVuZGVyJyksXG4gICAgICAgICAgICByZXNpemU6IG5ldyBSdW5uZXIoJ3Jlc2l6ZScsIDIpLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHbG9iYWwgdW5pZm9ybXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgICBwcm9qZWN0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuTWFza1N5c3RlbX0gbWFza1xuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFkZFN5c3RlbShNYXNrU3lzdGVtLCAnbWFzaycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnRleHQgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQ29udGV4dFN5c3RlbX0gY29udGV4dFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShDb250ZXh0U3lzdGVtLCAnY29udGV4dCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0YXRlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtfSBzdGF0ZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGF0ZVN5c3RlbSwgJ3N0YXRlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhZGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlNoYWRlclN5c3RlbX0gc2hhZGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFNoYWRlclN5c3RlbSwgJ3NoYWRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZVN5c3RlbX0gdGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShUZXh0dXJlU3lzdGVtLCAndGV4dHVyZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEdlb21ldHJ5IHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkdlb21ldHJ5U3lzdGVtfSBnZW9tZXRyeVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShHZW9tZXRyeVN5c3RlbSwgJ2dlb21ldHJ5JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRnJhbWVidWZmZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuRnJhbWVidWZmZXJTeXN0ZW19IGZyYW1lYnVmZmVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZyYW1lYnVmZmVyU3lzdGVtLCAnZnJhbWVidWZmZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTdGVuY2lsIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlN0ZW5jaWxTeXN0ZW19IHN0ZW5jaWxcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU3RlbmNpbFN5c3RlbSwgJ3N0ZW5jaWwnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm9qZWN0aW9uIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlByb2plY3Rpb25TeXN0ZW19IHByb2plY3Rpb25cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUHJvamVjdGlvblN5c3RlbSwgJ3Byb2plY3Rpb24nKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUZXh0dXJlIGdhcmJhZ2UgY29sbGVjdG9yIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVHQ1N5c3RlbX0gdGV4dHVyZUdDXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVHQ1N5c3RlbSwgJ3RleHR1cmVHQycpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZpbHRlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlclxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShGaWx0ZXJTeXN0ZW0sICdmaWx0ZXInKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW5kZXJUZXh0dXJlIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlJlbmRlclRleHR1cmVTeXN0ZW19IHJlbmRlclRleHR1cmVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oUmVuZGVyVGV4dHVyZVN5c3RlbSwgJ3JlbmRlclRleHR1cmUnKVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhdGNoIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkJhdGNoU3lzdGVtfSBiYXRjaFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShCYXRjaFN5c3RlbSwgJ2JhdGNoJyk7XG5cbiAgICAgICAgdGhpcy5pbml0UGx1Z2lucyhSZW5kZXJlci5fX3BsdWdpbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3B0aW9ucyBwYXNzZWQgaW4gdG8gY3JlYXRlIGEgbmV3IFdlYkdMIGNvbnRleHQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAob3B0aW9ucy5jb250ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW5pdEZyb21Db250ZXh0KG9wdGlvbnMuY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuaW5pdEZyb21PcHRpb25zKHtcbiAgICAgICAgICAgICAgICBhbHBoYTogdGhpcy50cmFuc3BhcmVudCxcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IG9wdGlvbnMuYW50aWFsaWFzLFxuICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogdGhpcy50cmFuc3BhcmVudCAmJiB0aGlzLnRyYW5zcGFyZW50ICE9PSAnbm90TXVsdGlwbGllZCcsXG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyLFxuICAgICAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogdGhpcy5vcHRpb25zLnBvd2VyUHJlZmVyZW5jZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgaWYgd2UgYXJlIHJlbmRlcmluZyB0byB0aGUgc2NyZWVuIHZzIHJlbmRlclRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSB0cnVlO1xuXG4gICAgICAgIHNheUhlbGxvKHRoaXMuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDIgPyAnV2ViR0wgMicgOiAnV2ViR0wgMScpO1xuXG4gICAgICAgIHRoaXMucmVzaXplKHRoaXMub3B0aW9ucy53aWR0aCwgdGhpcy5vcHRpb25zLmhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKCBBYnN0cmFjdFJlbmRlcmVyICkgUmVuZGVyZXIuX19wcm90b19fID0gQWJzdHJhY3RSZW5kZXJlcjtcbiAgICBSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBBYnN0cmFjdFJlbmRlcmVyICYmIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlICk7XG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgc3lzdGVtIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDbGFzc1JlZiAtIENsYXNzIHJlZmVyZW5jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBQcm9wZXJ0eSBuYW1lIGZvciBzeXN0ZW0sIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgKiAgICAgICAgd2lsbCB1c2UgYSBzdGF0aWMgYG5hbWVgIHByb3BlcnR5IG9uIHRoZSBjbGFzcyBpdHNlbGYuIFRoaXNcbiAgICAgKiAgICAgICAgbmFtZSB3aWxsIGJlIGFzc2lnbmVkIGFzIHMgcHJvcGVydHkgb24gdGhlIFJlbmRlcmVyIHNvIG1ha2VcbiAgICAgKiAgICAgICAgc3VyZSBpdCBkb2Vzbid0IGNvbGxpZGUgd2l0aCBwcm9wZXJ0aWVzIG9uIFJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybiBpbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFJlbmRlcmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmIChpc1dlYkdMU3VwcG9ydGVkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVuZGVyZXIob3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdMIHVuc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciwgdXNlIFwicGl4aS5qcy1sZWdhY3lcIiBmb3IgZmFsbGJhY2sgY2FudmFzMmQgc3VwcG9ydC4nKTtcbiAgICB9O1xuXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmFkZFN5c3RlbSA9IGZ1bmN0aW9uIGFkZFN5c3RlbSAoQ2xhc3NSZWYsIG5hbWUpXG4gICAge1xuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBDbGFzc1JlZi5uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN5c3RlbSA9IG5ldyBDbGFzc1JlZih0aGlzKTtcblxuICAgICAgICBpZiAodGhpc1tuYW1lXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIldob29wcyEgVGhlIG5hbWUgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBpcyBhbHJlYWR5IGluIHVzZVwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzW25hbWVdID0gc3lzdGVtO1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5ydW5uZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbaV0uYWRkKHN5c3RlbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcHJlcmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBXZWJHTCBjb250ZXh0IGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjY29udGV4dFxuICAgICAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHRvIGl0cyBXZWJHTCB2aWV3XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBvYmplY3QgdG8gYmUgcmVuZGVyZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IFtyZW5kZXJUZXh0dXJlXSAtIFRoZSByZW5kZXIgdGV4dHVyZSB0byByZW5kZXIgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2xlYXI9dHJ1ZV0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbdHJhbnNmb3JtXSAtIEEgdHJhbnNmb3JtIHRvIGFwcGx5IHRvIHRoZSByZW5kZXIgdGV4dHVyZSBiZWZvcmUgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVUcmFuc2Zvcm09ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0gcGFzcz9cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKVxuICAgIHtcbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB0aGlzLnJ1bm5lcnMucHJlcmVuZGVyLnJ1bigpO1xuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuXG4gICAgICAgIC8vIGFwcGx5IGEgdHJhbnNmb3JtIGF0IGEgR1BVIGxldmVsXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmlzTG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICB2YXIgY2FjaGVQYXJlbnQgPSBkaXNwbGF5T2JqZWN0LnBhcmVudDtcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IGNhY2hlUGFyZW50O1xuICAgICAgICAgICAgLy8gZGlzcGxheU9iamVjdC5oaXRBcmVhID0gLy9UT0RPIGFkZCBhIHRlbXAgaGl0IGFyZWFcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5iaW5kKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuXG4gICAgICAgIGlmIChjbGVhciAhPT0gdW5kZWZpbmVkID8gY2xlYXIgOiB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVyKHRoaXMpO1xuXG4gICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybS4uXG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJ1bm5lcnMucG9zdHJlbmRlci5ydW4oKTtcblxuICAgICAgICAvLyByZXNldCB0cmFuc2Zvcm0gYWZ0ZXIgcmVuZGVyXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZW1pdCgncG9zdHJlbmRlcicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBXZWJHTCB2aWV3IHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplIChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUucmVzaXplLmNhbGwodGhpcywgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5ydW5uZXJzLnJlc2l6ZS5ydW4oc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgV2ViR0wgc3RhdGUgc28geW91IGNhbiByZW5kZXIgdGhpbmdzIGhvd2V2ZXIgeW91IGZhbmN5IVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHRoaXMucnVubmVycy5yZXNldC5ydW4oKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG4gICAge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmJpbmQoKTtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5jbGVhcigpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgKGV2ZW50IGxpc3RlbmVycywgc3ByaXRlYmF0Y2gsIGV0Yy4uLilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqICBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMjIzM1xuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAocmVtb3ZlVmlldylcbiAgICB7XG4gICAgICAgIHRoaXMucnVubmVycy5kZXN0cm95LnJ1bigpO1xuXG4gICAgICAgIGZvciAodmFyIHIgaW4gdGhpcy5ydW5uZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbcl0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuXG4gICAgICAgIC8vIFRPRE8gbnVsbGlmeSBhbGwgdGhlIG1hbmFnZXJzLi5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuIFRoZXNlIGFyZSBpbmNsdWRlZCBieSBkZWZhdWx0IGluIFBJWEksIGJ1dCBjYW4gYmUgZXhjbHVkZWRcbiAgICAgKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICAgICAqIGJ1aWxkcyBhbmQgZXhjbHVkaW5nIHBsdWdpbnMuXG4gICAgICogQG5hbWUgUElYSS5SZW5kZXJlciNwbHVnaW5zXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJvcGVydHkge1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0gYWNjZXNzaWJpbGl0eSBTdXBwb3J0IHRhYmJpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLmV4dHJhY3QuRXh0cmFjdH0gZXh0cmFjdCBFeHRyYWN0IGltYWdlIGRhdGEgZnJvbSByZW5kZXJlci5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSBpbnRlcmFjdGlvbiBIYW5kbGVzIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLnByZXBhcmUuUHJlcGFyZX0gcHJlcGFyZSBQcmUtcmVuZGVyIGRpc3BsYXkgb2JqZWN0cy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbHVnaW5OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBsdWdpbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdG9yIC0gVGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIG9yIGNsYXNzIGZvciB0aGUgcGx1Z2luLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4gKHBsdWdpbk5hbWUsIGN0b3IpXG4gICAge1xuICAgICAgICBSZW5kZXJlci5fX3BsdWdpbnMgPSBSZW5kZXJlci5fX3BsdWdpbnMgfHwge307XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2luc1twbHVnaW5OYW1lXSA9IGN0b3I7XG4gICAgfTtcblxuICAgIHJldHVybiBSZW5kZXJlcjtcbn0oQWJzdHJhY3RSZW5kZXJlcikpO1xuXG4vKipcbiAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBkZXRlY3Qgd2hpY2ggcmVuZGVyZXIgeW91IHNob3VsZCBiZSB1c2luZy5cbiAqIFdlYkdMIGlzIHRoZSBwcmVmZXJyZWQgcmVuZGVyZXIgYXMgaXQgaXMgYSBsb3QgZmFzdGVyLiBJZiBXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5XG4gKiB0aGUgYnJvd3NlciB0aGVuIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYSBjYW52YXMgcmVuZGVyZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGF1dG9EZXRlY3RSZW5kZXJlclxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9ODAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3XG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbb3B0aW9ucy52aWV3XSAtIHRoZSBjYW52YXMgdG8gdXNlIGFzIGEgdmlldywgb3B0aW9uYWxcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhbnNwYXJlbnQ9ZmFsc2VdIC0gSWYgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LCBkZWZhdWx0IGZhbHNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICogICByZXNvbHV0aW9ucyBvdGhlciB0aGFuIDFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIHNldHMgYW50aWFsaWFzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBlbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbiwgZW5hYmxlIHRoaXMgaWYgeW91XG4gKiAgbmVlZCB0byBjYWxsIHRvRGF0YVVybCBvbiB0aGUgd2ViZ2wgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gKiAgIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUNhbnZhcz1mYWxzZV0gLSBwcmV2ZW50cyBzZWxlY3Rpb24gb2YgV2ViR0wgcmVuZGVyZXIsIGV2ZW4gaWYgc3VjaCBpcyBwcmVzZW50LCB0aGlzXG4gKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICogICBpdCBpcyBpZ25vcmVkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5mb3JjZUZYQUE9ZmFsc2VdIC0gZm9yY2VzIEZYQUEgYW50aWFsaWFzaW5nIHRvIGJlIHVzZWQgb3ZlciBuYXRpdmUuXG4gKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0ICoqd2ViZ2wgb25seSoqXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucG93ZXJQcmVmZXJlbmNlXSAtIFBhcmFtZXRlciBwYXNzZWQgdG8gd2ViZ2wgY29udGV4dCwgc2V0IHRvIFwiaGlnaC1wZXJmb3JtYW5jZVwiXG4gKiAgZm9yIGRldmljZXMgd2l0aCBkdWFsIGdyYXBoaWNzIGNhcmQgKip3ZWJnbCBvbmx5KipcbiAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNSZW5kZXJlcn0gUmV0dXJucyBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlclxuICovXG5mdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucylcbntcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuXG52YXIgX2RlZmF1bHQgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxudmFyIGRlZmF1bHRGaWx0ZXIgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBBIFRleHR1cmUgdGhhdCBkZXBlbmRzIG9uIHNpeCBvdGhlciByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ3ViZVRleHR1cmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIEN1YmVUZXh0dXJlICgpIHtcbiAgICAgICAgQmFzZVRleHR1cmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VUZXh0dXJlICkgQ3ViZVRleHR1cmUuX19wcm90b19fID0gQmFzZVRleHR1cmU7XG4gICAgQ3ViZVRleHR1cmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZVRleHR1cmUgJiYgQmFzZVRleHR1cmUucHJvdG90eXBlICk7XG4gICAgQ3ViZVRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3ViZVRleHR1cmU7XG5cbiAgICBDdWJlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAocmVzb3VyY2VzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDdWJlVGV4dHVyZShuZXcgQ3ViZVJlc291cmNlKHJlc291cmNlcywgb3B0aW9ucykpO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ3ViZVRleHR1cmU7XG59KEJhc2VUZXh0dXJlKSk7XG5cbi8qKlxuICogVXNlZCBieSB0aGUgYmF0Y2hlciB0byBkcmF3IGJhdGNoZXMuXG4gKiBFYWNoIG9uZSBvZiB0aGVzZSBjb250YWlucyBhbGwgaW5mb3JtYXRpb24gcmVxdWlyZWQgdG8gZHJhdyBhIGJvdW5kIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoRHJhd0NhbGwgPSBmdW5jdGlvbiBCYXRjaERyYXdDYWxsKClcbntcbiAgICB0aGlzLnRleHR1cmVzID0gW107XG4gICAgdGhpcy5pZHMgPSBbXTtcbiAgICB0aGlzLmJsZW5kID0gMDtcbiAgICB0aGlzLnRleHR1cmVDb3VudCA9IDA7XG4gICAgdGhpcy5zdGFydCA9IDA7XG4gICAgdGhpcy5zaXplID0gMDtcbiAgICB0aGlzLnR5cGUgPSA0O1xufTtcblxuLyoqXG4gKiBGbGV4aWJsZSB3cmFwcGVyIGFyb3VuZCBgQXJyYXlCdWZmZXJgIHRoYXQgYWxzbyBwcm92aWRlc1xuICogdHlwZWQgYXJyYXkgdmlld3Mgb24gZGVtYW5kLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFZpZXdhYmxlQnVmZmVyID0gZnVuY3Rpb24gVmlld2FibGVCdWZmZXIoc2l6ZSlcbntcbiAgICAvKipcbiAgICAgKiBVbmRlcmx5aW5nIGBBcnJheUJ1ZmZlcmAgdGhhdCBob2xkcyBhbGwgdGhlIGRhdGFcbiAgICAgKiBhbmQgaXMgb2YgY2FwYWNpdHkgYHNpemVgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5yYXdCaW5hcnlEYXRhID0gbmV3IEFycmF5QnVmZmVyKHNpemUpO1xuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQzMkFycmF5YC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1VpbnQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMudWludDMyVmlldyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEZsb2F0MzJBcnJheWAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5mbG9hdDMyVmlldyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkNSA9IHsgaW50OFZpZXc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdWludDhWaWV3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGludDE2VmlldzogeyBjb25maWd1cmFibGU6IHRydWUgfSx1aW50MTZWaWV3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGludDMyVmlldzogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQ4QXJyYXlgLlxuICpcbiAqIEBtZW1iZXIge0ludDhBcnJheX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDUuaW50OFZpZXcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICBpZiAoIXRoaXMuX2ludDhWaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5faW50OFZpZXcgPSBuZXcgSW50OEFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2ludDhWaWV3O1xufTtcblxuLyoqXG4gKiBWaWV3IG9uIHRoZSByYXcgYmluYXJ5IGRhdGEgYXMgYSBgVWludDhBcnJheWAuXG4gKlxuICogQG1lbWJlciB7VWludDhBcnJheX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDUudWludDhWaWV3LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgaWYgKCF0aGlzLl91aW50OFZpZXcpXG4gICAge1xuICAgICAgICB0aGlzLl91aW50OFZpZXcgPSBuZXcgVWludDhBcnJheSh0aGlzLnJhd0JpbmFyeURhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl91aW50OFZpZXc7XG59O1xuXG4vKipcbiAqIFZpZXcgb24gdGhlIHJhdyBiaW5hcnkgZGF0YSBhcyBhIGBJbnQxNkFycmF5YC5cbiAqXG4gKiBAbWVtYmVyIHtJbnQxNkFycmF5fVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkNS5pbnQxNlZpZXcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICBpZiAoIXRoaXMuX2ludDE2VmlldylcbiAgICB7XG4gICAgICAgIHRoaXMuX2ludDE2VmlldyA9IG5ldyBJbnQxNkFycmF5KHRoaXMucmF3QmluYXJ5RGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2ludDE2Vmlldztcbn07XG5cbi8qKlxuICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYFVpbnQxNkFycmF5YC5cbiAqXG4gKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDUudWludDE2Vmlldy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIGlmICghdGhpcy5fdWludDE2VmlldylcbiAgICB7XG4gICAgICAgIHRoaXMuX3VpbnQxNlZpZXcgPSBuZXcgVWludDE2QXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fdWludDE2Vmlldztcbn07XG5cbi8qKlxuICogVmlldyBvbiB0aGUgcmF3IGJpbmFyeSBkYXRhIGFzIGEgYEludDMyQXJyYXlgLlxuICpcbiAqIEBtZW1iZXIge0ludDMyQXJyYXl9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQ1LmludDMyVmlldy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIGlmICghdGhpcy5faW50MzJWaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5faW50MzJWaWV3ID0gbmV3IEludDMyQXJyYXkodGhpcy5yYXdCaW5hcnlEYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faW50MzJWaWV3O1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2aWV3IG9mIHRoZSBnaXZlbiB0eXBlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gT25lIG9mIGBpbnQ4YCwgYHVpbnQ4YCwgYGludDE2YCxcbiAqYHVpbnQxNmAsIGBpbnQzMmAsIGB1aW50MzJgLCBhbmQgYGZsb2F0MzJgLlxuICogQHJldHVybiB7b2JqZWN0fSB0eXBlZCBhcnJheSBvZiBnaXZlbiB0eXBlXG4gKi9cblZpZXdhYmxlQnVmZmVyLnByb3RvdHlwZS52aWV3ID0gZnVuY3Rpb24gdmlldyAodHlwZSlcbntcbiAgICByZXR1cm4gdGhpc1sodHlwZSArIFwiVmlld1wiKV07XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIGFsbCBidWZmZXIgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhZnRlciBjYWxsaW5nXG4gKiB0aGlzLlxuICovXG5WaWV3YWJsZUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnJhd0JpbmFyeURhdGEgPSBudWxsO1xuICAgIHRoaXMuX2ludDhWaWV3ID0gbnVsbDtcbiAgICB0aGlzLl91aW50OFZpZXcgPSBudWxsO1xuICAgIHRoaXMuX2ludDE2VmlldyA9IG51bGw7XG4gICAgdGhpcy5fdWludDE2VmlldyA9IG51bGw7XG4gICAgdGhpcy5faW50MzJWaWV3ID0gbnVsbDtcbiAgICB0aGlzLnVpbnQzMlZpZXcgPSBudWxsO1xuICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBudWxsO1xufTtcblxuVmlld2FibGVCdWZmZXIuc2l6ZU9mID0gZnVuY3Rpb24gc2l6ZU9mICh0eXBlKVxue1xuICAgIHN3aXRjaCAodHlwZSlcbiAgICB7XG4gICAgICAgIGNhc2UgJ2ludDgnOlxuICAgICAgICBjYXNlICd1aW50OCc6XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgY2FzZSAnaW50MTYnOlxuICAgICAgICBjYXNlICd1aW50MTYnOlxuICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIGNhc2UgJ2ludDMyJzpcbiAgICAgICAgY2FzZSAndWludDMyJzpcbiAgICAgICAgY2FzZSAnZmxvYXQzMic6XG4gICAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigodHlwZSArIFwiIGlzbid0IGEgdmFsaWQgdmlldyB0eXBlXCIpKTtcbiAgICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVmlld2FibGVCdWZmZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkNSApO1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgYmF0Y2ggcmVuZGVyZXIuIEl0IGJ1ZmZlcnMgb2JqZWN0c1xuICogd2l0aCB0ZXh0dXJlLWJhc2VkIGdlb21ldHJpZXMgYW5kIHJlbmRlcnMgdGhlbSBpblxuICogYmF0Y2hlcy4gSXQgdXBsb2FkcyBtdWx0aXBsZSB0ZXh0dXJlcyB0byB0aGUgR1BVIHRvXG4gKiByZWR1Y2UgdG8gdGhlIG51bWJlciBvZiBkcmF3IGNhbGxzLlxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIEFic3RyYWN0QmF0Y2hSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE9iamVjdFJlbmRlcmVyKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RCYXRjaFJlbmRlcmVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdXNlZCB0byBnZW5lcmF0ZSBhIHNoYWRlciB0aGF0IGNhblxuICAgICAgICAgKiBjb2xvciBlYWNoIHZlcnRleCBiYXNlZCBvbiBhIGBhVGV4dHVyZUlkYFxuICAgICAgICAgKiBhdHRyaWJ1dGUgdGhhdCBwb2ludHMgdG8gYW4gdGV4dHVyZSBpbiBgdVNhbXBsZXJgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGVuYWJsZXMgdGhlIG9iamVjdHMgd2l0aCBkaWZmZXJlbnQgdGV4dHVyZXNcbiAgICAgICAgICogdG8gYmUgZHJhd24gaW4gdGhlIHNhbWUgZHJhdyBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBZb3UgY2FuIGN1c3RvbWl6ZSB5b3VyIHNoYWRlciBieSBjcmVhdGluZyB5b3VyXG4gICAgICAgICAqIGN1c3RvbSBzaGFkZXIgZ2VuZXJhdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhdGNoU2hhZGVyR2VuZXJhdG9yfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlckdlbmVyYXRvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlIGdlb21ldHJ5IG9mIG9iamVjdHNcbiAgICAgICAgICogdGhhdCBhcmUgZ29pbmcgdG8gYmUgYmF0Y2hlZCB3aXRoIHRoaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CYXRjaEdlb21ldHJ5XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VvbWV0cnlDbGFzcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpemUgb2YgZGF0YSBiZWluZyBidWZmZXJlZCBwZXIgdmVydGV4IGluIHRoZVxuICAgICAgICAgKiBhdHRyaWJ1dGUgYnVmZmVycyAoaW4gZmxvYXRzKS4gQnkgZGVmYXVsdCwgdGhlXG4gICAgICAgICAqIGJhdGNoLXJlbmRlcmVyIHBsdWdpbiB1c2VzIDY6XG4gICAgICAgICAqXG4gICAgICAgICAqIHwgYVZlcnRleFBvc2l0aW9uIHwgMiB8XG4gICAgICAgICAqIHwtLS0tLS0tLS0tLS0tLS0tLXwtLS18XG4gICAgICAgICAqIHwgYVRleHR1cmVDb29yZHMgIHwgMiB8XG4gICAgICAgICAqIHwgYUNvbG9yICAgICAgICAgIHwgMSB8XG4gICAgICAgICAqIHwgYVRleHR1cmVJZCAgICAgIHwgMSB8XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNpemUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgV2ViR0wgc3RhdGUgaW4gd2hpY2ggdGhpcyByZW5kZXJlciB3aWxsIHdvcmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgYnVmZmVyYWJsZSBvYmplY3RzIGJlZm9yZSBhIGZsdXNoXG4gICAgICAgICAqIG9jY3VycyBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IHNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IDIwMDAgKiA0Oy8vIHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFLCAyMDAwIGlzIGEgbmljZSBiYWxhbmNlIGJldHdlZW4gbW9iaWxlL2Rlc2t0b3BcblxuICAgICAgICAvKipcbiAgICAgICAgICogVG90YWwgY291bnQgb2YgYWxsIHZlcnRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvdGFsIGNvdW50IG9mIGFsbCBpbmRpY2VzIHVzZWQgYnkgdGhlIGN1cnJlbnRseVxuICAgICAgICAgKiBidWZmZXJlZCBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIG9mIG9iamVjdHMgdGhhdCBhcmUgeWV0IHRvIGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3RbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkRWxlbWVudHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJ1ZmZlcmVkIGFuZCBhcmVcbiAgICAgICAgICogd2FpdGluZyB0byBiZSBmbHVzaGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzaGFkZXIgaXMgZ2VuZXJhdGVkIGJ5IGB0aGlzLnNoYWRlckdlbmVyYXRvcmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0IGlzIGdlbmVyYXRlZCBzcGVjaWZpY2FsbHkgdG8gaGFuZGxlIHRoZSByZXF1aXJlZFxuICAgICAgICAgKiBudW1iZXIgb2YgdGV4dHVyZXMgYmVpbmcgYmF0Y2hlZCB0b2dldGhlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYHRoaXMuZ2VvbWV0cnlDbGFzc2AgZ2VvbWV0cnkgb2JqZWN0c1xuICAgICAgICAgKiB0aGF0IHN0b3JlIGJ1ZmZlcnMuIFRoZXkgYXJlIHVzZWQgdG8gcGFzcyBkYXRhXG4gICAgICAgICAqIHRvIHRoZSBzaGFkZXIgb24gZWFjaCBkcmF3IGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZXNlIGFyZSBuZXZlciByZS1hbGxvY2F0ZWQgYWdhaW4sIHVubGVzcyBhXG4gICAgICAgICAqIGNvbnRleHQgY2hhbmdlIG9jY3VyczsgaG93ZXZlciwgdGhlIHBvb2wgbWF5XG4gICAgICAgICAqIGJlIGV4cGFuZGVkIGlmIHJlcXVpcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdlb21ldHJ5W119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIuY29udGV4dENoYW5nZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaXplIG9mIGB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzYC4gSXQgY2FuIGJlIGV4cGFuZGVkXG4gICAgICAgICAqIGlmIG1vcmUgdGhhbiBgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZWAgZmx1c2hlc1xuICAgICAgICAgKiBvY2N1ciBpbiBhIHNpbmdsZSBmcmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZSA9IDI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmx1c2ggbWF5IG9jY3VyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlXG4gICAgICAgICAqIGZyYW1lLiBPbiBpT1MgZGV2aWNlcyBvciB3aGVuXG4gICAgICAgICAqIGBzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSYCBpcyBmYWxzZSwgdGhlXG4gICAgICAgICAqIGJhdGNoIHJlbmRlcmVyIGRvZXMgbm90IHVwbG9hZCBkYXRhIHRvIHRoZSBzYW1lXG4gICAgICAgICAqIGBXZWJHTEJ1ZmZlcmAgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGluZGV4IGludG8gYHBhY2tlZEdlb21ldHJpZXNgIHRoYXQgcG9pbnRzIHRvXG4gICAgICAgICAqIGdlb21ldHJ5IGhvbGRpbmcgdGhlIG1vc3QgcmVjZW50IGJ1ZmZlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZsdXNoSWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIGBCYXRjaERyYXdDYWxsYCBvYmplY3RzIHRoYXQgYGZsdXNoYCB1c2VkXG4gICAgICAgICAqIHRvIGNyZWF0ZSBcImJhdGNoZXNcIiBvZiB0aGUgb2JqZWN0cyBiZWluZyByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlc2UgYXJlIG5ldmVyIHJlLWFsbG9jYXRlZCBhZ2Fpbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciBCYXRjaERyYXdDYWxsW11cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RyYXdDYWxscyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5zaXplIC8gNDsgaysrKVxuICAgICAgICB7IC8vIGluaXRpYWxpemUgdGhlIGRyYXctY2FsbHMgcG9vbCB0byBtYXggc2l6ZS5cbiAgICAgICAgICAgIHRoaXMuX2RyYXdDYWxsc1trXSA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiBgVmlld2FibGVCdWZmZXJgIG9iamVjdHMgdGhhdCBhcmUgc29ydGVkIGluXG4gICAgICAgICAqIG9yZGVyIG9mIGluY3JlYXNpbmcgc2l6ZS4gVGhlIGZsdXNoIG1ldGhvZCB1c2VzXG4gICAgICAgICAqIHRoZSBidWZmZXIgd2l0aCB0aGUgbGVhc3Qgc2l6ZSBhYm92ZSB0aGUgYW1vdW50XG4gICAgICAgICAqIGl0IHJlcXVpcmVzLiBUaGVzZSBhcmUgdXNlZCBmb3IgcGFzc2luZyBhdHRyaWJ1dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZmlyc3QgYnVmZmVyIGhhcyBhIHNpemUgb2YgODsgZWFjaCBzdWJzZXF1ZW50XG4gICAgICAgICAqIGJ1ZmZlciBoYXMgZG91YmxlIGNhcGFjaXR5IG9mIGl0cyBwcmV2aW91cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5WaWV3YWJsZUJ1ZmZlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFic3RyYWN0QmF0Y2hSZW5kZXJlciNnZXRBdHRyaWJ1dGVCdWZmZXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FCdWZmZXJzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgYFVpbnQxNkFycmF5YCBvYmplY3RzIHRoYXQgYXJlIHNvcnRlZCBpblxuICAgICAgICAgKiBvcmRlciBvZiBpbmNyZWFzaW5nIHNpemUuIFRoZSBmbHVzaCBtZXRob2QgdXNlc1xuICAgICAgICAgKiB0aGUgYnVmZmVyIHdpdGggdGhlIGxlYXN0IHNpemUgYWJvdmUgdGhlIGFtb3VudFxuICAgICAgICAgKiBpdCByZXF1aXJlcy4gVGhlc2UgYXJlIHVzZWQgZm9yIHBhc3NpbmcgaW5kaWNlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGZpcnN0IGJ1ZmZlciBoYXMgYSBzaXplIG9mIDEyOyBlYWNoIHN1YnNlcXVlbnRcbiAgICAgICAgICogYnVmZmVyIGhhcyBkb3VibGUgY2FwYWNpdHkgb2YgaXRzIHByZXZpb3VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuQWJzdHJhY3RCYXRjaFJlbmRlcmVyI2dldEluZGV4QnVmZmVyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pQnVmZmVycyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSB1cGxvYWRlZCB0b1xuICAgICAgICAgKiB0aGUgR1BVIHVuZGVyIHRoZSBjdXJyZW50IGNvbnRleHQuIEl0IGlzIGluaXRpYWxpemVkXG4gICAgICAgICAqIHByb3Blcmx5IGluIGB0aGlzLmNvbnRleHRDaGFuZ2VgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdEJhdGNoUmVuZGVyZXIjY29udGV4dENoYW5nZVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gMTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcbiAgICAgICAgcmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLmFkZCh0aGlzKTtcbiAgICB9XG5cbiAgICBpZiAoIE9iamVjdFJlbmRlcmVyICkgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLl9fcHJvdG9fXyA9IE9iamVjdFJlbmRlcmVyO1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPYmplY3RSZW5kZXJlciAmJiBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQWJzdHJhY3RCYXRjaFJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYGNvbnRleHRDaGFuZ2VgIHNpZ25hbC5cbiAgICAgKlxuICAgICAqIEl0IGNhbGN1bGF0ZXMgYHRoaXMuTUFYX1RFWFRVUkVTYCBhbmQgYWxsb2NhdGluZyB0aGVcbiAgICAgKiBwYWNrZWQtZ2VvbWV0cnkgb2JqZWN0IHBvb2wuXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuUFJFRkVSX0VOViA9PT0gRU5WLldFQkdMX0xFR0FDWSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gc3RlcCAxOiBmaXJzdCBjaGVjayBtYXggdGV4dHVyZXMgdGhlIEdQVSBjYW4gaGFuZGxlLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzLlNQUklURV9NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgICAgICAvLyBzdGVwIDI6IGNoZWNrIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpZiBzdGF0ZW1lbnRzIHRoZSBzaGFkZXIgY2FuIGhhdmUgdG9vLi5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihcbiAgICAgICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUywgZ2wpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2hhZGVyID0gdGhpcy5zaGFkZXJHZW5lcmF0b3IuZ2VuZXJhdGVTaGFkZXIodGhpcy5NQVhfVEVYVFVSRVMpO1xuXG4gICAgICAgIC8vIHdlIHVzZSB0aGUgc2Vjb25kIHNoYWRlciBhcyB0aGUgZmlyc3Qgb25lIGRlcGVuZGluZyBvbiB5b3VyIGJyb3dzZXJcbiAgICAgICAgLy8gbWF5IG9taXQgYVRleHR1cmVJZCBhcyBpdCBpcyBub3QgdXNlZCBieSB0aGUgc2hhZGVyIHNvIGlzIG9wdGltaXplZCBvdXQuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcGFja2VkR2VvbWV0cnlQb29sU2l6ZTsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyaWVzW2ldID0gbmV3ICh0aGlzLmdlb21ldHJ5Q2xhc3MpKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyB0aGUgYHByZXJlbmRlcmAgc2lnbmFsLlxuICAgICAqXG4gICAgICogSXQgZW5zdXJlcyB0aGF0IGZsdXNoZXMgc3RhcnQgZnJvbSB0aGUgZmlyc3QgZ2VvbWV0cnlcbiAgICAgKiBvYmplY3QgYWdhaW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5vblByZXJlbmRlciA9IGZ1bmN0aW9uIG9uUHJlcmVuZGVyICgpXG4gICAge1xuICAgICAgICB0aGlzLl9mbHVzaElkID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQnVmZmVycyB0aGUgXCJiYXRjaGFibGVcIiBvYmplY3QuIEl0IG5lZWQgbm90IGJlIHJlbmRlcmVkXG4gICAgICogaW1tZWRpYXRlbHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHJlbmRlciB3aGVuXG4gICAgICogICAgdXNpbmcgdGhpcyBzcHJpdGViYXRjaFxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChlbGVtZW50KVxuICAgIHtcbiAgICAgICAgaWYgKCFlbGVtZW50Ll90ZXh0dXJlLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fdmVydGV4Q291bnQgKyAoZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIpID4gdGhpcy5zaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl92ZXJ0ZXhDb3VudCArPSBlbGVtZW50LnZlcnRleERhdGEubGVuZ3RoIC8gMjtcbiAgICAgICAgdGhpcy5faW5kZXhDb3VudCArPSBlbGVtZW50LmluZGljZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEVsZW1lbnRzW3RoaXMuX2J1ZmZlclNpemUrK10gPSBlbGVtZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IF9ub3dfIGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqL1xuICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRleENvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXR0cmlidXRlQnVmZmVyID0gdGhpcy5nZXRBdHRyaWJ1dGVCdWZmZXIodGhpcy5fdmVydGV4Q291bnQpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4QnVmZmVyKHRoaXMuX2luZGV4Q291bnQpO1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZWxlbWVudHMgPSByZWYuX2J1ZmZlcmVkRWxlbWVudHM7XG4gICAgICAgIHZhciBkcmF3Q2FsbHMgPSByZWYuX2RyYXdDYWxscztcbiAgICAgICAgdmFyIE1BWF9URVhUVVJFUyA9IHJlZi5NQVhfVEVYVFVSRVM7XG4gICAgICAgIHZhciBwYWNrZWRHZW9tZXRyaWVzID0gcmVmLl9wYWNrZWRHZW9tZXRyaWVzO1xuICAgICAgICB2YXIgdmVydGV4U2l6ZSA9IHJlZi52ZXJ0ZXhTaXplO1xuXG4gICAgICAgIHZhciB0b3VjaCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBfaW5kZXhDb3VudCA9IDA7XG5cbiAgICAgICAgdmFyIG5leHRUZXh0dXJlO1xuICAgICAgICB2YXIgY3VycmVudFRleHR1cmU7XG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuXG4gICAgICAgIHZhciBjdXJyZW50R3JvdXAgPSBkcmF3Q2FsbHNbMF07XG4gICAgICAgIHZhciBncm91cENvdW50ID0gMDtcblxuICAgICAgICB2YXIgYmxlbmRNb2RlID0gLTE7Ly8gYmxlbmQtbW9kZSBvZiBwcmV2aW91cyBlbGVtZW50L3Nwcml0ZS9vYmplY3QhXG5cbiAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5ibGVuZCA9IGJsZW5kTW9kZTtcblxuICAgICAgICB2YXIgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuICAgICAgICB2YXIgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5fYnVmZmVyU2l6ZTsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gZWxlbWVudHNbaV07XG5cbiAgICAgICAgICAgIGVsZW1lbnRzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIG5leHRUZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB2YXIgc3ByaXRlQmxlbmRNb2RlID0gcHJlbXVsdGlwbHlCbGVuZE1vZGVbXG4gICAgICAgICAgICAgICAgbmV4dFRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA/IDEgOiAwXVtzcHJpdGUuYmxlbmRNb2RlXTtcblxuICAgICAgICAgICAgaWYgKGJsZW5kTW9kZSAhPT0gc3ByaXRlQmxlbmRNb2RlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJsZW5kTW9kZSA9IHNwcml0ZUJsZW5kTW9kZTtcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgIT09IFRJQ0spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSBfaW5kZXhDb3VudCAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwID0gZHJhd0NhbGxzW2dyb3VwQ291bnQrK107XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5ibGVuZCA9IGJsZW5kTW9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IF9pbmRleENvdW50O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUudG91Y2hlZCA9IHRvdWNoO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2lkID0gdGV4dHVyZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1tjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50KytdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wYWNrSW50ZXJsZWF2ZWRHZW9tZXRyeShzcHJpdGUsIGF0dHJpYnV0ZUJ1ZmZlcixcbiAgICAgICAgICAgICAgICBpbmRleEJ1ZmZlciwgaW5kZXgsIF9pbmRleENvdW50KTtcblxuICAgICAgICAgICAgLy8gcHVzaCBhIGdyYXBoaWNzLi5cbiAgICAgICAgICAgIGluZGV4ICs9IChzcHJpdGUudmVydGV4RGF0YS5sZW5ndGggLyAyKSAqIHZlcnRleFNpemU7XG4gICAgICAgICAgICBfaW5kZXhDb3VudCArPSBzcHJpdGUuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2ggPSBUSUNLO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IF9pbmRleENvdW50IC0gY3VycmVudEdyb3VwLnN0YXJ0O1xuXG4gICAgICAgIGlmICghc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUilcbiAgICAgICAgeyAvKiBVc3VhbGx5IG9uIGlPUyBkZXZpY2VzLCB3aGVyZSB0aGUgYnJvd3NlciBkb2Vzbid0XG4gICAgICAgICAgICBsaWtlIHVwbG9hZHMgdG8gdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lLiAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemUgPD0gdGhpcy5fZmx1c2hJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYWNrZWRHZW9tZXRyeVBvb2xTaXplKys7XG4gICAgICAgICAgICAgICAgcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSA9IG5ldyAodGhpcy5nZW9tZXRyeUNsYXNzKSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhLCAwKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlciwgMCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkuYmluZChwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkudXBkYXRlQnVmZmVycygpO1xuICAgICAgICAgICAgdGhpcy5fZmx1c2hJZCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGZhc3RlciBvcHRpb24sIGFsd2F5cyB1c2UgYnVmZmVyIG51bWJlciAwXG4gICAgICAgICAgICBwYWNrZWRHZW9tZXRyaWVzW3RoaXMuX2ZsdXNoSWRdLl9idWZmZXIudXBkYXRlKGF0dHJpYnV0ZUJ1ZmZlci5yYXdCaW5hcnlEYXRhLCAwKTtcbiAgICAgICAgICAgIHBhY2tlZEdlb21ldHJpZXNbdGhpcy5fZmx1c2hJZF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlciwgMCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkudXBkYXRlQnVmZmVycygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRleHR1cmVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIHZhciBzdGF0ZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIuc3RhdGU7XG5cbiAgICAgICAgLy8gVXBsb2FkIHRleHR1cmVzIGFuZCBkbyB0aGUgZHJhdyBjYWxsc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZ3JvdXBDb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBkcmF3Q2FsbHNbaV07XG4gICAgICAgICAgICB2YXIgZ3JvdXBUZXh0dXJlQ291bnQgPSBncm91cC50ZXh0dXJlQ291bnQ7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlU3lzdGVtLmJpbmQoZ3JvdXAudGV4dHVyZXNbal0sIGopO1xuICAgICAgICAgICAgICAgIGdyb3VwLnRleHR1cmVzW2pdID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhdGVTeXN0ZW0uc2V0QmxlbmRNb2RlKGdyb3VwLmJsZW5kKTtcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhncm91cC50eXBlLCBncm91cC5zaXplLCBnbC5VTlNJR05FRF9TSE9SVCwgZ3JvdXAuc3RhcnQgKiAyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IGVsZW1lbnRzIGZvciB0aGUgbmV4dCBmbHVzaFxuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMDtcbiAgICAgICAgdGhpcy5fdmVydGV4Q291bnQgPSAwO1xuICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gc3RhcnQgKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RhdGUuc2V0KHRoaXMuc3RhdGUpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5fc2hhZGVyKTtcblxuICAgICAgICBpZiAoc2V0dGluZ3MuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYmluZCBidWZmZXIgIzAsIHdlIGRvbid0IG5lZWQgb3RoZXJzXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5fcGFja2VkR2VvbWV0cmllc1t0aGlzLl9mbHVzaElkXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgYW5kIGZsdXNoZXMgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGBBYnN0cmFjdEJhdGNoUmVuZGVyZXJgLiBJdCBjYW5ub3QgYmUgdXNlZCBhZ2Fpbi5cbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3BhY2tlZEdlb21ldHJ5UG9vbFNpemU7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3BhY2tlZEdlb21ldHJpZXNbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFja2VkR2VvbWV0cmllc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYUJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9pQnVmZmVycyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhY2tlZEdlb21ldHJpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9kcmF3Q2FsbHMgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaGFkZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBhdHRyaWJ1dGUgYnVmZmVyIGZyb20gYHRoaXMuX2FCdWZmZXJzYCB0aGF0XG4gICAgICogY2FuIGhvbGQgYXRsZWFzdCBgc2l6ZWAgZmxvYXRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIGNhcGFjaXR5IHJlcXVpcmVkXG4gICAgICogQHJldHVybiB7Vmlld2FibGVCdWZmZXJ9IC0gYnVmZmVyIHRoYW4gY2FuIGhvbGQgYXRsZWFzdCBgc2l6ZWAgZmxvYXRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLmdldEF0dHJpYnV0ZUJ1ZmZlciA9IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZUJ1ZmZlciAoc2l6ZSlcbiAgICB7XG4gICAgICAgIC8vIDggdmVydGljZXMgaXMgZW5vdWdoIGZvciAyIHF1YWRzXG4gICAgICAgIHZhciByb3VuZGVkUDIgPSBuZXh0UG93MihNYXRoLmNlaWwoc2l6ZSAvIDgpKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDg7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pQnVmZmVycy5sZW5ndGggPSByb3VuZGVkU2l6ZUluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLl9hQnVmZmVyc1tyb3VuZGVkU2l6ZV07XG5cbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FCdWZmZXJzW3JvdW5kZWRTaXplXSA9IGJ1ZmZlciA9IG5ldyBWaWV3YWJsZUJ1ZmZlcihyb3VuZGVkU2l6ZSAqIHRoaXMudmVydGV4U2l6ZSAqIDQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyBhbiBpbmRleCBidWZmZXIgZnJvbSBgdGhpcy5faUJ1ZmZlcnNgIHRoYXQgY2FuXG4gICAgICogaGFzIGF0bGVhc3QgYHNpemVgIGNhcGFjaXR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBtaW5pbXVtIHJlcXVpcmVkIGNhcGFjaXR5XG4gICAgICogQHJldHVybiB7VWludDE2QXJyYXl9IC0gYnVmZmVyIHRoYXQgY2FuIGZpdCBgc2l6ZWBcbiAgICAgKiAgICBpbmRpY2VzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLnByb3RvdHlwZS5nZXRJbmRleEJ1ZmZlciA9IGZ1bmN0aW9uIGdldEluZGV4QnVmZmVyIChzaXplKVxuICAgIHtcbiAgICAgICAgLy8gMTIgaW5kaWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgdmFyIHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gMTIpKTtcbiAgICAgICAgdmFyIHJvdW5kZWRTaXplSW5kZXggPSBsb2cyKHJvdW5kZWRQMik7XG4gICAgICAgIHZhciByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDEyO1xuXG4gICAgICAgIGlmICh0aGlzLl9pQnVmZmVycy5sZW5ndGggPD0gcm91bmRlZFNpemVJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5faUJ1ZmZlcnMubGVuZ3RoID0gcm91bmRlZFNpemVJbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcy5faUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF07XG5cbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2lCdWZmZXJzW3JvdW5kZWRTaXplSW5kZXhdID0gYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KHJvdW5kZWRTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIHRoZSBmb3VyIGJhdGNoaW5nIHBhcmFtZXRlcnMgb2YgYGVsZW1lbnRgLCBpbnRlcmxlYXZlc1xuICAgICAqIGFuZCBwdXNoZXMgdGhlbSBpbnRvIHRoZSBiYXRjaGluZyBhdHRyaWJ1dGUvaW5kZXggYnVmZmVycyBnaXZlbi5cbiAgICAgKlxuICAgICAqIEl0IHVzZXMgdGhlc2UgcHJvcGVydGllczogYHZlcnRleERhdGFgIGB1dnNgLCBgdGV4dHVyZUlkYCBhbmRcbiAgICAgKiBgaW5kaWNpZXNgLiBJdCBhbHNvIHVzZXMgdGhlIFwidGludFwiIG9mIHRoZSBiYXNlLXRleHR1cmUsIGlmXG4gICAgICogcHJlc2VudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IGVsZW1lbnQgLSBlbGVtZW50IGJlaW5nIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlZpZXdhYmxlQnVmZmVyfSBhdHRyaWJ1dGVCdWZmZXIgLSBhdHRyaWJ1dGUgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IGluZGV4QnVmZmVyIC0gaW5kZXggYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFJbmRleCAtIG51bWJlciBvZiBmbG9hdHMgYWxyZWFkeSBpbiB0aGUgYXR0cmlidXRlIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpSW5kZXggLSBudW1iZXIgb2YgaW5kaWNlcyBhbHJlYWR5IGluIGBpbmRleEJ1ZmZlcmBcbiAgICAgKi9cbiAgICBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlLnBhY2tJbnRlcmxlYXZlZEdlb21ldHJ5ID0gZnVuY3Rpb24gcGFja0ludGVybGVhdmVkR2VvbWV0cnkgKGVsZW1lbnQsIGF0dHJpYnV0ZUJ1ZmZlciwgaW5kZXhCdWZmZXIsIGFJbmRleCwgaUluZGV4KVxuICAgIHtcbiAgICAgICAgdmFyIHVpbnQzMlZpZXcgPSBhdHRyaWJ1dGVCdWZmZXIudWludDMyVmlldztcbiAgICAgICAgdmFyIGZsb2F0MzJWaWV3ID0gYXR0cmlidXRlQnVmZmVyLmZsb2F0MzJWaWV3O1xuXG4gICAgICAgIHZhciBwYWNrZWRWZXJ0aWNlcyA9IGFJbmRleCAvIHRoaXMudmVydGV4U2l6ZTtcbiAgICAgICAgdmFyIHV2cyA9IGVsZW1lbnQudXZzO1xuICAgICAgICB2YXIgaW5kaWNpZXMgPSBlbGVtZW50LmluZGljZXM7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gZWxlbWVudC52ZXJ0ZXhEYXRhO1xuICAgICAgICB2YXIgdGV4dHVyZUlkID0gZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5faWQ7XG5cbiAgICAgICAgdmFyIGFscGhhID0gTWF0aC5taW4oZWxlbWVudC53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICB2YXIgYXJnYiA9IChhbHBoYSA8IDEuMFxuICAgICAgICAgICYmIGVsZW1lbnQuX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSlcbiAgICAgICAgICAgID8gcHJlbXVsdGlwbHlUaW50KGVsZW1lbnQuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgOiBlbGVtZW50Ll90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAvLyBsZXRzIG5vdCB3b3JyeSBhYm91dCB0aW50ISBmb3Igbm93Li5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB2ZXJ0ZXhEYXRhW2ldO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1thSW5kZXgrK10gPSB1dnNbaSArIDFdO1xuICAgICAgICAgICAgdWludDMyVmlld1thSW5kZXgrK10gPSBhcmdiO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbYUluZGV4KytdID0gdGV4dHVyZUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgaW5kaWNpZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXJbaUluZGV4KytdID0gcGFja2VkVmVydGljZXMgKyBpbmRpY2llc1tpJDFdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBBYnN0cmFjdEJhdGNoUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbi8qKlxuICogSGVscGVyIHRoYXQgZ2VuZXJhdGVzIGJhdGNoaW5nIG11bHRpLXRleHR1cmUgc2hhZGVyLiBVc2UgaXQgd2l0aCB5b3VyIG5ldyBCYXRjaFJlbmRlcmVyXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmF0Y2hTaGFkZXJHZW5lcmF0b3IgPSBmdW5jdGlvbiBCYXRjaFNoYWRlckdlbmVyYXRvcih2ZXJ0ZXhTcmMsIGZyYWdUZW1wbGF0ZSlcbntcbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBzaGFkZXIgc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudmVydGV4U3JjID0gdmVydGV4U3JjO1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSBmcmFnZW1lbnQgc2hhZGVyIHRlbXBsYXRlLiBNdXN0IGNvbnRhaW4gXCIlY291bnQlXCIgYW5kIFwiJWZvcmxvb3AlXCIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5mcmFnVGVtcGxhdGUgPSBmcmFnVGVtcGxhdGU7XG5cbiAgICB0aGlzLnByb2dyYW1DYWNoZSA9IHt9O1xuICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGUgPSB7fTtcblxuICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWNvdW50JScpIDwgMClcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRnJhZ21lbnQgdGVtcGxhdGUgbXVzdCBjb250YWluIFwiJWNvdW50JVwiLicpO1xuICAgIH1cblxuICAgIGlmIChmcmFnVGVtcGxhdGUuaW5kZXhPZignJWZvcmxvb3AlJykgPCAwKVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGcmFnbWVudCB0ZW1wbGF0ZSBtdXN0IGNvbnRhaW4gXCIlZm9ybG9vcCVcIi4nKTtcbiAgICB9XG59O1xuXG5CYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTaGFkZXIgPSBmdW5jdGlvbiBnZW5lcmF0ZVNoYWRlciAobWF4VGV4dHVyZXMpXG57XG4gICAgaWYgKCF0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10pXG4gICAge1xuICAgICAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkobWF4VGV4dHVyZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVmYXVsdEdyb3VwQ2FjaGVbbWF4VGV4dHVyZXNdID0gVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKTtcblxuICAgICAgICB2YXIgZnJhZ21lbnRTcmMgPSB0aGlzLmZyYWdUZW1wbGF0ZTtcblxuICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVjb3VudCUvZ2ksIChcIlwiICsgbWF4VGV4dHVyZXMpKTtcbiAgICAgICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIHRoaXMuZ2VuZXJhdGVTYW1wbGVTcmMobWF4VGV4dHVyZXMpKTtcblxuICAgICAgICB0aGlzLnByb2dyYW1DYWNoZVttYXhUZXh0dXJlc10gPSBuZXcgUHJvZ3JhbSh0aGlzLnZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuICAgIH1cblxuICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgdGludDogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICBkZWZhdWx0OiB0aGlzLmRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIG5ldyBTaGFkZXIodGhpcy5wcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG59O1xuXG5CYXRjaFNoYWRlckdlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGVTYW1wbGVTcmMgPSBmdW5jdGlvbiBnZW5lcmF0ZVNhbXBsZVNyYyAobWF4VGV4dHVyZXMpXG57XG4gICAgdmFyIHNyYyA9ICcnO1xuXG4gICAgc3JjICs9ICdcXG4nO1xuICAgIHNyYyArPSAnXFxuJztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4VGV4dHVyZXM7IGkrKylcbiAgICB7XG4gICAgICAgIGlmIChpID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9ICdcXG5lbHNlICc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaSA8IG1heFRleHR1cmVzIC0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9IFwiaWYodlRleHR1cmVJZCA8IFwiICsgaSArIFwiLjUpXCI7XG4gICAgICAgIH1cblxuICAgICAgICBzcmMgKz0gJ1xcbnsnO1xuICAgICAgICBzcmMgKz0gXCJcXG5cXHRjb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlcnNbXCIgKyBpICsgXCJdLCB2VGV4dHVyZUNvb3JkKTtcIjtcbiAgICAgICAgc3JjICs9ICdcXG59JztcbiAgICB9XG5cbiAgICBzcmMgKz0gJ1xcbic7XG4gICAgc3JjICs9ICdcXG4nO1xuXG4gICAgcmV0dXJuIHNyYztcbn07XG5cbi8qKlxuICogR2VvbWV0cnkgdXNlZCB0byBiYXRjaCBzdGFuZGFyZCBQSVhJIGNvbnRlbnQgKGUuZy4gTWVzaCwgU3ByaXRlLCBHcmFwaGljcyBvYmplY3RzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCYXRjaEdlb21ldHJ5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBCYXRjaEdlb21ldHJ5KF9zdGF0aWMpXG4gICAge1xuICAgICAgICBpZiAoIF9zdGF0aWMgPT09IHZvaWQgMCApIF9zdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICBHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWZmZXIgdXNlZCBmb3IgcG9zaXRpb24sIGNvbG9yLCB0ZXh0dXJlIElEc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVyID0gbmV3IEJ1ZmZlcihudWxsLCBfc3RhdGljLCBmYWxzZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IGJ1ZmZlciBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIobnVsbCwgX3N0YXRpYywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHRoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHRoaXMuX2J1ZmZlciwgMiwgZmFsc2UsIFRZUEVTLkZMT0FUKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYUNvbG9yJywgdGhpcy5fYnVmZmVyLCA0LCB0cnVlLCBUWVBFUy5VTlNJR05FRF9CWVRFKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVJZCcsIHRoaXMuX2J1ZmZlciwgMSwgdHJ1ZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgodGhpcy5faW5kZXhCdWZmZXIpO1xuICAgIH1cblxuICAgIGlmICggR2VvbWV0cnkgKSBCYXRjaEdlb21ldHJ5Ll9fcHJvdG9fXyA9IEdlb21ldHJ5O1xuICAgIEJhdGNoR2VvbWV0cnkucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggR2VvbWV0cnkgJiYgR2VvbWV0cnkucHJvdG90eXBlICk7XG4gICAgQmF0Y2hHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXRjaEdlb21ldHJ5O1xuXG4gICAgcmV0dXJuIEJhdGNoR2VvbWV0cnk7XG59KEdlb21ldHJ5KSk7XG5cbnZhciBkZWZhdWx0VmVydGV4JDIgPSBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuYXR0cmlidXRlIGZsb2F0IGFUZXh0dXJlSWQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gdmVjNCB0aW50O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZUZXh0dXJlSWQgPSBhVGV4dHVyZUlkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3IgKiB0aW50O1xcbn1cXG5cIjtcblxudmFyIGRlZmF1bHRGcmFnbWVudCQyID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcbnZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICAlZm9ybG9vcCVcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3IgKiB2Q29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xudmFyIEJhdGNoUGx1Z2luRmFjdG9yeSA9IGZ1bmN0aW9uIEJhdGNoUGx1Z2luRmFjdG9yeSAoKSB7fTtcblxudmFyIHN0YXRpY0FjY2Vzc29ycyQxID0geyBkZWZhdWx0VmVydGV4U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRlZmF1bHRGcmFnbWVudFRlbXBsYXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbkJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUgKG9wdGlvbnMpXG57XG4gICAgdmFyIHJlZiA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICB2ZXJ0ZXg6IGRlZmF1bHRWZXJ0ZXgkMixcbiAgICAgICAgZnJhZ21lbnQ6IGRlZmF1bHRGcmFnbWVudCQyLFxuICAgICAgICBnZW9tZXRyeUNsYXNzOiBCYXRjaEdlb21ldHJ5LFxuICAgICAgICB2ZXJ0ZXhTaXplOiA2LFxuICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB2YXIgdmVydGV4ID0gcmVmLnZlcnRleDtcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gcmVmLmZyYWdtZW50O1xuICAgICAgICB2YXIgdmVydGV4U2l6ZSA9IHJlZi52ZXJ0ZXhTaXplO1xuICAgICAgICB2YXIgZ2VvbWV0cnlDbGFzcyA9IHJlZi5nZW9tZXRyeUNsYXNzO1xuXG4gICAgcmV0dXJuIC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEFic3RyYWN0QmF0Y2hSZW5kZXJlcikge1xuICAgICAgICAgICAgZnVuY3Rpb24gQmF0Y2hQbHVnaW4ocmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEFic3RyYWN0QmF0Y2hSZW5kZXJlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgdGhpcy5zaGFkZXJHZW5lcmF0b3IgPSBuZXcgQmF0Y2hTaGFkZXJHZW5lcmF0b3IodmVydGV4LCBmcmFnbWVudCk7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5Q2xhc3MgPSBnZW9tZXRyeUNsYXNzO1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhTaXplID0gdmVydGV4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIEFic3RyYWN0QmF0Y2hSZW5kZXJlciApIEJhdGNoUGx1Z2luLl9fcHJvdG9fXyA9IEFic3RyYWN0QmF0Y2hSZW5kZXJlcjtcbiAgICAgICAgICAgIEJhdGNoUGx1Z2luLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEFic3RyYWN0QmF0Y2hSZW5kZXJlciAmJiBBYnN0cmFjdEJhdGNoUmVuZGVyZXIucHJvdG90eXBlICk7XG4gICAgICAgICAgICBCYXRjaFBsdWdpbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCYXRjaFBsdWdpbjtcblxuICAgICAgICAgICAgcmV0dXJuIEJhdGNoUGx1Z2luO1xuICAgICAgICB9KEFic3RyYWN0QmF0Y2hSZW5kZXJlcikpO1xufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyIHNvdXJjZVxuICpcbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAY29uc3RhbnRcbiAqL1xuc3RhdGljQWNjZXNzb3JzJDEuZGVmYXVsdFZlcnRleFNyYy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiBkZWZhdWx0VmVydGV4JDI7XG59O1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IGZyYWdtZW50IHNoYWRlciBzb3VyY2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGNvbnN0YW50XG4gKi9cbnN0YXRpY0FjY2Vzc29ycyQxLmRlZmF1bHRGcmFnbWVudFRlbXBsYXRlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudCQyO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJhdGNoUGx1Z2luRmFjdG9yeSwgc3RhdGljQWNjZXNzb3JzJDEgKTtcblxuLy8gU2V0dXAgdGhlIGRlZmF1bHQgQmF0Y2hSZW5kZXJlciBwbHVnaW4sIHRoaXMgaXMgd2hhdFxuLy8gd2UnbGwgYWN0dWFsbHkgZXhwb3J0IGF0IHRoZSByb290IGxldmVsXG52YXIgQmF0Y2hSZW5kZXJlciA9IEJhdGNoUGx1Z2luRmFjdG9yeS5jcmVhdGUoKTtcblxuZXhwb3J0IHsgQWJzdHJhY3RCYXRjaFJlbmRlcmVyLCBBYnN0cmFjdFJlbmRlcmVyLCBBdHRyaWJ1dGUsIEJhc2VSZW5kZXJUZXh0dXJlLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hHZW9tZXRyeSwgQmF0Y2hQbHVnaW5GYWN0b3J5LCBCYXRjaFJlbmRlcmVyLCBCYXRjaFNoYWRlckdlbmVyYXRvciwgQnVmZmVyLCBDdWJlVGV4dHVyZSwgRmlsdGVyLCBGcmFtZWJ1ZmZlciwgR0xQcm9ncmFtLCBCYXNlVGV4dHVyZSBhcyBHTFRleHR1cmUsIEdlb21ldHJ5LCBPYmplY3RSZW5kZXJlciwgUHJvZ3JhbSwgUXVhZCwgUXVhZFV2LCBSZW5kZXJUZXh0dXJlLCBSZW5kZXJUZXh0dXJlUG9vbCwgUmVuZGVyZXIsIFNoYWRlciwgU3ByaXRlTWFza0ZpbHRlciwgU3RhdGUsIFN5c3RlbSwgVGV4dHVyZSwgVGV4dHVyZU1hdHJpeCwgVGV4dHVyZVV2cywgVW5pZm9ybUdyb3VwLCBWaWV3YWJsZUJ1ZmZlciwgYXV0b0RldGVjdFJlbmRlcmVyLCBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLCBkZWZhdWx0RmlsdGVyIGFzIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIF9kZWZhdWx0IGFzIGRlZmF1bHRWZXJ0ZXgsIGluZGV4IGFzIHJlc291cmNlcywgc3lzdGVtcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZXh0cmFjdCAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9leHRyYWN0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ2FudmFzUmVuZGVyVGFyZ2V0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbnZhciBURU1QX1JFQ1QgPSBuZXcgUmVjdGFuZ2xlKCk7XG52YXIgQllURVNfUEVSX1BJWEVMID0gNDtcblxuLyoqXG4gKiBUaGUgZXh0cmFjdCBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gZXhwb3J0IGNvbnRlbnQgZnJvbSB0aGUgcmVuZGVyZXJzLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMuZXh0cmFjdGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhY3RcbiAqL1xudmFyIEV4dHJhY3QgPSBmdW5jdGlvbiBFeHRyYWN0KHJlbmRlcmVyKVxue1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIGV4dHJhY3RpbmcgZGF0YSAoaW1hZ2UsIHBpeGVscywgZXRjLikgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHJlbmRlciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmV4dHJhY3QuRXh0cmFjdH0gZXh0cmFjdFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAqIEBzZWUgUElYSS5leHRyYWN0LkV4dHJhY3RcbiAgICAgKi9cbiAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbn07XG5cbi8qKlxuICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdIC0gSW1hZ2UgZm9ybWF0LCBlLmcuIFwiaW1hZ2UvanBlZ1wiIG9yIFwiaW1hZ2Uvd2VicFwiLlxuICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICogQHJldHVybiB7SFRNTEltYWdlRWxlbWVudH0gSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gKi9cbkV4dHJhY3QucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gaW1hZ2UgKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KVxue1xuICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgaW1hZ2Uuc3JjID0gdGhpcy5iYXNlNjQodGFyZ2V0LCBmb3JtYXQsIHF1YWxpdHkpO1xuXG4gICAgcmV0dXJuIGltYWdlO1xufTtcblxuLyoqXG4gKiBXaWxsIHJldHVybiBhIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoaXMgdGFyZ2V0LiBJdCB3b3JrcyBieSBjYWxsaW5nXG4gKiAgYEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHldIC0gSlBFRyBvciBXZWJwIGNvbXByZXNzaW9uIGZyb20gMCB0byAxLiBEZWZhdWx0IGlzIDAuOTIuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICovXG5FeHRyYWN0LnByb3RvdHlwZS5iYXNlNjQgPSBmdW5jdGlvbiBiYXNlNjQgKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KVxue1xuICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgQ2FudmFzIGVsZW1lbnQsIHJlbmRlcnMgdGhpcyB0YXJnZXQgdG8gaXQgYW5kIHRoZW4gcmV0dXJucyBpdC5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAqL1xuRXh0cmFjdC5wcm90b3R5cGUuY2FudmFzID0gZnVuY3Rpb24gY2FudmFzICh0YXJnZXQpXG57XG4gICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICB2YXIgcmVzb2x1dGlvbjtcbiAgICB2YXIgZnJhbWU7XG4gICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgdmFyIGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHRhcmdldClcbiAgICB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBmbGlwWSA9IHRydWU7XG5cbiAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgIGZyYW1lLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgIH1cblxuICAgIHZhciB3aWR0aCA9IE1hdGguZmxvb3IoZnJhbWUud2lkdGggKiByZXNvbHV0aW9uKTtcbiAgICB2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uKTtcblxuICAgIHZhciBjYW52YXNCdWZmZXIgPSBuZXcgQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIDEpO1xuXG4gICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICBnbC5yZWFkUGl4ZWxzKFxuICAgICAgICBmcmFtZS54ICogcmVzb2x1dGlvbixcbiAgICAgICAgZnJhbWUueSAqIHJlc29sdXRpb24sXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIGdsLlJHQkEsXG4gICAgICAgIGdsLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgKTtcblxuICAgIC8vIGFkZCB0aGUgcGl4ZWxzIHRvIHRoZSBjYW52YXNcbiAgICB2YXIgY2FudmFzRGF0YSA9IGNhbnZhc0J1ZmZlci5jb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIEV4dHJhY3QuYXJyYXlQb3N0RGl2aWRlKHdlYmdsUGl4ZWxzLCBjYW52YXNEYXRhLmRhdGEpO1xuXG4gICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuXG4gICAgLy8gcHVsbGluZyBwaXhlbHNcbiAgICBpZiAoZmxpcFkpXG4gICAge1xuICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5zY2FsZSgxLCAtMSk7XG4gICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LmRyYXdJbWFnZShjYW52YXNCdWZmZXIuY2FudmFzLCAwLCAtaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoZ2VuZXJhdGVkKVxuICAgIHtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIH1cblxuICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbn07XG5cbi8qKlxuICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICogQHJldHVybiB7VWludDhBcnJheX0gT25lLWRpbWVuc2lvbmFsIGFycmF5IGNvbnRhaW5pbmcgdGhlIHBpeGVsIGRhdGEgb2YgdGhlIGVudGlyZSB0ZXh0dXJlXG4gKi9cbkV4dHJhY3QucHJvdG90eXBlLnBpeGVscyA9IGZ1bmN0aW9uIHBpeGVscyAodGFyZ2V0KVxue1xuICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgdmFyIHJlc29sdXRpb247XG4gICAgdmFyIGZyYW1lO1xuICAgIHZhciByZW5kZXJUZXh0dXJlO1xuICAgIHZhciBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgIGlmICh0YXJnZXQpXG4gICAge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICBmcmFtZS53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgIH1cblxuICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgIHZhciB3ZWJnbFBpeGVscyA9IG5ldyBVaW50OEFycmF5KEJZVEVTX1BFUl9QSVhFTCAqIHdpZHRoICogaGVpZ2h0KTtcblxuICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgZ2wucmVhZFBpeGVscyhcbiAgICAgICAgZnJhbWUueCAqIHJlc29sdXRpb24sXG4gICAgICAgIGZyYW1lLnkgKiByZXNvbHV0aW9uLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBnbC5SR0JBLFxuICAgICAgICBnbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICB3ZWJnbFBpeGVsc1xuICAgICk7XG5cbiAgICBpZiAoZ2VuZXJhdGVkKVxuICAgIHtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIH1cblxuICAgIEV4dHJhY3QuYXJyYXlQb3N0RGl2aWRlKHdlYmdsUGl4ZWxzLCB3ZWJnbFBpeGVscyk7XG5cbiAgICByZXR1cm4gd2ViZ2xQaXhlbHM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBleHRyYWN0XG4gKlxuICovXG5FeHRyYWN0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG59O1xuXG4vKipcbiAqIFRha2VzIHByZW11bHRpcGxpZWQgcGl4ZWwgZGF0YSBhbmQgcHJvZHVjZXMgcmVndWxhciBwaXhlbCBkYXRhXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBwaXhlbHMge251bWJlcltdIHwgVWludDhBcnJheSB8IFVpbnQ4Q2xhbXBlZEFycmF5fSBhcnJheSBvZiBwaXhlbCBkYXRhXG4gKiBAcGFyYW0gb3V0IHtudW1iZXJbXSB8IFVpbnQ4QXJyYXkgfCBVaW50OENsYW1wZWRBcnJheX0gb3V0cHV0IGFycmF5XG4gKi9cbkV4dHJhY3QuYXJyYXlQb3N0RGl2aWRlID0gZnVuY3Rpb24gYXJyYXlQb3N0RGl2aWRlIChwaXhlbHMsIG91dClcbntcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpeGVscy5sZW5ndGg7IGkgKz0gNClcbiAgICB7XG4gICAgICAgIHZhciBhbHBoYSA9IG91dFtpICsgM10gPSBwaXhlbHNbaSArIDNdO1xuXG4gICAgICAgIGlmIChhbHBoYSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgb3V0W2ldID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaV0gKiAyNTUuMCAvIGFscGhhLCAyNTUuMCkpO1xuICAgICAgICAgICAgb3V0W2kgKyAxXSA9IE1hdGgucm91bmQoTWF0aC5taW4ocGl4ZWxzW2kgKyAxXSAqIDI1NS4wIC8gYWxwaGEsIDI1NS4wKSk7XG4gICAgICAgICAgICBvdXRbaSArIDJdID0gTWF0aC5yb3VuZChNYXRoLm1pbihwaXhlbHNbaSArIDJdICogMjU1LjAgLyBhbHBoYSwgMjU1LjApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG91dFtpXSA9IHBpeGVsc1tpXTtcbiAgICAgICAgICAgIG91dFtpICsgMV0gPSBwaXhlbHNbaSArIDFdO1xuICAgICAgICAgICAgb3V0W2kgKyAyXSA9IHBpeGVsc1tpICsgMl07XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIHByb3ZpZGVzIHJlbmRlcmVyLXNwZWNpZmljIHBsdWdpbnMgZm9yIGV4cG9ydGluZyBjb250ZW50IGZyb20gYSByZW5kZXJlci5cbiAqIEZvciBpbnN0YW5jZSwgdGhlc2UgcGx1Z2lucyBjYW4gYmUgdXNlZCBmb3Igc2F2aW5nIGFuIEltYWdlLCBDYW52YXMgZWxlbWVudCBvciBmb3IgZXhwb3J0aW5nIHRoZSByYXcgaW1hZ2UgZGF0YSAocGl4ZWxzKS5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhlc2UgcGx1Z2lucyBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwICh3aWxsIGF1dG8tYWRkIGV4dHJhY3QgcGx1Z2luIHRvIHJlbmRlcmVyKVxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqXG4gKiAvLyBEcmF3IGEgcmVkIGNpcmNsZVxuICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweEZGMDAwMClcbiAqICAgICAuZHJhd0NpcmNsZSgwLCAwLCA1MCk7XG4gKlxuICogLy8gUmVuZGVyIHRoZSBncmFwaGljcyBhcyBhbiBIVE1MSW1hZ2VFbGVtZW50XG4gKiBjb25zdCBpbWFnZSA9IGFwcC5yZW5kZXJlci5wbHVnaW5zLmV4dHJhY3QuaW1hZ2UoZ3JhcGhpY3MpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gKiBAbmFtZXNwYWNlIFBJWEkuZXh0cmFjdFxuICovXG5cbmV4cG9ydCB7IEV4dHJhY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4dHJhY3QuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ludGVyYWN0aW9uIC0gdjUuMS4xXG4gKiBDb21waWxlZCBGcmksIDAyIEF1ZyAyMDE5IDIzOjIwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL2ludGVyYWN0aW9uIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBIb2xkcyBhbGwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhbiBJbnRlcmFjdGlvbiBldmVudFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uRGF0YSA9IGZ1bmN0aW9uIEludGVyYWN0aW9uRGF0YSgpXG57XG4gICAgLyoqXG4gICAgICogVGhpcyBwb2ludCBzdG9yZXMgdGhlIGdsb2JhbCBjb29yZHMgb2Ygd2hlcmUgdGhlIHRvdWNoL21vdXNlIGV2ZW50IGhhcHBlbmVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAqL1xuICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IFNwcml0ZSB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gcGFzc2VkIHRvIGFuIGV2ZW50IGhhbmRsZXIsIHRoaXMgd2lsbCBiZSB0aGUgb3JpZ2luYWwgRE9NIEV2ZW50IHRoYXQgd2FzIGNhcHR1cmVkXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Nb3VzZUV2ZW50XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2hFdmVudFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAqIEBtZW1iZXIge01vdXNlRXZlbnR8VG91Y2hFdmVudHxQb2ludGVyRXZlbnR9XG4gICAgICovXG4gICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGludGVyYWN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgcG9pbnRlciBkZXZpY2UgdGhhdCBjcmVhdGVkIHRoZSBldmVudCBpcyB0aGUgcHJpbWFyeSBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbiB3YXMgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2UgdG8gdHJpZ2dlciB0aGUgZXZlbnQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuYnV0dG9uID0gMDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b25zIGFyZSBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWQuXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeC1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC93aWR0aFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIHJhZGl1c1kgb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9oZWlnaHRcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRYXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRYID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmdsZSwgaW4gZGVncmVlcywgYmV0d2VlbiB0aGUgcG9pbnRlciBkZXZpY2UgYW5kIHRoZSBzY3JlZW4uXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3RpbHRZXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbHRZID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHBvaW50ZXIgdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVyVHlwZVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5wb2ludGVyVHlwZSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBQcmVzc3VyZSBhcHBsaWVkIGJ5IHRoZSBwb2ludGluZyBkZXZpY2UgZHVyaW5nIHRoZSBldmVudC4gQSBUb3VjaCdzIGZvcmNlIHByb3BlcnR5XG4gICAgICogd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wcmVzc3VyZSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBGcm9tIFRvdWNoRXZlbnRzIChub3QgUG9pbnRlckV2ZW50cyB0cmlnZ2VyZWQgYnkgdG91Y2hlcyksIHRoZSByb3RhdGlvbkFuZ2xlIG9mIHRoZSBUb3VjaC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogVHdpc3Qgb2YgYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnR3aXN0ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEJhcnJlbCBwcmVzc3VyZSBvbiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHBvaW50ZXJJZDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGUgcG9pbnRlci4gSXQgd2lsbCBiZSB0aGUgc2FtZSBhcyBgaWRlbnRpZmllcmAuXG4gKiBAcmVhZG9ubHlcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wb2ludGVySWRcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnBvaW50ZXJJZC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLmlkZW50aWZpZXI7XG59O1xuXG4vKipcbiAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBmb3IgdGhpcyBJbnRlcmFjdGlvbkRhdGFcbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIGxvY2FsXG4gKiAgY29vcmRzIG9mZlxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbCAob3RoZXJ3aXNlXG4gKiAgd2lsbCBjcmVhdGUgYSBuZXcgcG9pbnQpXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtnbG9iYWxQb3NdIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICogIChvdGhlcndpc2Ugd2lsbCB1c2UgdGhlIGN1cnJlbnQgZ2xvYmFsIGNvb3JkcylcbiAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgY29udGFpbmluZyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIEludGVyYWN0aW9uRGF0YSBwb3NpdGlvbiByZWxhdGl2ZVxuICogIHRvIHRoZSBEaXNwbGF5T2JqZWN0XG4gKi9cbkludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuZ2V0TG9jYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldExvY2FsUG9zaXRpb24gKGRpc3BsYXlPYmplY3QsIHBvaW50LCBnbG9iYWxQb3MpXG57XG4gICAgcmV0dXJuIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGdsb2JhbFBvcyB8fCB0aGlzLmdsb2JhbCwgcG9pbnQpO1xufTtcblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBmcm9tIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YS5cbiAqXG4gKiBAcGFyYW0ge1RvdWNofE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCBUaGUgbm9ybWFsaXplZCBldmVudCBkYXRhXG4gKi9cbkludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUuY29weUV2ZW50ID0gZnVuY3Rpb24gY29weUV2ZW50IChldmVudClcbntcbiAgICAvLyBpc1ByaW1hcnkgc2hvdWxkIG9ubHkgY2hhbmdlIG9uIHRvdWNoc3RhcnQvcG9pbnRlcmRvd24sIHNvIHdlIGRvbid0IHdhbnQgdG8gb3ZlcndyaXRlXG4gICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAvLyBhY2N1cmF0ZVxuICAgIGlmIChldmVudC5pc1ByaW1hcnkpXG4gICAge1xuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICAgIC8vIGV2ZW50LmJ1dHRvbnMgaXMgbm90IGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnMgKGllLiBTYWZhcmkpLCBidXQgaXQgZG9lcyBoYXZlIGEgbm9uLXN0YW5kYXJkXG4gICAgLy8gZXZlbnQud2hpY2ggcHJvcGVydHkgaW5zdGVhZCwgd2hpY2ggY29udmV5cyB0aGUgc2FtZSBpbmZvcm1hdGlvbi5cbiAgICB0aGlzLmJ1dHRvbnMgPSBOdW1iZXIuaXNJbnRlZ2VyKGV2ZW50LmJ1dHRvbnMpID8gZXZlbnQuYnV0dG9ucyA6IGV2ZW50LndoaWNoO1xuICAgIHRoaXMud2lkdGggPSBldmVudC53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGV2ZW50LmhlaWdodDtcbiAgICB0aGlzLnRpbHRYID0gZXZlbnQudGlsdFg7XG4gICAgdGhpcy50aWx0WSA9IGV2ZW50LnRpbHRZO1xuICAgIHRoaXMucG9pbnRlclR5cGUgPSBldmVudC5wb2ludGVyVHlwZTtcbiAgICB0aGlzLnByZXNzdXJlID0gZXZlbnQucHJlc3N1cmU7XG4gICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gZXZlbnQucm90YXRpb25BbmdsZTtcbiAgICB0aGlzLnR3aXN0ID0gZXZlbnQudHdpc3QgfHwgMDtcbiAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSB8fCAwO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdGhlIGRhdGEgZm9yIHBvb2xpbmcuXG4gKi9cbkludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxue1xuICAgIC8vIGlzUHJpbWFyeSBpcyB0aGUgb25seSBwcm9wZXJ0eSB0aGF0IHdlIHJlYWxseSBuZWVkIHRvIHJlc2V0IC0gZXZlcnl0aGluZyBlbHNlIGlzXG4gICAgLy8gZ3VhcmFudGVlZCB0byBiZSBvdmVyd3JpdHRlblxuICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggSW50ZXJhY3Rpb25EYXRhLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbi8qKlxuICogRXZlbnQgY2xhc3MgdGhhdCBtaW1pY3MgbmF0aXZlIERPTSBldmVudHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25FdmVudCA9IGZ1bmN0aW9uIEludGVyYWN0aW9uRXZlbnQoKVxue1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBldmVudCB3aWxsIGNvbnRpbnVlIHByb3BhZ2F0aW5nIGluIHRoZSB0cmVlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCB3aGljaCBjYXVzZWQgdGhpcyBldmVudCB0byBiZSBkaXNwYXRjaGVkLlxuICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICovXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbn07XG5cbi8qKlxuICogUHJldmVudHMgZXZlbnQgZnJvbSByZWFjaGluZyBhbnkgb2JqZWN0cyBvdGhlciB0aGFuIHRoZSBjdXJyZW50IG9iamVjdC5cbiAqXG4gKi9cbkludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbiAoKVxue1xuICAgIHRoaXMuc3RvcHBlZCA9IHRydWU7XG59O1xuXG4vKipcbiAqIFJlc2V0cyB0aGUgZXZlbnQuXG4gKi9cbkludGVyYWN0aW9uRXZlbnQucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbntcbiAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbn07XG5cbi8qKlxuICogRGlzcGxheU9iamVjdHMgd2l0aCB0aGUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXR9IG1peGluIHVzZSB0aGlzIGNsYXNzIHRvIHRyYWNrIGludGVyYWN0aW9uc1xuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSA9IGZ1bmN0aW9uIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKHBvaW50ZXJJZClcbntcbiAgICB0aGlzLl9wb2ludGVySWQgPSBwb2ludGVySWQ7XG4gICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyBwb2ludGVySWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZmxhZ3M6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbm9uZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxvdmVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJpZ2h0RG93bjogeyBjb25maWd1cmFibGU6IHRydWUgfSxsZWZ0RG93bjogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgaW50ZXJhY3Rpb24gZmxhZyB0byBzZXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gKi9cbkludGVyYWN0aW9uVHJhY2tpbmdEYXRhLnByb3RvdHlwZS5fZG9TZXQgPSBmdW5jdGlvbiBfZG9TZXQgKGZsYWcsIHluKVxue1xuICAgIGlmICh5bilcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgfCBmbGFnO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzICYgKH5mbGFnKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFVuaXF1ZSBwb2ludGVyIGlkIG9mIHRoZSBldmVudFxuICpcbiAqIEByZWFkb25seVxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEucG9pbnRlcklkLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZDtcbn07XG5cbi8qKlxuICogU3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGEsIGV4cHJlc3NlZCBhcyBiaXQgZmxhZ3NcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5mbGFncy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mbGFncztcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmZsYWdzLnNldCA9IGZ1bmN0aW9uIChmbGFncykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5fZmxhZ3MgPSBmbGFncztcbn07XG5cbi8qKlxuICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgaW5hY3RpdmUgKG5vdCBvdmVyIG9yIGRvd24pP1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLm5vbmUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZmxhZ3MgPT09IHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTk9ORTtcbn07XG5cbi8qKlxuICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgb3ZlciB0aGUgRGlzcGxheU9iamVjdD9cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEub3Zlci5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIpICE9PSAwO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEub3Zlci5zZXQgPSBmdW5jdGlvbiAoeW4pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuT1ZFUiwgeW4pO1xufTtcblxuLyoqXG4gKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnJpZ2h0RG93bi5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLlJJR0hUX0RPV04pICE9PSAwO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEucmlnaHREb3duLnNldCA9IGZ1bmN0aW9uICh5bikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5fZG9TZXQodGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOLCB5bik7XG59O1xuXG4vKipcbiAqIERpZCB0aGUgbGVmdCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5sZWZ0RG93bi5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLkxFRlRfRE9XTikgIT09IDA7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5sZWZ0RG93bi5zZXQgPSBmdW5jdGlvbiAoeW4pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTEVGVF9ET1dOLCB5bik7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMSApO1xuXG5JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIE5PTkU6IDAsXG4gICAgT1ZFUjogMSA8PCAwLFxuICAgIExFRlRfRE9XTjogMSA8PCAxLFxuICAgIFJJR0hUX0RPV046IDEgPDwgMixcbn0pO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgY2xhc3NlcyB0aGF0IHJlcHJlc2VudCBhIGhpdCBhcmVhLlxuICpcbiAqIEl0IGlzIGltcGxlbWVudGVkIGJ5IHRoZSBmb2xsb3dpbmcgY2xhc3NlczpcbiAqIC0ge0BsaW5rIFBJWEkuQ2lyY2xlfVxuICogLSB7QGxpbmsgUElYSS5FbGxpcHNlfVxuICogLSB7QGxpbmsgUElYSS5Qb2x5Z29ufVxuICogLSB7QGxpbmsgUElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICpcbiAqIEBpbnRlcmZhY2UgSUhpdEFyZWFcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGFyZWFcbiAqXG4gKiBAbWV0aG9kXG4gKiBAbmFtZSBjb250YWluc1xuICogQG1lbWJlcm9mIFBJWEkuSUhpdEFyZWEjXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBhcmVhXG4gKi9cblxuLyoqXG4gKiBEZWZhdWx0IHByb3BlcnR5IHZhbHVlcyBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzXG4gKiBVc2VkIGJ5IHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0gdG8gYXV0b21hdGljYWxseSBnaXZlIGFsbCBEaXNwbGF5T2JqZWN0cyB0aGVzZSBwcm9wZXJ0aWVzXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGludGVyYWN0aXZlVGFyZ2V0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqIEBleGFtcGxlXG4gKiAgICAgIGZ1bmN0aW9uIE15T2JqZWN0KCkge31cbiAqXG4gKiAgICAgIE9iamVjdC5hc3NpZ24oXG4gKiAgICAgICAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuaW50ZXJhY3Rpb24uaW50ZXJhY3RpdmVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xudmFyIGludGVyYWN0aXZlVGFyZ2V0ID0ge1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIGludGVyYWN0aW9uIGV2ZW50cyBmb3IgdGhlIERpc3BsYXlPYmplY3QuIFRvdWNoLCBwb2ludGVyIGFuZCBtb3VzZVxuICAgICAqIGV2ZW50cyB3aWxsIG5vdCBiZSBlbWl0dGVkIHVubGVzcyBgaW50ZXJhY3RpdmVgIGlzIHNldCB0byBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5vbigndGFwJywgKGV2ZW50KSA9PiB7XG4gICAgICogICAgLy9oYW5kbGUgZXZlbnRcbiAgICAgKiB9KTtcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY2hpbGRyZW4gdG8gdGhlIGRpc3BsYXlPYmplY3QgY2FuIGJlIGNsaWNrZWQvdG91Y2hlZFxuICAgICAqIFNldHRpbmcgdGhpcyB0byBmYWxzZSBhbGxvd3MgUGl4aUpTIHRvIGJ5cGFzcyBhIHJlY3Vyc2l2ZSBgaGl0VGVzdGAgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuQ29udGFpbmVyI1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlQ2hpbGRyZW46IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcmFjdGlvbiBzaGFwZS4gQ2hpbGRyZW4gd2lsbCBiZSBoaXQgZmlyc3QsIHRoZW4gdGhpcyBzaGFwZSB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICogU2V0dGluZyB0aGlzIHdpbGwgY2F1c2UgdGhpcyBzaGFwZSB0byBiZSBjaGVja2VkIGluIGhpdCB0ZXN0cyByYXRoZXIgdGhhbiB0aGUgZGlzcGxheU9iamVjdCdzIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmhpdEFyZWEgPSBuZXcgUElYSS5SZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApO1xuICAgICAqIEBtZW1iZXIge1BJWEkuSUhpdEFyZWF9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBoaXRBcmVhOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgdGhlIG1vdXNlIGN1cnNvciB1c2UgdGhlIHBvaW50ZXIgYmVoYXZpb3Igd2hlbiBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QgaWYgaXQgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBTZXR0aW5nIHRoaXMgY2hhbmdlcyB0aGUgJ2N1cnNvcicgcHJvcGVydHkgdG8gYCdwb2ludGVyJ2AuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5idXR0b25Nb2RlID0gdHJ1ZTtcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgZ2V0IGJ1dHRvbk1vZGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yID09PSAncG9pbnRlcic7XG4gICAgfSxcbiAgICBzZXQgYnV0dG9uTW9kZSh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZGVmaW5lcyB3aGF0IGN1cnNvciBtb2RlIGlzIHVzZWQgd2hlbiB0aGUgbW91c2UgY3Vyc29yXG4gICAgICogaXMgaG92ZXJlZCBvdmVyIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUuY3Vyc29yID0gJ3dhaXQnO1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQ1NTL2N1cnNvclxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY3Vyc29yOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgc2V0IG9mIGFsbCBhY3RpdmUgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0IHRyYWNrZWRQb2ludGVycygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdHJhY2tlZFBvaW50ZXJzID09PSB1bmRlZmluZWQpIHsgdGhpcy5fdHJhY2tlZFBvaW50ZXJzID0ge307IH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fdHJhY2tlZFBvaW50ZXJzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYXAgb2YgYWxsIHRyYWNrZWQgcG9pbnRlcnMsIGJ5IGlkZW50aWZpZXIuIFVzZSB0cmFja2VkUG9pbnRlcnMgdG8gYWNjZXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqL1xuICAgIF90cmFja2VkUG9pbnRlcnM6IHVuZGVmaW5lZCxcbn07XG5cbi8vIE1peCBpbnRlcmFjdGl2ZVRhcmdldCBpbnRvIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuLy8gYWZ0ZXIgZGVwcmVjYXRpb24gaGFzIGJlZW4gaGFuZGxlZFxuRGlzcGxheU9iamVjdC5taXhpbihpbnRlcmFjdGl2ZVRhcmdldCk7XG5cbnZhciBNT1VTRV9QT0lOVEVSX0lEID0gMTtcblxuLy8gaGVscGVycyBmb3IgaGl0VGVzdCgpIC0gb25seSB1c2VkIGluc2lkZSBoaXRUZXN0KClcbnZhciBoaXRUZXN0RXZlbnQgPSB7XG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIGRhdGE6IHtcbiAgICAgICAgZ2xvYmFsOiBudWxsLFxuICAgIH0sXG59O1xuXG4vKipcbiAqIFRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyIGRlYWxzIHdpdGggbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqXG4gKiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmUgaWYgaXRzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUuXG4gKlxuICogVGhpcyBtYW5hZ2VyIGFsc28gc3VwcG9ydHMgbXVsdGl0b3VjaC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvbk1hbmFnZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChFdmVudEVtaXR0ZXIpIHtcbiAgICBmdW5jdGlvbiBJbnRlcmFjdGlvbk1hbmFnZXIocmVuZGVyZXIsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgaW50ZXJhY3Rpb24gbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdWxkIGRlZmF1bHQgYnJvd3NlciBhY3Rpb25zIGF1dG9tYXRpY2FsbHkgYmUgcHJldmVudGVkLlxuICAgICAgICAgKiBEb2VzIG5vdCBhcHBseSB0byBwb2ludGVyIGV2ZW50cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICogcHJldmVudERlZmF1bHQgb24gcG9pbnRlciBldmVudHMgc3RvcHMgbW91c2UgZXZlbnRzIGZyb20gZmlyaW5nXG4gICAgICAgICAqIFRodXMsIGZvciBldmVyeSBwb2ludGVyIGV2ZW50LCB0aGVyZSB3aWxsIGFsd2F5cyBiZSBlaXRoZXIgYSBtb3VzZSBvZiB0b3VjaCBldmVudCBhbG9uZ3NpZGUgaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1ByZXZlbnREZWZhdWx0ID0gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0IDogdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnJlcXVlbmN5IGluIG1pbGxpc2Vjb25kcyB0aGF0IHRoZSBtb3VzZW1vdmUsIG1vdXNlb3ZlciAmIG1vdXNlb3V0IGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgPSBvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5IHx8IDEwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbW91c2UgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW91c2UgPSBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgIHRoaXMubW91c2UuaWRlbnRpZmllciA9IE1PVVNFX1BPSU5URVJfSUQ7XG5cbiAgICAgICAgLy8gc2V0dGluZyB0aGUgbW91c2UgdG8gc3RhcnQgb2ZmIGZhciBvZmYgc2NyZWVuIHdpbGwgbWVhbiB0aGF0IG1vdXNlIG92ZXIgZG9lc1xuICAgICAgICAvLyAgbm90IGdldCBjYWxsZWQgYmVmb3JlIHdlIGV2ZW4gbW92ZSB0aGUgbW91c2UuXG4gICAgICAgIHRoaXMubW91c2UuZ2xvYmFsLnNldCgtOTk5OTk5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZlbHkgdHJhY2tlZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxudW1iZXIsUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGE+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbTU9VU0VfUE9JTlRFUl9JRF0gPSB0aGlzLm1vdXNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb29sIG9mIHVudXNlZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGFbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBldmVudCBkYXRhIG9iamVjdCB0byBoYW5kbGUgYWxsIHRoZSBldmVudCB0cmFja2luZy9kaXNwYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG5ldyBJbnRlcmFjdGlvbkV2ZW50KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBET00gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHByb3BlcnR5IGRldGVybWluZXMgaWYgbW91c2Vtb3ZlIGFuZCB0b3VjaG1vdmUgZXZlbnRzIGFyZSBmaXJlZCBvbmx5IHdoZW4gdGhlIGN1cnNvclxuICAgICAgICAgKiBpcyBvdmVyIHRoZSBvYmplY3QuXG4gICAgICAgICAqIFNldHRpbmcgdG8gdHJ1ZSB3aWxsIG1ha2UgdGhpbmdzIHdvcmsgbW9yZSBpbiBsaW5lIHdpdGggaG93IHRoZSBET00gdmVyc2lvbiB3b3Jrcy5cbiAgICAgICAgICogU2V0dGluZyB0byBmYWxzZSBjYW4gbWFrZSB0aGluZ3MgZWFzaWVyIGZvciB0aGluZ3MgbGlrZSBkcmFnZ2luZ1xuICAgICAgICAgKiBJdCBpcyBjdXJyZW50bHkgc2V0IHRvIGZhbHNlIGFzIHRoaXMgaXMgaG93IFBpeGlKUyB1c2VkIHRvIHdvcmsuIFRoaXMgd2lsbCBiZSBzZXQgdG8gdHJ1ZSBpblxuICAgICAgICAgKiBmdXR1cmUgdmVyc2lvbnMgb2YgcGl4aS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW92ZVdoZW5JbnNpZGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGF2ZSBldmVudHMgYmVlbiBhdHRhY2hlZCB0byB0aGUgZG9tIGVsZW1lbnQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIG1vdXNlIGhvdmVyaW5nIG92ZXIgdGhlIHJlbmRlcmVyP1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHRvdWNoIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdztcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgcG9pbnRlciBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1N1Ym1pc3Npb24vcG9pbnRlci1ldmVudHMvXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMgPSAhIXdpbmRvdy5Qb2ludGVyRXZlbnQ7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIG1ha2UgaXQgc28gdGhhdCB5b3UgZG9uJ3QgaGF2ZSB0byBjYWxsIGJpbmQgYWxsIHRoZSB0aW1lXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcCA9IHRoaXMub25Qb2ludGVyVXAuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gdGhpcy5wcm9jZXNzUG9pbnRlclVwLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDYW5jZWwgPSB0aGlzLm9uUG9pbnRlckNhbmNlbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IHRoaXMub25Qb2ludGVyRG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJNb3ZlID0gdGhpcy5vblBvaW50ZXJNb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IHRoaXMub25Qb2ludGVyT3V0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSB0aGlzLm9uUG9pbnRlck92ZXIuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGljdGlvbmFyeSBvZiBob3cgZGlmZmVyZW50IGN1cnNvciBtb2RlcyBhcmUgaGFuZGxlZC4gU3RyaW5ncyBhcmUgaGFuZGxlZCBhcyBDU1MgY3Vyc29yXG4gICAgICAgICAqIHZhbHVlcywgb2JqZWN0cyBhcmUgaGFuZGxlZCBhcyBkaWN0aW9uYXJpZXMgb2YgQ1NTIHZhbHVlcyBmb3IgaW50ZXJhY3Rpb25ET01FbGVtZW50LFxuICAgICAgICAgKiBhbmQgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW5zdGVhZCBvZiBjaGFuZ2luZyB0aGUgQ1NTLlxuICAgICAgICAgKiBEZWZhdWx0IENTUyBjdXJzb3IgdmFsdWVzIGFyZSBwcm92aWRlZCBmb3IgJ2RlZmF1bHQnIGFuZCAncG9pbnRlcicgbW9kZXMuXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBPYmplY3Q+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcicsXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb2RlIG9mIHRoZSBjdXJzb3IgdGhhdCBpcyBiZWluZyB1c2VkLlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhpcyBpcyBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBOb3QgYWx3YXlzIGZpcmVkIHdoZW4gc29tZSBidXR0b25zIGFyZSBoZWxkIGRvd24gd2hpbGUgb3RoZXJzIGFyZSByZWxlYXNlZC4gSW4gdGhvc2UgY2FzZXMsXG4gICAgICAgICAqIHVzZSBbbW91c2Vkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZWRvd259IGFuZFxuICAgICAgICAgKiBbbW91c2V1cF17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6bW91c2V1cH0gaW5zdGVhZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5LlxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheVxuICAgICAgICAgKiBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2NsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodGNsaWNrXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlXG4gICAgICAgICAqIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbbW91c2Vkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6bW91c2Vkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyByZWxlYXNlZFxuICAgICAgICAgKiBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW3JpZ2h0ZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnJpZ2h0ZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgcG9pbnRlciBldmVudC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcmNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnBvaW50ZXJkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHRvdWNoLlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGNhbmNlbFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDp0b3VjaHN0YXJ0fS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgdGhpcy5zZXRUYXJnZXRFbGVtZW50KHRoaXMucmVuZGVyZXIudmlldywgdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoIEV2ZW50RW1pdHRlciApIEludGVyYWN0aW9uTWFuYWdlci5fX3Byb3RvX18gPSBFdmVudEVtaXR0ZXI7XG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciAmJiBFdmVudEVtaXR0ZXIucHJvdG90eXBlICk7XG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEludGVyYWN0aW9uTWFuYWdlcjtcblxuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0cyBhIHBvaW50IGFnYWluc3QgdGhlIGRpc3BsYXkgdHJlZSwgcmV0dXJuaW5nIHRoZSBmaXJzdCBpbnRlcmFjdGl2ZSBvYmplY3QgdGhhdCBpcyBoaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGdsb2JhbFBvaW50IC0gQSBwb2ludCB0byBoaXQgdGVzdCB3aXRoLCBpbiBnbG9iYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gW3Jvb3RdIC0gVGhlIHJvb3QgZGlzcGxheSBvYmplY3QgdG8gc3RhcnQgZnJvbS4gSWYgb21pdHRlZCwgZGVmYXVsdHNcbiAgICAgKiB0byB0aGUgbGFzdCByZW5kZXJlZCByb290IG9mIHRoZSBhc3NvY2lhdGVkIHJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGhpdCBkaXNwbGF5IG9iamVjdCwgaWYgYW55LlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuaGl0VGVzdCA9IGZ1bmN0aW9uIGhpdFRlc3QgKGdsb2JhbFBvaW50LCByb290KVxuICAgIHtcbiAgICAgICAgLy8gY2xlYXIgdGhlIHRhcmdldCBmb3Igb3VyIGhpdCB0ZXN0XG4gICAgICAgIGhpdFRlc3RFdmVudC50YXJnZXQgPSBudWxsO1xuICAgICAgICAvLyBhc3NpZ24gdGhlIGdsb2JhbCBwb2ludFxuICAgICAgICBoaXRUZXN0RXZlbnQuZGF0YS5nbG9iYWwgPSBnbG9iYWxQb2ludDtcbiAgICAgICAgLy8gZW5zdXJlIHNhZmV0eSBvZiB0aGUgcm9vdFxuICAgICAgICBpZiAoIXJvb3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJvb3QgPSB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcnVuIHRoZSBoaXQgdGVzdFxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShoaXRUZXN0RXZlbnQsIHJvb3QsIG51bGwsIHRydWUpO1xuICAgICAgICAvLyByZXR1cm4gb3VyIGZvdW5kIG9iamVjdCAtIGl0J2xsIGJlIG51bGwgaWYgd2UgZGlkbid0IGhpdCBhbnl0aGluZ1xuXG4gICAgICAgIHJldHVybiBoaXRUZXN0RXZlbnQudGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UvdG91Y2ggZXZlbnRzLiBUaGlzIGlzIHVzZWZ1bCBmb3Igd2hlbiB5b3UgaGF2ZVxuICAgICAqIG90aGVyIERPTSBlbGVtZW50cyBvbiB0b3Agb2YgdGhlIHJlbmRlcmVycyBDYW52YXMgZWxlbWVudC4gV2l0aCB0aGlzIHlvdSdsbCBiZSBiYWxlIHRvIGRlbGVnYXRlXG4gICAgICogYW5vdGhlciBET00gZWxlbWVudCB0byByZWNlaXZlIHRob3NlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlIGFuZCB0b3VjaCBldmVudHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIG5ldyBlbGVtZW50IChyZWxhdGl2ZSB0byB0aGUgY2FudmFzKS5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbiBzZXRUYXJnZXRFbGVtZW50IChlbGVtZW50LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgaWYgKCByZXNvbHV0aW9uID09PSB2b2lkIDAgKSByZXNvbHV0aW9uID0gMTtcblxuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuYWRkRXZlbnRzKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhbGwgdGhlIERPTSBldmVudHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5hZGRFdmVudHMgPSBmdW5jdGlvbiBhZGRFdmVudHMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuSU5URVJBQ1RJT04pO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtY29udGVudC16b29taW5nJ10gPSAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLXRvdWNoLWFjdGlvbiddID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsndG91Y2gtYWN0aW9uJ10gPSAnbm9uZSc7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlc2UgZXZlbnRzIGFyZSBhZGRlZCBmaXJzdCwgc28gdGhhdCBpZiBwb2ludGVyIGV2ZW50cyBhcmUgbm9ybWFsaXplZCwgdGhleSBhcmUgZmlyZWRcbiAgICAgICAgICogaW4gdGhlIHNhbWUgb3JkZXIgYXMgbm9uLW5vcm1hbGl6ZWQgZXZlbnRzLiBpZS4gcG9pbnRlciBldmVudCAxc3QsIG1vdXNlIC8gdG91Y2ggMm5kXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICAvLyBwb2ludGVyb3V0IGlzIGZpcmVkIGluIGFkZGl0aW9uIHRvIHBvaW50ZXJ1cCAoZm9yIHRvdWNoIGV2ZW50cykgYW5kIHBvaW50ZXJjYW5jZWxcbiAgICAgICAgICAgIC8vIHdlIGFscmVhZHkgaGFuZGxlIHRob3NlLCBzbyBmb3IgdGhlIHB1cnBvc2VzIG9mIHdoYXQgd2UgZG8gaW4gb25Qb2ludGVyT3V0LCB3ZSBvbmx5XG4gICAgICAgICAgICAvLyBjYXJlIGFib3V0IHRoZSBwb2ludGVybGVhdmUgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsd2F5cyBsb29rIGRpcmVjdGx5IGZvciB0b3VjaCBldmVudHMgc28gdGhhdCB3ZSBjYW4gcHJvdmlkZSBvcmlnaW5hbCBkYXRhXG4gICAgICAgIC8vIEluIGEgZnV0dXJlIHZlcnNpb24gd2Ugc2hvdWxkIGNoYW5nZSB0aGlzIHRvIGJlaW5nIGp1c3QgYSBmYWxsYmFjayBhbmQgcmVseSBzb2xlbHkgb25cbiAgICAgICAgLy8gUG9pbnRlckV2ZW50cyB3aGVuZXZlciBhdmFpbGFibGVcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBET00gZXZlbnRzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlZ2lzdGVyZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVFdmVudHMgPSBmdW5jdGlvbiByZW1vdmVFdmVudHMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJyc7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLXRvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgc3RhdGUgb2YgaW50ZXJhY3RpdmUgb2JqZWN0cy5cbiAgICAgKiBJbnZva2VkIGJ5IGEgdGhyb3R0bGVkIHRpY2tlciB1cGRhdGUgZnJvbSB7QGxpbmsgUElYSS5UaWNrZXIuc3lzdGVtfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSB0aW1lIGRlbHRhIHNpbmNlIGxhc3QgdGlja1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChkZWx0YVRpbWUpXG4gICAge1xuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgKz0gZGVsdGFUaW1lO1xuXG4gICAgICAgIGlmICh0aGlzLl9kZWx0YVRpbWUgPCB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kZWx0YVRpbWUgPSAwO1xuXG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIG1vdmUgdGhlIG1vdXNlIHRoaXMgY2hlY2sgaGFzIGFscmVhZHkgYmVlbiBkb25lIHVzaW5nIHRoZSBtb3VzZSBtb3ZlIVxuICAgICAgICBpZiAodGhpcy5kaWRNb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpZE1vdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8vIFJlc2V0cyB0aGUgZmxhZyBhcyBzZXQgYnkgYSBzdG9wUHJvcGFnYXRpb24gY2FsbC4gVGhpcyBmbGFnIGlzIHVzdWFsbHkgcmVzZXQgYnkgYSB1c2VyIGludGVyYWN0aW9uIG9mIGFueSBraW5kLFxuICAgICAgICAvLyBidXQgdGhlcmUgd2FzIGEgc2NlbmFyaW8gb2YgYSBkaXNwbGF5IG9iamVjdCBtb3ZpbmcgdW5kZXIgYSBzdGF0aWMgbW91c2UgY3Vyc29yLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2UsIG1vdXNlb3ZlciBhbmQgbW91c2VldmVudHMgd291bGQgbm90IHBhc3MgdGhlIGZsYWcgdGVzdCBpbiBkaXNwYXRjaEV2ZW50IGZ1bmN0aW9uXG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YS5oYXNPd25Qcm9wZXJ0eShrKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFba107XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgJiYgaW50ZXJhY3Rpb25EYXRhLnBvaW50ZXJUeXBlICE9PSAndG91Y2gnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGN1cnNvciBtb2RlLCBoYW5kbGluZyBhbnkgY2FsbGJhY2tzIG9yIENTUyBzdHlsZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBjdXJzb3IgbW9kZSwgYSBrZXkgZnJvbSB0aGUgY3Vyc29yU3R5bGVzIGRpY3Rpb25hcnlcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnNldEN1cnNvck1vZGUgPSBmdW5jdGlvbiBzZXRDdXJzb3JNb2RlIChtb2RlKVxuICAgIHtcbiAgICAgICAgbW9kZSA9IG1vZGUgfHwgJ2RlZmF1bHQnO1xuICAgICAgICAvLyBpZiB0aGUgbW9kZSBkaWRuJ3QgYWN0dWFsbHkgY2hhbmdlLCBiYWlsIGVhcmx5XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID09PSBtb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG1vZGU7XG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuXG4gICAgICAgIC8vIG9ubHkgZG8gdGhpbmdzIGlmIHRoZXJlIGlzIGEgY3Vyc29yIHN0eWxlIGZvciBpdFxuICAgICAgICBpZiAoc3R5bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZyBzdHlsZXMgYXJlIGhhbmRsZWQgYXMgY3Vyc29yIENTU1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbnMgYXJlIGp1c3QgY2FsbGVkLCBhbmQgcGFzc2VkIHRoZSBjdXJzb3IgbW9kZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZShtb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gb2JqZWN0LCBhc3N1bWUgdGhhdCBpdCBpcyBhIGRpY3Rpb25hcnkgb2YgQ1NTIHN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaXQgdG8gdGhlIGludGVyYWN0aW9uRE9NRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgaXQgbW9kZSBpcyBhIHN0cmluZyAobm90IGEgU3ltYm9sKSBhbmQgY3Vyc29yU3R5bGVzIGRvZXNuJ3QgaGF2ZSBhbnkgZW50cnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW9kZSwgdGhlbiBhc3N1bWUgdGhhdCB0aGUgZGV2IHdhbnRzIGl0IHRvIGJlIENTUyBmb3IgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBvbiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXkgb2JqZWN0IGluIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50U3RyaW5nIC0gdGhlIG5hbWUgb2YgdGhlIGV2ZW50IChlLmcsIG1vdXNlZG93bilcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZXZlbnREYXRhIC0gdGhlIGV2ZW50IGRhdGEgb2JqZWN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50IChkaXNwbGF5T2JqZWN0LCBldmVudFN0cmluZywgZXZlbnREYXRhKVxuICAgIHtcbiAgICAgICAgaWYgKCFldmVudERhdGEuc3RvcHBlZClcbiAgICAgICAge1xuICAgICAgICAgICAgZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICAgICAgZXZlbnREYXRhLnR5cGUgPSBldmVudFN0cmluZztcblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5lbWl0KGV2ZW50U3RyaW5nLCBldmVudERhdGEpO1xuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdFtldmVudFN0cmluZ10oZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHggYW5kIHkgY29vcmRzIGZyb20gYSBET00gb2JqZWN0IGFuZCBtYXBzIHRoZW0gY29ycmVjdGx5IHRvIHRoZSBQaXhpSlMgdmlldy4gVGhlXG4gICAgICogcmVzdWx0aW5nIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGUgcG9pbnQuIFRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoZSBmYWN0IHRoYXQgdGhlIERPTVxuICAgICAqIGVsZW1lbnQgY291bGQgYmUgc2NhbGVkIGFuZCBwb3NpdGlvbmVkIGFueXdoZXJlIG9uIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IC0gdGhlIHkgY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUubWFwUG9zaXRpb25Ub1BvaW50ID0gZnVuY3Rpb24gbWFwUG9zaXRpb25Ub1BvaW50IChwb2ludCwgeCwgeSlcbiAgICB7XG4gICAgICAgIHZhciByZWN0O1xuXG4gICAgICAgIC8vIElFIDExIGZpeFxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnBhcmVudEVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY3QgPSB7IHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXNvbHV0aW9uTXVsdGlwbGllciA9IDEuMCAvIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICBwb2ludC54ID0gKCh4IC0gcmVjdC5sZWZ0KSAqICh0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC53aWR0aCAvIHJlY3Qud2lkdGgpKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgICAgICBwb2ludC55ID0gKCh5IC0gcmVjdC50b3ApICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmhlaWdodCAvIHJlY3QuaGVpZ2h0KSkgKiByZXNvbHV0aW9uTXVsdGlwbGllcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBwcm92aWRlcyBhIG5lYXQgd2F5IG9mIGNyYXdsaW5nIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBydW5uaW5nIGFcbiAgICAgKiBzcGVjaWZpZWQgZnVuY3Rpb24gb24gYWxsIGludGVyYWN0aXZlIG9iamVjdHMgaXQgZmluZHMuIEl0IHdpbGwgYWxzbyB0YWtlIGNhcmUgb2YgaGl0XG4gICAgICogdGVzdGluZyB0aGUgaW50ZXJhY3RpdmUgb2JqZWN0cyBhbmQgcGFzc2VzIHRoZSBoaXQgYWNyb3NzIGluIHRoZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc0ludGVyYWN0aXZlID0gZnVuY3Rpb24gcHJvY2Vzc0ludGVyYWN0aXZlIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZSlcbiAgICB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdCB8fCAhZGlzcGxheU9iamVjdC52aXNpYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuZ2xvYmFsO1xuXG4gICAgICAgIC8vIFRvb2sgYSBsaXR0bGUgd2hpbGUgdG8gcmV3b3JrIHRoaXMgZnVuY3Rpb24gY29ycmVjdGx5ISBCdXQgbm93IGl0IGlzIGRvbmUgYW5kIG5pY2UgYW5kIG9wdGltaXplZCEgXl9eXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBub3cgbG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIGFuZCB0aGVuIG9ubHkgaGl0IHRlc3QgdGhlIG9iamVjdHMgaXQgSEFTXG4gICAgICAgIC8vIHRvLCBub3QgYWxsIG9mIHRoZW0uIE1VQ0ggZmFzdGVyLi5cbiAgICAgICAgLy8gQW4gb2JqZWN0IHdpbGwgYmUgaGl0IHRlc3QgaWYgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxOiBJdCBpcyBpbnRlcmFjdGl2ZS5cbiAgICAgICAgLy8gMjogSXQgYmVsb25ncyB0byBhIHBhcmVudCB0aGF0IGlzIGludGVyYWN0aXZlIEFORCBvbmUgb2YgdGhlIHBhcmVudHMgY2hpbGRyZW4gaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQXMgYW5vdGhlciBsaXR0bGUgb3B0aW1pemF0aW9uIG9uY2UgYW4gaW50ZXJhY3RpdmUgb2JqZWN0IGhhcyBiZWVuIGhpdCB3ZSBjYW4gY2Fycnkgb25cbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgc2NlbmVncmFwaCwgYnV0IHdlIGtub3cgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgaGl0cyEgU28gd2UgY2FuIGF2b2lkIGV4dHJhIGhpdCB0ZXN0c1xuICAgICAgICAvLyBBIGZpbmFsIG9wdGltaXphdGlvbiBpcyB0aGF0IGFuIG9iamVjdCBpcyBub3QgaGl0IHRlc3QgZGlyZWN0bHkgaWYgYSBjaGlsZCBoYXMgYWxyZWFkeSBiZWVuIGhpdC5cblxuICAgICAgICBpbnRlcmFjdGl2ZSA9IGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUgfHwgaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgdmFyIGhpdCA9IGZhbHNlO1xuICAgICAgICB2YXIgaW50ZXJhY3RpdmVQYXJlbnQgPSBpbnRlcmFjdGl2ZTtcblxuICAgICAgICAvLyBGbGFnIGhlcmUgY2FuIHNldCB0byBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgb3V0c2lkZSB0aGUgcGFyZW50cyBoaXRBcmVhIG9yIG1hc2tcbiAgICAgICAgdmFyIGhpdFRlc3RDaGlsZHJlbiA9IHRydWU7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBoaXRBcmVhLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIGhpdEFyZWFcbiAgICAgICAgLy8gVGhlcmUgaXMgYWxzbyBubyBsb25nZXIgYSBuZWVkIHRvIGhpdFRlc3QgY2hpbGRyZW4uXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmhpdEFyZWEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0aGlzLl90ZW1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIGhpdFRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2suXG4gICAgICAgIC8vIFdlIHN0aWxsIHdhbnQgdG8gaGl0VGVzdENoaWxkcmVuLCBob3dldmVyLCB0byBlbnN1cmUgYSBtb3VzZW91dCBjYW4gc3RpbGwgYmUgZ2VuZXJhdGVkLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzUxMzVcbiAgICAgICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50ICYmIGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludChwb2ludCkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICoqIEZSRUUgVElQICoqISBJZiBhbiBvYmplY3QgaXMgbm90IGludGVyYWN0aXZlIG9yIGhhcyBubyBidXR0b25zIGluIGl0XG4gICAgICAgIC8vIChzdWNoIGFzIGEgZ2FtZSBzY2VuZSEpIHNldCBpbnRlcmFjdGl2ZUNoaWxkcmVuIHRvIGZhbHNlIGZvciB0aGF0IGRpc3BsYXlPYmplY3QuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBhbGxvdyBQaXhpSlMgdG8gY29tcGxldGVseSBpZ25vcmUgYW5kIGJ5cGFzcyBjaGVja2luZyB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW4uXG4gICAgICAgIGlmIChoaXRUZXN0Q2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuY2hpbGRyZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gZ2V0IHJlY3Vyc2l2ZS4uIGlmIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gaWYgc29tZXRoaW5nIGlzIGhpdC4uXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkSGl0ID0gdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgY2hpbGQsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlUGFyZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIGdvb2QgaWRlYSB0byBjaGVjayBpZiBhIGNoaWxkIGhhcyBsb3N0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaXQgaGFzIGJlZW4gcmVtb3ZlZCB3aGlsc3QgbG9vcGluZyBzbyBpdHMgYmVzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnBhcmVudClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnkgbW9yZSBvYmplY3RzIGluIHRoaXMgY29udGFpbmVyIGFzIHdlIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBrbm93IHRoZSBwYXJlbnQgaGFzIGJlZW4gaGl0XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNoaWxkIGlzIGludGVyYWN0aXZlICwgdGhhdCBtZWFucyB0aGF0IHRoZSBvYmplY3QgaGl0IHdhcyBhY3R1YWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcmFjdGl2ZSBhbmQgbm90IGp1c3QgdGhlIGNoaWxkIG9mIGFuIGludGVyYWN0aXZlIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnl0aGluZyBlbHNlLiBXZSBzdGlsbCBuZWVkIHRvIHJ1blxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIGFsbCBvYmplY3RzLCBidXQgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFueSBoaXQgdGVzdHMuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIHBvaW50IHJ1bm5pbmcgdGhpcyBpZiB0aGUgaXRlbSBpcyBub3QgaW50ZXJhY3RpdmUgb3IgZG9lcyBub3QgaGF2ZSBhbiBpbnRlcmFjdGl2ZSBwYXJlbnQuXG4gICAgICAgIGlmIChpbnRlcmFjdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhpdCB0ZXN0aW5nIChhcyBpbiB3ZSBoYXZlIG5vIGhpdCBhbnkgb2JqZWN0cyB5ZXQpXG4gICAgICAgICAgICAvLyBXZSBhbHNvIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaGl0IHRlc3RpbmcgaWYgb25jZSBvZiB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gaGl0IC0gYnV0IG9ubHkgaWYgaXQgd2FzIGludGVyYWN0aXZlLCBvdGhlcndpc2Ugd2UgbmVlZCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb29raW5nIGZvciBhbiBpbnRlcmFjdGl2ZSBjaGlsZCwganVzdCBpbiBjYXNlIHdlIGhpdCBvbmVcbiAgICAgICAgICAgIGlmIChoaXRUZXN0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCBhZ2FpbnN0IGhpdEFyZWEgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhICYmIGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQocG9pbnQpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQudGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZnVuYylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgISFoaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24gb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJEb3duID0gZnVuY3Rpb24gb25Qb2ludGVyRG93biAob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTm8gbmVlZCB0byBwcmV2ZW50IGRlZmF1bHQgb24gbmF0dXJhbCBwb2ludGVyIGV2ZW50cywgYXMgdGhlcmUgYXJlIG5vIHNpZGUgZWZmZWN0c1xuICAgICAgICAgKiBOb3JtYWxpemVkIGV2ZW50cywgaG93ZXZlciwgbWF5IGhhdmUgdGhlIGRvdWJsZSBtb3VzZWRvd24vdG91Y2hzdGFydCBpc3N1ZSBvbiB0aGUgbmF0aXZlIGFuZHJvaWQgYnJvd3NlcixcbiAgICAgICAgICogc28gc3RpbGwgbmVlZCB0byBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdGhhdCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBldmVudCBpbiBldmVudHMsIGFuZCBhbGwgZXZlbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBwb2ludGVyIHR5cGVcblxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNhbmNlbGFibGUgPSBvcmlnaW5hbEV2ZW50LmNhbmNlbGFibGUgfHwgISgnY2FuY2VsYWJsZScgaW4gb3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChjYW5jZWxhYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24sIHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAncmlnaHRkb3duJyA6ICdtb3VzZWRvd24nLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgZG93biBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJEb3duID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJEb3duIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgaWYgKGhpdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcmRvd24nLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXS5yaWdodERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ubGVmdERvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0ZG93bicgOiAnbW91c2Vkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjYW5jZWxsZWQgLSB0cnVlIGlmIHRoZSBwb2ludGVyIGlzIGNhbmNlbGxlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSBGdW5jdGlvbiBwYXNzZWQgdG8ge0BsaW5rIHByb2Nlc3NJbnRlcmFjdGl2ZX1cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlckNvbXBsZXRlID0gZnVuY3Rpb24gb25Qb2ludGVyQ29tcGxldGUgKG9yaWdpbmFsRXZlbnQsIGNhbmNlbGxlZCwgZnVuYylcbiAgICB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGUgZXZlbnQgd2Fzbid0IHRhcmdldGluZyBvdXIgY2FudmFzLCB0aGVuIGNvbnNpZGVyIGl0IHRvIGJlIHBvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgLy8gaW4gYWxsIGNhc2VzICh1bmxlc3MgaXQgd2FzIGEgcG9pbnRlcmNhbmNlbClcbiAgICAgICAgdmFyIGV2ZW50QXBwZW5kID0gb3JpZ2luYWxFdmVudC50YXJnZXQgIT09IHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID8gJ291dHNpZGUnIDogJyc7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIC8vIHBlcmZvcm0gaGl0IHRlc3RpbmcgZm9yIGV2ZW50cyB0YXJnZXRpbmcgb3VyIGNhbnZhcyBvciBjYW5jZWwgZXZlbnRzXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIGZ1bmMsIGNhbmNlbGxlZCB8fCAhZXZlbnRBcHBlbmQpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoY2FuY2VsbGVkID8gJ3BvaW50ZXJjYW5jZWwnIDogKFwicG9pbnRlcnVwXCIgKyBldmVudEFwcGVuZCksIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGlzUmlnaHRCdXR0b24gPyAoXCJyaWdodHVwXCIgKyBldmVudEFwcGVuZCkgOiAoXCJtb3VzZXVwXCIgKyBldmVudEFwcGVuZCksIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICd0b3VjaGNhbmNlbCcgOiAoXCJ0b3VjaGVuZFwiICsgZXZlbnRBcHBlbmQpLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQucG9pbnRlcklkLCBpbnRlcmFjdGlvbkRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBjYW5jZWxsZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiBvblBvaW50ZXJDYW5jZWwgKGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgdHJ1ZSwgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGNhbmNlbCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJDYW5jZWwgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICB2YXIgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGNhbmNlbCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlclVwID0gZnVuY3Rpb24gb25Qb2ludGVyVXAgKGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgZmFsc2UsIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIHVwIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlclVwID0gZnVuY3Rpb24gcHJvY2Vzc1BvaW50ZXJVcCAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICB2YXIgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG4gICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgbW91c2UgZG93biBzdGF0dXMgaW4gdGhlIG1vdXNlIGJsb2NrIHNvIHRoYXQgd2UgY2FuIGVtaXRcbiAgICAgICAgLy8gZXZlbnQgaW4gYSBsYXRlciBibG9ja1xuICAgICAgICB2YXIgaXNNb3VzZVRhcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIE1vdXNlIG9ubHlcbiAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZGF0YS5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgIHZhciBmbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTO1xuXG4gICAgICAgICAgICB2YXIgdGVzdCA9IGlzUmlnaHRCdXR0b24gPyBmbGFncy5SSUdIVF9ET1dOIDogZmxhZ3MuTEVGVF9ET1dOO1xuXG4gICAgICAgICAgICB2YXIgaXNEb3duID0gdHJhY2tpbmdEYXRhICE9PSB1bmRlZmluZWQgJiYgKHRyYWNraW5nRGF0YS5mbGFncyAmIHRlc3QpO1xuXG4gICAgICAgICAgICBpZiAoaGl0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCBpc1JpZ2h0QnV0dG9uID8gJ3JpZ2h0dXAnIDogJ21vdXNldXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0Rvd24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGNsaWNrJyA6ICdjbGljaycsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHdlIGNhbiBjb25maXJtIHRoYXQgdGhlIG1vdXNlZG93biBoYXBwZW5lZCBvbiB0aGlzIG9iamVjdCwgZmxhZyBmb3IgbGF0ZXIgZW1pdCBvZiBwb2ludGVydGFwXG4gICAgICAgICAgICAgICAgICAgIGlzTW91c2VUYXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRG93bilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwb3V0c2lkZScgOiAnbW91c2V1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZG93biBzdGF0ZSBvZiB0aGUgdHJhY2tpbmcgZGF0YVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNSaWdodEJ1dHRvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5yaWdodERvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLmxlZnREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUG9pbnRlcnMgYW5kIFRvdWNoZXMsIGFuZCBNb3VzZVxuICAgICAgICBpZiAoaGl0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZCcsIGludGVyYWN0aW9uRXZlbnQpOyB9XG5cbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZW1pdCBwb2ludGVydGFwIGlmIG5vdCBhIG1vdXNlLCBvciBpZiB0aGUgbW91c2UgYmxvY2sgZGVjaWRlZCBpdCB3YXMgYSB0YXBcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91c2UgfHwgaXNNb3VzZVRhcClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvdWNoZXMgYXJlIG5vIGxvbmdlciBvdmVyIChpZiB0aGV5IGV2ZXIgd2VyZSkgd2hlbiB3ZSBnZXQgdGhlIHRvdWNoZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIHNob3VsZCBlbnN1cmUgdGhhdCB3ZSBkb24ndCBrZWVwIHByZXRlbmRpbmcgdGhhdCB0aGV5IGFyZVxuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaGVuZG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgcmVtb3ZlIHRoZSB0cmFja2luZyBkYXRhIGlmIHRoZXJlIGlzIG5vIG92ZXIvZG93biBzdGF0ZSBzdGlsbCBhc3NvY2lhdGVkIHdpdGggaXRcbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSAmJiB0cmFja2luZ0RhdGEubm9uZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBtb3ZpbmdcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck1vdmUgPSBmdW5jdGlvbiBvblBvaW50ZXJNb3ZlIChvcmlnaW5hbEV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgeyByZXR1cm47IH1cblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaWRNb3ZlID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgeyB0aGlzLmVtaXQoJ3RvdWNobW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKSB7IHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudHNbMF0ucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gQlVHIGZvciBwYXJlbnRzIGludGVyYWN0aXZlIG9iamVjdCAoYm9yZGVyIG9yZGVyIGlzc3VlKVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG1vdmUgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyTW92ZSA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyTW92ZSAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuXG4gICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1vdmVXaGVuSW5zaWRlIHx8IGhpdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICAgICAgaWYgKGlzTW91c2UpIHsgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIG91dCBvZiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJlaW5nIG1vdmVkIG91dFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3V0ID0gZnVuY3Rpb24gb25Qb2ludGVyT3V0IChvcmlnaW5hbEV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgeyByZXR1cm47IH1cblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3V0LCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2UgY2FuIGdldCB0b3VjaGxlYXZlIGV2ZW50cyBhZnRlciB0b3VjaGVuZCwgc28gd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgZG9uJ3RcbiAgICAgICAgICAgIC8vIGludHJvZHVjZSBtZW1vcnkgbGVha3NcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgb3Zlci9vdXQgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyT3Zlck91dCAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgdmFyIGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG5cbiAgICAgICAgdmFyIHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICAvLyBpZiB3ZSBqdXN0IG1vdXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHRyYWNrIHRoYXQgc3RhdGVcbiAgICAgICAgaWYgKGhpdCAmJiAhdHJhY2tpbmdEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSA9PT0gdW5kZWZpbmVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIGlmIChoaXQgJiYgdGhpcy5tb3VzZU92ZXJSZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0cmFja2luZ0RhdGEub3ZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgY2hhbmdlIHRoZSBjdXJzb3IgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gY2hhbmdlZCAoYnkgc29tZXRoaW5nIGRlZXBlciBpbiB0aGVcbiAgICAgICAgICAgIC8vIGRpc3BsYXkgdHJlZSlcbiAgICAgICAgICAgIGlmIChpc01vdXNlICYmIHRoaXMuY3Vyc29yID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gZGlzcGxheU9iamVjdC5jdXJzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhLm92ZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdXQnLCB0aGlzLmV2ZW50RGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBtb3VzZSBkb3duIGluZm9ybWF0aW9uIGZvciB0aGUgcG9pbnRlciwgdGhlbiBpdCBpcyBzYWZlIHRvIGRlbGV0ZVxuICAgICAgICAgICAgaWYgKHRyYWNraW5nRGF0YS5ub25lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBtb3ZlZCBpbnRvIHRoZSByZW5kZXJlciB2aWV3XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJPdmVyID0gZnVuY3Rpb24gb25Qb2ludGVyT3ZlciAob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIHZhciBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgLy8gT25seSBtb3VzZSBhbmQgcG9pbnRlciBjYW4gY2FsbCBvblBvaW50ZXJPdmVyLCBzbyBldmVudHMgd2lsbCBhbHdheXMgYmUgbGVuZ3RoIDFcbiAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCBJbnRlcmFjdGlvbkRhdGEgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkLiBTdG9yZSB0aGF0IGRhdGEgYXMgd2VsbFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBOb3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIG91dHB1dCBmcm9tIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGFcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gLSBJbnRlcmFjdGlvbiBkYXRhIGZvciB0aGUgZ2l2ZW4gcG9pbnRlciBpZGVudGlmaWVyXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiBnZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgKGV2ZW50KVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50ZXJJZCA9IGV2ZW50LnBvaW50ZXJJZDtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhO1xuXG4gICAgICAgIGlmIChwb2ludGVySWQgPT09IE1PVVNFX1BPSU5URVJfSUQgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMubW91c2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wb3AoKSB8fCBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllciA9IHBvaW50ZXJJZDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0gPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIGZyb20gdGhlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBtYWtlIHN1cmUgdGhhdCB0b3VjaC9wb2ludGVyIHNwZWNpZmljXG4gICAgICAgIC8vIGRhdGEgaXMgYXZhaWxhYmxlXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5jb3B5RXZlbnQoZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhIHRvIHRoZSBwb29sLCBmb3IgYSBnaXZlbiBwb2ludGVySWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50ZXJJZCAtIElkZW50aWZpZXIgZnJvbSBhIHBvaW50ZXIgZXZlbnRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQgPSBmdW5jdGlvbiByZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIChwb2ludGVySWQpXG4gICAge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcblxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25maWd1cmUgYW4gSW50ZXJhY3Rpb25FdmVudCB0byB3cmFwIGEgRE9NIFBvaW50ZXJFdmVudCBhbmQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGV2ZW50IHRvIGJlIGNvbmZpZ3VyZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gcG9pbnRlckV2ZW50IC0gVGhlIERPTSBldmVudCB0aGF0IHdpbGwgYmUgcGFpcmVkIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfSBpbnRlcmFjdGlvbkRhdGEgLSBUaGUgSW50ZXJhY3Rpb25EYXRhIHRoYXQgd2lsbCBiZSBwYWlyZWRcbiAgICAgKiAgICAgICAgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEByZXR1cm4ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gdGhlIGludGVyYWN0aW9uIGV2ZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50ID0gZnVuY3Rpb24gY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50IChpbnRlcmFjdGlvbkV2ZW50LCBwb2ludGVyRXZlbnQsIGludGVyYWN0aW9uRGF0YSlcbiAgICB7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YSA9IGludGVyYWN0aW9uRGF0YTtcblxuICAgICAgICB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludChpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLCBwb2ludGVyRXZlbnQuY2xpZW50WCwgcG9pbnRlckV2ZW50LmNsaWVudFkpO1xuXG4gICAgICAgIC8vIE5vdCByZWFsbHkgc3VyZSB3aHkgdGhpcyBpcyBoYXBwZW5pbmcsIGJ1dCBpdCdzIGhvdyBhIHByZXZpb3VzIHZlcnNpb24gaGFuZGxlZCB0aGluZ3NcbiAgICAgICAgaWYgKHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAge1xuICAgICAgICAgICAgcG9pbnRlckV2ZW50Lmdsb2JhbFggPSBpbnRlcmFjdGlvbkRhdGEuZ2xvYmFsLng7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWSA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueTtcbiAgICAgICAgfVxuXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5vcmlnaW5hbEV2ZW50ID0gcG9pbnRlckV2ZW50O1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIGludGVyYWN0aW9uRXZlbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhhdCB0aGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0IGNvbnRhaW5zIGFsbCBkYXRhIHRoYXQgYSByZWd1bGFyIHBvaW50ZXIgZXZlbnQgd291bGQgaGF2ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR8TW91c2VFdmVudHxQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIG9yaWdpbmFsIGV2ZW50IGRhdGEgZnJvbSBhIHRvdWNoIG9yIG1vdXNlIGV2ZW50XG4gICAgICogQHJldHVybiB7UG9pbnRlckV2ZW50W119IEFuIGFycmF5IGNvbnRhaW5pbmcgYSBzaW5nbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBpbiB0aGUgY2FzZSBvZiBhIHBvaW50ZXJcbiAgICAgKiAgb3IgbW91c2UgZXZlbnQsIG9yIGEgbXVsdGlwbGUgbm9ybWFsaXplZCBwb2ludGVyIGV2ZW50cyBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgY2hhbmdlZCB0b3VjaGVzXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5ub3JtYWxpemVUb1BvaW50ZXJEYXRhID0gZnVuY3Rpb24gbm9ybWFsaXplVG9Qb2ludGVyRGF0YSAoZXZlbnQpXG4gICAge1xuICAgICAgICB2YXIgbm9ybWFsaXplZEV2ZW50cyA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGkgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkgPCBsaTsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5idXR0b24gPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmJ1dHRvbiA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmJ1dHRvbnMgPSBldmVudC50b3VjaGVzLmxlbmd0aCA/IDEgOiAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5pc1ByaW1hcnkgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guaXNQcmltYXJ5ID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgZXZlbnQudHlwZSA9PT0gJ3RvdWNoc3RhcnQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLndpZHRoID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guaGVpZ2h0ID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5oZWlnaHQgPSB0b3VjaC5yYWRpdXNZIHx8IDE7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC50aWx0WCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRZID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC50aWx0WSA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5wb2ludGVyVHlwZSA9ICd0b3VjaCc7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gucG9pbnRlcklkID0gdG91Y2guaWRlbnRpZmllciB8fCAwOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnR3aXN0ID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2gudGFuZ2VudGlhbFByZXNzdXJlID0gMDsgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGVzZSwgYXMgbGF5ZXJYL1kgaXMgbm90IGEgc3RhbmRhcmQsIGlzIGRlcHJlY2F0ZWQsIGhhcyB1bmV2ZW5cbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0LCBhbmQgdGhlIGZpbGwgaW5zIGFyZSBub3QgcXVpdGUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRYL1kgbWlnaHQgYmUgb2theSwgYnV0IGlzIG5vdCB0aGUgc2FtZSBhcyBjbGllbnRYL1kgd2hlbiB0aGUgY2FudmFzJ3MgdG9wXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBpcyBub3QgMCwwIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclggPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmxheWVyWSA9IHRvdWNoLm9mZnNldFkgPSB0b3VjaC5jbGllbnRZOyB9XG5cbiAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSB0b3VjaCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgICAgICB0b3VjaC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBhcmVudGx5IFBvaW50ZXJFdmVudCBzdWJjbGFzc2VzIE1vdXNlRXZlbnQsIHNvIHlheVxuICAgICAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlBvaW50ZXJFdmVudCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQuaXNQcmltYXJ5ID0gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQud2lkdGggPSAxOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQuaGVpZ2h0ID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQudGlsdFggPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRpbHRZID09PSAndW5kZWZpbmVkJykgeyBldmVudC50aWx0WSA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnBvaW50ZXJUeXBlID0gJ21vdXNlJzsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnByZXNzdXJlID0gMC41OyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnR3aXN0ID09PSAndW5kZWZpbmVkJykgeyBldmVudC50d2lzdCA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJykgeyBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwOyB9XG5cbiAgICAgICAgICAgIC8vIG1hcmsgdGhlIG1vdXNlIGV2ZW50IGFzIG5vcm1hbGl6ZWQsIGp1c3Qgc28gdGhhdCB3ZSBrbm93IHdlIGRpZCBpdFxuICAgICAgICAgICAgZXZlbnQuaXNOb3JtYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZEV2ZW50cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1vdXNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBJbnRlcmFjdGlvbk1hbmFnZXI7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIGEgcmVuZGVyZXIgcGx1Z2luIGZvciBoYW5kbGluZyBtb3VzZSwgcG9pbnRlciwgYW5kIHRvdWNoIGV2ZW50cy5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhpcyBwbHVnaW4gZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAbmFtZXNwYWNlIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xuXG5leHBvcnQgeyBJbnRlcmFjdGlvbkRhdGEsIEludGVyYWN0aW9uRXZlbnQsIEludGVyYWN0aW9uTWFuYWdlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEsIGludGVyYWN0aXZlVGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnRlcmFjdGlvbi5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZ3JhcGhpY3MgLSB2NS4xLjFcbiAqIENvbXBpbGVkIEZyaSwgMDIgQXVnIDIwMTkgMjM6MjA6MjMgVVRDXG4gKlxuICogQHBpeGkvZ3JhcGhpY3MgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSwgQmF0Y2hEcmF3Q2FsbCwgQmF0Y2hHZW9tZXRyeSwgVW5pZm9ybUdyb3VwLCBTaGFkZXIsIFN0YXRlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTSEFQRVMsIFBvaW50LCBQSV8yLCBQb2x5Z29uLCBSZWN0YW5nbGUsIFJvdW5kZWRSZWN0YW5nbGUsIENpcmNsZSwgRWxsaXBzZSwgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBlYXJjdXQsIHByZW11bHRpcGx5VGludCwgaGV4MnJnYiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEJvdW5kcywgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBXUkFQX01PREVTLCBEUkFXX01PREVTLCBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogR3JhcGhpY3MgY3VydmVzIHJlc29sdXRpb24gc2V0dGluZ3MuIElmIGBhZGFwdGl2ZWAgZmxhZyBpcyBzZXQgdG8gYHRydWVgLFxuICogdGhlIHJlc29sdXRpb24gaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgY3VydmUncyBsZW5ndGggdG8gZW5zdXJlIGJldHRlciB2aXN1YWwgcXVhbGl0eS5cbiAqIEFkYXB0aXZlIGRyYXcgd29ya3Mgd2l0aCBgYmV6aWVyQ3VydmVUb2AgYW5kIGBxdWFkcmF0aWNDdXJ2ZVRvYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBHUkFQSElDU19DVVJWRVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFkYXB0aXZlPWZhbHNlIC0gZmxhZyBpbmRpY2F0aW5nIGlmIHRoZSByZXNvbHV0aW9uIHNob3VsZCBiZSBhZGFwdGl2ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heExlbmd0aD0xMCAtIG1heGltYWwgbGVuZ3RoIG9mIGEgc2luZ2xlIHNlZ21lbnQgb2YgdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pblNlZ21lbnRzPTggLSBtaW5pbWFsIG51bWJlciBvZiBzZWdtZW50cyBpbiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4U2VnbWVudHM9MjA0OCAtIG1heGltYWwgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqL1xudmFyIEdSQVBISUNTX0NVUlZFUyA9IHtcbiAgICBhZGFwdGl2ZTogdHJ1ZSxcbiAgICBtYXhMZW5ndGg6IDEwLFxuICAgIG1pblNlZ21lbnRzOiA4LFxuICAgIG1heFNlZ21lbnRzOiAyMDQ4LFxuICAgIF9zZWdtZW50c0NvdW50OiBmdW5jdGlvbiBfc2VnbWVudHNDb3VudChsZW5ndGgsIGRlZmF1bHRTZWdtZW50cylcbiAgICB7XG4gICAgICAgIGlmICggZGVmYXVsdFNlZ21lbnRzID09PSB2b2lkIDAgKSBkZWZhdWx0U2VnbWVudHMgPSAyMDtcblxuICAgICAgICBpZiAoIXRoaXMuYWRhcHRpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0U2VnbWVudHM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKGxlbmd0aCAvIHRoaXMubWF4TGVuZ3RoKTtcblxuICAgICAgICBpZiAocmVzdWx0IDwgdGhpcy5taW5TZWdtZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5taW5TZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHQgPiB0aGlzLm1heFNlZ21lbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLm1heFNlZ21lbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBGaWxsIHN0eWxlIG9iamVjdCBmb3IgR3JhcGhpY3MuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgRmlsbFN0eWxlID0gZnVuY3Rpb24gRmlsbFN0eWxlKClcbntcbiAgICB0aGlzLnJlc2V0KCk7XG59O1xuXG4vKipcbiAqIENsb25lcyB0aGUgb2JqZWN0XG4gKlxuICogQHJldHVybiB7UElYSS5GaWxsU3R5bGV9XG4gKi9cbkZpbGxTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHZhciBvYmogPSBuZXcgRmlsbFN0eWxlKCk7XG5cbiAgICBvYmouY29sb3IgPSB0aGlzLmNvbG9yO1xuICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgb2JqLm1hdHJpeCA9IHRoaXMubWF0cml4O1xuICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbi8qKlxuICogUmVzZXRcbiAqL1xuRmlsbFN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG57XG4gICAgLyoqXG4gICAgICogVGhlIGhleCBjb2xvciB2YWx1ZSB1c2VkIHdoZW4gY29sb3JpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgdGhpcy5jb2xvciA9IDB4RkZGRkZGO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFscGhhIHZhbHVlIHVzZWQgd2hlbiBmaWxsaW5nIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdG8gYmUgdXNlZCBmb3IgdGhlIGZpbGwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMudGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNmb3JtIGFwbHBpZWQgdG8gdGhlIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMubWF0cml4ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZSBjdXJyZW50IGZpbGwgaXMgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXNcbiAqL1xuRmlsbFN0eWxlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5tYXRyaXggPSBudWxsO1xufTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIGNvbnRhaW4gZGF0YSB1c2VmdWwgZm9yIEdyYXBoaWNzIG9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0RhdGEgPSBmdW5jdGlvbiBHcmFwaGljc0RhdGEoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpXG57XG4gICAgaWYgKCBmaWxsU3R5bGUgPT09IHZvaWQgMCApIGZpbGxTdHlsZSA9IG51bGw7XG4gICAgaWYgKCBsaW5lU3R5bGUgPT09IHZvaWQgMCApIGxpbmVTdHlsZSA9IG51bGw7XG4gICAgaWYgKCBtYXRyaXggPT09IHZvaWQgMCApIG1hdHJpeCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQG1lbWJlciB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gICAgICovXG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0eWxlIG9mIHRoZSBsaW5lLlxuICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAqL1xuICAgIHRoaXMubGluZVN0eWxlID0gbGluZVN0eWxlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHN0eWxlIG9mIHRoZSBmaWxsLlxuICAgICAqIEBtZW1iZXIge1BJWEkuRmlsbFN0eWxlfVxuICAgICAqL1xuICAgIHRoaXMuZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgc2hhcGUsIHNlZSB0aGUgQ29uc3QuU2hhcGVzIGZpbGUgZm9yIGFsbCB0aGUgZXhpc3RpbmcgdHlwZXMsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IHNoYXBlLnR5cGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29sbGVjdGlvbiBvZiBwb2ludHMuXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGhvbGVzLlxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NEYXRhW119XG4gICAgICovXG4gICAgdGhpcy5ob2xlcyA9IFtdO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzRGF0YSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gKlxuICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gKi9cbkdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHJldHVybiBuZXcgR3JhcGhpY3NEYXRhKFxuICAgICAgICB0aGlzLnNoYXBlLFxuICAgICAgICB0aGlzLmZpbGxTdHlsZSxcbiAgICAgICAgdGhpcy5saW5lU3R5bGUsXG4gICAgICAgIHRoaXMubWF0cml4XG4gICAgKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIGRhdGEuXG4gKi9cbkdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICB0aGlzLmhvbGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gICAgdGhpcy5wb2ludHMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5saW5lU3R5bGUgPSBudWxsO1xuICAgIHRoaXMuZmlsbFN0eWxlID0gbnVsbDtcbn07XG5cbi8qKlxuICogQnVpbGRzIGEgY2lyY2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRyYXdcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRDaXJjbGUgPSB7XG5cbiAgICBidWlsZDogZnVuY3Rpb24gYnVpbGQoZ3JhcGhpY3NEYXRhKVxuICAgIHtcbiAgICAgICAgLy8gbmVlZCB0byBjb252ZXJ0IHBvaW50cyB0byBhIG5pY2UgcmVndWxhciBkYXRhXG4gICAgICAgIHZhciBjaXJjbGVEYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHggPSBjaXJjbGVEYXRhLng7XG4gICAgICAgIHZhciB5ID0gY2lyY2xlRGF0YS55O1xuICAgICAgICB2YXIgd2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQ7XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgLy8gVE9ETyAtIGJpdCBoYWNreT8/XG4gICAgICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkNJUkMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gY2lyY2xlRGF0YS53aWR0aDtcbiAgICAgICAgICAgIGhlaWdodCA9IGNpcmNsZURhdGEuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvdGFsU2VncyA9IE1hdGguZmxvb3IoMzAgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS5yYWRpdXMpKVxuICAgICAgICAgICAgfHwgTWF0aC5mbG9vcigxNSAqIE1hdGguc3FydChjaXJjbGVEYXRhLndpZHRoICsgY2lyY2xlRGF0YS5oZWlnaHQpKTtcblxuICAgICAgICB0b3RhbFNlZ3MgLz0gMi4zO1xuXG4gICAgICAgIHZhciBzZWcgPSAoTWF0aC5QSSAqIDIpIC8gdG90YWxTZWdzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxTZWdzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIHggKyAoTWF0aC5zaW4oLXNlZyAqIGkpICogd2lkdGgpLFxuICAgICAgICAgICAgICAgIHkgKyAoTWF0aC5jb3MoLXNlZyAqIGkpICogaGVpZ2h0KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgcG9pbnRzWzBdLFxuICAgICAgICAgICAgcG9pbnRzWzFdXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAgICAgdmFyIGNlbnRlciA9IHZlcnRQb3M7XG5cbiAgICAgICAgdmVydHMucHVzaChncmFwaGljc0RhdGEuc2hhcGUueCwgZ3JhcGhpY3NEYXRhLnNoYXBlLnkpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBzb21lIHV2c1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZlcnRQb3MrKywgY2VudGVyLCB2ZXJ0UG9zKTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZSAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxue1xuICAgIGlmIChncmFwaGljc0RhdGEubGluZVN0eWxlLm5hdGl2ZSlcbiAgICB7XG4gICAgICAgIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBidWlsZExpbmUkMShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIHBvbHlnb24gbWV0aG9kLlxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZSQxKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbntcbiAgICB2YXIgc2hhcGUgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHMgfHwgc2hhcGUucG9pbnRzLnNsaWNlKCk7XG4gICAgdmFyIGVwcyA9IGdyYXBoaWNzR2VvbWV0cnkuY2xvc2VQb2ludEVwcztcblxuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgbGluZSB3aWR0aCBpcyBhbiBvZGQgbnVtYmVyIGFkZCAwLjUgdG8gYWxpZ24gdG8gYSB3aG9sZSBwaXhlbFxuICAgIC8vIGNvbW1lbnRpbmcgdGhpcyBvdXQgZml4ZXMgIzcxMSBhbmQgIzE2MjBcbiAgICAvLyBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCUyKVxuICAgIC8vIHtcbiAgICAvLyAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcbiAgICAvLyAgICAge1xuICAgIC8vICAgICAgICAgcG9pbnRzW2ldICs9IDAuNTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIHZhciBzdHlsZSA9IGdyYXBoaWNzRGF0YS5saW5lU3R5bGU7XG5cbiAgICAvLyBnZXQgZmlyc3QgYW5kIGxhc3QgcG9pbnQuLiBmaWd1cmUgb3V0IHRoZSBtaWRkbGUhXG4gICAgdmFyIGZpcnN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIHZhciBsYXN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG4gICAgdmFyIGNsb3NlZFBhdGggPSBNYXRoLmFicyhmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgPCBlcHNcbiAgICAgICAgJiYgTWF0aC5hYnMoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpIDwgZXBzO1xuXG4gICAgLy8gaWYgdGhlIGZpcnN0IHBvaW50IGlzIHRoZSBsYXN0IHBvaW50IC0gZ29ubmEgaGF2ZSBpc3N1ZXMgOilcbiAgICBpZiAoY2xvc2VkU2hhcGUpXG4gICAge1xuICAgICAgICAvLyBuZWVkIHRvIGNsb25lIGFzIHdlIGFyZSBnb2luZyB0byBzbGlnaHRseSBtb2RpZnkgdGhlIHNoYXBlLi5cbiAgICAgICAgcG9pbnRzID0gcG9pbnRzLnNsaWNlKCk7XG5cbiAgICAgICAgaWYgKGNsb3NlZFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIHBvaW50cy5wb3AoKTtcbiAgICAgICAgICAgIGxhc3RQb2ludC5zZXQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWlkUG9pbnRYID0gbGFzdFBvaW50LnggKyAoKGZpcnN0UG9pbnQueCAtIGxhc3RQb2ludC54KSAqIDAuNSk7XG4gICAgICAgIHZhciBtaWRQb2ludFkgPSBsYXN0UG9pbnQueSArICgoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpICogMC41KTtcblxuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG5cbiAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG4gICAgdmFyIGluZGV4Q291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIHZhciBpbmRleFN0YXJ0ID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgIC8vIERSQVcgdGhlIExpbmVcbiAgICB2YXIgd2lkdGggPSBzdHlsZS53aWR0aCAvIDI7XG5cbiAgICAvLyBzb3J0IGNvbG9yXG4gICAgdmFyIHAxeCA9IHBvaW50c1swXTtcbiAgICB2YXIgcDF5ID0gcG9pbnRzWzFdO1xuICAgIHZhciBwMnggPSBwb2ludHNbMl07XG4gICAgdmFyIHAyeSA9IHBvaW50c1szXTtcbiAgICB2YXIgcDN4ID0gMDtcbiAgICB2YXIgcDN5ID0gMDtcblxuICAgIHZhciBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICB2YXIgcGVycHkgPSBwMXggLSBwMng7XG4gICAgdmFyIHBlcnAyeCA9IDA7XG4gICAgdmFyIHBlcnAyeSA9IDA7XG4gICAgdmFyIHBlcnAzeCA9IDA7XG4gICAgdmFyIHBlcnAzeSA9IDA7XG5cbiAgICB2YXIgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuXG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgdmFyIHJhdGlvID0gc3R5bGUuYWxpZ25tZW50Oy8vIDAuNTtcbiAgICB2YXIgcjEgPSAoMSAtIHJhdGlvKSAqIDI7XG4gICAgdmFyIHIyID0gcmF0aW8gKiAyO1xuXG4gICAgLy8gc3RhcnRcbiAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICBwMXggLSAocGVycHggKiByMSksXG4gICAgICAgIHAxeSAtIChwZXJweSAqIHIxKSk7XG5cbiAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICBwMXggKyAocGVycHggKiByMiksXG4gICAgICAgIHAxeSArIChwZXJweSAqIHIyKSk7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSlcbiAgICB7XG4gICAgICAgIHAxeCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHAxeSA9IHBvaW50c1soKGkgLSAxKSAqIDIpICsgMV07XG5cbiAgICAgICAgcDJ4ID0gcG9pbnRzW2kgKiAyXTtcbiAgICAgICAgcDJ5ID0gcG9pbnRzWyhpICogMikgKyAxXTtcblxuICAgICAgICBwM3ggPSBwb2ludHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICBwM3kgPSBwb2ludHNbKChpICsgMSkgKiAyKSArIDFdO1xuXG4gICAgICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgICAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgICAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgICAgICBwZXJwMnggPSAtKHAyeSAtIHAzeSk7XG4gICAgICAgIHBlcnAyeSA9IHAyeCAtIHAzeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJwMnggKiBwZXJwMngpICsgKHBlcnAyeSAqIHBlcnAyeSkpO1xuICAgICAgICBwZXJwMnggLz0gZGlzdDtcbiAgICAgICAgcGVycDJ5IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeCAqPSB3aWR0aDtcbiAgICAgICAgcGVycDJ5ICo9IHdpZHRoO1xuXG4gICAgICAgIHZhciBhMSA9ICgtcGVycHkgKyBwMXkpIC0gKC1wZXJweSArIHAyeSk7XG4gICAgICAgIHZhciBiMSA9ICgtcGVycHggKyBwMngpIC0gKC1wZXJweCArIHAxeCk7XG4gICAgICAgIHZhciBjMSA9ICgoLXBlcnB4ICsgcDF4KSAqICgtcGVycHkgKyBwMnkpKSAtICgoLXBlcnB4ICsgcDJ4KSAqICgtcGVycHkgKyBwMXkpKTtcbiAgICAgICAgdmFyIGEyID0gKC1wZXJwMnkgKyBwM3kpIC0gKC1wZXJwMnkgKyBwMnkpO1xuICAgICAgICB2YXIgYjIgPSAoLXBlcnAyeCArIHAyeCkgLSAoLXBlcnAyeCArIHAzeCk7XG4gICAgICAgIHZhciBjMiA9ICgoLXBlcnAyeCArIHAzeCkgKiAoLXBlcnAyeSArIHAyeSkpIC0gKCgtcGVycDJ4ICsgcDJ4KSAqICgtcGVycDJ5ICsgcDN5KSk7XG5cbiAgICAgICAgdmFyIGRlbm9tID0gKGExICogYjIpIC0gKGEyICogYjEpO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhkZW5vbSkgPCAwLjEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbm9tICs9IDEwLjE7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHAyeCAtIChwZXJweCAqIHIxKSxcbiAgICAgICAgICAgICAgICBwMnkgLSAocGVycHkgKiByMSkpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHAyeCArIChwZXJweCAqIHIyKSxcbiAgICAgICAgICAgICAgICBwMnkgKyAocGVycHkgKiByMikpO1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBweCA9ICgoYjEgKiBjMikgLSAoYjIgKiBjMSkpIC8gZGVub207XG4gICAgICAgIHZhciBweSA9ICgoYTIgKiBjMSkgLSAoYTEgKiBjMikpIC8gZGVub207XG4gICAgICAgIHZhciBwZGlzdCA9ICgocHggLSBwMngpICogKHB4IC0gcDJ4KSkgKyAoKHB5IC0gcDJ5KSAqIChweSAtIHAyeSkpO1xuXG4gICAgICAgIGlmIChwZGlzdCA+ICgxOTYgKiB3aWR0aCAqIHdpZHRoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcGVycDN4ID0gcGVycHggLSBwZXJwMng7XG4gICAgICAgICAgICBwZXJwM3kgPSBwZXJweSAtIHBlcnAyeTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDN4ICogcGVycDN4KSArIChwZXJwM3kgKiBwZXJwM3kpKTtcbiAgICAgICAgICAgIHBlcnAzeCAvPSBkaXN0O1xuICAgICAgICAgICAgcGVycDN5IC89IGRpc3Q7XG4gICAgICAgICAgICBwZXJwM3ggKj0gd2lkdGg7XG4gICAgICAgICAgICBwZXJwM3kgKj0gd2lkdGg7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHBlcnAzeCAqIHIxKSwgcDJ5IC0gKHBlcnAzeSAqIHIxKSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgKHBlcnAzeCAqIHIyKSwgcDJ5ICsgKHBlcnAzeSAqIHIyKSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHBlcnAzeCAqIHIyICogcjEpLCBwMnkgLSAocGVycDN5ICogcjEpKTtcblxuICAgICAgICAgICAgaW5kZXhDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyAoKHB4IC0gcDJ4KSAqIHIxKSwgcDJ5ICsgKChweSAtIHAyeSkgKiByMSkpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtICgocHggLSBwMngpICogcjIpLCBwMnkgLSAoKHB5IC0gcDJ5KSAqIHIyKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwMXggPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMl07XG4gICAgcDF5ID0gcG9pbnRzWygobGVuZ3RoIC0gMikgKiAyKSArIDFdO1xuXG4gICAgcDJ4ID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDJdO1xuICAgIHAyeSA9IHBvaW50c1soKGxlbmd0aCAtIDEpICogMikgKyAxXTtcblxuICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgIHBlcnB5ID0gcDF4IC0gcDJ4O1xuXG4gICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZlcnRzLnB1c2gocDJ4IC0gKHBlcnB4ICogcjEpLCBwMnkgLSAocGVycHkgKiByMSkpO1xuXG4gICAgdmVydHMucHVzaChwMnggKyAocGVycHggKiByMiksIHAyeSArIChwZXJweSAqIHIyKSk7XG5cbiAgICB2YXIgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcblxuICAgIC8vIGluZGljZXMucHVzaChpbmRleFN0YXJ0KTtcblxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGluZGV4Q291bnQgLSAyOyArK2kkMSlcbiAgICB7XG4gICAgICAgIGluZGljZXMucHVzaChpbmRleFN0YXJ0LCBpbmRleFN0YXJ0ICsgMSwgaW5kZXhTdGFydCArIDIpO1xuXG4gICAgICAgIGluZGV4U3RhcnQrKztcbiAgICB9XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBnbC5kcmF3QXJyYXlzKGdsLkxJTkVTKSBtZXRob2RcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxue1xuICAgIHZhciBpID0gMDtcblxuICAgIHZhciBzaGFwZSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBzaGFwZS5wb2ludHM7XG4gICAgdmFyIGNsb3NlZFNoYXBlID0gc2hhcGUudHlwZSAhPT0gU0hBUEVTLlBPTFkgfHwgc2hhcGUuY2xvc2VTdHJva2U7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH1cblxuICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcblxuICAgIHZhciBzdGFydEluZGV4ID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgY3VycmVudEluZGV4ID0gc3RhcnRJbmRleDtcblxuICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuXG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmVydHMucHVzaChwb2ludHNbaSAqIDJdLCBwb2ludHNbKGkgKiAyKSArIDFdKTtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgY3VycmVudEluZGV4ICsgMSk7XG5cbiAgICAgICAgY3VycmVudEluZGV4Kys7XG4gICAgfVxuXG4gICAgaWYgKGNsb3NlZFNoYXBlKVxuICAgIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGN1cnJlbnRJbmRleCwgc3RhcnRJbmRleCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIHBvbHlnb24gdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUG9seSA9IHtcblxuICAgIGJ1aWxkOiBmdW5jdGlvbiBidWlsZChncmFwaGljc0RhdGEpXG4gICAge1xuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBob2xlcyA9IGdyYXBoaWNzRGF0YS5ob2xlcztcbiAgICAgICAgdmFyIHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoID49IDYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBob2xlQXJyYXkgPSBbXTtcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgaG9sZXMuLlxuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBob2xlID0gaG9sZXNbaV07XG5cbiAgICAgICAgICAgICAgICBob2xlQXJyYXkucHVzaChwb2ludHMubGVuZ3RoIC8gMik7XG4gICAgICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLmNvbmNhdChob2xlLnBvaW50cyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgICAgIHZhciB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuXG4gICAgICAgICAgICBpZiAoIXRyaWFuZ2xlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSQxICs9IDMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpJDFdICsgdmVydFBvcyk7XG4gICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpJDEgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSQxICsgMl0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgcG9pbnRzLmxlbmd0aDsgaSQyKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmVydHMucHVzaChwb2ludHNbaSQyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWlsZHMgYSByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBXZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xudmFyIGJ1aWxkUmVjdGFuZ2xlID0ge1xuXG4gICAgYnVpbGQ6IGZ1bmN0aW9uIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIC8vIC0tLSAvL1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIHJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgICAgICB2YXIgeCA9IHJlY3REYXRhLng7XG4gICAgICAgIHZhciB5ID0gcmVjdERhdGEueTtcbiAgICAgICAgdmFyIHdpZHRoID0gcmVjdERhdGEud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQpO1xuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZTogZnVuY3Rpb24gdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gMjtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1swXSwgcG9pbnRzWzFdLFxuICAgICAgICAgICAgcG9pbnRzWzJdLCBwb2ludHNbM10sXG4gICAgICAgICAgICBwb2ludHNbNl0sIHBvaW50c1s3XSxcbiAgICAgICAgICAgIHBvaW50c1s0XSwgcG9pbnRzWzVdKTtcblxuICAgICAgICBncmFwaGljc0dlb21ldHJ5LmluZGljZXMucHVzaCh2ZXJ0UG9zLCB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsXG4gICAgICAgICAgICB2ZXJ0UG9zICsgMSwgdmVydFBvcyArIDIsIHZlcnRQb3MgKyAzKTtcbiAgICB9LFxufTtcblxuLyoqXG4gKiBCdWlsZHMgYSByb3VuZGVkIHJlY3RhbmdsZSB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG52YXIgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlID0ge1xuXG4gICAgYnVpbGQ6IGZ1bmN0aW9uIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIHZhciBycmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIHZhciBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICB2YXIgeCA9IHJyZWN0RGF0YS54O1xuICAgICAgICB2YXIgeSA9IHJyZWN0RGF0YS55O1xuICAgICAgICB2YXIgd2lkdGggPSBycmVjdERhdGEud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBycmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgICAgIHZhciByYWRpdXMgPSBycmVjdERhdGEucmFkaXVzO1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuXG4gICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHgsIHkgKyByYWRpdXMsXG4gICAgICAgICAgICB4LCB5LFxuICAgICAgICAgICAgeCArIHJhZGl1cywgeSxcbiAgICAgICAgICAgIHBvaW50cyk7XG4gICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCAtIHJhZGl1cyxcbiAgICAgICAgICAgIHksIHggKyB3aWR0aCwgeSxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSArIHJhZGl1cyxcbiAgICAgICAgICAgIHBvaW50cyk7XG4gICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyB3aWR0aCwgeSArIGhlaWdodCAtIHJhZGl1cyxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHggKyB3aWR0aCAtIHJhZGl1cywgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHBvaW50cyk7XG4gICAgICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyByYWRpdXMsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4LCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgeCwgeSArIGhlaWdodCAtIHJhZGl1cyxcbiAgICAgICAgICAgIHBvaW50cyk7XG5cbiAgICAgICAgLy8gdGhpcyB0aW55IG51bWJlciBkZWFscyB3aXRoIHRoZSBpc3N1ZSB0aGF0IG9jY3VycyB3aGVuIHBvaW50cyBvdmVybGFwIGFuZCBlYXJjdXQgZmFpbHMgdG8gdHJpYW5ndWxhdGUgdGhlIGl0ZW0uXG4gICAgICAgIC8vIFRPRE8gLSBmaXggdGhpcyBwcm9wZXJseSwgdGhpcyBpcyBub3QgdmVyeSBlbGVnYW50Li4gYnV0IGl0IHdvcmtzIGZvciBub3cuXG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlOiBmdW5jdGlvbiB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICB2YXIgdmVydHMgPSBncmFwaGljc0dlb21ldHJ5LnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9IGVhcmN1dChwb2ludHMsIG51bGwsIDIpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMylcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICAvLyAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDAsIGokMSA9IHBvaW50cy5sZW5ndGg7IGkkMSA8IGokMTsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2kkMV0sIHBvaW50c1srK2kkMV0pO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKVxue1xuICAgIHZhciBkaWZmID0gbjIgLSBuMTtcblxuICAgIHJldHVybiBuMSArIChkaWZmICogcGVyYyk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZS4gKGhlbHBlciBmdW5jdGlvbi4uKVxuICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJbXX0gW291dD1bXV0gLSBUaGUgb3V0cHV0IGFycmF5IHRvIGFkZCBwb2ludHMgaW50by4gSWYgbm90IHBhc3NlZCwgYSBuZXcgYXJyYXkgaXMgY3JlYXRlZC5cbiAqIEByZXR1cm4ge251bWJlcltdfSBhbiBhcnJheSBvZiBwb2ludHNcbiAqL1xuZnVuY3Rpb24gcXVhZHJhdGljQmV6aWVyQ3VydmUoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1ksIG91dClcbntcbiAgICBpZiAoIG91dCA9PT0gdm9pZCAwICkgb3V0ID0gW107XG5cbiAgICB2YXIgbiA9IDIwO1xuICAgIHZhciBwb2ludHMgPSBvdXQ7XG5cbiAgICB2YXIgeGEgPSAwO1xuICAgIHZhciB5YSA9IDA7XG4gICAgdmFyIHhiID0gMDtcbiAgICB2YXIgeWIgPSAwO1xuICAgIHZhciB4ID0gMDtcbiAgICB2YXIgeSA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgaiA9IDA7IGkgPD0gbjsgKytpKVxuICAgIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIC8vIFRoZSBHcmVlbiBMaW5lXG4gICAgICAgIHhhID0gZ2V0UHQoZnJvbVgsIGNwWCwgaik7XG4gICAgICAgIHlhID0gZ2V0UHQoZnJvbVksIGNwWSwgaik7XG4gICAgICAgIHhiID0gZ2V0UHQoY3BYLCB0b1gsIGopO1xuICAgICAgICB5YiA9IGdldFB0KGNwWSwgdG9ZLCBqKTtcblxuICAgICAgICAvLyBUaGUgQmxhY2sgRG90XG4gICAgICAgIHggPSBnZXRQdCh4YSwgeGIsIGopO1xuICAgICAgICB5ID0gZ2V0UHQoeWEsIHliLCBqKTtcblxuICAgICAgICBwb2ludHMucHVzaCh4LCB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9pbnRzO1xufVxuXG52YXIgQkFUQ0hfUE9PTCA9IFtdO1xudmFyIERSQVdfQ0FMTF9QT09MID0gW107XG52YXIgdG1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcblxuLyoqXG4gKiBNYXAgb2YgZmlsbCBjb21tYW5kcyBmb3IgZWFjaCBzaGFwZSB0eXBlLlxuICpcbiAqIEBtZW1iZXIge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBmaWxsQ29tbWFuZHMgPSB7fTtcblxuZmlsbENvbW1hbmRzW1NIQVBFUy5QT0xZXSA9IGJ1aWxkUG9seTtcbmZpbGxDb21tYW5kc1tTSEFQRVMuQ0lSQ10gPSBidWlsZENpcmNsZTtcbmZpbGxDb21tYW5kc1tTSEFQRVMuRUxJUF0gPSBidWlsZENpcmNsZTtcbmZpbGxDb21tYW5kc1tTSEFQRVMuUkVDVF0gPSBidWlsZFJlY3RhbmdsZTtcbmZpbGxDb21tYW5kc1tTSEFQRVMuUlJFQ10gPSBidWlsZFJvdW5kZWRSZWN0YW5nbGU7XG5cbi8qKlxuICogQSBsaXR0bGUgaW50ZXJuYWwgc3RydWN0dXJlIHRvIGhvbGQgaW50ZXJpbSBiYXRjaCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBCYXRjaFBhcnQgPSBmdW5jdGlvbiBCYXRjaFBhcnQoKVxue1xuICAgIHRoaXMuc3R5bGUgPSBudWxsO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgdGhpcy5zdGFydCA9IDA7XG4gICAgdGhpcy5hdHRyaWJTdGFydCA9IDA7XG4gICAgdGhpcy5hdHRyaWJTaXplID0gMDtcbn07XG5cbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdXNlZCB0byBkcmF3IHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLlxuICpcbiAqIEdyYXBoaWNzR2VvbWV0cnkgaXMgZGVzaWduZWQgdG8gbm90IGJlIGNvbnRpbnVhbGx5IHVwZGF0aW5nIHRoZSBnZW9tZXRyeSBzaW5jZSBpdCdzIGV4cGVuc2l2ZVxuICogdG8gcmUtdGVzc2VsYXRlIHVzaW5nICoqZWFyY3V0KiouIENvbnNpZGVyIHVzaW5nIHtAbGluayBQSVhJLk1lc2h9IGZvciB0aGlzIHVzZS1jYXNlLCBpdCdzIG11Y2ggZmFzdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXRjaEdlb21ldHJ5XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgR3JhcGhpY3NHZW9tZXRyeSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEJhdGNoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBHcmFwaGljc0dlb21ldHJ5KClcbiAgICB7XG4gICAgICAgIEJhdGNoR2VvbWV0cnkuY2FsbCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgcG9pbnRzIHRvIGRyYXcsIDIgbnVtYmVycyBwZXIgcG9pbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGNvbG9yc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb2xvcnMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVWcyBjb2xsZWN0aW9uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaW5kaWNlcyBvZiB0aGUgdmVydGljZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRleHR1cmUgSURzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlSWRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGRyYXduIHNoYXBlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0RhdGFbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgdGhlIGdyYXBoaWNzIG9iamVjdCBoYXMgY2hhbmdlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlcyBuZWVkIHRvIHJlZ2VuZXJhdGVkIGlmIHRoZSBnZW9tZXRyeSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIHRoZSBjYWNoZSBpcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2UgY2xlYXJlZCB0aGUgZ3JhcGhpY3NEYXRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckRpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBjdXJyZW50IGRyYXcgY2FsbHMgZHJpdmVkIGZyb20gdGhlIGJhdGNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRyYXdDYWxscyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm1lZGlhdGUgYWJzdHJhY3QgZm9ybWF0IHNlbnQgdG8gYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKiBDYW4gYmUgY29udmVydGVkIHRvIGRyYXdDYWxscyBvciB0byBiYXRjaGFibGUgb2JqZWN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBvZiB0aGUgbGFzdCBiYXRjaGVkIHNoYXBlIGluIHRoZSBzdGFjayBvZiBjYWxscy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYXBlSW5kZXggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZWQgYm91bmRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYm91bmRzIGRpcnR5IGZsYWcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYWRkaW5nIHRvIGFkZCB0byB0aGUgYm91bmRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRzUGFkZGluZyA9IDA7XG5cbiAgICAgICAgdGhpcy5iYXRjaGFibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmluZGljZXNVaW50MTYgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXZzRmxvYXQzMiA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmltYWwgZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgdGhhdCBhcmUgY29uc2lkZXJlZCBkaWZmZXJlbnQuXG4gICAgICAgICAqIEFmZmVjdHMgbGluZSB0ZXNzZWxhdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbG9zZVBvaW50RXBzID0gMWUtNDtcbiAgICB9XG5cbiAgICBpZiAoIEJhdGNoR2VvbWV0cnkgKSBHcmFwaGljc0dlb21ldHJ5Ll9fcHJvdG9fXyA9IEJhdGNoR2VvbWV0cnk7XG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXRjaEdlb21ldHJ5ICYmIEJhdGNoR2VvbWV0cnkucHJvdG90eXBlICk7XG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHcmFwaGljc0dlb21ldHJ5O1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYm91bmRzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgYm91bmRzIG9mIHRoZSBncmFwaGljIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJvdW5kcy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYm91bmRzRGlydHkgIT09IHRoaXMuZGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSB0aGlzLmRpcnR5O1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGwgaWYgeW91IGNoYW5nZWQgZ3JhcGhpY3NEYXRhIG1hbnVhbGx5LlxuICAgICAqIEVtcHRpZXMgYWxsIGJhdGNoIGJ1ZmZlcnMuXG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuaW52YWxpZGF0ZSA9IGZ1bmN0aW9uIGludmFsaWRhdGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuYm91bmRzRGlydHkgPSAtMTtcbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkrKztcbiAgICAgICAgdGhpcy5zaGFwZUluZGV4ID0gMDtcblxuICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmNvbG9ycy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnV2cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy50ZXh0dXJlSWRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4dHVyZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJhdGNoID0gIHRoaXMuYmF0Y2hlc1tpJDFdO1xuXG4gICAgICAgICAgICBiYXRjaC5zdGFydCA9IDA7XG4gICAgICAgICAgICBiYXRjaC5hdHRyaWJTdGFydCA9IDA7XG4gICAgICAgICAgICBiYXRjaC5zdHlsZSA9IG51bGw7XG4gICAgICAgICAgICBCQVRDSF9QT09MLnB1c2goYmF0Y2gpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IFRoaXMgR3JhcGhpY3NHZW9tZXRyeSBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYXJEaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWxsU3R5bGV9IGZpbGxTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGZpbGwuXG4gICAgICogQHBhcmFtIHtQSVhJLkxpbmVTdHlsZX0gbGluZVN0eWxlIC0gRGVmaW5lcyBzdHlsZSBvZiB0aGUgbGluZXMuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kcmF3U2hhcGUgPSBmdW5jdGlvbiBkcmF3U2hhcGUgKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KTtcblxuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5wdXNoKGRhdGEpO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiBzaGFwZSB0byB0aGlzIEdyYXBoaWNzIG9iamVjdC4gQ2FuIGJlIGFueSBvZiBDaXJjbGUsIFJlY3RhbmdsZSwgRWxsaXBzZSwgTGluZSBvciBQb2x5Z29uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUmVjdGFuZ2xlfFBJWEkuUm91bmRlZFJlY3RhbmdsZX0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVHJhbnNmb3JtIGFwcGxpZWQgdG8gdGhlIHBvaW50cyBvZiB0aGUgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBSZXR1cm5zIGdlb21ldHJ5IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kcmF3SG9sZSA9IGZ1bmN0aW9uIGRyYXdIb2xlIChzaGFwZSwgbWF0cml4KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBudWxsLCBudWxsLCBtYXRyaXgpO1xuXG4gICAgICAgIHZhciBsYXN0U2hhcGUgPSB0aGlzLmdyYXBoaWNzRGF0YVt0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICBkYXRhLmxpbmVTdHlsZSA9IGxhc3RTaGFwZS5saW5lU3R5bGU7XG5cbiAgICAgICAgbGFzdFNoYXBlLmhvbGVzLnB1c2goZGF0YSk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGxcbiAgICAgKiAgb3B0aW9ucyBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZVxuICAgICAqICB0aGVpciBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIEJhdGNoR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBkZXN0cm95IGVhY2ggb2YgdGhlIEdyYXBoaWNzRGF0YSBvYmplY3RzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb2xvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnV2cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMgPSBudWxsO1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5iYXRjaGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIGEgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGlzIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIFBvaW50IHRvIGNoZWNrIGlmIGl0J3MgY29udGFpbmVkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiBnZW9tZXRyeS5cbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludCAocG9pbnQpXG4gICAge1xuICAgICAgICB2YXIgZ3JhcGhpY3NEYXRhID0gdGhpcy5ncmFwaGljc0RhdGE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gZ3JhcGhpY3NEYXRhW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWRhdGEuZmlsbFN0eWxlLnZpc2libGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgZGVhbCB3aXRoIGZpbGxzLi5cbiAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEubWF0cml4LmFwcGx5SW52ZXJzZShwb2ludCwgdG1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0bXBQb2ludC5jb3B5RnJvbShwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc2hhcGUuY29udGFpbnModG1wUG9pbnQueCwgdG1wUG9pbnQueSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob2xlcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob2xlID0gZGF0YS5ob2xlc1tpJDFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGUuc2hhcGUuY29udGFpbnModG1wUG9pbnQueCwgdG1wUG9pbnQueSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgaW50ZXJtZWRpYXRlIGJhdGNoIGRhdGEuIEVpdGhlciBnZXRzIGNvbnZlcnRlZCB0byBkcmF3Q2FsbHNcbiAgICAgKiBvciB1c2VkIHRvIGNvbnZlcnQgdG8gYmF0Y2ggb2JqZWN0cyBkaXJlY3RseSBieSB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnVwZGF0ZUJhdGNoZXMgPSBmdW5jdGlvbiB1cGRhdGVCYXRjaGVzICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSA9PT0gdGhpcy5jYWNoZURpcnR5KSB7IHJldHVybjsgfVxuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRpcnR5ICE9PSB0aGlzLmNhY2hlRGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGxTdHlsZSAmJiAhZGF0YS5maWxsU3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkgeyByZXR1cm47IH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5saW5lU3R5bGUgJiYgIWRhdGEubGluZVN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmUudmFsaWQpIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhY2hlRGlydHkgPSB0aGlzLmRpcnR5O1xuXG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcblxuICAgICAgICB2YXIgYmF0Y2hQYXJ0ID0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdmFyIGN1cnJlbnRDb2xvciA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50TmF0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hlcy5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXRjaFBhcnQgPSB0aGlzLmJhdGNoZXNbdGhpcy5iYXRjaGVzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBiYXRjaFBhcnQuc3R5bGU7XG5cbiAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGN1cnJlbnRDb2xvciA9IHN0eWxlLmNvbG9yICsgc3R5bGUuYWxwaGE7XG4gICAgICAgICAgICBjdXJyZW50TmF0aXZlID0gISFzdHlsZS5uYXRpdmU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpJDEgPSB0aGlzLnNoYXBlSW5kZXg7IGkkMSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcGVJbmRleCsrO1xuXG4gICAgICAgICAgICB2YXIgZGF0YSQxID0gdGhpcy5ncmFwaGljc0RhdGFbaSQxXTtcbiAgICAgICAgICAgIHZhciBjb21tYW5kID0gZmlsbENvbW1hbmRzW2RhdGEkMS50eXBlXTtcblxuICAgICAgICAgICAgdmFyIGZpbGxTdHlsZSA9IGRhdGEkMS5maWxsU3R5bGU7XG4gICAgICAgICAgICB2YXIgbGluZVN0eWxlID0gZGF0YSQxLmxpbmVTdHlsZTtcblxuICAgICAgICAgICAgLy8gYnVpbGQgb3V0IHRoZSBzaGFwZXMgcG9pbnRzLi5cbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoZGF0YSQxKTtcblxuICAgICAgICAgICAgaWYgKGRhdGEkMS5tYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoZGF0YSQxLnBvaW50cywgZGF0YSQxLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMjsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZSQxID0gKGogPT09IDApID8gZmlsbFN0eWxlIDogbGluZVN0eWxlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzdHlsZSQxLnZpc2libGUpIHsgY29udGludWU7IH1cblxuICAgICAgICAgICAgICAgIHZhciBuZXh0VGV4dHVyZSA9IHN0eWxlJDEudGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIHZhciBpbmRleCQxID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmliSW5kZXggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgICAgICAgICAgLy8gY2xvc2UgYmF0Y2ggaWYgc3R5bGUgaXMgZGlmZmVyZW50XG4gICAgICAgICAgICAgICAgaWYgKGJhdGNoUGFydFxuICAgICAgICAgICAgICAgICAgICAmJiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlXG4gICAgICAgICAgICAgICAgICAgIHx8IGN1cnJlbnRDb2xvciAhPT0gKHN0eWxlJDEuY29sb3IgKyBzdHlsZSQxLmFscGhhKVxuICAgICAgICAgICAgICAgICAgICB8fCBjdXJyZW50TmF0aXZlICE9PSAhIXN0eWxlJDEubmF0aXZlKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5zaXplID0gaW5kZXgkMSAtIGJhdGNoUGFydC5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmF0dHJpYlNpemUgPSBhdHRyaWJJbmRleCAtIGJhdGNoUGFydC5hdHRyaWJTdGFydDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYmF0Y2hQYXJ0LnNpemUgPiAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNwYXduIG5ldyBiYXRjaCBpZiBpdHMgZmlyc3QgYmF0Y2ggb3IgcHJldmlvdXMgd2FzIGNsb3NlZFxuICAgICAgICAgICAgICAgIGlmICghYmF0Y2hQYXJ0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gQkFUQ0hfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hQYXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlcy5wdXNoKGJhdGNoUGFydCk7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb2xvciA9IHN0eWxlJDEuY29sb3IgKyBzdHlsZSQxLmFscGhhO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TmF0aXZlID0gc3R5bGUkMS5uYXRpdmU7XG5cbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LnN0eWxlID0gc3R5bGUkMTtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LnN0YXJ0ID0gaW5kZXgkMTtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LmF0dHJpYlN0YXJ0ID0gYXR0cmliSW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICAgICAgICAgIGlmIChqID09PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEkMS5ob2xlcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0hvbGVzKGRhdGEkMS5ob2xlcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkUG9seS50cmlhbmd1bGF0ZShkYXRhJDEsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZC50cmlhbmd1bGF0ZShkYXRhJDEsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJ1aWxkTGluZShkYXRhJDEsIHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGRhdGEkMS5ob2xlcy5sZW5ndGg7IGkkMisrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWlsZExpbmUoZGF0YSQxLmhvbGVzW2kkMl0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSAodGhpcy5wb2ludHMubGVuZ3RoIC8gMikgLSBzdGFydDtcblxuICAgICAgICAgICAgICAgIHRoaXMuYWRkVXZzKHRoaXMucG9pbnRzLCB1dnMsIHN0eWxlJDEudGV4dHVyZSwgc3RhcnQsIHNpemUsIHN0eWxlJDEubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBhdHRyaWIgPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIGlmICghYmF0Y2hQYXJ0KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGVyZSBhcmUgbm8gdmlzaWJsZSBzdHlsZXMgaW4gR3JhcGhpY3NEYXRhXG4gICAgICAgICAgICAvLyBpdHMgcG9zc2libGUgdGhhdCBzb21lb25lIHdhbnRzIEdyYXBoaWNzIGp1c3QgZm9yIHRoZSBib3VuZHNcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYmF0Y2hQYXJ0LnNpemUgPSBpbmRleCAtIGJhdGNoUGFydC5zdGFydDtcbiAgICAgICAgYmF0Y2hQYXJ0LmF0dHJpYlNpemUgPSBhdHRyaWIgLSBiYXRjaFBhcnQuYXR0cmliU3RhcnQ7XG4gICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG5ldyBVaW50MTZBcnJheSh0aGlzLmluZGljZXMpO1xuXG4gICAgICAgIC8vIFRPRE8gbWFrZSB0aGlzIGEgY29uc3QuLlxuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRoaXMuaXNCYXRjaGFibGUoKTtcblxuICAgICAgICBpZiAodGhpcy5iYXRjaGFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSsrO1xuXG4gICAgICAgICAgICB0aGlzLnV2c0Zsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudXZzKTtcblxuICAgICAgICAgICAgLy8gb2Zmc2V0IHRoZSBpbmRpY2VzIHNvIHRoYXQgaXQgd29ya3Mgd2l0aCB0aGUgYmF0Y2hlci4uLlxuICAgICAgICAgICAgZm9yICh2YXIgaSQzID0gMDsgaSQzIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSQzKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGJhdGNoID0gdGhpcy5iYXRjaGVzW2kkM107XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqJDEgPSAwOyBqJDEgPCBiYXRjaC5zaXplOyBqJDErKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCQyID0gYmF0Y2guc3RhcnQgKyBqJDE7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRpY2VzVWludDE2W2luZGV4JDJdID0gdGhpcy5pbmRpY2VzVWludDE2W2luZGV4JDJdIC0gYmF0Y2guYXR0cmliU3RhcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgaWYgdGhpcyBncmFwaGljcyBnZW9tZXRyeSBjYW4gYmUgYmF0Y2hlZC5cbiAgICAgKiBDdXJyZW50bHkgaXQgbmVlZHMgdG8gYmUgc21hbGwgZW5vdWdoIGFuZCBub3QgY29udGFpbiBhbnkgbmF0aXZlIGxpbmVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5pc0JhdGNoYWJsZSA9IGZ1bmN0aW9uIGlzQmF0Y2hhYmxlICgpXG4gICAge1xuICAgICAgICB2YXIgYmF0Y2hlcyA9IHRoaXMuYmF0Y2hlcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChiYXRjaGVzW2ldLnN0eWxlLm5hdGl2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKHRoaXMucG9pbnRzLmxlbmd0aCA8IEdyYXBoaWNzR2VvbWV0cnkuQkFUQ0hBQkxFX1NJWkUgKiAyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgaW50ZXJtZWRpYXRlIGJhdGNoZXMgZGF0YSB0byBkcmF3Q2FsbHMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmJ1aWxkRHJhd0NhbGxzID0gZnVuY3Rpb24gYnVpbGREcmF3Q2FsbHMgKClcbiAgICB7XG4gICAgICAgIHZhciBUSUNLID0gKytCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2g7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4dHVyZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcblxuICAgICAgICB2YXIgdXZzID0gdGhpcy51dnM7XG4gICAgICAgIHZhciBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgdmFyIHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRHcm91cCA9ICBEUkFXX0NBTExfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuXG4gICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG5cbiAgICAgICAgdmFyIHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIHZhciBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHZhciB0ZXh0dXJlSWQgPSAwO1xuICAgICAgICB2YXIgbmF0aXZlID0gZmFsc2U7XG4gICAgICAgIHZhciBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuXG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYmF0Y2hlc1tpJDFdO1xuXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzb21lIGZ1bGwgb24gTUFYX1RFWFRVUkUgQ09ERS4uXG4gICAgICAgICAgICB2YXIgTUFYX1RFWFRVUkVTID0gODtcblxuICAgICAgICAgICAgdmFyIHN0eWxlID0gZGF0YS5zdHlsZTtcblxuICAgICAgICAgICAgdmFyIG5leHRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKG5hdGl2ZSAhPT0gISFzdHlsZS5uYXRpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmF0aXZlID0gc3R5bGUubmF0aXZlO1xuICAgICAgICAgICAgICAgIGRyYXdNb2RlID0gbmF0aXZlID8gRFJBV19NT0RFUy5MSU5FUyA6IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIGJhdGNoIHRvIGJyZWFrIVxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSBNQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCAhPT0gVElDSylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IE1BWF9URVhUVVJFUylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgVElDSysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEdyb3VwLnNpemUgPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IERSQVdfQ0FMTF9QT09MLnBvcCgpIHx8IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnR5cGUgPSBkcmF3TW9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gYWRkIHRoaXMgdG8gdGhlIHJlbmRlciBwYXJ0Li5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUudG91Y2hlZCA9IDE7Ly8gdG91Y2g7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5faWQgPSB0ZXh0dXJlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLndyYXBNb2RlID0gMTA0OTc7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVzW2N1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSArPSBkYXRhLnNpemU7XG4gICAgICAgICAgICBpbmRleCArPSBkYXRhLnNpemU7XG5cbiAgICAgICAgICAgIHRleHR1cmVJZCA9IG5leHRUZXh0dXJlLl9pZDtcblxuICAgICAgICAgICAgdGhpcy5hZGRDb2xvcnMoY29sb3JzLCBzdHlsZS5jb2xvciwgc3R5bGUuYWxwaGEsIGRhdGEuYXR0cmliU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmFkZFRleHR1cmVJZHModGV4dHVyZUlkcywgdGV4dHVyZUlkLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcblxuICAgICAgICAvLyB1cGxvYWQuLlxuICAgICAgICAvLyBtZXJnZSBmb3Igbm93IVxuICAgICAgICB2YXIgdmVydHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICAvLyB2ZXJ0cyBhcmUgMiBwb3NpdGlvbnMuLiBzbyB3ZSAqIGJ5IDMgYXMgdGhlcmUgYXJlIDYgcHJvcGVydGllcy4uIHRoZW4gNCBjb3MgaXRzIGJ5dGVzXG4gICAgICAgIHZhciBnbFBvaW50cyA9IG5ldyBBcnJheUJ1ZmZlcih2ZXJ0cy5sZW5ndGggKiAzICogNCk7XG4gICAgICAgIHZhciBmMzIgPSBuZXcgRmxvYXQzMkFycmF5KGdsUG9pbnRzKTtcbiAgICAgICAgdmFyIHUzMiA9IG5ldyBVaW50MzJBcnJheShnbFBvaW50cyk7XG5cbiAgICAgICAgdmFyIHAgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IHZlcnRzLmxlbmd0aCAvIDI7IGkkMisrKVxuICAgICAgICB7XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzW2kkMiAqIDJdO1xuICAgICAgICAgICAgZjMyW3ArK10gPSB2ZXJ0c1soaSQyICogMikgKyAxXTtcblxuICAgICAgICAgICAgZjMyW3ArK10gPSB1dnNbaSQyICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1soaSQyICogMikgKyAxXTtcblxuICAgICAgICAgICAgdTMyW3ArK10gPSBjb2xvcnNbaSQyXTtcblxuICAgICAgICAgICAgZjMyW3ArK10gPSB0ZXh0dXJlSWRzW2kkMl07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmZXIudXBkYXRlKGdsUG9pbnRzKTtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIudXBkYXRlKHRoaXMuaW5kaWNlc1VpbnQxNik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgdGhlIGhvbGVzIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhW119IGhvbGVzIC0gSG9sZXMgdG8gcmVuZGVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLnByb2Nlc3NIb2xlcyA9IGZ1bmN0aW9uIHByb2Nlc3NIb2xlcyAoaG9sZXMpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvbGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaG9sZSA9IGhvbGVzW2ldO1xuXG4gICAgICAgICAgICB2YXIgY29tbWFuZCA9IGZpbGxDb21tYW5kc1tob2xlLnR5cGVdO1xuXG4gICAgICAgICAgICBjb21tYW5kLmJ1aWxkKGhvbGUpO1xuXG4gICAgICAgICAgICBpZiAoaG9sZS5tYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1Qb2ludHMoaG9sZS5wb2ludHMsIGhvbGUubWF0cml4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgb2JqZWN0LiBFeHBlbnNpdmUgdG8gdXNlIHBlcmZvcm1hbmNlLXdpc2UuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIG1pblggPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIG1heFggPSAtSW5maW5pdHk7XG5cbiAgICAgICAgdmFyIG1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgdmFyIG1heFkgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHNoYXBlID0gbnVsbDtcbiAgICAgICAgICAgIHZhciB4ID0gMDtcbiAgICAgICAgICAgIHZhciB5ID0gMDtcbiAgICAgICAgICAgIHZhciB3ID0gMDtcbiAgICAgICAgICAgIHZhciBoID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhW2ldO1xuXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgICAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGRhdGEubGluZVN0eWxlID8gZGF0YS5saW5lU3R5bGUud2lkdGggOiAwO1xuXG4gICAgICAgICAgICAgICAgc2hhcGUgPSBkYXRhLnNoYXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5SRUNUIHx8IHR5cGUgPT09IFNIQVBFUy5SUkVDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLnggLSAobGluZVdpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55IC0gKGxpbmVXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUud2lkdGggKyBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5oZWlnaHQgKyBsaW5lV2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFNIQVBFUy5DSVJDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUucmFkaXVzICsgKGxpbmVXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUucmFkaXVzICsgKGxpbmVXaWR0aCAvIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IC0gdyA8IG1pblggPyB4IC0gdyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgLSBoIDwgbWluWSA/IHkgLSBoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkVMSVApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS53aWR0aCArIChsaW5lV2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLmhlaWdodCArIChsaW5lV2lkdGggLyAyKTtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCAtIHcgPCBtaW5YID8geCAtIHcgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IC0gaCA8IG1pblkgPyB5IC0gaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBPTFlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHNoYXBlLnBvaW50cztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHgyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ3ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN5ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiArIDIgPCBwb2ludHMubGVuZ3RoOyBqICs9IDIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBwb2ludHNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gcG9pbnRzW2ogKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgyID0gcG9pbnRzW2ogKyAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gcG9pbnRzW2ogKyAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR4ID0gTWF0aC5hYnMoeDIgLSB4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5ID0gTWF0aC5hYnMoeTIgLSB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ID0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3IDwgMWUtOSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcncgPSAoKGggLyB3ICogZHkpICsgZHgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJoID0gKChoIC8gdyAqIGR4KSArIGR5KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeCA9ICh4MiArIHgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN5ID0gKHkyICsgeSkgLyAyO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5YID0gY3ggLSBydyA8IG1pblggPyBjeCAtIHJ3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFggPSBjeCArIHJ3ID4gbWF4WCA/IGN4ICsgcncgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5ZID0gY3kgLSByaCA8IG1pblkgPyBjeSAtIHJoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFkgPSBjeSArIHJoID4gbWF4WSA/IGN5ICsgcmggOiBtYXhZO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbWluWCA9IDA7XG4gICAgICAgICAgICBtYXhYID0gMDtcbiAgICAgICAgICAgIG1pblkgPSAwO1xuICAgICAgICAgICAgbWF4WSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuYm91bmRzUGFkZGluZztcblxuICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IG1pblggLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IG1heFggKyBwYWRkaW5nO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gbWluWSAtIHBhZGRpbmc7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gbWF4WSArIHBhZGRpbmc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBwb2ludHMgdXNpbmcgbWF0cml4LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gdHJhbnNmb3JtUG9pbnRzIChwb2ludHMsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAvIDI7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbKGkgKiAyKV07XG4gICAgICAgICAgICB2YXIgeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHBvaW50c1soaSAqIDIpXSA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKSArIDFdID0gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgY29sb3JzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9ycyAtIExpc3Qgb2YgY29sb3JzIHRvIGFkZCB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2xvciAtIENvbG9yIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSAtIEFscGhhIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gTnVtYmVyIG9mIGNvbG9ycyB0byBhZGRcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRDb2xvcnMgPSBmdW5jdGlvbiBhZGRDb2xvcnMgKGNvbG9ycywgY29sb3IsIGFscGhhLCBzaXplKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyB1c2UgdGhlIHByZW11bHRpcGx5IGJpdHMgSXZhbiBhZGRlZFxuICAgICAgICB2YXIgcmdiID0gKGNvbG9yID4+IDE2KSArIChjb2xvciAmIDB4ZmYwMCkgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuXG4gICAgICAgIHZhciByZ2JhID0gIHByZW11bHRpcGx5VGludChyZ2IsIGFscGhhKTtcblxuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3JzLnB1c2gocmdiYSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkIHRleHR1cmUgaWQgdGhhdCB0aGUgc2hhZGVyL2ZyYWdtZW50IHdhbnRzIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB0ZXh0dXJlSWRzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAgICAgKi9cbiAgICBHcmFwaGljc0dlb21ldHJ5LnByb3RvdHlwZS5hZGRUZXh0dXJlSWRzID0gZnVuY3Rpb24gYWRkVGV4dHVyZUlkcyAodGV4dHVyZUlkcywgaWQsIHNpemUpXG4gICAge1xuICAgICAgICB3aGlsZSAoc2l6ZS0tID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIFVWcyBmb3IgYSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSB2ZXJ0cyAtIFZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIC0gVVZzXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBSZWZlcmVuY2UgdG8gVGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCAtIEluZGV4IGJ1ZmZlciBzdGFydCBpbmRleC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplL2xlbmd0aCBmb3IgaW5kZXggYnVmZmVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFttYXRyaXhdIC0gT3B0aW9uYWwgdHJhbnNmb3JtIGZvciBhbGwgcG9pbnRzLlxuICAgICAqL1xuICAgIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLmFkZFV2cyA9IGZ1bmN0aW9uIGFkZFV2cyAodmVydHMsIHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciB1dnNTdGFydCA9IHV2cy5sZW5ndGg7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4IDwgc2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHggPSB2ZXJ0c1soc3RhcnQgKyBpbmRleCkgKiAyXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydHNbKChzdGFydCArIGluZGV4KSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIGlmIChtYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIG54ID0gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eDtcblxuICAgICAgICAgICAgICAgIHkgPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIHggPSBueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5kZXgrKztcblxuICAgICAgICAgICAgdXZzLnB1c2goeCAvIGZyYW1lLndpZHRoLCB5IC8gZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKGZyYW1lLndpZHRoIDwgYmFzZVRleHR1cmUud2lkdGhcbiAgICAgICAgICAgIHx8IGZyYW1lLmhlaWdodCA8IGJhc2VUZXh0dXJlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hZGp1c3RVdnModXZzLCB0ZXh0dXJlLCB1dnNTdGFydCwgc2l6ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW9kaWZ5IHV2cyBhcnJheSBhY2NvcmRpbmcgdG8gcG9zaXRpb24gb2YgdGV4dHVyZSByZWdpb25cbiAgICAgKiBEb2VzIG5vdCB3b3JrIHdpdGggcm90YXRlZCBvciB0cmltbWVkIHRleHR1cmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdXZzIGFycmF5XG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgcmVnaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IHN0YXJ0aW5nIGluZGV4IGZvciB1dnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBob3cgbWFueSBwb2ludHMgdG8gYWRqdXN0XG4gICAgICovXG4gICAgR3JhcGhpY3NHZW9tZXRyeS5wcm90b3R5cGUuYWRqdXN0VXZzID0gZnVuY3Rpb24gYWRqdXN0VXZzICh1dnMsIHRleHR1cmUsIHN0YXJ0LCBzaXplKVxuICAgIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIGVwcyA9IDFlLTY7XG4gICAgICAgIHZhciBmaW5pc2ggPSBzdGFydCArIChzaXplICogMik7XG4gICAgICAgIHZhciBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgIHZhciBzY2FsZVggPSBmcmFtZS53aWR0aCAvIGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICB2YXIgc2NhbGVZID0gZnJhbWUuaGVpZ2h0IC8gYmFzZVRleHR1cmUuaGVpZ2h0O1xuICAgICAgICB2YXIgb2Zmc2V0WCA9IGZyYW1lLnggLyBmcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIG9mZnNldFkgPSBmcmFtZS55IC8gZnJhbWUuaGVpZ2h0O1xuICAgICAgICB2YXIgbWluWCA9IE1hdGguZmxvb3IodXZzW3N0YXJ0XSArIGVwcyk7XG4gICAgICAgIHZhciBtaW5ZID0gTWF0aC5mbG9vcih1dnNbc3RhcnQgKyAxXSArIGVwcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0ICsgMjsgaSA8IGZpbmlzaDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgTWF0aC5mbG9vcih1dnNbaV0gKyBlcHMpKTtcbiAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBNYXRoLmZsb29yKHV2c1tpICsgMV0gKyBlcHMpKTtcbiAgICAgICAgfVxuICAgICAgICBvZmZzZXRYIC09IG1pblg7XG4gICAgICAgIG9mZnNldFkgLT0gbWluWTtcbiAgICAgICAgZm9yICh2YXIgaSQxID0gc3RhcnQ7IGkkMSA8IGZpbmlzaDsgaSQxICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHV2c1tpJDFdID0gKHV2c1tpJDFdICsgb2Zmc2V0WCkgKiBzY2FsZVg7XG4gICAgICAgICAgICB1dnNbaSQxICsgMV0gPSAodXZzW2kkMSArIDFdICsgb2Zmc2V0WSkgKiBzY2FsZVk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEdyYXBoaWNzR2VvbWV0cnkucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBHcmFwaGljc0dlb21ldHJ5O1xufShCYXRjaEdlb21ldHJ5KSk7XG5cbi8qKlxuICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHBvaW50cyB0byBjb25zaWRlciBhbiBvYmplY3QgXCJiYXRjaGFibGVcIixcbiAqIGFibGUgdG8gYmUgYmF0Y2hlZCBieSB0aGUgcmVuZGVyZXIncyBiYXRjaCBzeXN0ZW0uXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3NHZW9tZXRyeVxuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfSBCQVRDSEFCTEVfU0laRVxuICogQGRlZmF1bHQgMTAwXG4gKi9cbkdyYXBoaWNzR2VvbWV0cnkuQkFUQ0hBQkxFX1NJWkUgPSAxMDA7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgbGluZSBzdHlsZSBmb3IgR3JhcGhpY3MuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbGxTdHlsZVxuICovXG52YXIgTGluZVN0eWxlID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsbFN0eWxlKSB7XG4gICAgZnVuY3Rpb24gTGluZVN0eWxlICgpIHtcbiAgICAgICAgRmlsbFN0eWxlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgaWYgKCBGaWxsU3R5bGUgKSBMaW5lU3R5bGUuX19wcm90b19fID0gRmlsbFN0eWxlO1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWxsU3R5bGUgJiYgRmlsbFN0eWxlLnByb3RvdHlwZSApO1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBMaW5lU3R5bGU7XG5cbiAgICBMaW5lU3R5bGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbiAgICB7XG4gICAgICAgIHZhciBvYmogPSBuZXcgTGluZVN0eWxlKCk7XG5cbiAgICAgICAgb2JqLmNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICAgICAgb2JqLmFscGhhID0gdGhpcy5hbHBoYTtcbiAgICAgICAgb2JqLnRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG4gICAgICAgIG9iai5tYXRyaXggPSB0aGlzLm1hdHJpeDtcbiAgICAgICAgb2JqLnZpc2libGUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIG9iai53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIG9iai5hbGlnbm1lbnQgPSB0aGlzLmFsaWdubWVudDtcbiAgICAgICAgb2JqLm5hdGl2ZSA9IHRoaXMubmF0aXZlO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgbGluZSBzdHlsZSB0byBkZWZhdWx0LlxuICAgICAqL1xuICAgIExpbmVTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgRmlsbFN0eWxlLnByb3RvdHlwZS5yZXNldC5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIE92ZXJyaWRlIGRlZmF1bHQgbGluZSBzdHlsZSBjb2xvclxuICAgICAgICB0aGlzLmNvbG9yID0gMHgwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggKHRoaWNrbmVzcykgb2YgYW55IGxpbmVzIGRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIGFueSBsaW5lcyBkcmF3biAoMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyLCAwID0gaW5uZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxpZ25tZW50ID0gMC41O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYXRpdmUgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIExpbmVTdHlsZTtcbn0oRmlsbFN0eWxlKSk7XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBiZXppZXIgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBCZXppZXJVdGlscyA9IGZ1bmN0aW9uIEJlemllclV0aWxzICgpIHt9O1xuXG5CZXppZXJVdGlscy5jdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIGN1cnZlTGVuZ3RoIChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbntcbiAgICB2YXIgbiA9IDEwO1xuICAgIHZhciByZXN1bHQgPSAwLjA7XG4gICAgdmFyIHQgPSAwLjA7XG4gICAgdmFyIHQyID0gMC4wO1xuICAgIHZhciB0MyA9IDAuMDtcbiAgICB2YXIgbnQgPSAwLjA7XG4gICAgdmFyIG50MiA9IDAuMDtcbiAgICB2YXIgbnQzID0gMC4wO1xuICAgIHZhciB4ID0gMC4wO1xuICAgIHZhciB5ID0gMC4wO1xuICAgIHZhciBkeCA9IDAuMDtcbiAgICB2YXIgZHkgPSAwLjA7XG4gICAgdmFyIHByZXZYID0gZnJvbVg7XG4gICAgdmFyIHByZXZZID0gZnJvbVk7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpXG4gICAge1xuICAgICAgICB0ID0gaSAvIG47XG4gICAgICAgIHQyID0gdCAqIHQ7XG4gICAgICAgIHQzID0gdDIgKiB0O1xuICAgICAgICBudCA9ICgxLjAgLSB0KTtcbiAgICAgICAgbnQyID0gbnQgKiBudDtcbiAgICAgICAgbnQzID0gbnQyICogbnQ7XG5cbiAgICAgICAgeCA9IChudDMgKiBmcm9tWCkgKyAoMy4wICogbnQyICogdCAqIGNwWCkgKyAoMy4wICogbnQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKTtcbiAgICAgICAgeSA9IChudDMgKiBmcm9tWSkgKyAoMy4wICogbnQyICogdCAqIGNwWSkgKyAoMyAqIG50ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSk7XG4gICAgICAgIGR4ID0gcHJldlggLSB4O1xuICAgICAgICBkeSA9IHByZXZZIC0geTtcbiAgICAgICAgcHJldlggPSB4O1xuICAgICAgICBwcmV2WSA9IHk7XG5cbiAgICAgICAgcmVzdWx0ICs9IE1hdGguc3FydCgoZHggKiBkeCkgKyAoZHkgKiBkeSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBwb2ludHMgLSBQYXRoIGFycmF5IHRvIHB1c2ggcG9pbnRzIGludG9cbiAqL1xuQmV6aWVyVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uIGN1cnZlVG8gKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgcG9pbnRzKVxue1xuICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgIHBvaW50cy5sZW5ndGggLT0gMjtcblxuICAgIHZhciBuID0gR1JBUEhJQ1NfQ1VSVkVTLl9zZWdtZW50c0NvdW50KFxuICAgICAgICBCZXppZXJVdGlscy5jdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbiAgICApO1xuXG4gICAgdmFyIGR0ID0gMDtcbiAgICB2YXIgZHQyID0gMDtcbiAgICB2YXIgZHQzID0gMDtcbiAgICB2YXIgdDIgPSAwO1xuICAgIHZhciB0MyA9IDA7XG5cbiAgICBwb2ludHMucHVzaChmcm9tWCwgZnJvbVkpO1xuXG4gICAgZm9yICh2YXIgaSA9IDEsIGogPSAwOyBpIDw9IG47ICsraSlcbiAgICB7XG4gICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICBkdCA9ICgxIC0gaik7XG4gICAgICAgIGR0MiA9IGR0ICogZHQ7XG4gICAgICAgIGR0MyA9IGR0MiAqIGR0O1xuXG4gICAgICAgIHQyID0gaiAqIGo7XG4gICAgICAgIHQzID0gdDIgKiBqO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgKGR0MyAqIGZyb21YKSArICgzICogZHQyICogaiAqIGNwWCkgKyAoMyAqIGR0ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCksXG4gICAgICAgICAgICAoZHQzICogZnJvbVkpICsgKDMgKiBkdDIgKiBqICogY3BZKSArICgzICogZHQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKVxuICAgICAgICApO1xuICAgIH1cbn07XG5cbi8qKlxuICogVXRpbGl0aWVzIGZvciBxdWFkcmF0aWMgY3VydmVzXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBRdWFkcmF0aWNVdGlscyA9IGZ1bmN0aW9uIFF1YWRyYXRpY1V0aWxzICgpIHt9O1xuXG5RdWFkcmF0aWNVdGlscy5jdXJ2ZUxlbmd0aCA9IGZ1bmN0aW9uIGN1cnZlTGVuZ3RoIChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSlcbntcbiAgICB2YXIgYXggPSBmcm9tWCAtICgyLjAgKiBjcFgpICsgdG9YO1xuICAgIHZhciBheSA9IGZyb21ZIC0gKDIuMCAqIGNwWSkgKyB0b1k7XG4gICAgdmFyIGJ4ID0gKDIuMCAqIGNwWCkgLSAoMi4wICogZnJvbVgpO1xuICAgIHZhciBieSA9ICgyLjAgKiBjcFkpIC0gKDIuMCAqIGZyb21ZKTtcbiAgICB2YXIgYSA9IDQuMCAqICgoYXggKiBheCkgKyAoYXkgKiBheSkpO1xuICAgIHZhciBiID0gNC4wICogKChheCAqIGJ4KSArIChheSAqIGJ5KSk7XG4gICAgdmFyIGMgPSAoYnggKiBieCkgKyAoYnkgKiBieSk7XG5cbiAgICB2YXIgcyA9IDIuMCAqIE1hdGguc3FydChhICsgYiArIGMpO1xuICAgIHZhciBhMiA9IE1hdGguc3FydChhKTtcbiAgICB2YXIgYTMyID0gMi4wICogYSAqIGEyO1xuICAgIHZhciBjMiA9IDIuMCAqIE1hdGguc3FydChjKTtcbiAgICB2YXIgYmEgPSBiIC8gYTI7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICAoYTMyICogcylcbiAgICAgICAgICAgICsgKGEyICogYiAqIChzIC0gYzIpKVxuICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgKCg0LjAgKiBjICogYSkgLSAoYiAqIGIpKVxuICAgICAgICAgICAgICAgKiBNYXRoLmxvZygoKDIuMCAqIGEyKSArIGJhICsgcykgLyAoYmEgKyBjMikpXG4gICAgICAgICAgICApXG4gICAgKSAvICg0LjAgKiBhMzIpO1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byBhZGQgc2VnbWVudHMgdG8uXG4gKi9cblF1YWRyYXRpY1V0aWxzLmN1cnZlVG8gPSBmdW5jdGlvbiBjdXJ2ZVRvIChjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cylcbntcbiAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICB2YXIgbiA9IEdSQVBISUNTX0NVUlZFUy5fc2VnbWVudHNDb3VudChcbiAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpXG4gICAgKTtcblxuICAgIHZhciB4YSA9IDA7XG4gICAgdmFyIHlhID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG47ICsraSlcbiAgICB7XG4gICAgICAgIHZhciBqID0gaSAvIG47XG5cbiAgICAgICAgeGEgPSBmcm9tWCArICgoY3BYIC0gZnJvbVgpICogaik7XG4gICAgICAgIHlhID0gZnJvbVkgKyAoKGNwWSAtIGZyb21ZKSAqIGopO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKHhhICsgKCgoY3BYICsgKCh0b1ggLSBjcFgpICogaikpIC0geGEpICogaiksXG4gICAgICAgICAgICB5YSArICgoKGNwWSArICgodG9ZIC0gY3BZKSAqIGopKSAtIHlhKSAqIGopKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgYXJjIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgQXJjVXRpbHMgPSBmdW5jdGlvbiBBcmNVdGlscyAoKSB7fTtcblxuQXJjVXRpbHMuY3VydmVUbyA9IGZ1bmN0aW9uIGN1cnZlVG8gKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMsIHBvaW50cylcbntcbiAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICB2YXIgYTEgPSBmcm9tWSAtIHkxO1xuICAgIHZhciBiMSA9IGZyb21YIC0geDE7XG4gICAgdmFyIGEyID0geTIgLSB5MTtcbiAgICB2YXIgYjIgPSB4MiAtIHgxO1xuICAgIHZhciBtbSA9IE1hdGguYWJzKChhMSAqIGIyKSAtIChiMSAqIGEyKSk7XG5cbiAgICBpZiAobW0gPCAxLjBlLTggfHwgcmFkaXVzID09PSAwKVxuICAgIHtcbiAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh4MSwgeTEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGRkID0gKGExICogYTEpICsgKGIxICogYjEpO1xuICAgIHZhciBjYyA9IChhMiAqIGEyKSArIChiMiAqIGIyKTtcbiAgICB2YXIgdHQgPSAoYTEgKiBhMikgKyAoYjEgKiBiMik7XG4gICAgdmFyIGsxID0gcmFkaXVzICogTWF0aC5zcXJ0KGRkKSAvIG1tO1xuICAgIHZhciBrMiA9IHJhZGl1cyAqIE1hdGguc3FydChjYykgLyBtbTtcbiAgICB2YXIgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgdmFyIGoyID0gazIgKiB0dCAvIGNjO1xuICAgIHZhciBjeCA9IChrMSAqIGIyKSArIChrMiAqIGIxKTtcbiAgICB2YXIgY3kgPSAoazEgKiBhMikgKyAoazIgKiBhMSk7XG4gICAgdmFyIHB4ID0gYjEgKiAoazIgKyBqMSk7XG4gICAgdmFyIHB5ID0gYTEgKiAoazIgKyBqMSk7XG4gICAgdmFyIHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgdmFyIHF5ID0gYTIgKiAoazEgKyBqMik7XG4gICAgdmFyIHN0YXJ0QW5nbGUgPSBNYXRoLmF0YW4yKHB5IC0gY3ksIHB4IC0gY3gpO1xuICAgIHZhciBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjeDogKGN4ICsgeDEpLFxuICAgICAgICBjeTogKGN5ICsgeTEpLFxuICAgICAgICByYWRpdXM6IHJhZGl1cyxcbiAgICAgICAgc3RhcnRBbmdsZTogc3RhcnRBbmdsZSxcbiAgICAgICAgZW5kQW5nbGU6IGVuZEFuZ2xlLFxuICAgICAgICBhbnRpY2xvY2t3aXNlOiAoYjEgKiBhMiA+IGIyICogYTEpLFxuICAgIH07XG59O1xuXG4vKipcbiAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCAtIFN0YXJ0IHggbG9jYXRpb24gb2YgYXJjXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRZIC0gU3RhcnQgeSBsb2NhdGlvbiBvZiBhcmNcbiAqIEBwYXJhbSB7bnVtYmVyfSBjeCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0QW5nbGUgLSBUaGUgc3RhcnRpbmcgYW5nbGUsIGluIHJhZGlhbnMgKDAgaXMgYXQgdGhlIDMgbydjbG9jayBwb3NpdGlvblxuICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFudGljbG9ja3dpc2UgLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSBOdW1iZXIgb2Ygc2VnbWVudHNcbiAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIENvbGxlY3Rpb24gb2YgcG9pbnRzIHRvIGFkZCB0b1xuICovXG5BcmNVdGlscy5hcmMgPSBmdW5jdGlvbiBhcmMgKHN0YXJ0WCwgc3RhcnRZLCBjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UsIHBvaW50cylcbntcbiAgICB2YXIgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgdmFyIG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoXG4gICAgICAgIE1hdGguYWJzKHN3ZWVwKSAqIHJhZGl1cyxcbiAgICAgICAgTWF0aC5jZWlsKE1hdGguYWJzKHN3ZWVwKSAvIFBJXzIpICogNDBcbiAgICApO1xuXG4gICAgdmFyIHRoZXRhID0gKHN3ZWVwKSAvIChuICogMik7XG4gICAgdmFyIHRoZXRhMiA9IHRoZXRhICogMjtcbiAgICB2YXIgY1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xuICAgIHZhciBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG4gICAgdmFyIHNlZ01pbnVzID0gbiAtIDE7XG4gICAgdmFyIHJlbWFpbmRlciA9IChzZWdNaW51cyAlIDEpIC8gc2VnTWludXM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKVxuICAgIHtcbiAgICAgICAgdmFyIHJlYWwgPSBpICsgKHJlbWFpbmRlciAqIGkpO1xuICAgICAgICB2YXIgYW5nbGUgPSAoKHRoZXRhKSArIHN0YXJ0QW5nbGUgKyAodGhldGEyICogcmVhbCkpO1xuICAgICAgICB2YXIgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgdmFyIHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgKCgoY1RoZXRhICogYykgKyAoc1RoZXRhICogcykpICogcmFkaXVzKSArIGN4LFxuICAgICAgICAgICAgKCgoY1RoZXRhICogLXMpICsgKHNUaGV0YSAqIGMpKSAqIHJhZGl1cykgKyBjeVxuICAgICAgICApO1xuICAgIH1cbn07XG5cbi8qKlxuICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuUG9seWdvblxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludHMgLSBUaGUgbnVtYmVyIG9mIHBvaW50cyBvZiB0aGUgc3RhciwgbXVzdCBiZSA+IDFcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvbiBvZiB0aGUgc3RhciBpbiByYWRpYW5zLCB3aGVyZSAwIGlzIHZlcnRpY2FsXG4gKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gKi9cbnZhciBTdGFyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoUG9seWdvbikge1xuICAgIGZ1bmN0aW9uIFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbilcbiAgICB7XG4gICAgICAgIGlubmVyUmFkaXVzID0gaW5uZXJSYWRpdXMgfHwgcmFkaXVzIC8gMjtcblxuICAgICAgICB2YXIgc3RhcnRBbmdsZSA9ICgtMSAqIE1hdGguUEkgLyAyKSArIHJvdGF0aW9uO1xuICAgICAgICB2YXIgbGVuID0gcG9pbnRzICogMjtcbiAgICAgICAgdmFyIGRlbHRhID0gUElfMiAvIGxlbjtcbiAgICAgICAgdmFyIHBvbHlnb24gPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgciA9IGkgJSAyID8gaW5uZXJSYWRpdXMgOiByYWRpdXM7XG4gICAgICAgICAgICB2YXIgYW5nbGUgPSAoaSAqIGRlbHRhKSArIHN0YXJ0QW5nbGU7XG5cbiAgICAgICAgICAgIHBvbHlnb24ucHVzaChcbiAgICAgICAgICAgICAgICB4ICsgKHIgKiBNYXRoLmNvcyhhbmdsZSkpLFxuICAgICAgICAgICAgICAgIHkgKyAociAqIE1hdGguc2luKGFuZ2xlKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBQb2x5Z29uLmNhbGwodGhpcywgcG9seWdvbik7XG4gICAgfVxuXG4gICAgaWYgKCBQb2x5Z29uICkgU3Rhci5fX3Byb3RvX18gPSBQb2x5Z29uO1xuICAgIFN0YXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUG9seWdvbiAmJiBQb2x5Z29uLnByb3RvdHlwZSApO1xuICAgIFN0YXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RhcjtcblxuICAgIHJldHVybiBTdGFyO1xufShQb2x5Z29uKSk7XG5cbnZhciB0ZW1wID0gbmV3IEZsb2F0MzJBcnJheSgzKTtcblxuLy8gYSBkZWZhdWx0IHNoYWRlciB1c2VkIGJ5IGdyYXBoaWNzLi5cbnZhciBkZWZhdWx0U2hhZGVyID0gbnVsbDtcblxuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogTm90ZSB0aGF0IGJlY2F1c2UgR3JhcGhpY3MgY2FuIHNoYXJlIGEgR3JhcGhpY3NHZW9tZXRyeSB3aXRoIG90aGVyIGluc3RhbmNlcyxcbiAqIGl0IGlzIG5lY2Vzc2FyeSB0byBjYWxsIGBkZXN0cm95KClgIHRvIHByb3Blcmx5IGRlcmVmZXJlbmNlIHRoZSB1bmRlcmx5aW5nXG4gKiBHcmFwaGljc0dlb21ldHJ5IGFuZCBhdm9pZCBhIG1lbW9yeSBsZWFrLiBBbHRlcm5hdGl2ZWx5LCBrZWVwIHVzaW5nIHRoZSBzYW1lXG4gKiBHcmFwaGljcyBpbnN0YW5jZSBhbmQgY2FsbCBgY2xlYXIoKWAgYmV0d2VlbiByZWRyYXdzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljcyA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKENvbnRhaW5lcikge1xuICAgIGZ1bmN0aW9uIEdyYXBoaWNzKGdlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgaWYgKCBnZW9tZXRyeSA9PT0gdm9pZCAwICkgZ2VvbWV0cnkgPSBudWxsO1xuXG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb3IgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0dlb21ldHJ5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeSB8fCBuZXcgR3JhcGhpY3NHZW9tZXRyeSgpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQrKztcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIFdlYkdMIHN0YXRlIHRoZSBHcmFwaGljcyByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgZmlsbCBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlID0gbmV3IEZpbGxTdHlsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxpbmUgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG5ldyBMaW5lU3R5bGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBzaGFwZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBob2xlIG1vZGUgaXMgZW5hYmxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9seWdvbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gY2FjaGVBc0JpdG1hcCBpcyBzZXQgdG8gdHJ1ZSB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHdpbGwgYmUgcmVuZGVyZWQgYXMgaWYgaXQgd2FzIGEgc3ByaXRlLlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3VyIGdyYXBoaWNzIGVsZW1lbnQgZG9lcyBub3QgY2hhbmdlIG9mdGVuLCBhcyBpdCB3aWxsIHNwZWVkIHVwIHRoZSByZW5kZXJpbmdcbiAgICAgICAgICogb2YgdGhlIG9iamVjdCBpbiBleGNoYW5nZSBmb3IgdGFraW5nIHVwIHRleHR1cmUgbWVtb3J5LiBJdCBpcyBhbHNvIHVzZWZ1bCBpZiB5b3UgbmVlZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHRvIGJlIGFudGktYWxpYXNlZCwgYmVjYXVzZSBpdCB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGNhbnZhcy4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgaWZcbiAgICAgICAgICogeW91IGFyZSBjb25zdGFudGx5IHJlZHJhd2luZyB0aGUgZ3JhcGhpY3MgZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgY2FjaGVBc0JpdG1hcFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljcyNcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29sbGVjdGlvbnMgb2YgYmF0Y2hlcyEgVGhlc2UgY2FuIGJlIGRyYXduIGJ5IHRoZSByZW5kZXJlciBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGRpcnR5IGZvciBsaW1pdGluZyBjYWxjdWxhdGluZyB0aW50cyBmb3IgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3B5IG9mIHRoZSBvYmplY3QgdmVydGV4IGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdiYXRjaCdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9ICdiYXRjaCc7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHRcbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIH1cblxuICAgIGlmICggQ29udGFpbmVyICkgR3JhcGhpY3MuX19wcm90b19fID0gQ29udGFpbmVyO1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbnRhaW5lciAmJiBDb250YWluZXIucHJvdG90eXBlICk7XG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR3JhcGhpY3M7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBibGVuZE1vZGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGludDogeyBjb25maWd1cmFibGU6IHRydWUgfSxmaWxsOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxpbmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3Mgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICAgICAqIE5vdGUgdGhhdCB0aGUgb25seSB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IGFyZSBjbG9uZWQsIG5vdCBpdHMgdHJhbnNmb3JtIChwb3NpdGlvbixzY2FsZSxldGMpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBBIGNsb25lIG9mIHRoZSBncmFwaGljcyBvYmplY3RcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBHcmFwaGljcyh0aGlzLmdlb21ldHJ5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmxlbmRNb2RlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgKiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfTtcbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IGZpbGwgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuZmlsbC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxTdHlsZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgbGluZSBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5saW5lLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZVN0eWxlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lU3R5bGUgPSBmdW5jdGlvbiBsaW5lU3R5bGUgKHdpZHRoLCBjb2xvciwgYWxwaGEsIGFsaWdubWVudCwgbmF0aXZlKVxuICAgIHtcbiAgICAgICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAwO1xuICAgICAgICBpZiAoIGNvbG9yID09PSB2b2lkIDAgKSBjb2xvciA9IDA7XG4gICAgICAgIGlmICggYWxwaGEgPT09IHZvaWQgMCApIGFscGhhID0gMTtcbiAgICAgICAgaWYgKCBhbGlnbm1lbnQgPT09IHZvaWQgMCApIGFsaWdubWVudCA9IDAuNTtcbiAgICAgICAgaWYgKCBuYXRpdmUgPT09IHZvaWQgMCApIG5hdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMubGluZVRleHR1cmVTdHlsZSh3aWR0aCwgVGV4dHVyZS5XSElURSwgY29sb3IsIGFscGhhLCBudWxsLCBhbGlnbm1lbnQsIG5hdGl2ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExpa2UgbGluZSBzdHlsZSBidXQgc3VwcG9ydCB0ZXh0dXJlIGZvciBsaW5lIGZpbGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlPVBJWEkuVGV4dHVyZS5XSElURV0gLSBUZXh0dXJlIHRvIHVzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gW21hdHJpeD1udWxsXSBUZXh0dXJlIG1hdHJpeCB0byB0cmFuc2Zvcm0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxpZ25tZW50PTAuNV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRleHR1cmVTdHlsZSA9IGZ1bmN0aW9uIGxpbmVUZXh0dXJlU3R5bGUgKHdpZHRoLCB0ZXh0dXJlLCBjb2xvciwgYWxwaGEsXG4gICAgICAgIG1hdHJpeCwgYWxpZ25tZW50LCBuYXRpdmUpXG4gICAge1xuICAgICAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDA7XG4gICAgICAgIGlmICggdGV4dHVyZSA9PT0gdm9pZCAwICkgdGV4dHVyZSA9IFRleHR1cmUuV0hJVEU7XG4gICAgICAgIGlmICggY29sb3IgPT09IHZvaWQgMCApIGNvbG9yID0gMHhGRkZGRkY7XG4gICAgICAgIGlmICggYWxwaGEgPT09IHZvaWQgMCApIGFscGhhID0gMTtcbiAgICAgICAgaWYgKCBtYXRyaXggPT09IHZvaWQgMCApIG1hdHJpeCA9IG51bGw7XG4gICAgICAgIGlmICggYWxpZ25tZW50ID09PSB2b2lkIDAgKSBhbGlnbm1lbnQgPSAwLjU7XG4gICAgICAgIGlmICggbmF0aXZlID09PSB2b2lkIDAgKSBuYXRpdmUgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2aXNpYmxlID0gd2lkdGggPiAwICYmIGFscGhhID4gMDtcblxuICAgICAgICBpZiAoIXZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBtYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBtYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fbGluZVN0eWxlLCB7XG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBhbHBoYTogYWxwaGEsXG4gICAgICAgICAgICAgICAgbWF0cml4OiBtYXRyaXgsXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogdGV4dHVyZSxcbiAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IGFsaWdubWVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmU6IG5hdGl2ZSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBwb2x5Z29uIG9iamVjdCBpbnRlcm5hbGx5XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5zdGFydFBvbHkgPSBmdW5jdGlvbiBzdGFydFBvbHkgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAobGVuID4gMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMucHVzaChwb2ludHNbbGVuIC0gMl0sIHBvaW50c1tsZW4gLSAxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbmV3IFBvbHlnb24oKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2ggdGhlIHBvbHlnb24gb2JqZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZmluaXNoUG9seSA9IGZ1bmN0aW9uIGZpbmlzaFBvbHkgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID4gMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8geCwgeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gdGhlIFggY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSB0aGUgWSBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLm1vdmVUbyA9IGZ1bmN0aW9uIG1vdmVUbyAoeCwgeSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzWzBdID0geDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMV0gPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGxpbmUgdXNpbmcgdGhlIGN1cnJlbnQgbGluZSBzdHlsZSBmcm9tIHRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gdG8gKHgsIHkpO1xuICAgICAqIFRoZSBjdXJyZW50IGRyYXdpbmcgcG9zaXRpb24gaXMgdGhlbiBzZXQgdG8gKHgsIHkpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIGRyYXcgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVRvID0gZnVuY3Rpb24gbGluZVRvICh4LCB5KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzLi5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSlcbiAgICAgICAge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY3VydmVcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF1cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuX2luaXRDdXJ2ZSA9IGZ1bmN0aW9uIF9pbml0Q3VydmUgKHgsIHkpXG4gICAge1xuICAgICAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgICAgICBpZiAoIHkgPT09IHZvaWQgMCApIHkgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzID0gW3gsIHldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgcXVhZHJhdGljIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG8gPSBmdW5jdGlvbiBxdWFkcmF0aWNDdXJ2ZVRvIChjcFgsIGNwWSwgdG9YLCB0b1kpXG4gICAge1xuICAgICAgICB0aGlzLl9pbml0Q3VydmUoKTtcblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbyA9IGZ1bmN0aW9uIGJlemllckN1cnZlVG8gKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2luaXRDdXJ2ZSgpO1xuXG4gICAgICAgIEJlemllclV0aWxzLmN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZLCB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTEgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MiAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkyIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgYXJjXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hcmNUbyA9IGZ1bmN0aW9uIGFyY1RvICh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKHgxLCB5MSk7XG5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzO1xuXG4gICAgICAgIHZhciByZXN1bHQgPSBBcmNVdGlscy5jdXJ2ZVRvKHgxLCB5MSwgeDIsIHkyLCByYWRpdXMsIHBvaW50cyk7XG5cbiAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGN4ID0gcmVzdWx0LmN4O1xuICAgICAgICAgICAgdmFyIGN5ID0gcmVzdWx0LmN5O1xuICAgICAgICAgICAgdmFyIHJhZGl1cyQxID0gcmVzdWx0LnJhZGl1cztcbiAgICAgICAgICAgIHZhciBzdGFydEFuZ2xlID0gcmVzdWx0LnN0YXJ0QW5nbGU7XG4gICAgICAgICAgICB2YXIgZW5kQW5nbGUgPSByZXN1bHQuZW5kQW5nbGU7XG4gICAgICAgICAgICB2YXIgYW50aWNsb2Nrd2lzZSA9IHJlc3VsdC5hbnRpY2xvY2t3aXNlO1xuXG4gICAgICAgICAgICB0aGlzLmFyYyhjeCwgY3ksIHJhZGl1cyQxLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gICAgICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FudGljbG9ja3dpc2U9ZmFsc2VdIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjID0gZnVuY3Rpb24gYXJjIChjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpXG4gICAge1xuICAgICAgICBpZiAoIGFudGljbG9ja3dpc2UgPT09IHZvaWQgMCApIGFudGljbG9ja3dpc2UgPSBmYWxzZTtcblxuICAgICAgICBpZiAoc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG5cbiAgICAgICAgaWYgKHN3ZWVwID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFydFggPSBjeCArIChNYXRoLmNvcyhzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBzdGFydFkgPSBjeSArIChNYXRoLnNpbihzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIHZhciBlcHMgPSB0aGlzLmdlb21ldHJ5LmNsb3NlUG9pbnRFcHM7XG5cbiAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnRQYXRoIGV4aXN0cywgdGFrZSBpdHMgcG9pbnRzLiBPdGhlcndpc2UgY2FsbCBgbW92ZVRvYCB0byBzdGFydCBhIHBhdGguXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoID8gdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgOiBudWxsO1xuXG4gICAgICAgIGlmIChwb2ludHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE86IG1ha2UgYSBiZXR0ZXIgZml4LlxuXG4gICAgICAgICAgICAvLyBXZSBjaGVjayBob3cgZmFyIG91ciBzdGFydCBpcyBmcm9tIHRoZSBsYXN0IGV4aXN0aW5nIHBvaW50XG4gICAgICAgICAgICB2YXIgeERpZmYgPSBNYXRoLmFicyhwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdIC0gc3RhcnRYKTtcbiAgICAgICAgICAgIHZhciB5RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gLSBzdGFydFkpO1xuXG4gICAgICAgICAgICBpZiAoeERpZmYgPCBlcHMgJiYgeURpZmYgPCBlcHMpXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICBBcmNVdGlscy5hcmMoc3RhcnRYLCBzdGFydFksIGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSwgcG9pbnRzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgc2ltcGxlIG9uZS1jb2xvciBmaWxsIHRoYXQgc3Vic2VxdWVudCBjYWxscyB0byBvdGhlciBHcmFwaGljcyBtZXRob2RzXG4gICAgICogKHN1Y2ggYXMgbGluZVRvKCkgb3IgZHJhd0NpcmNsZSgpKSB1c2Ugd2hlbiBkcmF3aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbCA9IGZ1bmN0aW9uIGJlZ2luRmlsbCAoY29sb3IsIGFscGhhKVxuICAgIHtcbiAgICAgICAgaWYgKCBjb2xvciA9PT0gdm9pZCAwICkgY29sb3IgPSAwO1xuICAgICAgICBpZiAoIGFscGhhID09PSB2b2lkIDAgKSBhbHBoYSA9IDE7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYmVnaW5UZXh0dXJlRmlsbChUZXh0dXJlLldISVRFLCBjb2xvciwgYWxwaGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgdGV4dHVyZSBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmU9UElYSS5UZXh0dXJlLldISVRFXSAtIFRleHR1cmUgdG8gZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MHhmZmZmZmZdIC0gQmFja2dyb3VuZCB0byBmaWxsIGJlaGluZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIEFscGhhIG9mIGZpbGxcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4PW51bGxdIC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYmVnaW5UZXh0dXJlRmlsbCA9IGZ1bmN0aW9uIGJlZ2luVGV4dHVyZUZpbGwgKHRleHR1cmUsIGNvbG9yLCBhbHBoYSwgbWF0cml4KVxuICAgIHtcbiAgICAgICAgaWYgKCB0ZXh0dXJlID09PSB2b2lkIDAgKSB0ZXh0dXJlID0gVGV4dHVyZS5XSElURTtcbiAgICAgICAgaWYgKCBjb2xvciA9PT0gdm9pZCAwICkgY29sb3IgPSAweEZGRkZGRjtcbiAgICAgICAgaWYgKCBhbHBoYSA9PT0gdm9pZCAwICkgYWxwaGEgPSAxO1xuICAgICAgICBpZiAoIG1hdHJpeCA9PT0gdm9pZCAwICkgbWF0cml4ID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2aXNpYmxlID0gYWxwaGEgPiAwO1xuXG4gICAgICAgIGlmICghdmlzaWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsbFN0eWxlLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1hdHJpeCA9IG1hdHJpeC5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIG1hdHJpeC5pbnZlcnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9maWxsU3R5bGUsIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgYWxwaGE6IGFscGhhLFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IHRleHR1cmUsXG4gICAgICAgICAgICAgICAgbWF0cml4OiBtYXRyaXgsXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogdmlzaWJsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBmaWxsIHRvIHRoZSBsaW5lcyBhbmQgc2hhcGVzIHRoYXQgd2VyZSBhZGRlZCBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBiZWdpbkZpbGwoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmVuZEZpbGwgPSBmdW5jdGlvbiBlbmRGaWxsICgpXG4gICAge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcblxuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSByZWN0YW5nbGUgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JlY3QgPSBmdW5jdGlvbiBkcmF3UmVjdCAoeCwgeSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBhIHJlY3RhbmdsZSBzaGFwZSB3aXRoIHJvdW5kZWQvYmV2ZWxlZCBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gUmFkaXVzIG9mIHRoZSByZWN0YW5nbGUgY29ybmVyc1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JvdW5kZWRSZWN0ID0gZnVuY3Rpb24gZHJhd1JvdW5kZWRSZWN0ICh4LCB5LCB3aWR0aCwgaGVpZ2h0LCByYWRpdXMpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gZHJhd0NpcmNsZSAoeCwgeSwgcmFkaXVzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBDaXJjbGUoeCwgeSwgcmFkaXVzKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3RWxsaXBzZSA9IGZ1bmN0aW9uIGRyYXdFbGxpcHNlICh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBFbGxpcHNlKHgsIHksIHdpZHRoLCBoZWlnaHQpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBwb2x5Z29uIHVzaW5nIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXXxQSVhJLlBvaW50W118UElYSS5Qb2x5Z29ufSBwYXRoIC0gVGhlIHBhdGggZGF0YSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgcG9seWdvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdQb2x5Z29uID0gZnVuY3Rpb24gZHJhd1BvbHlnb24gKHBhdGgpXG4gICAge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgYXNzaWdubWVudCBkZW9wdFxuICAgICAgICAvLyBzZWUgc2VjdGlvbiAzLjE6IGh0dHBzOi8vZ2l0aHViLmNvbS9wZXRrYWFudG9ub3YvYmx1ZWJpcmQvd2lraS9PcHRpbWl6YXRpb24ta2lsbGVycyMzLW1hbmFnaW5nLWFyZ3VtZW50c1xuICAgICAgICB2YXIgcG9pbnRzID0gcGF0aDtcblxuICAgICAgICB2YXIgY2xvc2VTdHJva2UgPSB0cnVlOy8vICEhdGhpcy5fZmlsbFN0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIGRhdGEgaGFzIHBvaW50cy4uXG4gICAgICAgIGlmIChwb2ludHMucG9pbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjbG9zZVN0cm9rZSA9IHBvaW50cy5jbG9zZVN0cm9rZTtcbiAgICAgICAgICAgIHBvaW50cyA9IHBvaW50cy5wb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocG9pbnRzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gcHJldmVudHMgYW4gYXJndW1lbnQgbGVhayBkZW9wdFxuICAgICAgICAgICAgLy8gc2VlIHNlY3Rpb24gMy4yOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL3dpa2kvT3B0aW1pemF0aW9uLWtpbGxlcnMjMy1tYW5hZ2luZy1hcmd1bWVudHNcbiAgICAgICAgICAgIHBvaW50cyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9pbnRzW2ldID0gYXJndW1lbnRzJDFbaV07IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgUG9seWdvbihwb2ludHMpO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlU3Ryb2tlID0gY2xvc2VTdHJva2U7XG5cbiAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGFueSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gU2hhcGUgdG8gZHJhd1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1NoYXBlID0gZnVuY3Rpb24gZHJhd1NoYXBlIChzaGFwZSlcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faG9sZU1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZHJhd1NoYXBlKFxuICAgICAgICAgICAgICAgIHNoYXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5jbG9uZSgpLFxuICAgICAgICAgICAgICAgIHRoaXMuX2xpbmVTdHlsZS5jbG9uZSgpLFxuICAgICAgICAgICAgICAgIHRoaXMuX21hdHJpeFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZHJhd0hvbGUoc2hhcGUsIHRoaXMuX21hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50cyAtIFRoZSBudW1iZXIgb2YgcG9pbnRzIG9mIHRoZSBzdGFyLCBtdXN0IGJlID4gMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzdGFyIGluIHJhZGlhbnMsIHdoZXJlIDAgaXMgdmVydGljYWxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTdGFyID0gZnVuY3Rpb24gZHJhd1N0YXIgKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24pXG4gICAge1xuICAgICAgICBpZiAoIHJvdGF0aW9uID09PSB2b2lkIDAgKSByb3RhdGlvbiA9IDA7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1BvbHlnb24obmV3IFN0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbikpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcblxuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBncmFwaGljcyBjb25zaXN0cyBvZiBvbmUgcmVjdGFuZ2xlLCBhbmQgdGh1cywgY2FuIGJlIGRyYXduIGxpa2UgYSBTcHJpdGUgYW5kXG4gICAgICogbWFza2VkIHdpdGggZ2wuc2Npc3Nvci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9ubHkgMSByZWN0LlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5pc0Zhc3RSZWN0ID0gZnVuY3Rpb24gaXNGYXN0UmVjdCAoKVxuICAgIHtcbiAgICAgICAgLy8gd2lsbCBmaXggdGhpcyFcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPT09IDFcbiAgICAgICAgLy8gICYmIHRoaXMuZ3JhcGhpY3NEYXRhWzBdLnNoYXBlLnR5cGUgPT09IFNIQVBFUy5SRUNUXG4gICAgICAgIC8vICYmICF0aGlzLmdyYXBoaWNzRGF0YVswXS5saW5lV2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuXG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG5cbiAgICAgICAgLy8gYmF0Y2ggcGFydC4uXG4gICAgICAgIC8vIGJhdGNoIGl0IVxuICAgICAgICBnZW9tZXRyeS51cGRhdGVCYXRjaGVzKCk7XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LmJhdGNoYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuYmF0Y2hEaXJ0eSAhPT0gZ2VvbWV0cnkuYmF0Y2hEaXJ0eSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaERpcnR5ID0gZ2VvbWV0cnkuYmF0Y2hEaXJ0eTtcblxuICAgICAgICAgICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkucG9pbnRzKTtcblxuICAgICAgICAgICAgICAgIHZhciBibGVuZE1vZGUgPSB0aGlzLmJsZW5kTW9kZTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2VvbWV0cnkuYmF0Y2hlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gZ0kuc3R5bGUuY29sb3I7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy52ZXJ0ZXhEYXRhLmJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdJLmF0dHJpYlN0YXJ0ICogNCAqIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5hdHRyaWJTaXplICogMik7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkudXZzRmxvYXQzMi5idWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KGdlb21ldHJ5LmluZGljZXNVaW50MTYuYnVmZmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ0kuc3RhcnQgKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ0kuc2l6ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhdGNoID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGV4RGF0YTogdmVydGV4RGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsZW5kTW9kZTogYmxlbmRNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaWNlczogaW5kaWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2czogdXZzLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2JhdGNoUkdCOiBoZXgycmdiKGNvbG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aW50UkdCOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIF90ZXh0dXJlOiBnSS5zdHlsZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGE6IGdJLnN0eWxlLmFscGhhLFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRBbHBoYTogMSB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlc1tpXSA9IGJhdGNoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuYmF0Y2hlcy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRpbnRzKCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpJDErKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiYXRjaCQxID0gdGhpcy5iYXRjaGVzW2kkMV07XG5cbiAgICAgICAgICAgICAgICAgICAgYmF0Y2gkMS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhICogYmF0Y2gkMS5hbHBoYTtcblxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKGJhdGNoJDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG5vIGJhdGNoaW5nLi4uXG4gICAgICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hhZGVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHNoYWRlciBoZXJlLCB3ZSBjYW4gdXNlIHRoZSBkZWZhdWx0IHNoYWRlci5cbiAgICAgICAgICAgICAgICAvLyBhbmQgdGhhdCBvbmx5IGdldHMgY3JlYXRlZCBpZiB3ZSBhY3R1YWxseSBuZWVkIGl0Li5cbiAgICAgICAgICAgICAgICBpZiAoIWRlZmF1bHRTaGFkZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkoMTYpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IDE2OyBpJDIrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlVmFsdWVzW2kkMl0gPSBpJDI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbk1hdHJpeDogbmV3IE1hdHJpeCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogVW5pZm9ybUdyb3VwLmZyb20oeyB1U2FtcGxlcnM6IHNhbXBsZVZhbHVlcyB9LCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjYW4gYmJhc2UgZGVmYXVsdCBzaGFkZXIgb2YgdGhlIGJhdGNoIHJlbmRlcmVycyBwcm9ncmFtXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9ncmFtID0gIHJlbmRlcmVyLnBsdWdpbnMuYmF0Y2guX3NoYWRlci5wcm9ncmFtO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFkZXIgPSBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlciA9IGRlZmF1bHRTaGFkZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB1bmlmb3JtcyQxID0gdGhpcy5zaGFkZXIudW5pZm9ybXM7XG5cbiAgICAgICAgICAgIC8vIGxldHMgc2V0IHRoZSB0cmFuc2ZvbXJcbiAgICAgICAgICAgIHVuaWZvcm1zJDEudHJhbnNsYXRpb25NYXRyaXggPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgdmFyIHRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgICAgICB2YXIgd2EgPSB0aGlzLndvcmxkQWxwaGE7XG5cbiAgICAgICAgICAgIC8vIGFuZCB0aGVuIGxldHMgc2V0IHRoZSB0aW50Li5cbiAgICAgICAgICAgIHVuaWZvcm1zJDEudGludFswXSA9ICgoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUpICogd2E7XG4gICAgICAgICAgICB1bmlmb3JtcyQxLnRpbnRbMV0gPSAoKCh0aW50ID4+IDgpICYgMHhGRikgLyAyNTUpICogd2E7XG4gICAgICAgICAgICB1bmlmb3JtcyQxLnRpbnRbMl0gPSAoKHRpbnQgJiAweEZGKSAvIDI1NSkgKiB3YTtcbiAgICAgICAgICAgIHVuaWZvcm1zJDEudGludFszXSA9IHdhO1xuXG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgZHJhdyBjYWxsLCB3ZSBjYW4gc2V0IHRoZSB1bmlmb3JtcyBvZiB0aGUgc2hhZGVyIGRpcmVjdGx5IGhlcmUuXG5cbiAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB3ZSBjYW4gdGFjayBhZHZhbnRhZ2Ugb2YgdGhlIHN5bmMgZnVuY3Rpb24gb2YgcGl4aSFcbiAgICAgICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICAgICAgLy8gdGhlcmUgaXMgYSB3YXkgdG8gb3B0aW1pc2UgdGhpcy4uXG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgICAgIC8vIHRoZW4gcmVuZGVyIGl0XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCB0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG5cbiAgICAgICAgICAgIC8vIHRoZW4gcmVuZGVyIHRoZSByZXN0IG9mIHRoZW0uLi5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMyA9IDA7IGkkMyA8IGdlb21ldHJ5LmRyYXdDYWxscy5sZW5ndGg7IGkkMysrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBkcmF3Q2FsbCA9IGdlb21ldHJ5LmRyYXdDYWxsc1tpJDNdO1xuXG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwVGV4dHVyZUNvdW50ID0gZHJhd0NhbGwudGV4dHVyZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBncm91cFRleHR1cmVDb3VudDsgaisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKGRyYXdDYWxsLnRleHR1cmVzW2pdLCBqKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBiaW5kIHRoZSBnZW9tZXRyeS4uLlxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoZHJhd0NhbGwudHlwZSwgZHJhd0NhbGwuc2l6ZSwgZHJhd0NhbGwuc3RhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBncmFwaGljIHNoYXBlIGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHZhciBsYiA9IHRoaXMuZ2VvbWV0cnkuYm91bmRzO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbGIubWluWCwgbGIubWluWSwgbGIubWF4WCwgbGIubWF4WSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNvbnRhaW5zUG9pbnQgPSBmdW5jdGlvbiBjb250YWluc1BvaW50IChwb2ludClcbiAgICB7XG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCBHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuY29udGFpbnNQb2ludChHcmFwaGljcy5fVEVNUF9QT0lOVCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VhdGUgdGhlIHRpbnQgYnkgYXBwbHlpbmcgdGluIHRvIGJhdGNoZXMgdXNpbmcgR3JhcGhpY3MgdGludC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNhbGN1bGF0ZVRpbnRzID0gZnVuY3Rpb24gY2FsY3VsYXRlVGludHMgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoVGludCAhPT0gdGhpcy50aW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhdGNoVGludCA9IHRoaXMudGludDtcblxuICAgICAgICAgICAgdmFyIHRpbnRSR0IgPSBoZXgycmdiKHRoaXMudGludCwgdGVtcCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIHZhciBiYXRjaFRpbnQgPSBiYXRjaC5fYmF0Y2hSR0I7XG5cbiAgICAgICAgICAgICAgICB2YXIgciA9ICh0aW50UkdCWzBdICogYmF0Y2hUaW50WzBdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgZyA9ICh0aW50UkdCWzFdICogYmF0Y2hUaW50WzFdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9ICh0aW50UkdCWzJdICogYmF0Y2hUaW50WzJdKSAqIDI1NTtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gSXZhbiwgY2FuIHRoaXMgYmUgZG9uZSBpbiBvbmUgZ28/XG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gKHIgPDwgMTYpICsgKGcgPDwgOCkgKyAoYiB8IDApO1xuXG4gICAgICAgICAgICAgICAgYmF0Y2guX3RpbnRSR0IgPSAoY29sb3IgPj4gMTYpXG4gICAgICAgICAgICAgICAgICAgICAgICArIChjb2xvciAmIDB4ZmYwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKChjb2xvciAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSdzIGEgdHJhbnNmb3JtIHVwZGF0ZSBvciBhIGNoYW5nZSB0byB0aGUgc2hhcGUgb2YgdGhlXG4gICAgICogZ2VvbWV0cnksIHJlY2FjdWxhdGUgdGhlIHZlcnRpY2VzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY2FsY3VsYXRlVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVWZXJ0aWNlcyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcblxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG5cbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdlb21ldHJ5LnBvaW50czsvLyBiYXRjaC52ZXJ0ZXhEYXRhT3JpZ2luYWw7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuXG4gICAgICAgIHZhciBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB2YXIgeSA9IGRhdGFbaSArIDFdO1xuXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoZCAqIHkpICsgKGIgKiB4KSArIHR5O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb3NlUGF0aCA9IGZ1bmN0aW9uIGNsb3NlUGF0aCAoKVxuICAgIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gdGhpcy5jdXJyZW50UGF0aDtcblxuICAgICAgICBpZiAoY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRkIGV4dHJhIHBvaW50IGluIHRoZSBlbmQgYmVjYXVzZSBidWlsZExpbmUgd2lsbCB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICAgICAgY3VycmVudFBhdGguY2xvc2VTdHJva2UgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgbWF0cml4IHRvIHRoZSBwb3NpdGlvbmFsIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBNYXRyaXggdG8gdXNlIGZvciB0cmFuc2Zvcm0gY3VycmVudCBzaGFwZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuc2V0TWF0cml4ID0gZnVuY3Rpb24gc2V0TWF0cml4IChtYXRyaXgpXG4gICAge1xuICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJlZ2luIGFkZGluZyBob2xlcyB0byB0aGUgbGFzdCBkcmF3IHNoYXBlXG4gICAgICogSU1QT1JUQU5UOiBob2xlcyBtdXN0IGJlIGZ1bGx5IGluc2lkZSBhIHNoYXBlIHRvIHdvcmtcbiAgICAgKiBBbHNvIHdlaXJkbmVzcyBlbnN1ZXMgaWYgaG9sZXMgb3ZlcmxhcCFcbiAgICAgKiBFbGxpcHNlcywgQ2lyY2xlcywgUmVjdGFuZ2xlcyBhbmQgUm91bmRlZCBSZWN0YW5nbGVzIGNhbm5vdCBiZSBob2xlcyBvciBob3N0IGZvciBob2xlcyBpbiBDYW52YXNSZW5kZXJlcixcbiAgICAgKiBwbGVhc2UgdXNlIGBtb3ZlVG9gIGBsaW5lVG9gLCBgcXVhZHJhdGljQ3VydmVUb2AgaWYgeW91IHJlbHkgb24gcGl4aS1sZWdhY3kgYnVuZGxlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5iZWdpbkhvbGUgPSBmdW5jdGlvbiBiZWdpbkhvbGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuZCBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5lbmRIb2xlID0gZnVuY3Rpb24gZW5kSG9sZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQtLTtcbiAgICAgICAgaWYgKHRoaXMuZ2VvbWV0cnkucmVmQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2ZpbGxTdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBudWxsO1xuXG4gICAgICAgIENvbnRhaW5lci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggR3JhcGhpY3MucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBHcmFwaGljcztcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICogVGVtcG9yYXJ5IHBvaW50IHRvIHVzZSBmb3IgY29udGFpbnNQb2ludFxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICovXG5HcmFwaGljcy5fVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuXG5leHBvcnQgeyBGaWxsU3R5bGUsIEdSQVBISUNTX0NVUlZFUywgR3JhcGhpY3MsIEdyYXBoaWNzRGF0YSwgR3JhcGhpY3NHZW9tZXRyeSwgTGluZVN0eWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFwaGljcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlIC0gdjUuMS4xXG4gKiBDb21waWxlZCBGcmksIDAyIEF1ZyAyMDE5IDIzOjIwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFBvaW50LCBSZWN0YW5nbGUsIE9ic2VydmFibGVQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7XG5cbi8qKlxuICogVGhlIFNwcml0ZSBvYmplY3QgaXMgdGhlIGJhc2UgZm9yIGFsbCB0ZXh0dXJlZCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIHRvIHRoZSBzY3JlZW5cbipcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogYGBgXG4gKlxuICogVGhlIG1vcmUgZWZmaWNpZW50IHdheSB0byBjcmVhdGUgc3ByaXRlcyBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fSxcbiAqIGFzIHN3YXBwaW5nIGJhc2UgdGV4dHVyZXMgd2hlbiByZW5kZXJpbmcgdG8gdGhlIHNjcmVlbiBpcyBpbmVmZmljaWVudC5cbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb250YWluZXIpIHtcbiAgICBmdW5jdGlvbiBTcHJpdGUodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHBvaW50IGRlZmluZXMgdGhlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNcbiAgICAgICAgICogaW4gdGhlIHRleHR1cmUgdGhhdCBtYXAgdG8gdGhlIHBvc2l0aW9uIG9mIHRoaXNcbiAgICAgICAgICogc3ByaXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCeSBkZWZhdWx0LCB0aGlzIGlzIGAoMCwwKWAgKG9yIGB0ZXh0dXJlLmRlZmF1bHRBbmNob3JgXG4gICAgICAgICAqIGlmIHlvdSBoYXZlIG1vZGlmaWVkIHRoYXQpLCB3aGljaCBtZWFucyB0aGUgcG9zaXRpb25cbiAgICAgICAgICogYCh4LHkpYCBvZiB0aGlzIGBTcHJpdGVgIHdpbGwgYmUgdGhlIHRvcC1sZWZ0IGNvcm5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZTogVXBkYXRpbmcgYHRleHR1cmUuZGVmYXVsdEFuY2hvcmAgYWZ0ZXJcbiAgICAgICAgICogY29uc3RydWN0aW5nIGEgYFNwcml0ZWAgZG9lcyBfbm90XyB1cGRhdGUgaXRzIGFuY2hvci5cbiAgICAgICAgICpcbiAgICAgICAgICoge0BsaW5rIGh0dHBzOi8vZG9jcy5jb2NvczJkLXgub3JnL2NvY29zMmQteC9lbi9zcHJpdGVzL21hbmlwdWxhdGlvbi5odG1sfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVmYXVsdCBgdGV4dHVyZS5kZWZhdWx0QW5jaG9yYFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2FuY2hvciA9IG5ldyBPYnNlcnZhYmxlUG9pbnQoXG4gICAgICAgICAgICB0aGlzLl9vbkFuY2hvclVwZGF0ZSxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci54IDogMCksXG4gICAgICAgICAgICAodGV4dHVyZSA/IHRleHR1cmUuZGVmYXVsdEFuY2hvci55IDogMClcbiAgICAgICAgKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhZGVyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciB0aGUgc3ByaXRlLiBTZXQgdG8gbnVsbCB0byByZW1vdmUgYSBjdXJyZW50IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJ8UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCB0aW50IHZhbHVlIHNvIHdlIGNhbiB0ZWxsIHdoZW4gdGhlIHRpbnQgaXMgY2hhbmdlZC5cbiAgICAgICAgICogVmFsdWUgaXMgdXNlZCBmb3IgMmQgQ2FudmFzUmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcblxuICAgICAgICAvLyBjYWxsIHRleHR1cmUgc2V0dGVyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmUgfHwgVGV4dHVyZS5FTVBUWTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBpcyB1c2VkIHRvIHN0b3JlIHRoZSB2ZXJ0ZXggZGF0YSBvZiB0aGUgc3ByaXRlIChiYXNpY2FsbHkgYSBxdWFkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdCBJRiBpdCBpcyBhIHRyaW1tZWQgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgLy8gQmF0Y2hhYmxlIHN0dWZmLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCBtYWtlIHRoaXMgYSBtaXhpbj9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gaW5kaWNlcztcbiAgICAgICAgdGhpcy5zaXplID0gNDtcbiAgICAgICAgdGhpcy5zdGFydCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInICYgJ19yZW5kZXJDYW52YXMnIG1ldGhvZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ2JhdGNoJztcblxuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3ByaXRlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgIH1cblxuICAgIGlmICggQ29udGFpbmVyICkgU3ByaXRlLl9fcHJvdG9fXyA9IENvbnRhaW5lcjtcbiAgICBTcHJpdGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29udGFpbmVyICYmIENvbnRhaW5lci5wcm90b3R5cGUgKTtcbiAgICBTcHJpdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ByaXRlO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgcm91bmRQaXhlbHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFuY2hvcjogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHR1cmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG4gICAgICAgIC8vIHNvIGlmIF93aWR0aCBpcyAwIHRoZW4gd2lkdGggd2FzIG5vdCBzZXQuLlxuICAgICAgICBpZiAodGhpcy5fd2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHNpZ24odGhpcy5zY2FsZS54KSAqIHRoaXMuX3dpZHRoIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gc2lnbih0aGlzLnNjYWxlLnkpICogdGhpcy5faGVpZ2h0IC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYW5jaG9yIHBvc2l0aW9uIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uQW5jaG9yVXBkYXRlID0gZnVuY3Rpb24gX29uQW5jaG9yVXBkYXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybUlEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlSUQgPT09IHRleHR1cmUuX3VwZGF0ZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICAvLyBzZXQgdGhlIHZlcnRleCBkYXRhXG5cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICB2YXIgYW5jaG9yID0gdGhpcy5fYW5jaG9yO1xuXG4gICAgICAgIHZhciB3MCA9IDA7XG4gICAgICAgIHZhciB3MSA9IDA7XG4gICAgICAgIHZhciBoMCA9IDA7XG4gICAgICAgIHZhciBoMSA9IDA7XG5cbiAgICAgICAgaWYgKHRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgdHJpbW1lZCBhbmQgaXMgbm90IGEgdGlsaW5nc3ByaXRlIHRoZW4gd2UgbmVlZCB0byBhZGQgdGhlIGV4dHJhXG4gICAgICAgICAgICAvLyBzcGFjZSBiZWZvcmUgdHJhbnNmb3JtaW5nIHRoZSBzcHJpdGUgY29vcmRzLlxuICAgICAgICAgICAgdzEgPSB0cmltLnggLSAoYW5jaG9yLl94ICogb3JpZy53aWR0aCk7XG4gICAgICAgICAgICB3MCA9IHcxICsgdHJpbS53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoYW5jaG9yLl95ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgaDAgPSBoMSArIHRyaW0uaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdzEgPSAtYW5jaG9yLl94ICogb3JpZy53aWR0aDtcbiAgICAgICAgICAgIHcwID0gdzEgKyBvcmlnLndpZHRoO1xuXG4gICAgICAgICAgICBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgICAgIGgwID0gaDEgKyBvcmlnLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSAoYSAqIHcxKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSAoZCAqIGgxKSArIChiICogdzEpICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gKGEgKiB3MCkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gKGQgKiBoMCkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSAoYSAqIHcxKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSAoZCAqIGgwKSArIChiICogdzEpICsgdHk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2ldID0gTWF0aC5yb3VuZCh2ZXJ0ZXhEYXRhW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGVzIHdvcmxkVHJhbnNmb3JtICogdmVydGljZXMgZm9yIGEgbm9uIHRleHR1cmUgd2l0aCBhIHRyaW0uIHN0b3JlIGl0IGluIHZlcnRleFRyaW1tZWREYXRhXG4gICAgICogVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGF0IHRoZSB0cnVlIHdpZHRoIGFuZCBoZWlnaHQgb2YgYSB0cmltbWVkIHRleHR1cmUgaXMgcmVzcGVjdGVkXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVUcmltbWVkVmVydGljZXMgPSBmdW5jdGlvbiBjYWxjdWxhdGVUcmltbWVkVmVydGljZXMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID09PSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRCAmJiB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID09PSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtVHJpbW1lZElEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSB0aGlzLl90ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICAvLyBsZXRzIGRvIHNvbWUgc3BlY2lhbCB0cmltIGNvZGUhXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleFRyaW1tZWREYXRhO1xuICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcblxuICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSB0aGUgbmV3IHVudHJpbW1lZCBib3VuZHMuLlxuICAgICAgICB2YXIgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGEgPSB3dC5hO1xuICAgICAgICB2YXIgYiA9IHd0LmI7XG4gICAgICAgIHZhciBjID0gd3QuYztcbiAgICAgICAgdmFyIGQgPSB3dC5kO1xuICAgICAgICB2YXIgdHggPSB3dC50eDtcbiAgICAgICAgdmFyIHR5ID0gd3QudHk7XG5cbiAgICAgICAgdmFyIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgIHZhciB3MCA9IHcxICsgb3JpZy53aWR0aDtcblxuICAgICAgICB2YXIgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgIHZhciBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgKlxuICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICpcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXIgdG8gdXNlLlxuICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRyaW0gPSB0aGlzLl90ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgIC8vIEZpcnN0IGxldHMgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHRleHR1cmUgaGFzIGEgdHJpbS4uXG4gICAgICAgIGlmICghdHJpbSB8fCAodHJpbS53aWR0aCA9PT0gb3JpZy53aWR0aCAmJiB0cmltLmhlaWdodCA9PT0gb3JpZy5oZWlnaHQpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBubyB0cmltISBsZXRzIHVzZSB0aGUgdXN1YWwgY2FsY3VsYXRpb25zLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSBhIHNwZWNpYWwgdHJpbW1lZCBib3VuZHMuLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleFRyaW1tZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMgKHJlY3QpXG4gICAge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBDb250YWluZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgc3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludCAocG9pbnQpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICB2YXIgeTEgPSAwO1xuXG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9pbnQueSA+PSB5MSAmJiB0ZW1wUG9pbnQueSA8IHkxICsgaGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuXG4gICAgICAgIHZhciBkZXN0cm95VGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGVzdHJveUJhc2VUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuZGVzdHJveSghIWRlc3Ryb3lCYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBzb21lIGhlbHBlciBmdW5jdGlvbnMuLlxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xQSVhJLlRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHNwcml0ZVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSAoc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgID8gc291cmNlXG4gICAgICAgICAgICA6IFRleHR1cmUuZnJvbShzb3VyY2UsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdW5kUGl4ZWxzLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJvdW5kUGl4ZWxzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0LiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0YWtlbiBmcm9tIHRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfFRleHR1cmV9XG4gICAgICogYW5kIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBpcyBgKDAsMClgLCB0aGlzIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgKlxuICAgICAqIElmIHlvdSBwYXNzIG9ubHkgc2luZ2xlIHBhcmFtZXRlciwgaXQgd2lsbCBzZXQgYm90aCB4IGFuZCB5IHRvIHRoZSBzYW1lIHZhbHVlIGFzIHNob3duIGluIHRoZSBleGFtcGxlIGJlbG93LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmFuY2hvci5zZXQoMC41KTsgLy8gVGhpcyB3aWxsIHNldCB0aGUgb3JpZ2luIHRvIGNlbnRlci4gKDAuNSkgaXMgc2FtZSBhcyAoMC41LCAwLjUpLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFuY2hvci5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFuY2hvci5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB2YWx1ZSB8fCBUZXh0dXJlLkVNUFRZO1xuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcblxuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBTcHJpdGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBTcHJpdGU7XG59KENvbnRhaW5lcikpO1xuXG5leHBvcnQgeyBTcHJpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGV4dCAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS90ZXh0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBoZXgyc3RyaW5nLCBoZXgycmdiLCBzdHJpbmcyaGV4LCB0cmltQ2FudmFzLCBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IGRlZmluZSB0aGUgdHlwZSBvZiBncmFkaWVudCBvbiB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVEVYVF9HUkFESUVOVFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX1ZFUlRJQ0FMIFZlcnRpY2FsIGdyYWRpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX0hPUklaT05UQUwgTGluZWFyIGdyYWRpZW50XG4gKi9cbnZhciBURVhUX0dSQURJRU5UID0ge1xuICAgIExJTkVBUl9WRVJUSUNBTDogMCxcbiAgICBMSU5FQVJfSE9SSVpPTlRBTDogMSxcbn07XG5cbi8vIGRpc2FibGluZyBlc2xpbnQgZm9yIG5vdywgZ29pbmcgdG8gcmV3cml0ZSB0aGlzIGluIHY1XG5cbnZhciBkZWZhdWx0U3R5bGUgPSB7XG4gICAgYWxpZ246ICdsZWZ0JyxcbiAgICBicmVha1dvcmRzOiBmYWxzZSxcbiAgICBkcm9wU2hhZG93OiBmYWxzZSxcbiAgICBkcm9wU2hhZG93QWxwaGE6IDEsXG4gICAgZHJvcFNoYWRvd0FuZ2xlOiBNYXRoLlBJIC8gNixcbiAgICBkcm9wU2hhZG93Qmx1cjogMCxcbiAgICBkcm9wU2hhZG93Q29sb3I6ICdibGFjaycsXG4gICAgZHJvcFNoYWRvd0Rpc3RhbmNlOiA1LFxuICAgIGZpbGw6ICdibGFjaycsXG4gICAgZmlsbEdyYWRpZW50VHlwZTogVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwsXG4gICAgZmlsbEdyYWRpZW50U3RvcHM6IFtdLFxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgZm9udFNpemU6IDI2LFxuICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsXG4gICAgZm9udFZhcmlhbnQ6ICdub3JtYWwnLFxuICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgbGluZUhlaWdodDogMCxcbiAgICBsaW5lSm9pbjogJ21pdGVyJyxcbiAgICBtaXRlckxpbWl0OiAxMCxcbiAgICBwYWRkaW5nOiAwLFxuICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICBzdHJva2VUaGlja25lc3M6IDAsXG4gICAgdGV4dEJhc2VsaW5lOiAnYWxwaGFiZXRpYycsXG4gICAgdHJpbTogZmFsc2UsXG4gICAgd2hpdGVTcGFjZTogJ3ByZScsXG4gICAgd29yZFdyYXA6IGZhbHNlLFxuICAgIHdvcmRXcmFwV2lkdGg6IDEwMCxcbiAgICBsZWFkaW5nOiAwLFxufTtcblxudmFyIGdlbmVyaWNGb250RmFtaWxpZXMgPSBbXG4gICAgJ3NlcmlmJyxcbiAgICAnc2Fucy1zZXJpZicsXG4gICAgJ21vbm9zcGFjZScsXG4gICAgJ2N1cnNpdmUnLFxuICAgICdmYW50YXN5JyxcbiAgICAnc3lzdGVtLXVpJyBdO1xuXG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiB0byBkZWNvcmF0ZSBhIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBjYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgVGV4dCBvYmplY3RzOyB0aGVuIGNoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICpcbiAqIEEgdG9vbCBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSBhIHRleHQgc3R5bGUgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dFN0eWxlID0gZnVuY3Rpb24gVGV4dFN0eWxlKHN0eWxlKVxue1xuICAgIHRoaXMuc3R5bGVJRCA9IDA7XG5cbiAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICBkZWVwQ29weVByb3BlcnRpZXModGhpcywgc3R5bGUsIHN0eWxlKTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGFsaWduOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJyZWFrV29yZHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZHJvcFNoYWRvdzogeyBjb25maWd1cmFibGU6IHRydWUgfSxkcm9wU2hhZG93QWxwaGE6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZHJvcFNoYWRvd0FuZ2xlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRyb3BTaGFkb3dCbHVyOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRyb3BTaGFkb3dDb2xvcjogeyBjb25maWd1cmFibGU6IHRydWUgfSxkcm9wU2hhZG93RGlzdGFuY2U6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZmlsbDogeyBjb25maWd1cmFibGU6IHRydWUgfSxmaWxsR3JhZGllbnRUeXBlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZpbGxHcmFkaWVudFN0b3BzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZvbnRGYW1pbHk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udFNpemU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udFN0eWxlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZvbnRWYXJpYW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZvbnRXZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGV0dGVyU3BhY2luZzogeyBjb25maWd1cmFibGU6IHRydWUgfSxsaW5lSGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxlYWRpbmc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGluZUpvaW46IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWl0ZXJMaW1pdDogeyBjb25maWd1cmFibGU6IHRydWUgfSxwYWRkaW5nOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHN0cm9rZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxzdHJva2VUaGlja25lc3M6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGV4dEJhc2VsaW5lOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRyaW06IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2hpdGVTcGFjZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx3b3JkV3JhcDogeyBjb25maWd1cmFibGU6IHRydWUgfSx3b3JkV3JhcFdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBUZXh0U3R5bGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZC5cbiAqXG4gKiBAcmV0dXJuIHtQSVhJLlRleHRTdHlsZX0gTmV3IGNsb25lZCBUZXh0U3R5bGUgb2JqZWN0XG4gKi9cblRleHRTdHlsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHZhciBjbG9uZWRQcm9wZXJ0aWVzID0ge307XG5cbiAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcblxuICAgIHJldHVybiBuZXcgVGV4dFN0eWxlKGNsb25lZFByb3BlcnRpZXMpO1xufTtcblxuLyoqXG4gKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gKi9cblRleHRTdHlsZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxue1xuICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBkZWZhdWx0U3R5bGUsIGRlZmF1bHRTdHlsZSk7XG59O1xuXG4vKipcbiAqIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksIGRvZXMgbm90IGFmZmVjdCBzaW5nbGUgbGluZSB0ZXh0XG4gKlxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuYWxpZ24uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fYWxpZ247XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmFsaWduLnNldCA9IGZ1bmN0aW9uIChhbGlnbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2FsaWduICE9PSBhbGlnbilcbiAgICB7XG4gICAgICAgIHRoaXMuX2FsaWduID0gYWxpZ247XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogSW5kaWNhdGVzIGlmIGxpbmVzIGNhbiBiZSB3cmFwcGVkIHdpdGhpbiB3b3JkcywgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuYnJlYWtXb3Jkcy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9icmVha1dvcmRzO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5icmVha1dvcmRzLnNldCA9IGZ1bmN0aW9uIChicmVha1dvcmRzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fYnJlYWtXb3JkcyAhPT0gYnJlYWtXb3JkcylcbiAgICB7XG4gICAgICAgIHRoaXMuX2JyZWFrV29yZHMgPSBicmVha1dvcmRzO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICpcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3c7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3cuc2V0ID0gZnVuY3Rpb24gKGRyb3BTaGFkb3cpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9kcm9wU2hhZG93ICE9PSBkcm9wU2hhZG93KVxuICAgIHtcbiAgICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IGFscGhhIGZvciB0aGUgZHJvcCBzaGFkb3dcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93QWxwaGEuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93QWxwaGEuc2V0ID0gZnVuY3Rpb24gKGRyb3BTaGFkb3dBbHBoYSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSAhPT0gZHJvcFNoYWRvd0FscGhhKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0FscGhhID0gZHJvcFNoYWRvd0FscGhhO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dBbmdsZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QW5nbGU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dBbmdsZS5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvd0FuZ2xlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FuZ2xlICE9PSBkcm9wU2hhZG93QW5nbGUpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93QW5nbGUgPSBkcm9wU2hhZG93QW5nbGU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0JsdXIuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0JsdXI7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dCbHVyLnNldCA9IGZ1bmN0aW9uIChkcm9wU2hhZG93Qmx1cikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dCbHVyICE9PSBkcm9wU2hhZG93Qmx1cilcbiAgICB7XG4gICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogQSBmaWxsIHN0eWxlIHRvIGJlIHVzZWQgb24gdGhlIGRyb3BzaGFkb3cgZS5nICdyZWQnLCAnIzAwRkYwMCdcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0NvbG9yLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0NvbG9yLnNldCA9IGZ1bmN0aW9uIChkcm9wU2hhZG93Q29sb3IpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGRyb3BTaGFkb3dDb2xvcik7XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dDb2xvciAhPT0gb3V0cHV0Q29sb3IpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93Q29sb3IgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgYSBkaXN0YW5jZSBvZiB0aGUgZHJvcCBzaGFkb3dcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93RGlzdGFuY2UuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93RGlzdGFuY2Uuc2V0ID0gZnVuY3Rpb24gKGRyb3BTaGFkb3dEaXN0YW5jZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlID0gZHJvcFNoYWRvd0Rpc3RhbmNlO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAqIENhbiBiZSBhbiBhcnJheSB0byBjcmVhdGUgYSBncmFkaWVudCBlZyBbJyMwMDAwMDAnLCcjRkZGRkZGJ11cbiAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2ZpbGxTdHlsZXxNRE59XG4gKlxuICogQG1lbWJlciB7c3RyaW5nfHN0cmluZ1tdfG51bWJlcnxudW1iZXJbXXxDYW52YXNHcmFkaWVudHxDYW52YXNQYXR0ZXJufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlsbC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9maWxsO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5maWxsLnNldCA9IGZ1bmN0aW9uIChmaWxsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB2YXIgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihmaWxsKTtcbiAgICBpZiAodGhpcy5fZmlsbCAhPT0gb3V0cHV0Q29sb3IpXG4gICAge1xuICAgICAgICB0aGlzLl9maWxsID0gb3V0cHV0Q29sb3I7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC5cbiAqIFNlZSB7QGxpbmsgUElYSS5URVhUX0dSQURJRU5UfVxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZpbGxHcmFkaWVudFR5cGUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50VHlwZTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlsbEdyYWRpZW50VHlwZS5zZXQgPSBmdW5jdGlvbiAoZmlsbEdyYWRpZW50VHlwZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgIT09IGZpbGxHcmFkaWVudFR5cGUpXG4gICAge1xuICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRUeXBlID0gZmlsbEdyYWRpZW50VHlwZTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgYXJyYXkgY2FuIHNldCB0aGUgc3RvcCBwb2ludHNcbiAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZpbGxHcmFkaWVudFN0b3BzLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5maWxsR3JhZGllbnRTdG9wcy5zZXQgPSBmdW5jdGlvbiAoZmlsbEdyYWRpZW50U3RvcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICghYXJlQXJyYXlzRXF1YWwodGhpcy5fZmlsbEdyYWRpZW50U3RvcHMsZmlsbEdyYWRpZW50U3RvcHMpKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50U3RvcHMgPSBmaWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgZm9udCBmYW1pbHlcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW119XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5mb250RmFtaWx5LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRGYW1pbHk7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRGYW1pbHkuc2V0ID0gZnVuY3Rpb24gKGZvbnRGYW1pbHkpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLmZvbnRGYW1pbHkgIT09IGZvbnRGYW1pbHkpXG4gICAge1xuICAgICAgICB0aGlzLl9mb250RmFtaWx5ID0gZm9udEZhbWlseTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgZm9udCBzaXplXG4gKiAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZywgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfHN0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRTaXplLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5mb250U2l6ZS5zZXQgPSBmdW5jdGlvbiAoZm9udFNpemUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gZm9udFNpemUpXG4gICAge1xuICAgICAgICB0aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBmb250IHN0eWxlXG4gKiAoJ25vcm1hbCcsICdpdGFsaWMnIG9yICdvYmxpcXVlJylcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5mb250U3R5bGUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZm9udFN0eWxlO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5mb250U3R5bGUuc2V0ID0gZnVuY3Rpb24gKGZvbnRTdHlsZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2ZvbnRTdHlsZSAhPT0gZm9udFN0eWxlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBmb250IHZhcmlhbnRcbiAqICgnbm9ybWFsJyBvciAnc21hbGwtY2FwcycpXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFZhcmlhbnQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRWYXJpYW50LnNldCA9IGZ1bmN0aW9uIChmb250VmFyaWFudCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2ZvbnRWYXJpYW50ICE9PSBmb250VmFyaWFudClcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnRWYXJpYW50ID0gZm9udFZhcmlhbnQ7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGZvbnQgd2VpZ2h0XG4gKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFdlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mb250V2VpZ2h0O1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5mb250V2VpZ2h0LnNldCA9IGZ1bmN0aW9uIChmb250V2VpZ2h0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZm9udFdlaWdodCAhPT0gZm9udFdlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBmb250V2VpZ2h0O1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBhbW91bnQgb2Ygc3BhY2luZyBiZXR3ZWVuIGxldHRlcnMsIGRlZmF1bHQgaXMgMFxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmxldHRlclNwYWNpbmcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMubGV0dGVyU3BhY2luZy5zZXQgPSBmdW5jdGlvbiAobGV0dGVyU3BhY2luZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2xldHRlclNwYWNpbmcgIT09IGxldHRlclNwYWNpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgbGluZSBoZWlnaHQsIGEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCBhIGxldHRlciB1c2VzXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubGluZUhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9saW5lSGVpZ2h0O1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5saW5lSGVpZ2h0LnNldCA9IGZ1bmN0aW9uIChsaW5lSGVpZ2h0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fbGluZUhlaWdodCAhPT0gbGluZUhlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMuX2xpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubGVhZGluZy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9sZWFkaW5nO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5sZWFkaW5nLnNldCA9IGZ1bmN0aW9uIChsZWFkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fbGVhZGluZyAhPT0gbGVhZGluZylcbiAgICB7XG4gICAgICAgIHRoaXMuX2xlYWRpbmcgPSBsZWFkaW5nO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBsaW5lSm9pbiBwcm9wZXJ0eSBzZXRzIHRoZSB0eXBlIG9mIGNvcm5lciBjcmVhdGVkLCBpdCBjYW4gcmVzb2x2ZSBzcGlrZWQgdGV4dCBpc3N1ZXMuXG4gKiBEZWZhdWx0IGlzICdtaXRlcicgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLlxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmxpbmVKb2luLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVKb2luO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5saW5lSm9pbi5zZXQgPSBmdW5jdGlvbiAobGluZUpvaW4pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pXG4gICAge1xuICAgICAgICB0aGlzLl9saW5lSm9pbiA9IGxpbmVKb2luO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlXG4gKiBUaGlzIGNhbiByZWR1Y2Ugb3IgaW5jcmVhc2UgdGhlIHNwaWtpbmVzcyBvZiByZW5kZXJlZCB0ZXh0LlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLm1pdGVyTGltaXQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMubWl0ZXJMaW1pdC5zZXQgPSBmdW5jdGlvbiAobWl0ZXJMaW1pdCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX21pdGVyTGltaXQgIT09IG1pdGVyTGltaXQpXG4gICAge1xuICAgICAgICB0aGlzLl9taXRlckxpbWl0ID0gbWl0ZXJMaW1pdDtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tIGhhcHBlbmluZ1xuICogYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnBhZGRpbmcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fcGFkZGluZztcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMucGFkZGluZy5zZXQgPSBmdW5jdGlvbiAocGFkZGluZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3BhZGRpbmcgIT09IHBhZGRpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBIGNhbnZhcyBmaWxsc3R5bGUgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIHRleHQgc3Ryb2tlXG4gKiBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuc3Ryb2tlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3N0cm9rZTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuc3Ryb2tlLnNldCA9IGZ1bmN0aW9uIChzdHJva2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKHN0cm9rZSk7XG4gICAgaWYgKHRoaXMuX3N0cm9rZSAhPT0gb3V0cHV0Q29sb3IpXG4gICAge1xuICAgICAgICB0aGlzLl9zdHJva2UgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICogRGVmYXVsdCBpcyAwIChubyBzdHJva2UpXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuc3Ryb2tlVGhpY2tuZXNzLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3N0cm9rZVRoaWNrbmVzcztcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuc3Ryb2tlVGhpY2tuZXNzLnNldCA9IGZ1bmN0aW9uIChzdHJva2VUaGlja25lc3MpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9zdHJva2VUaGlja25lc3MgIT09IHN0cm9rZVRoaWNrbmVzcylcbiAgICB7XG4gICAgICAgIHRoaXMuX3N0cm9rZVRoaWNrbmVzcyA9IHN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgYmFzZWxpbmUgb2YgdGhlIHRleHQgdGhhdCBpcyByZW5kZXJlZC5cbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy50ZXh0QmFzZWxpbmUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fdGV4dEJhc2VsaW5lO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy50ZXh0QmFzZWxpbmUuc2V0ID0gZnVuY3Rpb24gKHRleHRCYXNlbGluZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dEJhc2VsaW5lID0gdGV4dEJhc2VsaW5lO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICpcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy50cmltLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3RyaW07XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLnRyaW0uc2V0ID0gZnVuY3Rpb24gKHRyaW0pIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl90cmltICE9PSB0cmltKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdHJpbSA9IHRyaW07XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogSG93IG5ld2xpbmVzIGFuZCBzcGFjZXMgc2hvdWxkIGJlIGhhbmRsZWQuXG4gKiBEZWZhdWx0IGlzICdwcmUnIChwcmVzZXJ2ZSwgcHJlc2VydmUpLlxuICpcbiAqICB2YWx1ZSAgIHwgTmV3IGxpbmVzIHwgICBTcGFjZXNcbiAqICAtLS0gICAgIHwgLS0tICAgICAgIHwgICAtLS1cbiAqICdub3JtYWwnIHwgQ29sbGFwc2UgIHwgICBDb2xsYXBzZVxuICogJ3ByZScgICAgfCBQcmVzZXJ2ZSAgfCAgIFByZXNlcnZlXG4gKiAncHJlLWxpbmUnICAgfCBQcmVzZXJ2ZSAgfCAgIENvbGxhcHNlXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMud2hpdGVTcGFjZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl93aGl0ZVNwYWNlO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy53aGl0ZVNwYWNlLnNldCA9IGZ1bmN0aW9uICh3aGl0ZVNwYWNlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fd2hpdGVTcGFjZSAhPT0gd2hpdGVTcGFjZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3doaXRlU3BhY2UgPSB3aGl0ZVNwYWNlO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMud29yZFdyYXAuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fd29yZFdyYXA7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLndvcmRXcmFwLnNldCA9IGZ1bmN0aW9uICh3b3JkV3JhcCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3dvcmRXcmFwICE9PSB3b3JkV3JhcClcbiAgICB7XG4gICAgICAgIHRoaXMuX3dvcmRXcmFwID0gd29yZFdyYXA7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIHdpZHRoIGF0IHdoaWNoIHRleHQgd2lsbCB3cmFwLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLndvcmRXcmFwV2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMud29yZFdyYXBXaWR0aC5zZXQgPSBmdW5jdGlvbiAod29yZFdyYXBXaWR0aCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3dvcmRXcmFwV2lkdGggIT09IHdvcmRXcmFwV2lkdGgpXG4gICAge1xuICAgICAgICB0aGlzLl93b3JkV3JhcFdpZHRoID0gd29yZFdyYXBXaWR0aDtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBmb250IHN0eWxlIHN0cmluZyB0byB1c2UgZm9yIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYC5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEZvbnQgc3R5bGUgc3RyaW5nLCBmb3IgcGFzc2luZyB0byBgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoKWBcbiAqL1xuVGV4dFN0eWxlLnByb3RvdHlwZS50b0ZvbnRTdHJpbmcgPSBmdW5jdGlvbiB0b0ZvbnRTdHJpbmcgKClcbntcbiAgICAvLyBidWlsZCBjYW52YXMgYXBpIGZvbnQgc2V0dGluZyBmcm9tIGluZGl2aWR1YWwgY29tcG9uZW50cy4gQ29udmVydCBhIG51bWVyaWMgdGhpcy5mb250U2l6ZSB0byBweFxuICAgIHZhciBmb250U2l6ZVN0cmluZyA9ICh0eXBlb2YgdGhpcy5mb250U2l6ZSA9PT0gJ251bWJlcicpID8gKCh0aGlzLmZvbnRTaXplKSArIFwicHhcIikgOiB0aGlzLmZvbnRTaXplO1xuXG4gICAgLy8gQ2xlYW4tdXAgZm9udEZhbWlseSBwcm9wZXJ0eSBieSBxdW90aW5nIGVhY2ggZm9udCBuYW1lXG4gICAgLy8gdGhpcyB3aWxsIHN1cHBvcnQgZm9udCBuYW1lcyB3aXRoIHNwYWNlc1xuICAgIHZhciBmb250RmFtaWxpZXMgPSB0aGlzLmZvbnRGYW1pbHk7XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5mb250RmFtaWx5KSlcbiAgICB7XG4gICAgICAgIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseS5zcGxpdCgnLCcpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSBmb250RmFtaWxpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAge1xuICAgICAgICAvLyBUcmltIGFueSBleHRyYSB3aGl0ZS1zcGFjZVxuICAgICAgICB2YXIgZm9udEZhbWlseSA9IGZvbnRGYW1pbGllc1tpXS50cmltKCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgZm9udCBhbHJlYWR5IGNvbnRhaW5zIHN0cmluZ3NcbiAgICAgICAgaWYgKCEoLyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvKS50ZXN0KGZvbnRGYW1pbHkpICYmIGdlbmVyaWNGb250RmFtaWxpZXMuaW5kZXhPZihmb250RmFtaWx5KSA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBcIlxcXCJcIiArIGZvbnRGYW1pbHkgKyBcIlxcXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBmb250RmFtaWxpZXNbaV0gPSBmb250RmFtaWx5O1xuICAgIH1cblxuICAgIHJldHVybiAoKHRoaXMuZm9udFN0eWxlKSArIFwiIFwiICsgKHRoaXMuZm9udFZhcmlhbnQpICsgXCIgXCIgKyAodGhpcy5mb250V2VpZ2h0KSArIFwiIFwiICsgZm9udFNpemVTdHJpbmcgKyBcIiBcIiArIChmb250RmFtaWxpZXMuam9pbignLCcpKSk7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGV4dFN0eWxlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRTaW5nbGVDb2xvcihjb2xvcilcbntcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJylcbiAgICB7XG4gICAgICAgIHJldHVybiBoZXgyc3RyaW5nKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycgKVxuICAgIHtcbiAgICAgICAgaWYgKCBjb2xvci5pbmRleE9mKCcweCcpID09PSAwIClcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKVxue1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpXG4gICAge1xuICAgICAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb2xvcltpXSA9IGdldFNpbmdsZUNvbG9yKGNvbG9yW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgU2Vjb25kIGFycmF5IHRvIGNvbXBhcmVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IERvIHRoZSBhcnJheXMgY29udGFpbiB0aGUgc2FtZSB2YWx1ZXMgaW4gdGhlIHNhbWUgb3JkZXJcbiAqL1xuZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYXJyYXkxLCBhcnJheTIpXG57XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5MSkgfHwgIUFycmF5LmlzQXJyYXkoYXJyYXkyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBlbnN1cmUgdGhhdCBvYmplY3QgcHJvcGVydGllcyBhcmUgY29waWVkIGJ5IHZhbHVlLCBhbmQgbm90IGJ5IHJlZmVyZW5jZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGFyZ2V0IG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgaW50b1xuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBTb3VyY2Ugb2JqZWN0IGZvciB0aGUgcHJvcGVydGllcyB0byBjb3B5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlPYmogT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBuYW1lcyB3ZSB3YW50IHRvIGxvb3Agb3ZlclxuICovXG5mdW5jdGlvbiBkZWVwQ29weVByb3BlcnRpZXModGFyZ2V0LCBzb3VyY2UsIHByb3BlcnR5T2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wZXJ0eU9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VbcHJvcF0pKSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF0uc2xpY2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgVGV4dE1ldHJpY3Mgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1lYXN1cmVtZW50IG9mIGEgYmxvY2sgb2YgdGV4dCB3aXRoIGEgc3BlY2lmaWVkIHN0eWxlLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pXG4gKiBsZXQgdGV4dE1ldHJpY3MgPSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KCdZb3VyIHRleHQnLCBzdHlsZSlcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHRNZXRyaWNzID0gZnVuY3Rpb24gVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzdHlsZSB0aGF0IHdhcyBtZWFzdXJlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0U3R5bGV9XG4gICAgICovXG4gICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1lYXN1cmVkIHdpZHRoIG9mIHRoZSB0ZXh0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1lYXN1cmVkIGhlaWdodCBvZiB0aGUgdGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgbGluZXMgb2YgdGhlIHRleHQgYnJva2VuIGJ5IG5ldyBsaW5lcyBhbmQgd3JhcHBpbmcgaXMgc3BlY2lmaWVkIGluIHN0eWxlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVzID0gbGluZXM7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB0aGUgbGluZSB3aWR0aHMgZm9yIGVhY2ggbGluZSBtYXRjaGVkIHRvIGBsaW5lc2BcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIHRoaXMubGluZVdpZHRocyA9IGxpbmVXaWR0aHM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWVhc3VyZWQgbGluZSBoZWlnaHQgZm9yIHRoaXMgc3R5bGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbGluZSB3aWR0aCBmb3IgYWxsIG1lYXN1cmVkIGxpbmVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9udCBwcm9wZXJ0aWVzIG9iamVjdCBmcm9tIFRleHRNZXRyaWNzLm1lYXN1cmVGb250XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklGb250TWV0cmljc31cbiAgICAgKi9cbiAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzID0gZm9udFByb3BlcnRpZXM7XG59O1xuXG4vKipcbiAqIE1lYXN1cmVzIHRoZSBzdXBwbGllZCBzdHJpbmcgb2YgdGV4dCBhbmQgcmV0dXJucyBhIFJlY3RhbmdsZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRvIG1lYXN1cmUuXG4gKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSB0ZXh0IHN0eWxlIHRvIHVzZSBmb3IgbWVhc3VyaW5nXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt3b3JkV3JhcF0gLSBvcHRpb25hbCBvdmVycmlkZSBmb3IgaWYgd29yZC13cmFwIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSB0ZXh0LlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfSBtZWFzdXJlZCB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB0ZXh0LlxuICovXG5UZXh0TWV0cmljcy5tZWFzdXJlVGV4dCA9IGZ1bmN0aW9uIG1lYXN1cmVUZXh0ICh0ZXh0LCBzdHlsZSwgd29yZFdyYXAsIGNhbnZhcylcbntcbiAgICAgICAgaWYgKCBjYW52YXMgPT09IHZvaWQgMCApIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG5cbiAgICB3b3JkV3JhcCA9ICh3b3JkV3JhcCA9PT0gdW5kZWZpbmVkIHx8IHdvcmRXcmFwID09PSBudWxsKSA/IHN0eWxlLndvcmRXcmFwIDogd29yZFdyYXA7XG4gICAgdmFyIGZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcblxuICAgIC8vIGZhbGxiYWNrIGluIGNhc2UgVUEgZGlzYWxsb3cgY2FudmFzIGRhdGEgZXh0cmFjdGlvblxuICAgIC8vICh0b0RhdGFVUkksIGdldEltYWdlRGF0YSBmdW5jdGlvbnMpXG4gICAgaWYgKGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID09PSAwKVxuICAgIHtcbiAgICAgICAgZm9udFByb3BlcnRpZXMuZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgICAgZm9udFByb3BlcnRpZXMuYXNjZW50ID0gc3R5bGUuZm9udFNpemU7XG4gICAgfVxuXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICB2YXIgb3V0cHV0VGV4dCA9IHdvcmRXcmFwID8gVGV4dE1ldHJpY3Mud29yZFdyYXAodGV4dCwgc3R5bGUsIGNhbnZhcykgOiB0ZXh0O1xuICAgIHZhciBsaW5lcyA9IG91dHB1dFRleHQuc3BsaXQoLyg/OlxcclxcbnxcXHJ8XFxuKS8pO1xuICAgIHZhciBsaW5lV2lkdGhzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCk7XG4gICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQobGluZXNbaV0pLndpZHRoICsgKChsaW5lc1tpXS5sZW5ndGggLSAxKSAqIHN0eWxlLmxldHRlclNwYWNpbmcpO1xuXG4gICAgICAgIGxpbmVXaWR0aHNbaV0gPSBsaW5lV2lkdGg7XG4gICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICB9XG4gICAgdmFyIHdpZHRoID0gbWF4TGluZVdpZHRoICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuXG4gICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpXG4gICAge1xuICAgICAgICB3aWR0aCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuXG4gICAgdmFyIGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChsaW5lSGVpZ2h0LCBmb250UHJvcGVydGllcy5mb250U2l6ZSArIHN0eWxlLnN0cm9rZVRoaWNrbmVzcylcbiAgICAgICAgKyAoKGxpbmVzLmxlbmd0aCAtIDEpICogKGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nKSk7XG5cbiAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdylcbiAgICB7XG4gICAgICAgIGhlaWdodCArPSBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBUZXh0TWV0cmljcyhcbiAgICAgICAgdGV4dCxcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIGxpbmVzLFxuICAgICAgICBsaW5lV2lkdGhzLFxuICAgICAgICBsaW5lSGVpZ2h0ICsgc3R5bGUubGVhZGluZyxcbiAgICAgICAgbWF4TGluZVdpZHRoLFxuICAgICAgICBmb250UHJvcGVydGllc1xuICAgICk7XG59O1xuXG4vKipcbiAqIEFwcGxpZXMgbmV3bGluZXMgdG8gYSBzdHJpbmcgdG8gaGF2ZSBpdCBvcHRpbWFsbHkgZml0IGludG8gdGhlIGhvcml6b250YWxcbiAqIGJvdW5kcyBzZXQgYnkgdGhlIFRleHQgb2JqZWN0J3Mgd29yZFdyYXBXaWR0aCBwcm9wZXJ0eS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSBTdHJpbmcgdG8gYXBwbHkgd29yZCB3cmFwcGluZyB0b1xuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdG8gdXNlIHdoZW4gd3JhcHBpbmdcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICogQHJldHVybiB7c3RyaW5nfSBOZXcgc3RyaW5nIHdpdGggbmV3IGxpbmVzIGFwcGxpZWQgd2hlcmUgcmVxdWlyZWRcbiAqL1xuVGV4dE1ldHJpY3Mud29yZFdyYXAgPSBmdW5jdGlvbiB3b3JkV3JhcCAodGV4dCwgc3R5bGUsIGNhbnZhcylcbntcbiAgICAgICAgaWYgKCBjYW52YXMgPT09IHZvaWQgMCApIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgdmFyIHdpZHRoID0gMDtcbiAgICB2YXIgbGluZSA9ICcnO1xuICAgIHZhciBsaW5lcyA9ICcnO1xuXG4gICAgdmFyIGNhY2hlID0ge307XG4gICAgdmFyIGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuICAgICAgICB2YXIgd2hpdGVTcGFjZSA9IHN0eWxlLndoaXRlU3BhY2U7XG5cbiAgICAvLyBIb3cgdG8gaGFuZGxlIHdoaXRlc3BhY2VzXG4gICAgdmFyIGNvbGxhcHNlU3BhY2VzID0gVGV4dE1ldHJpY3MuY29sbGFwc2VTcGFjZXMod2hpdGVTcGFjZSk7XG4gICAgdmFyIGNvbGxhcHNlTmV3bGluZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZU5ld2xpbmVzKHdoaXRlU3BhY2UpO1xuXG4gICAgLy8gd2hldGhlciBvciBub3Qgc3BhY2VzIG1heSBiZSBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgdmFyIGNhblByZXBlbmRTcGFjZXMgPSAhY29sbGFwc2VTcGFjZXM7XG5cbiAgICAvLyBUaGVyZSBpcyBsZXR0ZXJTcGFjaW5nIGFmdGVyIGV2ZXJ5IGNoYXIgZXhjZXB0IHRoZSBsYXN0IG9uZVxuICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hXG4gICAgLy8gc28gZm9yIGNvbnZlbmllbmNlIHRoZSBhYm92ZSBuZWVkcyB0byBiZSBjb21wYXJlZCB0byB3aWR0aCArIDEgZXh0cmEgbGV0dGVyU3BhY2VcbiAgICAvLyB0X2hfaV9zXycgJ19pX3NfJyAnX2Ffbl8nICdfZV94X2FfbV9wX2xfZV8nICdfIV9cbiAgICAvLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiAgICAvLyBBbmQgdGhlbiB0aGUgZmluYWwgc3BhY2UgaXMgc2ltcGx5IG5vIGFwcGVuZGVkIHRvIGVhY2ggbGluZVxuICAgIHZhciB3b3JkV3JhcFdpZHRoID0gc3R5bGUud29yZFdyYXBXaWR0aCArIGxldHRlclNwYWNpbmc7XG5cbiAgICAvLyBicmVhayB0ZXh0IGludG8gd29yZHMsIHNwYWNlcyBhbmQgbmV3bGluZSBjaGFyc1xuICAgIHZhciB0b2tlbnMgPSBUZXh0TWV0cmljcy50b2tlbml6ZSh0ZXh0KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgLy8gZ2V0IHRoZSB3b3JkLCBzcGFjZSBvciBuZXdsaW5lQ2hhclxuICAgICAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgICAgLy8gaWYgd29yZCBpcyBhIG5ldyBsaW5lXG4gICAgICAgIGlmIChUZXh0TWV0cmljcy5pc05ld2xpbmUodG9rZW4pKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBrZWVwIHRoZSBuZXcgbGluZVxuICAgICAgICAgICAgaWYgKCFjb2xsYXBzZU5ld2xpbmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcbiAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgbmV3IGxpbmVzXG4gICAgICAgICAgICAvLyB3ZSBzaW1wbHkgY29udmVydCBpdCBpbnRvIGEgc3BhY2VcbiAgICAgICAgICAgIHRva2VuID0gJyAnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIHJlcGVhdGVkIHdoaXRlc3BhY2VzXG4gICAgICAgIGlmIChjb2xsYXBzZVNwYWNlcylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gY2hlY2sgYm90aCB0aGlzIGFuZCB0aGUgbGFzdCB0b2tlbnMgZm9yIHNwYWNlc1xuICAgICAgICAgICAgdmFyIGN1cnJJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pO1xuICAgICAgICAgICAgdmFyIGxhc3RJc0JyZWFraW5nU3BhY2UgPSBUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UobGluZVtsaW5lLmxlbmd0aCAtIDFdKTtcblxuICAgICAgICAgICAgaWYgKGN1cnJJc0JyZWFraW5nU3BhY2UgJiYgbGFzdElzQnJlYWtpbmdTcGFjZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB3b3JkIHdpZHRoIGZyb20gY2FjaGUgaWYgcG9zc2libGVcbiAgICAgICAgdmFyIHRva2VuV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUodG9rZW4sIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KTtcblxuICAgICAgICAvLyB3b3JkIGlzIGxvbmdlciB0aGFuIGRlc2lyZWQgYm91bmRzXG4gICAgICAgIGlmICh0b2tlbldpZHRoID4gd29yZFdyYXBXaWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBhbHJlYWR5IGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBsaW5lXG4gICAgICAgICAgICBpZiAobGluZSAhPT0gJycpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgbmV3bGluZXMgZm9yIG92ZXJmbG93IHdvcmRzXG4gICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBicmVhayBsYXJnZSB3b3JkIG92ZXIgbXVsdGlwbGUgbGluZXNcbiAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5jYW5CcmVha1dvcmRzKHRva2VuLCBzdHlsZS5icmVha1dvcmRzKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBicmVhayB3b3JkIGludG8gY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJzID0gdG9rZW4uc3BsaXQoJycpO1xuXG4gICAgICAgICAgICAgICAgLy8gbG9vcCB0aGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhcmFjdGVycy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcmFjdGVyc1tqXTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgayA9IDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSBub3QgYXQgdGhlIGVuZCBvZiB0aGUgdG9rZW5cblxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY2hhcmFjdGVyc1tqICsga10pXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhciA9IGNoYXJhY3RlcnNbaiArIGtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RDaGFyID0gY2hhcltjaGFyLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgbm90IHNwbGl0IGNoYXJzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMobGFzdENoYXIsIG5leHRDaGFyLCB0b2tlbiwgaiwgc3R5bGUuYnJlYWtXb3JkcykpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tYmluZSBjaGFycyAmIG1vdmUgZm9yd2FyZCBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICs9IG5leHRDaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBqICs9IGNoYXIubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyV2lkdGggPSBUZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUoY2hhciwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJXaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gY2hhcmFjdGVyV2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBydW4gd29yZCBvdXQgb2YgdGhlIGJvdW5kc1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGFyZSB3b3JkcyBpbiB0aGlzIGxpbmUgYWxyZWFkeVxuICAgICAgICAgICAgICAgIC8vIGZpbmlzaCB0aGF0IGxpbmUgYW5kIHN0YXJ0IGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgIGlmIChsaW5lLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgaXNMYXN0VG9rZW4gPSBpID09PSB0b2tlbnMubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgIC8vIGdpdmUgaXQgaXRzIG93biBsaW5lIGlmIGl0J3Mgbm90IHRoZSBlbmRcbiAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKHRva2VuLCAhaXNMYXN0VG9rZW4pO1xuICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gd29yZCBjb3VsZCBmaXRcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3b3JkIHdvbid0IGZpdCBiZWNhdXNlIG9mIGV4aXN0aW5nIHdvcmRzXG4gICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICBpZiAodG9rZW5XaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBpdHMgYSBzcGFjZSB3ZSBkb24ndCB3YW50IGl0XG4gICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRvbid0IGFkZCBzcGFjZXMgdG8gdGhlIGJlZ2lubmluZyBvZiBsaW5lc1xuICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCB8fCAhVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKSB8fCBjYW5QcmVwZW5kU3BhY2VzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgd29yZCB0byB0aGUgY3VycmVudCBsaW5lXG4gICAgICAgICAgICAgICAgbGluZSArPSB0b2tlbjtcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB3aWR0aCBjb3VudGVyXG4gICAgICAgICAgICAgICAgd2lkdGggKz0gdG9rZW5XaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSwgZmFsc2UpO1xuXG4gICAgcmV0dXJuIGxpbmVzO1xufTtcblxuLyoqXG4gKiBDb252aWVuaWVuY2UgZnVuY3Rpb24gZm9yIGxvZ2dpbmcgZWFjaCBsaW5lIGFkZGVkIGR1cmluZyB0aGUgd29yZFdyYXBcbiAqIG1ldGhvZFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgbGluZSAgICAtIFRoZSBsaW5lIG9mIHRleHQgdG8gYWRkXG4gKiBAcGFyYW0gIHtib29sZWFufSAgbmV3TGluZSAtIEFkZCBuZXcgbGluZSBjaGFyYWN0ZXIgdG8gZW5kXG4gKiBAcmV0dXJuIHtzdHJpbmd9ICAgQSBmb3JtYXR0ZWQgbGluZVxuICovXG5UZXh0TWV0cmljcy5hZGRMaW5lID0gZnVuY3Rpb24gYWRkTGluZSAobGluZSwgbmV3TGluZSlcbntcbiAgICAgICAgaWYgKCBuZXdMaW5lID09PSB2b2lkIDAgKSBuZXdMaW5lID0gdHJ1ZTtcblxuICAgIGxpbmUgPSBUZXh0TWV0cmljcy50cmltUmlnaHQobGluZSk7XG5cbiAgICBsaW5lID0gKG5ld0xpbmUpID8gKGxpbmUgKyBcIlxcblwiKSA6IGxpbmU7XG5cbiAgICByZXR1cm4gbGluZTtcbn07XG5cbi8qKlxuICogR2V0cyAmIHNldHMgdGhlIHdpZHRocyBvZiBjYWxjdWxhdGVkIGNoYXJhY3RlcnMgaW4gYSBjYWNoZSBvYmplY3RcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgICAgICAgICBrZXkgICAgICAgIFRoZSBrZXlcbiAqIEBwYXJhbSAge251bWJlcn0gICAgICAgICAgICAgICAgbGV0dGVyU3BhY2luZyAgVGhlIGxldHRlciBzcGFjaW5nXG4gKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgIGNhY2hlICAgICAgVGhlIGNhY2hlXG4gKiBAcGFyYW0gIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICBjb250ZXh0ICAgIFRoZSBjYW52YXMgY29udGV4dFxuICogQHJldHVybiB7bnVtYmVyfSAgICAgICAgICAgICAgICBUaGUgZnJvbSBjYWNoZS5cbiAqL1xuVGV4dE1ldHJpY3MuZ2V0RnJvbUNhY2hlID0gZnVuY3Rpb24gZ2V0RnJvbUNhY2hlIChrZXksIGxldHRlclNwYWNpbmcsIGNhY2hlLCBjb250ZXh0KVxue1xuICAgIHZhciB3aWR0aCA9IGNhY2hlW2tleV07XG5cbiAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIHZhciBzcGFjaW5nID0gKChrZXkubGVuZ3RoKSAqIGxldHRlclNwYWNpbmcpO1xuXG4gICAgICAgIHdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChrZXkpLndpZHRoICsgc3BhY2luZztcbiAgICAgICAgY2FjaGVba2V5XSA9IHdpZHRoO1xuICAgIH1cblxuICAgIHJldHVybiB3aWR0aDtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBicmVha2luZyBzcGFjZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSAgIHdoaXRlU3BhY2UgIFRoZSBUZXh0U3R5bGUgcHJvcGVydHkgd2hpdGVTcGFjZVxuICogQHJldHVybiB7Ym9vbGVhbn0gIHNob3VsZCBjb2xsYXBzZVxuICovXG5UZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyA9IGZ1bmN0aW9uIGNvbGxhcHNlU3BhY2VzICh3aGl0ZVNwYWNlKVxue1xuICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcgfHwgd2hpdGVTcGFjZSA9PT0gJ3ByZS1saW5lJyk7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB3ZSBzaG91bGQgY29sbGFwc2UgbmV3TGluZSBjaGFyc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAgVGhlIHdoaXRlIHNwYWNlXG4gKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gKi9cblRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMgPSBmdW5jdGlvbiBjb2xsYXBzZU5ld2xpbmVzICh3aGl0ZVNwYWNlKVxue1xuICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcpO1xufTtcblxuLyoqXG4gKiB0cmltcyBicmVha2luZyB3aGl0ZXNwYWNlcyBmcm9tIHN0cmluZ1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0ICBUaGUgdGV4dFxuICogQHJldHVybiB7c3RyaW5nfSAgdHJpbW1lZCBzdHJpbmdcbiAqL1xuVGV4dE1ldHJpY3MudHJpbVJpZ2h0ID0gZnVuY3Rpb24gdHJpbVJpZ2h0ICh0ZXh0KVxue1xuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IHRleHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAge1xuICAgICAgICB2YXIgY2hhciA9IHRleHRbaV07XG5cbiAgICAgICAgaWYgKCFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UoY2hhcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMCwgLTEpO1xuICAgIH1cblxuICAgIHJldHVybiB0ZXh0O1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBuZXdsaW5lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICBUaGUgY2hhcmFjdGVyXG4gKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiBuZXdsaW5lLCBGYWxzZSBvdGhlcndpc2UuXG4gKi9cblRleHRNZXRyaWNzLmlzTmV3bGluZSA9IGZ1bmN0aW9uIGlzTmV3bGluZSAoY2hhcilcbntcbiAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX25ld2xpbmVzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBjaGFyIGlzIGEgYnJlYWtpbmcgd2hpdGVzcGFjZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSAgY2hhciAgVGhlIGNoYXJhY3RlclxuICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgd2hpdGVzcGFjZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5UZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UgPSBmdW5jdGlvbiBpc0JyZWFraW5nU3BhY2UgKGNoYXIpXG57XG4gICAgaWYgKHR5cGVvZiBjaGFyICE9PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcy5pbmRleE9mKGNoYXIuY2hhckNvZGVBdCgwKSkgPj0gMCk7XG59O1xuXG4vKipcbiAqIFNwbGl0cyBhIHN0cmluZyBpbnRvIHdvcmRzLCBicmVha2luZy1zcGFjZXMgYW5kIG5ld0xpbmUgY2hhcmFjdGVyc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICB0ZXh0ICAgVGhlIHRleHRcbiAqIEByZXR1cm4ge3N0cmluZ1tdfSAgQSB0b2tlbml6ZWQgYXJyYXlcbiAqL1xuVGV4dE1ldHJpY3MudG9rZW5pemUgPSBmdW5jdGlvbiB0b2tlbml6ZSAodGV4dClcbntcbiAgICB2YXIgdG9rZW5zID0gW107XG4gICAgdmFyIHRva2VuID0gJyc7XG5cbiAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgY2hhciA9IHRleHRbaV07XG5cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSB8fCBUZXh0TWV0cmljcy5pc05ld2xpbmUoY2hhcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0b2tlbiAhPT0gJycpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIHRva2VuID0gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRva2Vucy5wdXNoKGNoYXIpO1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRva2VuICs9IGNoYXI7XG4gICAgfVxuXG4gICAgaWYgKHRva2VuICE9PSAnJylcbiAgICB7XG4gICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9rZW5zO1xufTtcblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBleGlzdHMgdG8gYmUgZWFzaWx5IG92ZXJyaWRkZW5cbiAqIEl0IGFsbG93cyBvbmUgdG8gY3VzdG9taXNlIHdoaWNoIHdvcmRzIHNob3VsZCBicmVha1xuICogRXhhbXBsZXMgYXJlIGlmIHRoZSB0b2tlbiBpcyBDSksgb3IgbnVtYmVycy5cbiAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICBUaGUgdG9rZW5cbiAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzICBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICovXG5UZXh0TWV0cmljcy5jYW5CcmVha1dvcmRzID0gZnVuY3Rpb24gY2FuQnJlYWtXb3JkcyAodG9rZW4sIGJyZWFrV29yZHMpXG57XG4gICAgcmV0dXJuIGJyZWFrV29yZHM7XG59O1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGV4aXN0cyB0byBiZSBlYXNpbHkgb3ZlcnJpZGRlblxuICogSXQgYWxsb3dzIG9uZSB0byBkZXRlcm1pbmUgd2hldGhlciBhIHBhaXIgb2YgY2hhcmFjdGVyc1xuICogc2hvdWxkIGJlIGJyb2tlbiBieSBuZXdsaW5lc1xuICogRm9yIGV4YW1wbGUgY2VydGFpbiBjaGFyYWN0ZXJzIGluIENKSyBsYW5ncyBvciBudW1iZXJzLlxuICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICBUaGUgY2hhcmFjdGVyXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBuZXh0Q2hhciAgVGhlIG5leHQgY2hhcmFjdGVyXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiBUaGUgdG9rZW4vd29yZCB0aGUgY2hhcmFjdGVycyBhcmUgZnJvbVxuICogQHBhcmFtICB7bnVtYmVyfSAgaW5kZXggVGhlIGluZGV4IGluIHRoZSB0b2tlbiBvZiB0aGUgY2hhclxuICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gKi9cblRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMgPSBmdW5jdGlvbiBjYW5CcmVha0NoYXJzIChjaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGluZGV4LCBicmVha1dvcmRzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG57XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGFzY2VudCwgZGVzY2VudCBhbmQgZm9udFNpemUgb2YgYSBnaXZlbiBmb250LXN0eWxlXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtzdHJpbmd9IGZvbnQgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBzdHlsZSBvZiB0aGUgZm9udFxuICogQHJldHVybiB7UElYSS5JRm9udE1ldHJpY3N9IEZvbnQgcHJvcGVydGllcyBvYmplY3RcbiAqL1xuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgPSBmdW5jdGlvbiBtZWFzdXJlRm9udCAoZm9udClcbntcbiAgICAvLyBhcyB0aGlzIG1ldGhvZCBpcyB1c2VkIGZvciBwcmVwYXJpbmcgYXNzZXRzLCBkb24ndCByZWNhbGN1bGF0ZSB0aGluZ3MgaWYgd2UgZG9uJ3QgbmVlZCB0b1xuICAgIGlmIChUZXh0TWV0cmljcy5fZm9udHNbZm9udF0pXG4gICAge1xuICAgICAgICByZXR1cm4gVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgIH1cblxuICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG5cbiAgICB2YXIgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcbiAgICB2YXIgY29udGV4dCA9IFRleHRNZXRyaWNzLl9jb250ZXh0O1xuXG4gICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgIHZhciBtZXRyaWNzU3RyaW5nID0gVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0w7XG4gICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQobWV0cmljc1N0cmluZykud2lkdGgpO1xuICAgIHZhciBiYXNlbGluZSA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KFRleHRNZXRyaWNzLkJBU0VMSU5FX1NZTUJPTCkud2lkdGgpO1xuICAgIHZhciBoZWlnaHQgPSAyICogYmFzZWxpbmU7XG5cbiAgICBiYXNlbGluZSA9IGJhc2VsaW5lICogVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiB8IDA7XG5cbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2YwMCc7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9ICdhbHBoYWJldGljJztcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDAwJztcbiAgICBjb250ZXh0LmZpbGxUZXh0KG1ldHJpY3NTdHJpbmcsIDAsIGJhc2VsaW5lKTtcblxuICAgIHZhciBpbWFnZWRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KS5kYXRhO1xuICAgIHZhciBwaXhlbHMgPSBpbWFnZWRhdGEubGVuZ3RoO1xuICAgIHZhciBsaW5lID0gd2lkdGggKiA0O1xuXG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBpZHggPSAwO1xuICAgIHZhciBzdG9wID0gZmFsc2U7XG5cbiAgICAvLyBhc2NlbnQuIHNjYW4gZnJvbSB0b3AgdG8gYm90dG9tIHVudGlsIHdlIGZpbmQgYSBub24gcmVkIHBpeGVsXG4gICAgZm9yIChpID0gMDsgaSA8IGJhc2VsaW5lOyArK2kpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxpbmU7IGogKz0gNClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghc3RvcClcbiAgICAgICAge1xuICAgICAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3BlcnRpZXMuYXNjZW50ID0gYmFzZWxpbmUgLSBpO1xuXG4gICAgaWR4ID0gcGl4ZWxzIC0gbGluZTtcbiAgICBzdG9wID0gZmFsc2U7XG5cbiAgICAvLyBkZXNjZW50LiBzY2FuIGZyb20gYm90dG9tIHRvIHRvcCB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgIGZvciAoaSA9IGhlaWdodDsgaSA+IGJhc2VsaW5lOyAtLWkpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBqJDEgPSAwOyBqJDEgPCBsaW5lOyBqJDEgKz0gNClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqJDFdICE9PSAyNTUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0b3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkeCAtPSBsaW5lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9wZXJ0aWVzLmRlc2NlbnQgPSBpIC0gYmFzZWxpbmU7XG4gICAgcHJvcGVydGllcy5mb250U2l6ZSA9IHByb3BlcnRpZXMuYXNjZW50ICsgcHJvcGVydGllcy5kZXNjZW50O1xuXG4gICAgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcblxuICAgIHJldHVybiBwcm9wZXJ0aWVzO1xufTtcblxuLyoqXG4gKiBDbGVhciBmb250IG1ldHJpY3MgaW4gbWV0cmljcyBjYWNoZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZvbnRdIC0gZm9udCBuYW1lLiBJZiBmb250IG5hbWUgbm90IHNldCB0aGVuIGNsZWFyIGNhY2hlIGZvciBhbGwgZm9udHMuXG4gKi9cblRleHRNZXRyaWNzLmNsZWFyTWV0cmljcyA9IGZ1bmN0aW9uIGNsZWFyTWV0cmljcyAoZm9udClcbntcbiAgICAgICAgaWYgKCBmb250ID09PSB2b2lkIDAgKSBmb250ID0gJyc7XG5cbiAgICBpZiAoZm9udClcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBUZXh0TWV0cmljcy5fZm9udHNbZm9udF07XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIFRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuICAgIH1cbn07XG5cbi8qKlxuICogSW50ZXJuYWwgcmV0dXJuIG9iamVjdCBmb3Ige0BsaW5rIFBJWEkuVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250YH0uXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBUaGUgYXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVzY2VudCAtIFRoZSBkZXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemUgZnJvbSBhc2NlbnQgdG8gZGVzY2VudFxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBwcml2YXRlXG4gKi9cblxudmFyIGNhbnZhcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICAvLyBPZmZzY3JlZW5DYW52YXMyRCBtZWFzdXJlVGV4dCBjYW4gYmUgdXAgdG8gNDAlIGZhc3Rlci5cbiAgICAgICAgdmFyIGMgPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKDAsIDApO1xuXG4gICAgICAgIHJldHVybiBjLmdldENvbnRleHQoJzJkJykgPyBjIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgfVxuICAgIGNhdGNoIChleClcbiAgICB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICB9XG59KSgpO1xuXG5jYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTA7XG5cbi8qKlxuICogQ2FjaGVkIGNhbnZhcyBlbGVtZW50IGZvciBtZWFzdXJpbmcgdGV4dFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY2FudmFzID0gY2FudmFzO1xuXG4vKipcbiAqIENhY2hlIGZvciBjb250ZXh0IHRvIHVzZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbi8qKlxuICogQ2FjaGUgb2Yge0BzZWUgUElYSS5UZXh0TWV0cmljcy5Gb250TWV0cmljc30gb2JqZWN0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuXG4vKipcbiAqIFN0cmluZyB1c2VkIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogVGhlc2UgY2hhcmFjdGVycyBhcmUgYWxsIHRhbGwgdG8gaGVscCBjYWxjdWxhdGUgdGhlIGhlaWdodCByZXF1aXJlZCBmb3IgdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgTUVUUklDU19TVFJJTkdcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCB8w4lxw4VcbiAqL1xuVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgPSAnfMOJccOFJztcblxuLyoqXG4gKiBCYXNlbGluZSBzeW1ib2wgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX1NZTUJPTFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IE1cbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MID0gJ00nO1xuXG4vKipcbiAqIEJhc2VsaW5lIG11bHRpcGxpZXIgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX01VTFRJUExJRVJcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAxLjRcbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiA9IDEuNDtcblxuLyoqXG4gKiBDYWNoZSBvZiBuZXcgbGluZSBjaGFycy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX25ld2xpbmVzID0gW1xuICAgIDB4MDAwQSwgLy8gbGluZSBmZWVkXG4gICAgMHgwMDBEIF07XG5cbi8qKlxuICogQ2FjaGUgb2YgYnJlYWtpbmcgc3BhY2VzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMgPSBbXG4gICAgMHgwMDA5LCAvLyBjaGFyYWN0ZXIgdGFidWxhdGlvblxuICAgIDB4MDAyMCwgLy8gc3BhY2VcbiAgICAweDIwMDAsIC8vIGVuIHF1YWRcbiAgICAweDIwMDEsIC8vIGVtIHF1YWRcbiAgICAweDIwMDIsIC8vIGVuIHNwYWNlXG4gICAgMHgyMDAzLCAvLyBlbSBzcGFjZVxuICAgIDB4MjAwNCwgLy8gdGhyZWUtcGVyLWVtIHNwYWNlXG4gICAgMHgyMDA1LCAvLyBmb3VyLXBlci1lbSBzcGFjZVxuICAgIDB4MjAwNiwgLy8gc2l4LXBlci1lbSBzcGFjZVxuICAgIDB4MjAwOCwgLy8gcHVuY3R1YXRpb24gc3BhY2VcbiAgICAweDIwMDksIC8vIHRoaW4gc3BhY2VcbiAgICAweDIwMEEsIC8vIGhhaXIgc3BhY2VcbiAgICAweDIwNUYsIC8vIG1lZGl1bSBtYXRoZW1hdGljYWwgc3BhY2VcbiAgICAweDMwMDAgXTtcblxuLyoqXG4gKiBBIG51bWJlciwgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlci5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYgSUZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gRm9udCBhc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZXNjZW50IC0gRm9udCBkZXNjZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemVcbiAqL1xuXG4vKiBlc2xpbnQgbWF4LWRlcHRoOiBbMiwgOF0gKi9cblxudmFyIGRlZmF1bHREZXN0cm95T3B0aW9ucyA9IHtcbiAgICB0ZXh0dXJlOiB0cnVlLFxuICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICBiYXNlVGV4dHVyZTogdHJ1ZSxcbn07XG5cbi8qKlxuICogQSBUZXh0IE9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dC5cbiAqXG4gKiBUaGUgdGV4dCBpcyBjcmVhdGVkIHVzaW5nIHRoZSBbQ2FudmFzIEFQSV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc19BUEkpLlxuICpcbiAqIFRoZSBwcmltYXJ5IGFkdmFudGFnZSBvZiB0aGlzIGNsYXNzIG92ZXIgQml0bWFwVGV4dCBpcyB0aGF0IHlvdSBoYXZlIGdyZWF0IGNvbnRyb2wgb3ZlciB0aGUgc3R5bGUgb2YgdGhlIG5leHQsXG4gKiB3aGljaCB5b3UgY2FuIGNoYW5nZSBhdCBydW50aW1lLlxuICpcbiAqIFRoZSBwcmltYXJ5IGRpc2FkdmFudGFnZXMgaXMgdGhhdCBlYWNoIHBpZWNlIG9mIHRleHQgaGFzIGl0J3Mgb3duIHRleHR1cmUsIHdoaWNoIGNhbiB1c2UgbW9yZSBtZW1vcnkuXG4gKiBXaGVuIHRleHQgY2hhbmdlcywgdGhpcyB0ZXh0dXJlIGhhcyB0byBiZSByZS1nZW5lcmF0ZWQgYW5kIHJlLXVwbG9hZGVkIHRvIHRoZSBHUFUsIHRha2luZyB1cCB0aW1lLlxuICpcbiAqIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJyBpbiB5b3VyIHRleHQgc3RyaW5nLCBvciwgb24gdGhlIGBzdHlsZWAgb2JqZWN0LFxuICogY2hhbmdlIGl0cyBgd29yZFdyYXBgIHByb3BlcnR5IHRvIHRydWUgYW5kIGFuZCBnaXZlIHRoZSBgd29yZFdyYXBXaWR0aGAgcHJvcGVydHkgYSB2YWx1ZS5cbiAqXG4gKiBBIFRleHQgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhIHN0cmluZyBhbmQgYSBzdHlsZSBvYmplY3QsXG4gKiB3aGljaCBjYW4gYmUgZ2VuZXJhdGVkIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dCA9IG5ldyBQSVhJLlRleHQoJ1RoaXMgaXMgYSBQaXhpSlMgdGV4dCcse2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChTcHJpdGUpIHtcbiAgICBmdW5jdGlvbiBUZXh0KHRleHQsIHN0eWxlLCBjYW52YXMpXG4gICAge1xuICAgICAgICBjYW52YXMgPSBjYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gMztcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDM7XG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlLmZyb20oY2FudmFzKTtcblxuICAgICAgICB0ZXh0dXJlLm9yaWcgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRleHR1cmUudHJpbSA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgICAgICBTcHJpdGUuY2FsbCh0aGlzLCB0ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgZXZlcnl0aGluZyBpcyBkcmF3biB0b1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIDJkIGNvbnRleHQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHdpdGhcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gc2V0dGluZ3MuUkVTT0xVVElPTjtcbiAgICAgICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBjdXJyZW50IHN0eWxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIGxpc3RlbmVyIHRvIHRyYWNrIHN0eWxlIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fc3R5bGVMaXN0ZW5lciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZm9udCA9ICcnO1xuXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuc3R5bGUgPSBzdHlsZTtcblxuICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IC0xO1xuICAgIH1cblxuICAgIGlmICggU3ByaXRlICkgVGV4dC5fX3Byb3RvX18gPSBTcHJpdGU7XG4gICAgVGV4dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTcHJpdGUgJiYgU3ByaXRlLnByb3RvdHlwZSApO1xuICAgIFRleHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGV4dDtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxzdHlsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJlc29sdXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXNwZWN0RGlydHkgLSBXaGV0aGVyIHRvIGFib3J0IHVwZGF0aW5nIHRoZSB0ZXh0IGlmIHRoZSBUZXh0IGlzbid0IGRpcnR5IGFuZCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiB1cGRhdGVUZXh0IChyZXNwZWN0RGlydHkpXG4gICAge1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBjaGVjayBpZiBzdHlsZSBoYXMgY2hhbmdlZC4uXG4gICAgICAgIGlmICh0aGlzLmxvY2FsU3R5bGVJRCAhPT0gc3R5bGUuc3R5bGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IHN0eWxlLnN0eWxlSUQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mb250ID0gdGhpcy5fc3R5bGUudG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBtZWFzdXJlZCA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRoaXMuX3RleHQgfHwgJyAnLCB0aGlzLl9zdHlsZSwgdGhpcy5fc3R5bGUud29yZFdyYXAsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgdmFyIHdpZHRoID0gbWVhc3VyZWQud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSBtZWFzdXJlZC5oZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgICAgICB2YXIgbGluZUhlaWdodCA9IG1lYXN1cmVkLmxpbmVIZWlnaHQ7XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gbWVhc3VyZWQubGluZVdpZHRocztcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnRQcm9wZXJ0aWVzID0gbWVhc3VyZWQuZm9udFByb3BlcnRpZXM7XG5cbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIHdpZHRoKSArIChzdHlsZS5wYWRkaW5nICogMikpICogdGhpcy5fcmVzb2x1dGlvbik7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgaGVpZ2h0KSArIChzdHlsZS5wYWRkaW5nICogMikpICogdGhpcy5fcmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLl9yZXNvbHV0aW9uLCB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSB0aGlzLl9mb250O1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcztcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSBzdHlsZS50ZXh0QmFzZWxpbmU7XG4gICAgICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICAgICAgY29udGV4dC5taXRlckxpbWl0ID0gc3R5bGUubWl0ZXJMaW1pdDtcblxuICAgICAgICB2YXIgbGluZVBvc2l0aW9uWDtcbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblk7XG5cbiAgICAgICAgLy8gcmVxdWlyZSAyIHBhc3NlcyBpZiBhIHNoYWRvdzsgdGhlIGZpcnN0IHRvIGRyYXcgdGhlIGRyb3Agc2hhZG93LCB0aGUgc2Vjb25kIHRvIGRyYXcgdGhlIHRleHRcbiAgICAgICAgdmFyIHBhc3Nlc0NvdW50ID0gc3R5bGUuZHJvcFNoYWRvdyA/IDIgOiAxO1xuXG4gICAgICAgIC8vIEZvciB2NCwgd2UgZHJldyB0ZXh0IGF0IHRoZSBjb2xvdXJzIG9mIHRoZSBkcm9wIHNoYWRvdyB1bmRlcm5lYXRoIHRoZSBub3JtYWwgdGV4dC4gVGhpcyBnYXZlIHRoZSBjb3JyZWN0IHpJbmRleCxcbiAgICAgICAgLy8gYnV0IGZlYXR1cmVzIHN1Y2ggYXMgYWxwaGEgYW5kIHNoYWRvd2JsdXIgZGlkIG5vdCBsb29rIHJpZ2h0IGF0IGFsbCwgc2luY2Ugd2Ugd2VyZSB1c2luZyBhY3R1YWwgdGV4dCBhcyBhIHNoYWRvdy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRm9yIHY1LjAuMCwgd2UgbW92ZWQgb3ZlciB0byBqdXN0IHVzZSB0aGUgY2FudmFzIEFQSSBmb3IgZHJvcCBzaGFkb3dzLCB3aGljaCBtYWRlIHRoZW0gbG9vayBtdWNoIG5pY2VyIGFuZCBtb3JlXG4gICAgICAgIC8vIHZpc3VhbGx5IHBsZWFzZSwgYnV0IG5vdyBiZWNhdXNlIHRoZSBzdHJva2UgaXMgZHJhd24gYW5kIHRoZW4gdGhlIGZpbGwsIGRyb3Agc2hhZG93cyB3b3VsZCBhcHBlYXIgb24gYm90aCB0aGUgZmlsbFxuICAgICAgICAvLyBhbmQgdGhlIHN0cm9rZTsgYW5kIGZpbGwgZHJvcCBzaGFkb3dzIHdvdWxkIGFwcGVhciBvdmVyIHRoZSB0b3Agb2YgdGhlIHN0cm9rZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRm9yIHY1LjEuMSwgdGhlIG5ldyByb3V0ZSBpcyB0byByZXZlcnQgdG8gdjQgc3R5bGUgb2YgZHJhd2luZyB0ZXh0IGZpcnN0IHRvIGdldCB0aGUgZHJvcCBzaGFkb3dzIHVuZGVybmVhdGggbm9ybWFsXG4gICAgICAgIC8vIHRleHQsIGJ1dCBpbnN0ZWFkIGRyYXdpbmcgdGV4dCBpbiB0aGUgY29ycmVjdCBsb2NhdGlvbiwgd2UnbGwgZHJhdyBpdCBvZmYgc2NyZWVuICgtcGFkZGluZ1kpLCBhbmQgdGhlbiBhZGp1c3QgdGhlXG4gICAgICAgIC8vIGRyb3Agc2hhZG93IHNvIG9ubHkgdGhhdCBhcHBlYXJzIG9uIHNjcmVlbiAoK3BhZGRpbmdZKS4gTm93IHdlJ2xsIGhhdmUgdGhlIGNvcnJlY3QgZHJhdyBvcmRlciBvZiB0aGUgc2hhZG93XG4gICAgICAgIC8vIGJlbmVhdGggdGhlIHRleHQsIHdoaWxzdCBhbHNvIGhhdmluZyB0aGUgcHJvcGVyIHRleHQgc2hhZG93IHN0eWxpbmcuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFzc2VzQ291bnQ7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGlzU2hhZG93UGFzcyA9IHN0eWxlLmRyb3BTaGFkb3cgJiYgaSA9PT0gMDtcbiAgICAgICAgICAgIHZhciBkc09mZnNldFRleHQgPSBpc1NoYWRvd1Bhc3MgPyBoZWlnaHQgKiAyIDogMDsgLy8gd2Ugb25seSB3YW50IHRoZSBkcm9wIHNoYWRvdywgc28gcHV0IHRleHQgd2F5IG9mZi1zY3JlZW5cbiAgICAgICAgICAgIHZhciBkc09mZnNldFNoYWRvdyA9IGRzT2Zmc2V0VGV4dCAqIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgaWYgKGlzU2hhZG93UGFzcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBPbiBTYWZhcmksIHRleHQgd2l0aCBncmFkaWVudCBhbmQgZHJvcCBzaGFkb3dzIHRvZ2V0aGVyIGRvIG5vdCBwb3NpdGlvbiBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc2NhbGUgb2YgdGhlIGNhbnZhcyBpcyBub3QgMTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE5NzY4OVxuICAgICAgICAgICAgICAgIC8vIFRoZXJlZm9yZSB3ZSdsbCBzZXQgdGhlIHN0eWxlcyB0byBiZSBhIHBsYWluIGJsYWNrIHdoaWxzdCBnZW5lcmF0aW5nIHRoaXMgZHJvcCBzaGFkb3dcbiAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdibGFjayc7XG5cbiAgICAgICAgICAgICAgICB2YXIgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgICAgIHZhciByZ2IgPSBoZXgycmdiKHR5cGVvZiBkcm9wU2hhZG93Q29sb3IgPT09ICdudW1iZXInID8gZHJvcFNoYWRvd0NvbG9yIDogc3RyaW5nMmhleChkcm9wU2hhZG93Q29sb3IpKTtcblxuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcInJnYmEoXCIgKyAocmdiWzBdICogMjU1KSArIFwiLFwiICsgKHJnYlsxXSAqIDI1NSkgKyBcIixcIiArIChyZ2JbMl0gKiAyNTUpICsgXCIsXCIgKyAoc3R5bGUuZHJvcFNoYWRvd0FscGhhKSArIFwiKVwiO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gKE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UpICsgZHNPZmZzZXRTaGFkb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc2V0IGNhbnZhcyB0ZXh0IHN0eWxlc1xuICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuXG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dDb2xvciA9IDA7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRyYXcgbGluZXMgbGluZSBieSBsaW5lXG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsaW5lcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSAoKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpICsgKGkkMSAqIGxpbmVIZWlnaHQpKSArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudDtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0JylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpJDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdHlsZS5hbGlnbiA9PT0gJ2NlbnRlcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2kkMV0pIC8gMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tpJDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUuZmlsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lc1tpJDFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyAtIGRzT2Zmc2V0VGV4dFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIHRleHQgd2l0aCBsZXR0ZXItc3BhY2luZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIEhvcml6b250YWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVmVydGljYWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3Ryb2tlPWZhbHNlXSAtIElzIHRoaXMgZHJhd2luZyBmb3IgdGhlIG91dHNpZGUgc3Ryb2tlIG9mIHRoZVxuICAgICAqICB0ZXh0PyBJZiBub3QsIGl0J3MgZm9yIHRoZSBpbnNpZGUgZmlsbFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmcgPSBmdW5jdGlvbiBkcmF3TGV0dGVyU3BhY2luZyAodGV4dCwgeCwgeSwgaXNTdHJva2UpXG4gICAge1xuICAgICAgICBpZiAoIGlzU3Ryb2tlID09PSB2b2lkIDAgKSBpc1N0cm9rZSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuXG4gICAgICAgIC8vIGxldHRlclNwYWNpbmcgb2YgMCBtZWFucyBub3JtYWxcbiAgICAgICAgdmFyIGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXG4gICAgICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0geDtcblxuICAgICAgICAvLyBVc2luZyBBcnJheS5mcm9tIGNvcnJlY3RseSBzcGxpdHMgY2hhcmFjdGVycyB3aGlsc3Qga2VlcGluZyBlbW9qaSB0b2dldGhlci5cbiAgICAgICAgLy8gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIGFzIGl0IHJlcXVpcmVzIEVTNiwgc28gcmVndWxhciB0ZXh0IHNwbGl0dGluZyBvY2N1cnMuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBkb2Vzbid0IGFjY291bnQgZm9yIGVtb2ppIHRoYXQgYXJlIG11bHRpcGxlIGVtb2ppIHB1dCB0b2dldGhlciB0byBtYWtlIHNvbWV0aGluZyBlbHNlLlxuICAgICAgICAvLyBIYW5kbGluZyBhbGwgb2YgdGhpcyB3b3VsZCByZXF1aXJlIGEgYmlnIGxpYnJhcnkgaXRzZWxmLlxuICAgICAgICAvLyBodHRwczovL21lZGl1bS5jb20vQGdpbHRheWFyL2l0ZXJhdGluZy1vdmVyLWVtb2ppLWNoYXJhY3RlcnMtdGhlLWVzNi13YXktZjA2ZTQ1ODk1MTZcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL29ybGluZy9ncmFwaGVtZS1zcGxpdHRlclxuICAgICAgICB2YXIgc3RyaW5nQXJyYXkgPSBBcnJheS5mcm9tID8gQXJyYXkuZnJvbSh0ZXh0KSA6IHRleHQuc3BsaXQoJycpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nQXJyYXkubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50Q2hhciA9IHN0cmluZ0FycmF5W2ldO1xuXG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQoY3VycmVudENoYXIsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uICs9IHRoaXMuY29udGV4dC5tZWFzdXJlVGV4dChjdXJyZW50Q2hhcikud2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiB1cGRhdGVUZXh0dXJlICgpXG4gICAge1xuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlLnRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0cmltbWVkID0gdHJpbUNhbnZhcyhjYW52YXMpO1xuXG4gICAgICAgICAgICBpZiAodHJpbW1lZC5kYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRyaW1tZWQud2lkdGg7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHRyaW1tZWQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5wdXRJbWFnZURhdGEodHJpbW1lZC5kYXRhLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIHZhciBwYWRkaW5nID0gc3R5bGUudHJpbSA/IDAgOiBzdHlsZS5wYWRkaW5nO1xuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIHRleHR1cmUudHJpbS53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb24pO1xuICAgICAgICB0ZXh0dXJlLnRyaW0uaGVpZ2h0ID0gdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gTWF0aC5jZWlsKGNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcblxuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSAocGFkZGluZyAqIDIpO1xuXG4gICAgICAgIC8vIGNhbGwgc3ByaXRlIG9uVGV4dHVyZVVwZGF0ZSB0byB1cGRhdGUgc2NhbGUgaWYgX3dpZHRoIG9yIF9oZWlnaHQgd2VyZSBzZXRcbiAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVhbFNpemUoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvUmVzb2x1dGlvbiAmJiB0aGlzLl9yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIFNwcml0ZS5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSB0ZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzIChyZWN0KVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgVGV4dCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBkb25lIHRoaXMgb24gVEhJUyBmcmFtZS5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGJlIGNhbGxlZCB1cG9uIGEgVGV4dFN0eWxlIGNoYW5nZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9vblN0eWxlQ2hhbmdlID0gZnVuY3Rpb24gX29uU3R5bGVDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bWJlcnxDYW52YXNHcmFkaWVudH0gVGhlIGZpbGwgc3R5bGVcbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5fZ2VuZXJhdGVGaWxsU3R5bGUgPSBmdW5jdGlvbiBfZ2VuZXJhdGVGaWxsU3R5bGUgKHN0eWxlLCBsaW5lcylcbiAgICB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZS5maWxsKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3R5bGUuZmlsbC5sZW5ndGggPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5maWxsWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSB3b3VsZCBjcmVhdGVkIHN0b3BzIGF0IDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICB2YXIgZ3JhZGllbnQ7XG4gICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgIHZhciBjdXJyZW50SXRlcmF0aW9uO1xuICAgICAgICB2YXIgc3RvcDtcblxuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5jYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICAgICAgdmFyIGZpbGwgPSBzdHlsZS5maWxsLnNsaWNlKCk7XG4gICAgICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG5cbiAgICAgICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgICAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICAgICAgZmlsbC51bnNoaWZ0KHN0eWxlLmZpbGxbMF0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuXG4gICAgICAgIGZpbGwucHVzaChzdHlsZS5maWxsW3N0eWxlLmZpbGwubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuXG4gICAgICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSB0b3AgY2VudGVyIG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQod2lkdGggLyAyLCAwLCB3aWR0aCAvIDIsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgICAgIHRvdGFsSXRlcmF0aW9ucyA9IChmaWxsLmxlbmd0aCArIDEpICogbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsaW5lcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gKz0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcCA9IChmaWxsR3JhZGllbnRTdG9wc1tqXSAvIGxpbmVzLmxlbmd0aCkgKyAoaSQxIC8gbGluZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIGhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgZmlsbC5sZW5ndGg7IGkkMisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaSQyXSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaSQyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2kkMl0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0IG9iamVjdC5cbiAgICAgKiBOb3RlKiBVbmxpa2UgYSBTcHJpdGUsIGEgVGV4dCBvYmplY3Qgd2lsbCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgaXRzIGJhc2VUZXh0dXJlIGFuZCB0ZXh0dXJlIGFzXG4gICAgICogdGhlIG1ham9yaXR5IG9mIHRoZSB0aW1lIHRoZSB0ZXh0dXJlIHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIGFueSBvdGhlciBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJylcbiAgICAgICAge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGVzdHJveU9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIFNwcml0ZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byByZXNldCB0aGUgdGhlIGNvbnRleHQgYW5kIGNhbnZhcy4uIGRvbnQgd2FudCB0aGlzIGhhbmdpbmcgYXJvdW5kIGluIG1lbW9yeSFcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSBvZiB0aGUgdGV4dC4gU2V0IHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGUgc3R5bGVcbiAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnN0eWxlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zdHlsZS5zZXQgPSBmdW5jdGlvbiAoc3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICAgICAgICBpZiAoc3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdHlsZSA9IG5ldyBUZXh0U3R5bGUoc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29weSBmb3IgdGhlIHRleHQgb2JqZWN0LiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dC5zZXQgPSBmdW5jdGlvbiAodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcblxuICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlc29sdXRpb24uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmVzb2x1dGlvbi5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fYXV0b1Jlc29sdXRpb24gPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5fcmVzb2x1dGlvbiA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUZXh0LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gVGV4dDtcbn0oU3ByaXRlKSk7XG5cbmV4cG9ydCB7IFRFWFRfR1JBRElFTlQsIFRleHQsIFRleHRNZXRyaWNzLCBUZXh0U3R5bGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3ByZXBhcmUgLSB2NS4xLjFcbiAqIENvbXBpbGVkIEZyaSwgMDIgQXVnIDIwMTkgMjM6MjA6MjMgVVRDXG4gKlxuICogQHBpeGkvcHJlcGFyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgVGV4dHVyZSwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBUZXh0LCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSA9IDQ7XG5cbi8qKlxuICogQ291bnRMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIGl0ZW1zIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xudmFyIENvdW50TGltaXRlciA9IGZ1bmN0aW9uIENvdW50TGltaXRlcihtYXhJdGVtc1BlckZyYW1lKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBlYWNoIGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbn07XG5cbi8qKlxuICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICovXG5Db3VudExpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiBiZWdpbkZyYW1lICgpXG57XG4gICAgdGhpcy5pdGVtc0xlZnQgPSB0aGlzLm1heEl0ZW1zUGVyRnJhbWU7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gKi9cbkNvdW50TGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkICgpXG57XG4gICAgcmV0dXJuIHRoaXMuaXRlbXNMZWZ0LS0gPiAwO1xufTtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS5cbiAqXG4gKiBCYXNlUHJlcGFyZSBoYW5kbGVzIGJhc2ljIHF1ZXVpbmcgZnVuY3Rpb25hbGl0eSBhbmQgaXMgZXh0ZW5kZWQgYnlcbiAqIHtAbGluayBQSVhJLnByZXBhcmUuUHJlcGFyZX0gYW5kIHtAbGluayBQSVhJLnByZXBhcmUuQ2FudmFzUHJlcGFyZX1cbiAqIHRvIHByb3ZpZGUgcHJlcGFyYXRpb24gY2FwYWJpbGl0aWVzIHNwZWNpZmljIHRvIHRoZWlyIHJlc3BlY3RpdmUgcmVuZGVyZXJzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBzcHJpdGVcbiAqIGNvbnN0IHNwcml0ZSA9IFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbnZhciBCYXNlUHJlcGFyZSA9IGZ1bmN0aW9uIEJhc2VQcmVwYXJlKHJlbmRlcmVyKVxue1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxpbWl0ZXIgdG8gYmUgdXNlZCB0byBjb250cm9sIGhvdyBxdWlja2x5IGl0ZW1zIGFyZSBwcmVwYXJlZC5cbiAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNvdW50TGltaXRlcnxQSVhJLnByZXBhcmUuVGltZUxpbWl0ZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW1pdGVyID0gbmV3IENvdW50TGltaXRlcihzZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSk7XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqIEB0eXBlIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvbmx5IHJlYWwgZGlmZmVyZW5jZSBiZXR3ZWVuIENhbnZhc1ByZXBhcmUgYW5kIFByZXBhcmUgaXMgd2hhdCB0aGV5IHBhc3NcbiAgICAgKiB0byB1cGxvYWQgaG9va3MuIFRoYXQgZGlmZmVyZW50IHBhcmFtZXRlciBpcyBzdG9yZWQgaGVyZS5cbiAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV8UElYSS5SZW5kZXJlcn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkcyBhdCBvbmNlLlxuICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBhc3NldHMuXG4gICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgYWRkaXRpb25hbCBob29rcyBmb3IgcHJvY2Vzc2luZyBhc3NldHMuXG4gICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRvIGNhbGwgYWZ0ZXIgY29tcGxldGVkLlxuICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogSWYgcHJlcGFyZSBpcyB0aWNraW5nIChydW5uaW5nKS5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogJ2JvdW5kJyBjYWxsIGZvciBwcmVwYXJlSXRlbXMoKS5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRlbGF5ZWRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB1bmxpa2VseSwgYnV0IGluIGNhc2Ugd2Ugd2VyZSBkZXN0cm95ZWQgYmV0d2VlbiB0aWNrKCkgYW5kIGRlbGF5ZWRUaWNrKClcbiAgICAgICAgaWYgKCF0aGlzJDEucXVldWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzJDEucHJlcGFyZUl0ZW1zKCk7XG4gICAgfTtcblxuICAgIC8vIGhvb2tzIHRvIGZpbmQgdGhlIGNvcnJlY3QgdGV4dHVyZVxuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dCk7XG4gICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0U3R5bGUpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kQmFzZVRleHR1cmUpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dHVyZSk7XG5cbiAgICAvLyB1cGxvYWQgaG9va3NcbiAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayhkcmF3VGV4dCk7XG4gICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soY2FsY3VsYXRlVGV4dFN0eWxlKTtcbn07XG5cbi8qKlxuICogVXBsb2FkIGFsbCB0aGUgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHRoZSBHUFUuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5Db250YWluZXJ8UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV8UElYSS5HcmFwaGljc3xQSVhJLlRleHR9IGl0ZW0gLVxuICogICAgRWl0aGVyIHRoZSBjb250YWluZXIgb3IgZGlzcGxheSBvYmplY3QgdG8gc2VhcmNoIGZvciBpdGVtcyB0byB1cGxvYWQsIHRoZSBpdGVtcyB0byB1cGxvYWQgdGhlbXNlbHZlcyxcbiAqICAgIG9yIHRoZSBjYWxsYmFjayBmdW5jdGlvbiwgaWYgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkIHVzaW5nIGBwcmVwYXJlLmFkZGAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZG9uZV0gLSBPcHRpb25hbCBjYWxsYmFjayB3aGVuIGFsbCBxdWV1ZWQgdXBsb2FkcyBoYXZlIGNvbXBsZXRlZFxuICovXG5CYXNlUHJlcGFyZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChpdGVtLCBkb25lKVxue1xuICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ2Z1bmN0aW9uJylcbiAgICB7XG4gICAgICAgIGRvbmUgPSBpdGVtO1xuICAgICAgICBpdGVtID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBJZiBhIGRpc3BsYXkgb2JqZWN0LCBzZWFyY2ggZm9yIGl0ZW1zXG4gICAgLy8gdGhhdCB3ZSBjb3VsZCB1cGxvYWRcbiAgICBpZiAoaXRlbSlcbiAgICB7XG4gICAgICAgIHRoaXMuYWRkKGl0ZW0pO1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgaXRlbXMgZm9yIHVwbG9hZCBmcm9tIHRoZSBkaXNwbGF5XG4gICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2goZG9uZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudGlja2luZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0uYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChkb25lKVxuICAgIHtcbiAgICAgICAgZG9uZSgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogSGFuZGxlIHRpY2sgdXBkYXRlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiB0aWNrICgpXG57XG4gICAgc2V0VGltZW91dCh0aGlzLmRlbGF5ZWRUaWNrLCAwKTtcbn07XG5cbi8qKlxuICogQWN0dWFsbHkgcHJlcGFyZSBpdGVtcy4gVGhpcyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIHRpY2sgYmVjYXVzZSBpdCB3aWxsIHRha2UgYSB3aGlsZVxuICogYW5kIHdlIGRvIE5PVCB3YW50IHRvIGJsb2NrIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSBmcm9tIHJlbmRlcmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5CYXNlUHJlcGFyZS5wcm90b3R5cGUucHJlcGFyZUl0ZW1zID0gZnVuY3Rpb24gcHJlcGFyZUl0ZW1zICgpXG57XG4gICAgdGhpcy5saW1pdGVyLmJlZ2luRnJhbWUoKTtcbiAgICAvLyBVcGxvYWQgdGhlIGdyYXBoaWNzXG4gICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoICYmIHRoaXMubGltaXRlci5hbGxvd2VkVG9VcGxvYWQoKSlcbiAgICB7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5xdWV1ZVswXTtcbiAgICAgICAgdmFyIHVwbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uX2Rlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXBsb2FkSG9va3NbaV0odGhpcy51cGxvYWRIb29rSGVscGVyLCBpdGVtKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXVwbG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSdyZSBmaW5pc2hlZFxuICAgIGlmICghdGhpcy5xdWV1ZS5sZW5ndGgpXG4gICAge1xuICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgICAgICB2YXIgY29tcGxldGVzID0gdGhpcy5jb21wbGV0ZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgdGhpcy5jb21wbGV0ZXMubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwLCBsZW4kMSA9IGNvbXBsZXRlcy5sZW5ndGg7IGkkMSA8IGxlbiQxOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29tcGxldGVzW2kkMV0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGZpbmlzaGVkLCBvbiB0aGUgbmV4dCByQUYgZG8gdGhpcyBhZ2FpblxuICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBZGRzIGhvb2tzIGZvciBmaW5kaW5nIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFkZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICogICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gYWRkIGl0ZW0gdG8gdGhlIHF1ZXVlLlxuICogQHJldHVybiB7UElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICovXG5CYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyRmluZEhvb2sgKGFkZEhvb2spXG57XG4gICAgaWYgKGFkZEhvb2spXG4gICAge1xuICAgICAgICB0aGlzLmFkZEhvb2tzLnB1c2goYWRkSG9vayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICogICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gaGFuZGxlIHVwbG9hZCBvZiBpdGVtLlxuICogQHJldHVybiB7UElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICovXG5CYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJVcGxvYWRIb29rID0gZnVuY3Rpb24gcmVnaXN0ZXJVcGxvYWRIb29rICh1cGxvYWRIb29rKVxue1xuICAgIGlmICh1cGxvYWRIb29rKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGxvYWRIb29rcy5wdXNoKHVwbG9hZEhvb2spO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBNYW51YWxseSBhZGQgYW4gaXRlbSB0byB0aGUgdXBsb2FkaW5nIHF1ZXVlLlxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fCp9IGl0ZW0gLSBPYmplY3QgdG9cbiAqICAgIGFkZCB0byB0aGUgcXVldWVcbiAqIEByZXR1cm4ge1BJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAoaXRlbSlcbntcbiAgICAvLyBBZGQgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBlbGVtZW50cyBvbiBzcGVjaWFsXG4gICAgLy8gdHlwZXMgb2Ygb2JqZWN0cyB0aGF0XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuYWRkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAge1xuICAgICAgICBpZiAodGhpcy5hZGRIb29rc1tpXShpdGVtLCB0aGlzLnF1ZXVlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgY2hpbGRyZW4gcmVjdXJzaXZlbHlcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIENvbnRhaW5lcilcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkkMSA9IGl0ZW0uY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSQxID49IDA7IGkkMS0tKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkZChpdGVtLmNoaWxkcmVuW2kkMV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBwbHVnaW4sIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICpcbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgaWYgKHRoaXMudGlja2luZylcbiAgICB7XG4gICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgfVxuICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgIHRoaXMudXBsb2FkSG9va3MgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICB0aGlzLnF1ZXVlID0gbnVsbDtcbiAgICB0aGlzLmxpbWl0ZXIgPSBudWxsO1xuICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG59O1xuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBtdWx0aXBsZSB0ZXh0dXJlcyBmcm9tIG9iamVjdHMgbGlrZSBBbmltYXRlZFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyhpdGVtLCBxdWV1ZSlcbntcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAvLyBPYmplY3RzIHdpdGggbXVsdGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uX3RleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaXRlbS5fdGV4dHVyZXNbaV0gaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGl0ZW0uX3RleHR1cmVzW2ldLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoYmFzZVRleHR1cmUpID09PSAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIEJhc2VUZXh0dXJlcyBmcm9tIFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRCYXNlVGV4dHVyZShpdGVtLCBxdWV1ZSlcbntcbiAgICAvLyBPYmplY3RzIHdpdGggdGV4dHVyZXMsIGxpa2UgU3ByaXRlcy9UZXh0XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgdGV4dHVyZXMgZnJvbSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dHVyZShpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbS5fdGV4dHVyZSAmJiBpdGVtLl90ZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBkcmF3IFBJWEkuVGV4dCB0byBpdHMgdGV4dHVyZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUHJlcGFyZX0gaGVscGVyIC0gTm90IHVzZWQgYnkgdGhpcyB1cGxvYWQgaGFuZGxlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gZHJhd1RleHQoaGVscGVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dClcbiAgICB7XG4gICAgICAgIC8vIHVwZGF0aW5nIHRleHQgd2lsbCByZXR1cm4gZWFybHkgaWYgaXQgaXMgbm90IGRpcnR5XG4gICAgICAgIGl0ZW0udXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBjYWxjdWxhdGUgYSB0ZXh0IHN0eWxlIGZvciBhIFBJWEkuVGV4dCBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVRleHRTdHlsZShoZWxwZXIsIGl0ZW0pXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAge1xuICAgICAgICB2YXIgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0IG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0IG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0KGl0ZW0sIHF1ZXVlKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dClcbiAgICB7XG4gICAgICAgIC8vIHB1c2ggdGhlIHRleHQgc3R5bGUgdG8gcHJlcGFyZSBpdCAtIHRoaXMgY2FuIGJlIHJlYWxseSBleHBlbnNpdmVcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbS5zdHlsZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0uc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgdGV4dCBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gcmVuZGVyIGl0ICh0byBjYW52YXMvdGV4dHVyZSkgaWYgbmVlZGVkXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIFRleHQncyB0ZXh0dXJlIGZvciB1cGxvYWQgdG8gR1BVXG4gICAgICAgIHZhciB0ZXh0dXJlID0gaXRlbS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZih0ZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2godGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIFRleHRTdHlsZSBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0U3R5bGUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHRTdHlsZShpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHRTdHlsZSlcbiAgICB7XG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBtYW5hZ2VyIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gdXBsb2FkIGNvbnRlbnQgdG8gdGhlIEdQVS5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLnByZXBhcmVgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnByZXBhcmUuQmFzZVByZXBhcmVcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xudmFyIFByZXBhcmUgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChCYXNlUHJlcGFyZSkge1xuICAgIGZ1bmN0aW9uIFByZXBhcmUocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBCYXNlUHJlcGFyZS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdXBsb2FkXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kR3JhcGhpY3MpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRHcmFwaGljcyk7XG4gICAgfVxuXG4gICAgaWYgKCBCYXNlUHJlcGFyZSApIFByZXBhcmUuX19wcm90b19fID0gQmFzZVByZXBhcmU7XG4gICAgUHJlcGFyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBCYXNlUHJlcGFyZSAmJiBCYXNlUHJlcGFyZS5wcm90b3R5cGUgKTtcbiAgICBQcmVwYXJlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByZXBhcmU7XG5cbiAgICByZXR1cm4gUHJlcGFyZTtcbn0oQmFzZVByZXBhcmUpKTtcbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5UZXh0dXJlIG9iamVjdHMgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICAvLyBpZiB0aGUgdGV4dHVyZSBhbHJlYWR5IGhhcyBhIEdMIHRleHR1cmUsIHRoZW4gdGhlIHRleHR1cmUgaGFzIGJlZW4gcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdy4gSWYgdGhlIHRleHR1cmUgY2hhbmdlZCwgdGhlbiB0aGUgY2hhbmdlciBzaG91bGQgYmUgY2FsbGluZyB0ZXh0dXJlLnVwZGF0ZSgpIHdoaWNoXG4gICAgICAgIC8vIHJldXBsb2FkcyB0aGUgdGV4dHVyZSB3aXRob3V0IG5lZWQgZm9yIHByZXBhcmluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoIWl0ZW0uX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5HcmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRHcmFwaGljcyhyZW5kZXJlciwgaXRlbSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKVxuICAgIHtcbiAgICAgICAgLy8gaWYgdGhlIGl0ZW0gaXMgbm90IGRpcnR5IGFuZCBhbHJlYWR5IGhhcyB3ZWJnbCBkYXRhLCB0aGVuIGl0IGdvdCBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93IGFuZCB3ZSBzaG91bGRuJ3Qgd2FzdGUgdGltZSB1cGRhdGluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoaXRlbS5kaXJ0eSB8fCBpdGVtLmNsZWFyRGlydHkgfHwgIWl0ZW0uX3dlYkdMW3JlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MuQ09OVEVYVF9VSURdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnVwZGF0ZUdyYXBoaWNzKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBncmFwaGljcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLkdyYXBoaWNzIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRHcmFwaGljcyhpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKVxuICAgIHtcbiAgICAgICAgcXVldWUucHVzaChpdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGltZUxpbWl0ZXIgbGltaXRzIHRoZSBudW1iZXIgb2YgaXRlbXMgaGFuZGxlZCBieSBhIHtAbGluayBQSVhJLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbnZhciBUaW1lTGltaXRlciA9IGZ1bmN0aW9uIFRpbWVMaW1pdGVyKG1heE1pbGxpc2Vjb25kcylcbntcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWF4TWlsbGlzZWNvbmRzID0gbWF4TWlsbGlzZWNvbmRzO1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xufTtcblxuLyoqXG4gKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gKi9cblRpbWVMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSAoKVxue1xuICAgIHRoaXMuZnJhbWVTdGFydCA9IERhdGUubm93KCk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gKi9cblRpbWVMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiBhbGxvd2VkVG9VcGxvYWQgKClcbntcbiAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZnJhbWVTdGFydCA8IHRoaXMubWF4TWlsbGlzZWNvbmRzO1xufTtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBuYW1lc3BhY2UgcHJvdmlkZXMgcmVuZGVyZXItc3BlY2lmaWMgcGx1Z2lucyBmb3IgcHJlLXJlbmRlcmluZyBEaXNwbGF5T2JqZWN0cy4gVGhlc2UgcGx1Z2lucyBhcmUgdXNlZnVsIGZvclxuICogYXN5bmNocm9ub3VzbHkgcHJlcGFyaW5nIGFuZCB1cGxvYWRpbmcgdG8gdGhlIEdQVSBhc3NldHMsIHRleHR1cmVzLCBncmFwaGljcyB3YWl0aW5nIHRvIGJlIGRpc3BsYXllZC5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhlc2UgcGx1Z2lucyBkaXJlY3RseS4gSXQgaXMgYXZhaWxhYmxlIGZyb20gdGhlIGByZW5kZXJlci5wbHVnaW5zYCBwcm9wZXJ0eS5cbiAqIFNlZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlciNwbHVnaW5zfSBvciB7QGxpbmsgUElYSS5SZW5kZXJlciNwbHVnaW5zfS5cbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBEb24ndCBzdGFydCByZW5kZXJpbmcgcmlnaHQgYXdheVxuICogYXBwLnN0b3AoKTtcbiAqXG4gKiAvLyBjcmVhdGUgYSBkaXNwbGF5IG9iamVjdFxuICogY29uc3QgcmVjdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4MDBmZjAwKVxuICogICAgIC5kcmF3UmVjdCg0MCwgNDAsIDIwMCwgMjAwKTtcbiAqXG4gKiAvLyBBZGQgdG8gdGhlIHN0YWdlXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQocmVjdCk7XG4gKlxuICogLy8gRG9uJ3Qgc3RhcnQgcmVuZGVyaW5nIHVudGlsIHRoZSBncmFwaGljIGlzIHVwbG9hZGVkIHRvIHRoZSBHUFVcbiAqIGFwcC5yZW5kZXJlci5wbHVnaW5zLnByZXBhcmUudXBsb2FkKGFwcC5zdGFnZSwgKCkgPT4ge1xuICogICAgIGFwcC5zdGFydCgpO1xuICogfSk7XG4gKiBAbmFtZXNwYWNlIFBJWEkucHJlcGFyZVxuICovXG5cbmV4cG9ydCB7IEJhc2VQcmVwYXJlLCBDb3VudExpbWl0ZXIsIFByZXBhcmUsIFRpbWVMaW1pdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVwYXJlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9hcHAgLSB2NS4xLjFcbiAqIENvbXBpbGVkIEZyaSwgMDIgQXVnIDIwMTkgMjM6MjA6MjMgVVRDXG4gKlxuICogQHBpeGkvYXBwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBjbGFzcyB0byBjcmVhdGUgYSBuZXcgUElYSSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlciBhbmQgcm9vdCBjb250YWluZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gQWRkIHRoZSB2aWV3IHRvIHRoZSBET01cbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIGV4LCBhZGQgZGlzcGxheSBvYmplY3RzXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQoUElYSS5TcHJpdGUuZnJvbSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBsaWNhdGlvbiA9IGZ1bmN0aW9uIEFwcGxpY2F0aW9uKG9wdGlvbnMpXG57XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAvLyBUaGUgZGVmYXVsdCBvcHRpb25zXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBmb3JjZUNhbnZhczogZmFsc2UsXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlci5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlcmVyfFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSByb290IGRpc3BsYXkgY29udGFpbmVyIHRoYXQncyByZW5kZXJlZC5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgKi9cbiAgICB0aGlzLnN0YWdlID0gbmV3IENvbnRhaW5lcigpO1xuXG4gICAgLy8gaW5zdGFsbCBwbHVnaW5zIGhlcmVcbiAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5mb3JFYWNoKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgcGx1Z2luLmluaXQuY2FsbCh0aGlzJDEsIG9wdGlvbnMpO1xuICAgIH0pO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdmlldzogeyBjb25maWd1cmFibGU6IHRydWUgfSxzY3JlZW46IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBSZWdpc3RlciBhIG1pZGRsZXdhcmUgcGx1Z2luIGZvciB0aGUgYXBwbGljYXRpb25cbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7UElYSS5BcHBsaWNhdGlvbi5QbHVnaW59IHBsdWdpbiAtIFBsdWdpbiBiZWluZyBpbnN0YWxsZWRcbiAqL1xuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiByZWdpc3RlclBsdWdpbiAocGx1Z2luKVxue1xuICAgIEFwcGxpY2F0aW9uLl9wbHVnaW5zLnB1c2gocGx1Z2luKTtcbn07XG5cbi8qKlxuICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICovXG5BcHBsaWNhdGlvbi5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyICgpXG57XG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XG59O1xuXG4vKipcbiAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIncyBjYW52YXMgZWxlbWVudC5cbiAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICogQHJlYWRvbmx5XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy52aWV3LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudmlldztcbn07XG5cbi8qKlxuICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIHNjcmVlbiByZWN0YW5nbGUuIEl0cyBzYWZlIHRvIHVzZSBhcyBgZmlsdGVyQXJlYWAgb3IgYGhpdEFyZWFgIGZvciB0aGUgd2hvbGUgc2NyZWVuLlxuICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gKiBAcmVhZG9ubHlcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnNjcmVlbi5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLnNjcmVlbjtcbn07XG5cbi8qKlxuICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtyZW1vdmVWaWV3PWZhbHNlXSBBdXRvbWF0aWNhbGx5IHJlbW92ZSBjYW52YXMgZnJvbSBET00uXG4gKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbc3RhZ2VPcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ3N0YWdlT3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICovXG5BcHBsaWNhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKHJlbW92ZVZpZXcpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLy8gRGVzdHJveSBwbHVnaW5zIGluIHRoZSBvcHBvc2l0ZSBvcmRlclxuICAgIC8vIHdoaWNoIHRoZXkgd2VyZSBjb25zdHJ1Y3RlZFxuICAgIHZhciBwbHVnaW5zID0gQXBwbGljYXRpb24uX3BsdWdpbnMuc2xpY2UoMCk7XG5cbiAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICBwbHVnaW4uZGVzdHJveS5jYWxsKHRoaXMkMSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnN0YWdlLmRlc3Ryb3koKTtcbiAgICB0aGlzLnN0YWdlID0gbnVsbDtcblxuICAgIHRoaXMucmVuZGVyZXIuZGVzdHJveShyZW1vdmVWaWV3KTtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblxuICAgIHRoaXMuX29wdGlvbnMgPSBudWxsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEFwcGxpY2F0aW9uLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb25cbiAqIEB0eXBlZGVmIHtvYmplY3R9IFBsdWdpblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gaW5pdCAtIENhbGxlZCB3aGVuIEFwcGxpY2F0aW9uIGlzIGNvbnN0cnVjdGVkLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2UuXG4gKiAgUGFzc2VzIGluIGBvcHRpb25zYCBhcyB0aGUgb25seSBhcmd1bWVudCwgd2hpY2ggYXJlIEFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBkZXN0cm95IC0gQ2FsbGVkIHdoZW4gZGVzdHJveWluZyBBcHBsaWNhdGlvbiwgc2NvcGVkIHRvIEFwcGxpY2F0aW9uIGluc3RhbmNlXG4gKi9cblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEB0eXBlIHtQSVhJLkFwcGxpY2F0aW9uLlBsdWdpbltdfVxuICovXG5BcHBsaWNhdGlvbi5fcGx1Z2lucyA9IFtdO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbnZhciBSZXNpemVQbHVnaW4gPSBmdW5jdGlvbiBSZXNpemVQbHVnaW4gKCkge307XG5cblJlc2l6ZVBsdWdpbi5pbml0ID0gZnVuY3Rpb24gaW5pdCAob3B0aW9ucylcbntcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZWxlbWVudCBvciB3aW5kb3cgdG8gcmVzaXplIHRoZSBhcHBsaWNhdGlvbiB0by5cbiAgICAgKiBAdHlwZSB7V2luZG93fEhUTUxFbGVtZW50fVxuICAgICAqIEBuYW1lIHJlc2l6ZVRvXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyZXNpemVUbycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRvbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gZG9tO1xuICAgICAgICAgICAgICAgIGlmIChkb20pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJZiBgcmVzaXplVG9gIGlzIHNldCwgY2FsbGluZyB0aGlzIGZ1bmN0aW9uXG4gICAgICogd2lsbCByZXNpemUgdG8gdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhhdCBlbGVtZW50LlxuICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNyZXNpemVcbiAgICAgKi9cbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMkMS5fcmVzaXplVG8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFJlc2l6ZSB0byB0aGUgd2luZG93XG4gICAgICAgICAgICBpZiAodGhpcyQxLl9yZXNpemVUbyA9PT0gd2luZG93KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5yZW5kZXJlci5yZXNpemUoXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzaXplIHRvIG90aGVyIEhUTUwgZW50aXRpZXNcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEucmVuZGVyZXIucmVzaXplKFxuICAgICAgICAgICAgICAgICAgICB0aGlzJDEuX3Jlc2l6ZVRvLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICB0aGlzJDEuX3Jlc2l6ZVRvLmNsaWVudEhlaWdodFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gT24gcmVzaXplXG4gICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgIHRoaXMucmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZVRvIHx8IG51bGw7XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqL1xuUmVzaXplUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5yZXNpemVUbyA9IG51bGw7XG4gICAgdGhpcy5yZXNpemUgPSBudWxsO1xufTtcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oUmVzaXplUGx1Z2luKTtcblxuZXhwb3J0IHsgQXBwbGljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogcmVzb3VyY2UtbG9hZGVyIC0gdjMuMC4xXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktc291bmRcbiAqIENvbXBpbGVkIFR1ZSwgMDIgSnVsIDIwMTkgMTQ6MDY6MTggVVRDXG4gKlxuICogcmVzb3VyY2UtbG9hZGVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHBhcnNlVXJpIGZyb20gJ3BhcnNlLXVyaSc7XG5pbXBvcnQgU2lnbmFsIGZyb20gJ21pbmktc2lnbmFscyc7XG5cbi8qKlxuICogU21hbGxlciB2ZXJzaW9uIG9mIHRoZSBhc3luYyBsaWJyYXJ5IGNvbnN0cnVjdHMuXG4gKlxuICogQG5hbWVzcGFjZSBhc3luY1xuICovXG5cbi8qKlxuICogTm9vcCBmdW5jdGlvblxuICpcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIGFzeW5jXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkge31cbi8qIGVtcHR5ICovXG5cbi8qKlxuICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIGVhY2hTZXJpZXNcbiAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcnJheSAtIEFycmF5IHRvIGl0ZXJhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBpdGVyYXRvciAtIEZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZWxlbWVudC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGRvbmUsIG9yIG9uIGVycm9yLlxuICogQHBhcmFtIHtib29sZWFufSBbZGVmZXJOZXh0PWZhbHNlXSAtIEJyZWFrIHN5bmNocm9ub3VzIGVhY2ggbG9vcCBieSBjYWxsaW5nIG5leHQgd2l0aCBhIHNldFRpbWVvdXQgb2YgMS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGVhY2hTZXJpZXMoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gIHZhciBpID0gMDtcbiAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcblxuICAoZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICBpZiAoZXJyIHx8IGkgPT09IGxlbikge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZGVmZXJOZXh0KSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICB9LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgfVxuICB9KSgpO1xufVxuLyoqXG4gKiBFbnN1cmVzIGEgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAaWdub3JlXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIHdyYXBwaW5nIGZ1bmN0aW9uLlxuICovXG5cbmZ1bmN0aW9uIG9ubHlPbmNlKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgICBpZiAoZm4gPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgd2FzIGFscmVhZHkgY2FsbGVkLicpO1xuICAgIH1cblxuICAgIHZhciBjYWxsRm4gPSBmbjtcbiAgICBmbiA9IG51bGw7XG4gICAgY2FsbEZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4vKipcbiAqIEFzeW5jIHF1ZXVlIGltcGxlbWVudGF0aW9uLFxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQGZ1bmN0aW9uIHF1ZXVlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB3b3JrZXIgLSBUaGUgd29ya2VyIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdGFzay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb25jdXJyZW5jeSAtIEhvdyBtYW55IHdvcmtlcnMgdG8gcnVuIGluIHBhcnJhbGxlbC5cbiAqIEByZXR1cm4geyp9IFRoZSBhc3luYyBxdWV1ZSBvYmplY3QuXG4gKi9cblxuXG5mdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgIGNvbmN1cnJlbmN5ID0gMTtcbiAgfSBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ29uY3VycmVuY3kgbXVzdCBub3QgYmUgemVybycpO1xuICB9XG5cbiAgdmFyIHdvcmtlcnMgPSAwO1xuICB2YXIgcSA9IHtcbiAgICBfdGFza3M6IFtdLFxuICAgIGNvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSxcbiAgICBzYXR1cmF0ZWQ6IF9ub29wLFxuICAgIHVuc2F0dXJhdGVkOiBfbm9vcCxcbiAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICBlbXB0eTogX25vb3AsXG4gICAgZHJhaW46IF9ub29wLFxuICAgIGVycm9yOiBfbm9vcCxcbiAgICBzdGFydGVkOiBmYWxzZSxcbiAgICBwYXVzZWQ6IGZhbHNlLFxuICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGtpbGw6IGZ1bmN0aW9uIGtpbGwoKSB7XG4gICAgICB3b3JrZXJzID0gMDtcbiAgICAgIHEuZHJhaW4gPSBfbm9vcDtcbiAgICAgIHEuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgcS5fdGFza3MgPSBbXTtcbiAgICB9LFxuICAgIHVuc2hpZnQ6IGZ1bmN0aW9uIHVuc2hpZnQoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgIF9pbnNlcnQoZGF0YSwgdHJ1ZSwgY2FsbGJhY2spO1xuICAgIH0sXG4gICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgIHZhciB0YXNrID0gcS5fdGFza3Muc2hpZnQoKTtcblxuICAgICAgICBpZiAocS5fdGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcS5lbXB0eSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgIGlmICh3b3JrZXJzID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdvcmtlcih0YXNrLmRhdGEsIG9ubHlPbmNlKF9uZXh0KHRhc2spKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgfSxcbiAgICBydW5uaW5nOiBmdW5jdGlvbiBydW5uaW5nKCkge1xuICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgfSxcbiAgICBpZGxlOiBmdW5jdGlvbiBpZGxlKCkge1xuICAgICAgcmV0dXJuIHEuX3Rhc2tzLmxlbmd0aCArIHdvcmtlcnMgPT09IDA7XG4gICAgfSxcbiAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxLnBhdXNlZCA9IHRydWU7XG4gICAgfSxcbiAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICAgIGlmIChxLnBhdXNlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBxLnBhdXNlZCA9IGZhbHNlOyAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG5cbiAgICAgIGZvciAodmFyIHcgPSAxOyB3IDw9IHEuY29uY3VycmVuY3k7IHcrKykge1xuICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gX2luc2VydChkYXRhLCBpbnNlcnRBdEZyb250LCBjYWxsYmFjaykge1xuICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cblxuICAgIHEuc3RhcnRlZCA9IHRydWU7XG5cbiAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBxLmRyYWluKCk7XG4gICAgICB9LCAxKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaXRlbSA9IHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcFxuICAgIH07XG5cbiAgICBpZiAoaW5zZXJ0QXRGcm9udCkge1xuICAgICAgcS5fdGFza3MudW5zaGlmdChpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxLnByb2Nlc3MoKTtcbiAgICB9LCAxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9uZXh0KHRhc2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdvcmtlcnMgLT0gMTtcbiAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkodGFzaywgYXJndW1lbnRzKTtcblxuICAgICAgaWYgKGFyZ3VtZW50c1swXSAhPSBudWxsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgcS5lcnJvcihhcmd1bWVudHNbMF0sIHRhc2suZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh3b3JrZXJzIDw9IHEuY29uY3VycmVuY3kgLSBxLmJ1ZmZlcikge1xuICAgICAgICBxLnVuc2F0dXJhdGVkKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChxLmlkbGUoKSkge1xuICAgICAgICBxLmRyYWluKCk7XG4gICAgICB9XG5cbiAgICAgIHEucHJvY2VzcygpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gcTtcbn1cblxudmFyIGFzeW5jID0gKHtcbiAgICBlYWNoU2VyaWVzOiBlYWNoU2VyaWVzLFxuICAgIHF1ZXVlOiBxdWV1ZVxufSk7XG5cbi8vIGEgc2ltcGxlIGluLW1lbW9yeSBjYWNoZSBmb3IgcmVzb3VyY2VzXG52YXIgY2FjaGUgPSB7fTtcbi8qKlxuICogQSBzaW1wbGUgaW4tbWVtb3J5IGNhY2hlIGZvciByZXNvdXJjZS5cbiAqXG4gKiBAbWVtYmVyb2YgbWlkZGxld2FyZVxuICogQGZ1bmN0aW9uIGNhY2hpbmdcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBMb2FkZXIsIG1pZGRsZXdhcmUgfSBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICogbG9hZGVyLnVzZShtaWRkbGV3YXJlLmNhY2hpbmcpO1xuICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBDdXJyZW50IFJlc291cmNlXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5cbmZ1bmN0aW9uIGNhY2hpbmcocmVzb3VyY2UsIG5leHQpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICAvLyBpZiBjYWNoZWQsIHRoZW4gc2V0IGRhdGEgYW5kIGNvbXBsZXRlIHRoZSByZXNvdXJjZVxuICBpZiAoY2FjaGVbcmVzb3VyY2UudXJsXSkge1xuICAgIHJlc291cmNlLmRhdGEgPSBjYWNoZVtyZXNvdXJjZS51cmxdO1xuICAgIHJlc291cmNlLmNvbXBsZXRlKCk7IC8vIG1hcmtzIHJlc291cmNlIGxvYWQgY29tcGxldGUgYW5kIHN0b3BzIHByb2Nlc3NpbmcgYmVmb3JlIG1pZGRsZXdhcmVzXG4gIH0gLy8gaWYgbm90IGNhY2hlZCwgd2FpdCBmb3IgY29tcGxldGUgYW5kIHN0b3JlIGl0IGluIHRoZSBjYWNoZS5cbiAgZWxzZSB7XG4gICAgICByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2FjaGVbX3RoaXMudXJsXSA9IF90aGlzLmRhdGE7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgbmV4dCgpO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbnZhciB1c2VYZHIgPSAhISh3aW5kb3cuWERvbWFpblJlcXVlc3QgJiYgISgnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKSkpO1xudmFyIHRlbXBBbmNob3IgPSBudWxsOyAvLyBzb21lIHN0YXR1cyBjb25zdGFudHNcblxudmFyIFNUQVRVU19OT05FID0gMDtcbnZhciBTVEFUVVNfT0sgPSAyMDA7XG52YXIgU1RBVFVTX0VNUFRZID0gMjA0O1xudmFyIFNUQVRVU19JRV9CVUdfRU1QVFkgPSAxMjIzO1xudmFyIFNUQVRVU19UWVBFX09LID0gMjsgLy8gbm9vcFxuXG5mdW5jdGlvbiBfbm9vcCQxKCkge31cbi8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG5cbnZhciBSZXNvdXJjZSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgKi9cbiAgUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uTG9hZFR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25Mb2FkVHlwZShleHRuYW1lLCBsb2FkVHlwZSkge1xuICAgIHNldEV4dE1hcChSZXNvdXJjZS5fbG9hZFR5cGVNYXAsIGV4dG5hbWUsIGxvYWRUeXBlKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB4aHJUeXBlIC0gVGhlIHhociB0eXBlIHRvIHNldCBpdCB0by5cbiAgICovXG4gIDtcblxuICBSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uWGhyVHlwZShleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIGZvciBhdWRpby92aWRlbyBsb2FkcyB5b3UgY2FuIHBhc3NcbiAgICogICAgICBhbiBhcnJheSBvZiBzb3VyY2VzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAqICAgICAgYmUgbG9hZGVkP1xuICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbb3B0aW9ucy54aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICogQHBhcmFtIHtSZXNvdXJjZS5JTWV0YWRhdGF9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAqL1xuICA7XG5cbiAgZnVuY3Rpb24gUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgIH1cblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLl9mbGFncyA9IDA7IC8vIHNldCBkYXRhIHVybCBmbGFnLCBuZWVkcyB0byBiZSBzZXQgZWFybHkgZm9yIHNvbWUgX2RldGVybWluZVggY2hlY2tzIHRvIHdvcmsuXG5cbiAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCwgdXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cblxuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgLyoqXG4gICAgICogVGhlIHVybCB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cblxuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIC8qKlxuICAgICAqIFRoZSBleHRlbnNpb24gdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuX2dldEV4dGVuc2lvbigpO1xuICAgIC8qKlxuICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHthbnl9XG4gICAgICovXG5cbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG5cbiAgICB0aGlzLmNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICdhbm9ueW1vdXMnIDogb3B0aW9ucy5jcm9zc09yaWdpbjtcbiAgICAvKipcbiAgICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXMgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lXG4gICAgICogaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpcyBzZXQgdG8gYDBgXG4gICAgICogdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuXG4gICAgdGhpcy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IDA7XG4gICAgLyoqXG4gICAgICogVGhlIG1ldGhvZCBvZiBsb2FkaW5nIHRvIHVzZSBmb3IgdGhpcyByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLkxPQURfVFlQRX1cbiAgICAgKi9cblxuICAgIHRoaXMubG9hZFR5cGUgPSBvcHRpb25zLmxvYWRUeXBlIHx8IHRoaXMuX2RldGVybWluZUxvYWRUeXBlKCk7XG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgdXNlZCB0byBsb2FkIHRoZSByZXNvdXJjZSB2aWEgWEhSLiBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuXG4gICAgdGhpcy54aHJUeXBlID0gb3B0aW9ucy54aHJUeXBlO1xuICAgIC8qKlxuICAgICAqIEV4dHJhIGluZm8gZm9yIG1pZGRsZXdhcmUsIGFuZCBjb250cm9sbGluZyBzcGVjaWZpY3MgYWJvdXQgaG93IHRoZSByZXNvdXJjZSBsb2Fkcy5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAsIHRoZSBSZXNvdXJjZSBjbGFzcyB0YWtlcyBvd25lcnNoaXAgb2YgaXQuXG4gICAgICogTWVhbmluZyBpdCB3aWxsIG1vZGlmeSBpdCBhcyBpdCBzZWVzIGZpdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLklNZXRhZGF0YX1cbiAgICAgKi9cblxuICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuICAgIC8qKlxuICAgICAqIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgKGlmIGFueSkuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgKi9cblxuICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1hNTEh0dHBSZXF1ZXN0fVxuICAgICAqL1xuXG4gICAgdGhpcy54aHIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBjaGlsZCByZXNvdXJjZXMgdGhpcyByZXNvdXJjZSBvd25zLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge1Jlc291cmNlLlRZUEV9XG4gICAgICovXG5cbiAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlVOS05PV047XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG5cbiAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuICAgIC8qKlxuICAgICAqIFRoZSBgZGVxdWV1ZWAgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIGFzeW5jIHF1ZXVlIGRlcXVldWUgbWV0aG9kXG4gICAgICogdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9kZXF1ZXVlID0gX25vb3AkMTtcbiAgICAvKipcbiAgICAgKiBVc2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIG9uIGxvYWQgYmluZGluZyB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgKi9cblxuICAgIHRoaXMuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lciBmb3IgZWxlbWVudCBsb2FkcyB0byBjaGVjayBpZiB0aGV5IHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cblxuICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IDA7XG4gICAgLyoqXG4gICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9vbkVycm9yYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICovXG5cbiAgICB0aGlzLl9ib3VuZE9uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogVGhlIGBfb25Qcm9ncmVzc2AgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBgX29uVGltZW91dGAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRPblRpbWVvdXQgPSB0aGlzLl9vblRpbWVvdXQuYmluZCh0aGlzKTsgLy8geGhyIGNhbGxiYWNrc1xuXG4gICAgdGhpcy5fYm91bmRYaHJPbkVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0ID0gdGhpcy5feGhyT25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5fYm91bmRYaHJPbkFib3J0ID0gdGhpcy5feGhyT25BYm9ydC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2JvdW5kWGhyT25Mb2FkID0gdGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblN0YXJ0U2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PblN0YXJ0U2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIGVhY2ggdGltZSBwcm9ncmVzcyBvZiB0aGlzIHJlc291cmNlIGxvYWQgdXBkYXRlcy5cbiAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAqIHNvIHNvbWV0aW1lcyBpdCBtYXkgbm90IGJlIGF2YWlsYWJsZS4gSWYgdGhlIHJlc291cmNlXG4gICAgICogaXMgYmVpbmcgbG9hZGVkIG9uIGEgbW9kZXJuIGJyb3dzZXIsIHVzaW5nIFhIUiwgYW5kIHRoZSByZW1vdGUgc2VydmVyXG4gICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG4gICAgLyoqXG4gICAgICogRGlzcGF0Y2hlZCBvbmNlIHRoaXMgcmVzb3VyY2UgaGFzIGxvYWRlZCwgaWYgdGhlcmUgd2FzIGFuIGVycm9yIGl0IHdpbGxcbiAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIGFmdGVyIHRoaXMgcmVzb3VyY2UgaGFzIGhhZCBhbGwgdGhlICphZnRlciogbWlkZGxld2FyZSBydW4gb24gaXQuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICovXG5cbiAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IFNpZ25hbCgpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAqL1xuXG4gIC8qKlxuICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICogQHR5cGVkZWYge29iamVjdH0gSU1ldGFkYXRhXG4gICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfSBbbWltZVR5cGVdIC0gVGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBzb3VyY2UgZWxlbWVudFxuICAgKiAgICAgIG9mIGEgdmlkZW8vYXVkaW8gZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGxcbiAgICogICAgICB3aGVyZSBlYWNoIGluZGV4IGlzIHRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgY29ycmVzcG9uZGluZyB1cmwgaW5kZXguXG4gICAqL1xuXG4gIC8qKlxuICAgKiBTdG9yZXMgd2hldGhlciBvciBub3QgdGhpcyB1cmwgaXMgYSBkYXRhIHVybC5cbiAgICpcbiAgICogQHJlYWRvbmx5XG4gICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAqL1xuXG5cbiAgdmFyIF9wcm90byA9IFJlc291cmNlLnByb3RvdHlwZTtcblxuICAvKipcbiAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgKlxuICAgKi9cbiAgX3Byb3RvLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcblxuICAgIHRoaXMuX2ZpbmlzaCgpO1xuICB9XG4gIC8qKlxuICAgKiBBYm9ydHMgdGhlIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZSwgd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHVzZSBmb3IgdGhlIGVycm9yXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgIC8vIGFib3J0IGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGlnbm9yZSBzdWJzZXF1ZW50IGNhbGxzLlxuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBzdG9yZSBlcnJvclxuXG5cbiAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpOyAvLyBjbGVhciBldmVudHMgYmVmb3JlIGNhbGxpbmcgYWJvcnRzXG5cbiAgICB0aGlzLl9jbGVhckV2ZW50cygpOyAvLyBhYm9ydCB0aGUgYWN0dWFsIGxvYWRpbmdcblxuXG4gICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy54ZHIpIHtcbiAgICAgIHRoaXMueGRyLmFib3J0KCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgIHRoaXMuZGF0YS5zcmMgPSBSZXNvdXJjZS5FTVBUWV9HSUY7XG4gICAgICB9IC8vIG11bHRpLXNvdXJjZVxuICAgICAgZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKHRoaXMuZGF0YS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlQ2hpbGQodGhpcy5kYXRhLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gLy8gZG9uZSBub3cuXG5cblxuICAgIHRoaXMuX2ZpbmlzaCgpO1xuICB9XG4gIC8qKlxuICAgKiBLaWNrcyBvZmYgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLiBUaGlzIG1ldGhvZCBpcyBhc3luY2hyb25vdXMuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NiXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGNhbGwgb25jZSB0aGUgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICBpZiAoY2IpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKF90aGlzKTtcbiAgICAgICAgfSwgMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgdHJ1ZSk7XG5cbiAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7IC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG5cbiAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gZmFsc2UgfHwgdHlwZW9mIHRoaXMuY3Jvc3NPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpO1xuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy5sb2FkVHlwZSkge1xuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0U6XG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG5cbiAgICAgICAgdGhpcy5fbG9hZEVsZW1lbnQoJ2ltYWdlJyk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPOlxuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuXG4gICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5WSURFTzpcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5WSURFTztcblxuICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSOlxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICB0aGlzLl9sb2FkWGRyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2hhc0ZsYWcgPSBmdW5jdGlvbiBfaGFzRmxhZyhmbGFnKSB7XG4gICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIGZsYWcpICE9PSAwO1xuICB9XG4gIC8qKlxuICAgKiAoVW4pU2V0cyB0aGUgZmxhZy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byAodW4pc2V0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3NldEZsYWcgPSBmdW5jdGlvbiBfc2V0RmxhZyhmbGFnLCB2YWx1ZSkge1xuICAgIHRoaXMuX2ZsYWdzID0gdmFsdWUgPyB0aGlzLl9mbGFncyB8IGZsYWcgOiB0aGlzLl9mbGFncyAmIH5mbGFnO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgYWxsIHRoZSBldmVudHMgZnJvbSB0aGUgdW5kZXJseWluZyBsb2FkaW5nIHNvdXJjZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2NsZWFyRXZlbnRzID0gZnVuY3Rpb24gX2NsZWFyRXZlbnRzKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9lbGVtZW50VGltZXIpO1xuXG4gICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnhocikge1xuICAgICAgaWYgKHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy54aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgIHRoaXMueGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLnhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogRmluYWxpemVzIHRoZSBsb2FkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZmluaXNoID0gZnVuY3Rpb24gX2ZpbmlzaCgpIHtcbiAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUsIHRydWUpO1xuXG4gICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIGEgc2luZ2xlIHNvdXJjZSxcbiAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZEVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZEVsZW1lbnQodHlwZSkge1xuICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2ltYWdlJyAmJiB0eXBlb2Ygd2luZG93LkltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcblxuICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fYm91bmRPblRpbWVvdXQsIHRoaXMudGltZW91dCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIG11bHRpcGxlIHNvdXJjZXMsXG4gICAqIGxpa2UgYW4gSFRNTEF1ZGlvRWxlbWVudCBvciBIVE1MVmlkZW9FbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFNvdXJjZUVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiB0eXBlb2Ygd2luZG93LkF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5kYXRhID0gbmV3IEF1ZGlvKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGF0YSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5hYm9ydChcIlVuc3VwcG9ydGVkIGVsZW1lbnQ6IFwiICsgdHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICB0aGlzLmRhdGEuc3JjID0gQXJyYXkuaXNBcnJheSh0aGlzLnVybCkgPyB0aGlzLnVybFswXSA6IHRoaXMudXJsO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICB2YXIgbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBfbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcbiAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShfbWltZVR5cGVzKSA/IF9taW1lVHlwZXNbMF0gOiBfbWltZVR5cGVzKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgIHRoaXMuZGF0YS5sb2FkKCk7XG5cbiAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkWGhyID0gZnVuY3Rpb24gX2xvYWRYaHIoKSB7XG4gICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuXG4gICAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcbiAgICB4aHIudGltZW91dCA9IHRoaXMudGltZW91dDsgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAvLyAqY291Z2gqIHNhZmFyaSAqY291Z2gqIGNhbid0IGRlYWwgd2l0aCBpdC5cblxuICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLnhoclR5cGU7XG4gICAgfVxuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWVvdXQnLCB0aGlzLl9ib3VuZFhock9uVGltZW91dCwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG4gIC8qKlxuICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYRG9tYWluUmVxdWVzdC4gVGhpcyBpcyBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byBzdXBwb3J0IElFOSAoZ3Jvc3MpLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fbG9hZFhkciA9IGZ1bmN0aW9uIF9sb2FkWGRyKCkge1xuICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgfVxuXG4gICAgdmFyIHhkciA9IHRoaXMueGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmZXcgcXVpcmtzLiBPY2Nhc2lvbmFsbHkgaXQgd2lsbCBhYm9ydCByZXF1ZXN0c1xuICAgIC8vIEEgd2F5IHRvIGF2b2lkIHRoaXMgaXMgdG8gbWFrZSBzdXJlIEFMTCBjYWxsYmFja3MgYXJlIHNldCBldmVuIGlmIG5vdCB1c2VkXG4gICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU3ODY5NjYveGRvbWFpbnJlcXVlc3QtYWJvcnRzLXBvc3Qtb24taWUtOVxuXG4gICAgeGRyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQgfHwgNTAwMDsgLy8gWERSIG5lZWRzIGEgdGltZW91dCB2YWx1ZSBvciBpdCBicmVha3MgaW4gSUU5XG5cbiAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICB4ZHIub250aW1lb3V0ID0gdGhpcy5fYm91bmRYaHJPblRpbWVvdXQ7XG4gICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7IC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgLy8gWERvbWFpblJlcXVlc3RzIGFyZSBiZWluZyBzZW50IGF0IHRoZSBzYW1lIHRpbWUuXG4gICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHhkci5zZW5kKCk7XG4gICAgfSwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzb3VyY2UgdXNlZCBpbiBsb2FkaW5nIHZpYSBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBlbGVtZW50IHR5cGUgKHZpZGVvIG9yIGF1ZGlvKS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBzb3VyY2UgVVJMIHRvIGxvYWQgZnJvbS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IFttaW1lXSAtIFRoZSBtaW1lIHR5cGUgb2YgdGhlIHZpZGVvXG4gICAqIEByZXR1cm4ge0hUTUxTb3VyY2VFbGVtZW50fSBUaGUgc291cmNlIGVsZW1lbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiBfY3JlYXRlU291cmNlKHR5cGUsIHVybCwgbWltZSkge1xuICAgIGlmICghbWltZSkge1xuICAgICAgbWltZSA9IHR5cGUgKyBcIi9cIiArIHRoaXMuX2dldEV4dGVuc2lvbih1cmwpO1xuICAgIH1cblxuICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgICBzb3VyY2Uuc3JjID0gdXJsO1xuICAgIHNvdXJjZS50eXBlID0gbWltZTtcbiAgICByZXR1cm4gc291cmNlO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYSBsb2FkIGVycm9ycyBvdXQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uRXJyb3IgPSBmdW5jdGlvbiBfb25FcnJvcihldmVudCkge1xuICAgIHRoaXMuYWJvcnQoXCJGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiBcIiArIGV2ZW50LnRhcmdldC5ub2RlTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQgb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblByb2dyZXNzID0gZnVuY3Rpb24gX29uUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsIGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhIHRpbWVvdXQgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9vblRpbWVvdXQgPSBmdW5jdGlvbiBfb25UaW1lb3V0KCkge1xuICAgIHRoaXMuYWJvcnQoXCJMb2FkIHRpbWVkIG91dC5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uRXJyb3IgPSBmdW5jdGlvbiBfeGhyT25FcnJvcigpIHtcbiAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgdGhpcy5hYm9ydChyZXFUeXBlKHhocikgKyBcIiBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiBcIiArIHhoci5zdGF0dXMgKyBcIiwgdGV4dDogXFxcIlwiICsgeGhyLnN0YXR1c1RleHQgKyBcIlxcXCJcIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uVGltZW91dCA9IGZ1bmN0aW9uIF94aHJPblRpbWVvdXQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB0aW1lZCBvdXQuXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgaWYgYW4gYWJvcnQgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl94aHJPbkFib3J0ID0gZnVuY3Rpb24gX3hock9uQWJvcnQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci5cIik7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGRhdGEgc3VjY2Vzc2Z1bGx5IGxvYWRzIGZyb20gYW4geGhyL3hkciByZXF1ZXN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0TG9hZEV2ZW50fEV2ZW50fSBldmVudCAtIExvYWQgZXZlbnRcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX3hock9uTG9hZCA9IGZ1bmN0aW9uIF94aHJPbkxvYWQoKSB7XG4gICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgIHZhciB0ZXh0ID0gJyc7XG4gICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcblxuICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB4aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgdHlwZW9mIHhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICB9IC8vIHN0YXR1cyBjYW4gYmUgMCB3aGVuIHVzaW5nIHRoZSBgZmlsZTovL2AgcHJvdG9jb2wgc28gd2UgYWxzbyBjaGVjayBpZiBhIHJlc3BvbnNlIGlzIHNldC5cbiAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cblxuXG4gICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgfSAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfSUVfQlVHX0VNUFRZKSB7XG4gICAgICAgIHN0YXR1cyA9IFNUQVRVU19FTVBUWTtcbiAgICAgIH1cblxuICAgIHZhciBzdGF0dXNUeXBlID0gc3RhdHVzIC8gMTAwIHwgMDtcblxuICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5URVhUO1xuICAgICAgfSAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KFwiRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiBcIiArIGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfSAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICh3aW5kb3cuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkb21wYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L3htbCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkaXY7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5hYm9ydChcIkVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiBcIiArIGUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBvdGhlciB0eXBlcyBqdXN0IHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlIHx8IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWJvcnQoXCJbXCIgKyB4aHIuc3RhdHVzICsgXCJdIFwiICsgeGhyLnN0YXR1c1RleHQgKyBcIjogXCIgKyB4aHIucmVzcG9uc2VVUkwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY29tcGxldGUoKTtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4gPSBmdW5jdGlvbiBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpIHtcbiAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gLy8gQSBzYW5kYm94ZWQgaWZyYW1lIHdpdGhvdXQgdGhlICdhbGxvdy1zYW1lLW9yaWdpbicgYXR0cmlidXRlIHdpbGwgaGF2ZSBhIHNwZWNpYWxcbiAgICAvLyBvcmlnaW4gZGVzaWduZWQgbm90IHRvIG1hdGNoIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sIGFuZCB3aWxsIGFsd2F5cyByZXF1aXJlXG4gICAgLy8gY3Jvc3NPcmlnaW4gcmVxdWVzdHMgcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBsb2NhdGlvbiBtYXRjaGVzLlxuXG5cbiAgICBpZiAod2luZG93Lm9yaWdpbiAhPT0gd2luZG93LmxvY2F0aW9uLm9yaWdpbikge1xuICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgIH0gLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cblxuXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9IC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG5cblxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBwYXJzZVVyaSh0ZW1wQW5jaG9yLmhyZWYsIHtcbiAgICAgIHN0cmljdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgc2FtZVBvcnQgPSAhdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnIHx8IHVybC5wb3J0ID09PSBsb2MucG9ydDtcbiAgICB2YXIgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyB1cmwucHJvdG9jb2wgKyBcIjpcIiA6ICcnOyAvLyBpZiBjcm9zcyBvcmlnaW5cblxuICAgIGlmICh1cmwuaG9zdCAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gVGhlIHJlc3BvbnNlVHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9kZXRlcm1pbmVYaHJUeXBlID0gZnVuY3Rpb24gX2RldGVybWluZVhoclR5cGUoKSB7XG4gICAgcmV0dXJuIFJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIHRoZSBsb2FkVHlwZSBvZiBhIHJlc291cmNlIGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7UmVzb3VyY2UuTE9BRF9UWVBFfSBUaGUgbG9hZFR5cGUgdG8gdXNlLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fZGV0ZXJtaW5lTG9hZFR5cGUgPSBmdW5jdGlvbiBfZGV0ZXJtaW5lTG9hZFR5cGUoKSB7XG4gICAgcmV0dXJuIFJlc291cmNlLl9sb2FkVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uX2dldEV4dGVuc2lvbiA9IGZ1bmN0aW9uIF9nZXRFeHRlbnNpb24oKSB7XG4gICAgdmFyIHVybCA9IHRoaXMudXJsO1xuICAgIHZhciBleHQgPSAnJztcblxuICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgdmFyIHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgdXJsLmluZGV4T2YoJzsnLCBzbGFzaEluZGV4KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcbiAgICAgIHZhciBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgdmFyIGluZGV4ID0gTWF0aC5taW4ocXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsIGhhc2hTdGFydCA+IC0xID8gaGFzaFN0YXJ0IDogdXJsLmxlbmd0aCk7XG4gICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIG1pbWUgdHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgcmVzcG9uc2VUeXBlIG9mXG4gICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1pbWUgdHlwZSB0byB1c2UuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9nZXRNaW1lRnJvbVhoclR5cGUgPSBmdW5jdGlvbiBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSOlxuICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9ibG9iJztcblxuICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVDpcbiAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi94bWwnO1xuXG4gICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT046XG4gICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcbiAgICB9XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc291cmNlLCBbe1xuICAgIGtleTogXCJpc0RhdGFVcmxcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICogbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQ29tcGxldGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAqIGFuZCBpcyBmYWxzZSBhZ2FpbiB3aGVuIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzTG9hZGluZ1wiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBSZXNvdXJjZTtcbn0oKTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuXG5SZXNvdXJjZS5TVEFUVVNfRkxBR1MgPSB7XG4gIE5PTkU6IDAsXG4gIERBVEFfVVJMOiAxIDw8IDAsXG4gIENPTVBMRVRFOiAxIDw8IDEsXG4gIExPQURJTkc6IDEgPDwgMlxufTtcbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuUmVzb3VyY2UuVFlQRSA9IHtcbiAgVU5LTk9XTjogMCxcbiAgSlNPTjogMSxcbiAgWE1MOiAyLFxuICBJTUFHRTogMyxcbiAgQVVESU86IDQsXG4gIFZJREVPOiA1LFxuICBURVhUOiA2XG59O1xuLyoqXG4gKiBUaGUgdHlwZXMgb2YgbG9hZGluZyBhIHJlc291cmNlIGNhbiB1c2UuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5cblJlc291cmNlLkxPQURfVFlQRSA9IHtcbiAgLyoqIFVzZXMgWE1MSHR0cFJlcXVlc3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIFhIUjogMSxcblxuICAvKiogVXNlcyBhbiBgSW1hZ2VgIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgSU1BR0U6IDIsXG5cbiAgLyoqIFVzZXMgYW4gYEF1ZGlvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIEFVRElPOiAzLFxuXG4gIC8qKiBVc2VzIGEgYFZpZGVvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gIFZJREVPOiA0XG59O1xuLyoqXG4gKiBUaGUgWEhSIHJlYWR5IHN0YXRlcywgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgLyoqIHN0cmluZyAqL1xuICBERUZBVUxUOiAndGV4dCcsXG5cbiAgLyoqIEFycmF5QnVmZmVyICovXG4gIEJVRkZFUjogJ2FycmF5YnVmZmVyJyxcblxuICAvKiogQmxvYiAqL1xuICBCTE9COiAnYmxvYicsXG5cbiAgLyoqIERvY3VtZW50ICovXG4gIERPQ1VNRU5UOiAnZG9jdW1lbnQnLFxuXG4gIC8qKiBPYmplY3QgKi9cbiAgSlNPTjogJ2pzb24nLFxuXG4gIC8qKiBTdHJpbmcgKi9cbiAgVEVYVDogJ3RleHQnXG59O1xuUmVzb3VyY2UuX2xvYWRUeXBlTWFwID0ge1xuICAvLyBpbWFnZXNcbiAgZ2lmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHBuZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICBibXA6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAganBnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIGpwZWc6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgdGlmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gIHRpZmY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgd2VicDogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICB0Z2E6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgc3ZnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICdzdmcreG1sJzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAvLyBmb3IgU1ZHIGRhdGEgdXJsc1xuICAvLyBhdWRpb1xuICBtcDM6IFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgb2dnOiBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gIHdhdjogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAvLyB2aWRlb3NcbiAgbXA0OiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gIHdlYm06IFJlc291cmNlLkxPQURfVFlQRS5WSURFT1xufTtcblJlc291cmNlLl94aHJUeXBlTWFwID0ge1xuICAvLyB4bWxcbiAgeGh0bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICBodG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgaHRtOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgeG1sOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgdG14OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgc3ZnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgLy8gVGhpcyB3YXMgYWRkZWQgdG8gaGFuZGxlIFRpbGVkIFRpbGVzZXQgWE1MLCBidXQgLnRzeCBpcyBhbHNvIGEgVHlwZVNjcmlwdCBSZWFjdCBDb21wb25lbnQuXG4gIC8vIFNpbmNlIGl0IGlzIHdheSBsZXNzIGxpa2VseSBmb3IgcGVvcGxlIHRvIGJlIGxvYWRpbmcgVHlwZVNjcmlwdCBmaWxlcyBpbnN0ZWFkIG9mIFRpbGVkIGZpbGVzLFxuICAvLyB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSBmaW5lLlxuICB0c3g6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAvLyBpbWFnZXNcbiAgZ2lmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBwbmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIGJtcDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAganBnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICBqcGVnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICB0aWY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRpZmY6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHdlYnA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gIHRnYTogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgLy8ganNvblxuICBqc29uOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OLFxuICAvLyB0ZXh0XG4gIHRleHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gIHR4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgLy8gZm9udHNcbiAgdHRmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG4gIG90ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSXG59OyAvLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gIH1cblxuICBpZiAoIWV4dG5hbWUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHJlcVR5cGUoeGhyKSB7XG4gIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuXG52YXIgX2tleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICpcbiAqIEBmdW5jdGlvbiBlbmNvZGVCaW5hcnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaW5wdXQgZGF0YSB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBiYXNlNjQgc3RyaW5nXG4gKi9cblxuZnVuY3Rpb24gZW5jb2RlQmluYXJ5KGlucHV0KSB7XG4gIHZhciBvdXRwdXQgPSAnJztcbiAgdmFyIGlueCA9IDA7XG5cbiAgd2hpbGUgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICB2YXIgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICB2YXIgZW5jb2RlZENoYXJJbmRleGVzID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgZm9yICh2YXIgam54ID0gMDsgam54IDwgYnl0ZWJ1ZmZlci5sZW5ndGg7ICsram54KSB7XG4gICAgICBpZiAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIHRocm93IGF3YXkgaGlnaC1vcmRlciBieXRlLCBhcyBkb2N1bWVudGVkIGF0OlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICBieXRlYnVmZmVyW2pueF0gPSBpbnB1dC5jaGFyQ29kZUF0KGlueCsrKSAmIDB4ZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBieXRlYnVmZmVyW2pueF0gPSAwO1xuICAgICAgfVxuICAgIH0gLy8gR2V0IGVhY2ggZW5jb2RlZCBjaGFyYWN0ZXIsIDYgYml0cyBhdCBhIHRpbWVcbiAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcblxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyOyAvLyBpbmRleCAyOiBzZWNvbmQgNiBiaXRzICgyIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDEgKyA0IG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMilcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9IChieXRlYnVmZmVyWzBdICYgMHgzKSA8PCA0IHwgYnl0ZWJ1ZmZlclsxXSA+PiA0OyAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuXG4gICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gKGJ5dGVidWZmZXJbMV0gJiAweDBmKSA8PCAyIHwgYnl0ZWJ1ZmZlclsyXSA+PiA2OyAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcblxuICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmOyAvLyBEZXRlcm1pbmUgd2hldGhlciBwYWRkaW5nIGhhcHBlbmVkLCBhbmQgYWRqdXN0IGFjY29yZGluZ2x5XG5cbiAgICB2YXIgcGFkZGluZ0J5dGVzID0gaW54IC0gKGlucHV0Lmxlbmd0aCAtIDEpO1xuXG4gICAgc3dpdGNoIChwYWRkaW5nQnl0ZXMpIHtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gNjQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDE6XG4gICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICAgIC8vIE5vIHBhZGRpbmcgLSBwcm9jZWVkXG4gICAgfSAvLyBOb3cgd2Ugd2lsbCBncmFiIGVhY2ggYXBwcm9wcmlhdGUgY2hhcmFjdGVyIG91dCBvZiBvdXIga2V5c3RyaW5nXG4gICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcblxuXG4gICAgZm9yICh2YXIgX2pueCA9IDA7IF9qbnggPCBlbmNvZGVkQ2hhckluZGV4ZXMubGVuZ3RoOyArK19qbngpIHtcbiAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbX2pueF0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbnZhciBVcmwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkw7XG4vKipcbiAqIEEgbWlkZGxld2FyZSBmb3IgdHJhbnNmb3JtaW5nIFhIUiBsb2FkZWQgQmxvYnMgaW50byBtb3JlIHVzZWZ1bCBvYmplY3RzXG4gKlxuICogQG1lbWJlcm9mIG1pZGRsZXdhcmVcbiAqIEBmdW5jdGlvbiBwYXJzaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5wYXJzaW5nKTtcbiAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gQ3VycmVudCBSZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIENhbGxiYWNrIHdoZW4gY29tcGxldGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gIGlmICghcmVzb3VyY2UuZGF0YSkge1xuICAgIG5leHQoKTtcbiAgICByZXR1cm47XG4gIH0gLy8gaWYgdGhpcyB3YXMgYW4gWEhSIGxvYWQgb2YgYSBibG9iXG5cblxuICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IpIHtcbiAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgaWYgKCF3aW5kb3cuQmxvYiB8fCB0eXBlb2YgcmVzb3VyY2UuZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTsgLy8gdGhpcyBpcyBhbiBpbWFnZSwgY29udmVydCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIGEgZGF0YSB1cmxcblxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBcImRhdGE6XCIgKyB0eXBlICsgXCI7YmFzZTY0LFwiICsgZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICByZXNvdXJjZS50eXBlID0gUmVzb3VyY2UuVFlQRS5JTUFHRTsgLy8gd2FpdCB1bnRpbCB0aGUgaW1hZ2UgbG9hZHMgYW5kIHRoZW4gY2FsbGJhY2tcblxuICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9OyAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWRcblxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IC8vIGlmIGNvbnRlbnQgdHlwZSBzYXlzIHRoaXMgaXMgYW4gaW1hZ2UsIHRoZW4gd2Ugc2hvdWxkIHRyYW5zZm9ybSB0aGUgYmxvYiBpbnRvIGFuIEltYWdlIG9iamVjdFxuICAgIGVsc2UgaWYgKHJlc291cmNlLmRhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgIHZhciBzcmMgPSBVcmwuY3JlYXRlT2JqZWN0VVJMKHJlc291cmNlLmRhdGEpO1xuICAgICAgICByZXNvdXJjZS5ibG9iID0gcmVzb3VyY2UuZGF0YTtcbiAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IHNyYztcbiAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7IC8vIGNsZWFudXAgdGhlIG5vIGxvbmdlciB1c2VkIGJsb2IgYWZ0ZXIgdGhlIGltYWdlIGxvYWRzXG4gICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cblxuICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBVcmwucmV2b2tlT2JqZWN0VVJMKHNyYyk7XG4gICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfTsgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkLlxuXG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICB9XG5cbiAgbmV4dCgpO1xufVxuXG4vKipcbiAqIEBuYW1lc3BhY2UgbWlkZGxld2FyZVxuICovXG5cbnZhciBpbmRleCA9ICh7XG4gICAgY2FjaGluZzogY2FjaGluZyxcbiAgICBwYXJzaW5nOiBwYXJzaW5nXG59KTtcblxudmFyIE1BWF9QUk9HUkVTUyA9IDEwMDtcbnZhciByZ3hFeHRyYWN0VXJsSGFzaCA9IC8oI1tcXHctXSspPyQvO1xuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBtdWx0aXBsZSByZXNvdXJjZXMgdG8gbG9hZC5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgTG9hZGVyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgKi9cbiAgZnVuY3Rpb24gTG9hZGVyKGJhc2VVcmwsIGNvbmN1cnJlbmN5KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIGlmIChiYXNlVXJsID09PSB2b2lkIDApIHtcbiAgICAgIGJhc2VVcmwgPSAnJztcbiAgICB9XG5cbiAgICBpZiAoY29uY3VycmVuY3kgPT09IHZvaWQgMCkge1xuICAgICAgY29uY3VycmVuY3kgPSAxMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIHBlcmNlbnQgb2YgdGhlIGxvYWRlciBnb2luZyB0aHJvdWdoIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAvKipcbiAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gZXZlcnkgVVJMIGFkZGVkIHRvIHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAqIGFsc28gKm5vdCogZXNjYXBlIHZhbHVlcyBmb3IgeW91LiBNYWtlIHN1cmUgdG8gZXNjYXBlIHlvdXIgcGFyYW1ldGVycyB3aXRoXG4gICAgICogW2BlbmNvZGVVUklDb21wb25lbnRgXShodHRwczovL21kbi5pby9lbmNvZGVVUklDb21wb25lbnQpIGJlZm9yZSBhc3NpZ25pbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgbG9hZGVyID0gbmV3IExvYWRlcigpO1xuICAgICAqXG4gICAgICogbG9hZGVyLmRlZmF1bHRRdWVyeVN0cmluZyA9ICd1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCc7XG4gICAgICpcbiAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAqIGxvYWRlci5hZGQoJ2ltYWdlLnBuZycpLmxvYWQoKTtcbiAgICAgKlxuICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAqXG4gICAgICogLy8gVGhpcyB3aWxsIHJlcXVlc3QgJ2ltYWdlLnBuZz92PTEmdXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnJ1xuICAgICAqL1xuXG4gICAgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcgPSAnJztcbiAgICAvKipcbiAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYmVmb3JlIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYWZ0ZXJNaWRkbGV3YXJlID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIHRyYWNrcyB0aGUgcmVzb3VyY2VzIHdlIGFyZSBjdXJyZW50bHkgY29tcGxldGluZyBwYXJzaW5nIGZvci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgKi9cblxuICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcgPSBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgYF9sb2FkUmVzb3VyY2VgIGZ1bmN0aW9uIGJvdW5kIHdpdGggdGhpcyBvYmplY3QgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZCAtIFRoZSBkZXF1ZXVlIGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7dW5kZWZpbmVkfVxuICAgICAqL1xuXG4gICAgdGhpcy5fYm91bmRMb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiAociwgZCkge1xuICAgICAgcmV0dXJuIF90aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb3VyY2VzIHdhaXRpbmcgdG8gYmUgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAqL1xuXG5cbiAgICB0aGlzLl9xdWV1ZSA9IHF1ZXVlKHRoaXMuX2JvdW5kTG9hZFJlc291cmNlLCBjb25jdXJyZW5jeSk7XG5cbiAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuICAgIC8qKlxuICAgICAqIEFsbCB0aGUgcmVzb3VyY2VzIGZvciB0aGlzIGxvYWRlciBrZXllZCBieSBuYW1lLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0PHN0cmluZywgUmVzb3VyY2U+fVxuICAgICAqL1xuXG5cbiAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgbG9hZGVkIG9yIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PblByb2dyZXNzU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGVycm9yZWQgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uRXJyb3JTaWduYWx9LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7U2lnbmFsPExvYWRlci5PbkVycm9yU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25FcnJvciA9IG5ldyBTaWduYWwoKTtcbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Mb2FkU2lnbmFsfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1NpZ25hbDxMb2FkZXIuT25Mb2FkU2lnbmFsPn1cbiAgICAgKi9cblxuICAgIHRoaXMub25Mb2FkID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgbG9hZGVyIGJlZ2lucyB0byBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25TdGFydFNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uU3RhcnRTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vblN0YXJ0ID0gbmV3IFNpZ25hbCgpO1xuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBMb2FkZXIuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtTaWduYWw8TG9hZGVyLk9uQ29tcGxldGVTaWduYWw+fVxuICAgICAqL1xuXG4gICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IFNpZ25hbCgpOyAvLyBBZGQgZGVmYXVsdCBiZWZvcmUgbWlkZGxld2FyZVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlLmxlbmd0aDsgKytpKSB7XG4gICAgICB0aGlzLnByZShMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlW2ldKTtcbiAgICB9IC8vIEFkZCBkZWZhdWx0IGFmdGVyIG1pZGRsZXdhcmVcblxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5sZW5ndGg7ICsrX2kpIHtcbiAgICAgIHRoaXMudXNlKExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZVtfaV0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogV2hlbiB0aGUgcHJvZ3Jlc3MgY2hhbmdlcyB0aGUgbG9hZGVyIGFuZCByZXNvdXJjZSBhcmUgZGlzYXB0Y2hlZC5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgb3IgZmFpbGVkIHRvIGNhdXNlIHRoZSBwcm9ncmVzcyB0byBhZHZhbmNlLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiBhbiBlcnJvciBvY2N1cnJzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkVycm9yU2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoZSBlcnJvciBoYXBwZW5lZCBpbi5cbiAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgKi9cblxuICAvKipcbiAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICogQHBhcmFtIHtMb2FkZXJ9IGxvYWRlciAtIFRoZSBsb2FkZXIgdGhhdCBsYW9kZWQgdGhlIHJlc291cmNlLlxuICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IGhhcyBjb21wbGV0ZWQgbG9hZGluZy5cbiAgICovXG5cbiAgLyoqXG4gICAqIFdoZW4gdGhlIGxvYWRlciBzdGFydHMgbG9hZGluZyByZXNvdXJjZXMgaXQgZGlzcGF0Y2hlcyB0aGlzIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAqL1xuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICpcbiAgICogQG1lbWJlcm9mIExvYWRlclxuICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGhhcyBmaW5pc2hlZCBsb2FkaW5nIHJlc291cmNlcy5cbiAgICovXG5cbiAgLyoqXG4gICAqIE9wdGlvbnMgZm9yIGEgY2FsbCB0byBgLmFkZCgpYC5cbiAgICpcbiAgICogQHNlZSBMb2FkZXIjYWRkXG4gICAqXG4gICAqIEB0eXBlZGVmIHtvYmplY3R9IElBZGRPcHRpb25zXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBba2V5XSAtIEFsaWFzIGZvciBgbmFtZWAuXG4gICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdXJsXSAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgKiBAcHJvcGVydHkge3N0cmluZ3xib29sZWFufSBbY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgKiBAcHJvcGVydHkge251bWJlcn0gW3RpbWVvdXQ9MF0gLSBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXNcbiAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgKiAgICAgIHNldCB0byBgMGAgdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLkxPQURfVFlQRX0gW2xvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAqICAgICAgYmUgbG9hZGVkP1xuICAgKiBAcHJvcGVydHkge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbeGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW29uQ29tcGxldGVdIC0gQ2FsbGJhY2sgdG8gYWRkIGFuIGFuIG9uQ29tcGxldGUgc2lnbmFsIGlzdGVuZXIuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEFsaWFzIGZvciBgb25Db21wbGV0ZWAuXG4gICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbbWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICovXG5cbiAgLyogZXNsaW50LWRpc2FibGUgcmVxdWlyZS1qc2RvYyx2YWxpZC1qc2RvYyAqL1xuXG4gIC8qKlxuICAgKiBBZGRzIGEgcmVzb3VyY2UgKG9yIG11bHRpcGxlIHJlc291cmNlcykgdG8gdGhlIGxvYWRlciBxdWV1ZS5cbiAgICpcbiAgICogVGhpcyBmdW5jdGlvbiBjYW4gdGFrZSBhIHdpZGUgdmFyaWV0eSBvZiBkaWZmZXJlbnQgcGFyYW1ldGVycy4gVGhlIG9ubHkgdGhpbmcgdGhhdCBpcyBhbHdheXNcbiAgICogcmVxdWlyZWQgdGhlIHVybCB0byBsb2FkLiBBbGwgdGhlIGZvbGxvd2luZyB3aWxsIHdvcms6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGxvYWRlclxuICAgKiAgICAgLy8gbm9ybWFsIHBhcmFtIHN5bnRheFxuICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nKVxuICAgKlxuICAgKiAgICAgLy8gb2JqZWN0IHN5bnRheFxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgbmFtZTogJ2tleTInLFxuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIHVybDogJ2h0dHA6Ly8uLi4nXG4gICAqICAgICB9LCBmdW5jdGlvbiAoKSB7fSlcbiAgICogICAgIC5hZGQoe1xuICAgKiAgICAgICAgIG5hbWU6ICdrZXkzJyxcbiAgICogICAgICAgICB1cmw6ICdodHRwOi8vLi4uJ1xuICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9XG4gICAqICAgICB9KVxuICAgKiAgICAgLmFkZCh7XG4gICAqICAgICAgICAgdXJsOiAnaHR0cHM6Ly8uLi4nLFxuICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9LFxuICAgKiAgICAgICAgIGNyb3NzT3JpZ2luOiB0cnVlXG4gICAqICAgICB9KVxuICAgKlxuICAgKiAgICAgLy8geW91IGNhbiBhbHNvIHBhc3MgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzIG9yIGJvdGhcbiAgICogICAgIC5hZGQoW1xuICAgKiAgICAgICAgIHsgbmFtZTogJ2tleTQnLCB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICogICAgICAgICB7IHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgKiAgICAgICAgICdodHRwOi8vLi4uJ1xuICAgKiAgICAgXSlcbiAgICpcbiAgICogICAgIC8vIGFuZCB5b3UgY2FuIHVzZSBib3RoIHBhcmFtcyBhbmQgb3B0aW9uc1xuICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KVxuICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pO1xuICAgKiBgYGBcbiAgICpcbiAgICogQGZ1bmN0aW9uXG4gICAqIEB2YXJpYXRpb24gMVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG5cbiAgLyoqXG4gICogQGZ1bmN0aW9uXG4gICogQHZhcmlhdGlvbiAyXG4gICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gM1xuICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgKi9cblxuICAvKipcbiAgKiBAZnVuY3Rpb25cbiAgKiBAdmFyaWF0aW9uIDRcbiAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNVxuICAqIEBwYXJhbSB7SUFkZE9wdGlvbnN9IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuIFRoaXMgb2JqZWN0IG11c3QgY29udGFpbiBhIGB1cmxgIHByb3BlcnR5LlxuICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NhbGxiYWNrXSAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAqL1xuXG4gIC8qKlxuICAqIEBmdW5jdGlvblxuICAqIEB2YXJpYXRpb24gNlxuICAqIEBwYXJhbSB7QXJyYXk8SUFkZE9wdGlvbnN8c3RyaW5nPn0gcmVzb3VyY2VzIC0gQW4gYXJyYXkgb2YgcmVzb3VyY2VzIHRvIGxvYWQsIHdoZXJlIGVhY2ggaXNcbiAgKiAgICAgIGVpdGhlciBhbiBvYmplY3Qgd2l0aCB0aGUgb3B0aW9ucyBvciBhIHN0cmluZyB1cmwuIElmIHlvdSBwYXNzIGFuIG9iamVjdCwgaXQgbXVzdCBjb250YWluIGEgYHVybGAgcHJvcGVydHkuXG4gICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2FsbGJhY2tdIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoaXMgc3BlY2lmaWMgcmVzb3VyY2UgY29tcGxldGVzIGxvYWRpbmcuXG4gICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICovXG5cblxuICB2YXIgX3Byb3RvID0gTG9hZGVyLnByb3RvdHlwZTtcblxuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2IpIHtcbiAgICAvLyBzcGVjaWFsIGNhc2Ugb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLmFkZChuYW1lW2ldKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG5cblxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNiID0gdXJsIHx8IG5hbWUuY2FsbGJhY2sgfHwgbmFtZS5vbkNvbXBsZXRlO1xuICAgICAgb3B0aW9ucyA9IG5hbWU7XG4gICAgICB1cmwgPSBuYW1lLnVybDtcbiAgICAgIG5hbWUgPSBuYW1lLm5hbWUgfHwgbmFtZS5rZXkgfHwgbmFtZS51cmw7XG4gICAgfSAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuXG5cbiAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICB1cmwgPSBuYW1lO1xuICAgIH0gLy8gbm93IHRoYXQgd2Ugc2hpZnRlZCBtYWtlIHN1cmUgd2UgaGF2ZSBhIHByb3BlciB1cmwuXG5cblxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1cmwgcGFzc2VkIHRvIGFkZCByZXNvdXJjZSB0byBsb2FkZXIuJyk7XG4gICAgfSAvLyBvcHRpb25zIGFyZSBvcHRpb25hbCBzbyBwZW9wbGUgbWlnaHQgcGFzcyBhIGZ1bmN0aW9uIGFuZCBubyBvcHRpb25zXG5cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgfSAvLyBpZiBsb2FkaW5nIGFscmVhZHkgeW91IGNhbiBvbmx5IGFkZCByZXNvdXJjZXMgdGhhdCBoYXZlIGEgcGFyZW50LlxuXG5cbiAgICBpZiAodGhpcy5sb2FkaW5nICYmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5wYXJlbnRSZXNvdXJjZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCByZXNvdXJjZXMgd2hpbGUgdGhlIGxvYWRlciBpcyBydW5uaW5nLicpO1xuICAgIH0gLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG5cblxuICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzb3VyY2UgbmFtZWQgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBhbHJlYWR5IGV4aXN0cy5cIik7XG4gICAgfSAvLyBhZGQgYmFzZSB1cmwgaWYgdGhpcyBpc24ndCBhbiBhYnNvbHV0ZSB1cmxcblxuXG4gICAgdXJsID0gdGhpcy5fcHJlcGFyZVVybCh1cmwpOyAvLyBjcmVhdGUgdGhlIHN0b3JlIHRoZSByZXNvdXJjZVxuXG4gICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKTtcblxuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMucmVzb3VyY2VzW25hbWVdLm9uQWZ0ZXJNaWRkbGV3YXJlLm9uY2UoY2IpO1xuICAgIH0gLy8gaWYgYWN0aXZlbHkgbG9hZGluZywgbWFrZSBzdXJlIHRvIGFkanVzdCBwcm9ncmVzcyBjaHVua3MgZm9yIHRoYXQgcGFyZW50IGFuZCBpdHMgY2hpbGRyZW5cblxuXG4gICAgaWYgKHRoaXMubG9hZGluZykge1xuICAgICAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50UmVzb3VyY2U7XG4gICAgICB2YXIgaW5jb21wbGV0ZUNoaWxkcmVuID0gW107XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7ICsrX2kyKSB7XG4gICAgICAgIGlmICghcGFyZW50LmNoaWxkcmVuW19pMl0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgIGluY29tcGxldGVDaGlsZHJlbi5wdXNoKHBhcmVudC5jaGlsZHJlbltfaTJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG5cbiAgICAgIHZhciBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG5cbiAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKHRoaXMucmVzb3VyY2VzW25hbWVdKTtcbiAgICAgIHBhcmVudC5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuXG4gICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoOyArK19pMykge1xuICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW5bX2kzXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgIH0gLy8gYWRkIHRoZSByZXNvdXJjZSB0byB0aGUgcXVldWVcblxuXG4gICAgdGhpcy5fcXVldWUucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIHJlcXVpcmUtanNkb2MsdmFsaWQtanNkb2MgKi9cblxuICAvKipcbiAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYmVmb3JlKiB0aGVcbiAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICovXG4gIDtcblxuICBfcHJvdG8ucHJlID0gZnVuY3Rpb24gcHJlKGZuKSB7XG4gICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnVzZSA9IGZ1bmN0aW9uIHVzZShmbikge1xuICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIHF1ZXVlIG9mIHRoZSBsb2FkZXIgdG8gcHJlcGFyZSBmb3IgYSBuZXcgbG9hZC5cbiAgICpcbiAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICB0aGlzLl9xdWV1ZS5raWxsKCk7XG5cbiAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpOyAvLyBhYm9ydCBhbGwgcmVzb3VyY2UgbG9hZHNcblxuXG4gICAgZm9yICh2YXIgayBpbiB0aGlzLnJlc291cmNlcykge1xuICAgICAgdmFyIHJlcyA9IHRoaXMucmVzb3VyY2VzW2tdO1xuXG4gICAgICBpZiAocmVzLl9vbkxvYWRCaW5kaW5nKSB7XG4gICAgICAgIHJlcy5fb25Mb2FkQmluZGluZy5kZXRhY2goKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU3RhcnRzIGxvYWRpbmcgdGhlIHF1ZXVlZCByZXNvdXJjZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAqIEByZXR1cm4ge3RoaXN9IFJldHVybnMgaXRzZWxmLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgIC8vIHJlZ2lzdGVyIGNvbXBsZXRlIGNhbGxiYWNrIGlmIHRoZXkgcGFzcyBvbmVcbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgfSAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG5cblxuICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9xdWV1ZS5pZGxlKCkpIHtcbiAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkaXN0cmlidXRlIHByb2dyZXNzIGNodW5rc1xuICAgICAgdmFyIG51bVRhc2tzID0gdGhpcy5fcXVldWUuX3Rhc2tzLmxlbmd0aDtcbiAgICAgIHZhciBjaHVuayA9IE1BWF9QUk9HUkVTUyAvIG51bVRhc2tzO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICB9IC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcblxuXG4gICAgICB0aGlzLl9vblN0YXJ0KCk7IC8vIHN0YXJ0IGxvYWRpbmdcblxuXG4gICAgICB0aGlzLl9xdWV1ZS5yZXN1bWUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAqXG4gICAqIEBtZW1iZXIge251bWJlcn1cbiAgICogQGRlZmF1bHQgMTBcbiAgICovXG4gIDtcblxuICAvKipcbiAgICogUHJlcGFyZXMgYSB1cmwgZm9yIHVzYWdlIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHByZXBhcmUuXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHByZXBhcmVkIHVybC5cbiAgICovXG4gIF9wcm90by5fcHJlcGFyZVVybCA9IGZ1bmN0aW9uIF9wcmVwYXJlVXJsKHVybCkge1xuICAgIHZhciBwYXJzZWRVcmwgPSBwYXJzZVVyaSh1cmwsIHtcbiAgICAgIHN0cmljdE1vZGU6IHRydWVcbiAgICB9KTtcbiAgICB2YXIgcmVzdWx0OyAvLyBhYnNvbHV0ZSB1cmwsIGp1c3QgdXNlIGl0IGFzIGlzLlxuXG4gICAgaWYgKHBhcnNlZFVybC5wcm90b2NvbCB8fCAhcGFyc2VkVXJsLnBhdGggfHwgdXJsLmluZGV4T2YoJy8vJykgPT09IDApIHtcbiAgICAgIHJlc3VsdCA9IHVybDtcbiAgICB9IC8vIGlmIGJhc2VVcmwgZG9lc24ndCBlbmQgaW4gc2xhc2ggYW5kIHVybCBkb2Vzbid0IHN0YXJ0IHdpdGggc2xhc2gsIHRoZW4gYWRkIGEgc2xhc2ggaW5iZXR3ZWVuXG4gICAgZWxzZSBpZiAodGhpcy5iYXNlVXJsLmxlbmd0aCAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEgJiYgdXJsLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIFwiL1wiICsgdXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgdXJsO1xuICAgICAgfSAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuXG5cbiAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgIHZhciBoYXNoID0gcmd4RXh0cmFjdFVybEhhc2guZXhlYyhyZXN1bHQpWzBdO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiJlwiICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgKz0gXCI/XCIgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgIH1cblxuICAgICAgcmVzdWx0ICs9IGhhc2g7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogTG9hZHMgYSBzaW5nbGUgcmVzb3VyY2UuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRlcXVldWUgLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHdlIG5lZWQgdG8gZGVxdWV1ZSB0aGlzIGl0ZW0uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLl9sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFJlc291cmNlKHJlc291cmNlLCBkZXF1ZXVlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICByZXNvdXJjZS5fZGVxdWV1ZSA9IGRlcXVldWU7IC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuXG4gICAgZWFjaFNlcmllcyh0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgIGZuLmNhbGwoX3RoaXMyLCByZXNvdXJjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZiB0aGUgYmVmb3JlIG1pZGRsZXdhcmUgbWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLFxuICAgICAgICAvLyBicmVhayBhbmQgZG9uJ3QgcHJvY2VzcyBhbnkgbW9yZSBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBuZXh0KHJlc291cmNlLmlzQ29tcGxldGUgPyB7fSA6IG51bGwpO1xuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHJlc291cmNlLmlzQ29tcGxldGUpIHtcbiAgICAgICAgX3RoaXMyLl9vbkxvYWQocmVzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSByZXNvdXJjZS5vbkNvbXBsZXRlLm9uY2UoX3RoaXMyLl9vbkxvYWQsIF90aGlzMik7XG4gICAgICAgIHJlc291cmNlLmxvYWQoKTtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgbG9hZGluZyBoYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIDtcblxuICBfcHJvdG8uX29uU3RhcnQgPSBmdW5jdGlvbiBfb25TdGFydCgpIHtcbiAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIG9uY2UgZWFjaCByZXNvdXJjZSBoYXMgbG9hZGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Db21wbGV0ZSA9IGZ1bmN0aW9uIF9vbkNvbXBsZXRlKCkge1xuICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMsIHRoaXMucmVzb3VyY2VzKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIGVhY2ggdGltZSBhIHJlc291cmNlcyBpcyBsb2FkZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgd2FzIGxvYWRlZFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5fb25Mb2FkID0gZnVuY3Rpb24gX29uTG9hZChyZXNvdXJjZSkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSBudWxsOyAvLyByZW1vdmUgdGhpcyByZXNvdXJjZSBmcm9tIHRoZSBhc3luYyBxdWV1ZSwgYW5kIGFkZCBpdCB0byBvdXIgbGlzdCBvZiByZXNvdXJjZXMgdGhhdCBhcmUgYmVpbmcgcGFyc2VkXG5cbiAgICB0aGlzLl9yZXNvdXJjZXNQYXJzaW5nLnB1c2gocmVzb3VyY2UpO1xuXG4gICAgcmVzb3VyY2UuX2RlcXVldWUoKTsgLy8gcnVuIGFsbCB0aGUgYWZ0ZXIgbWlkZGxld2FyZSBmb3IgdGhpcyByZXNvdXJjZVxuXG5cbiAgICBlYWNoU2VyaWVzKHRoaXMuX2FmdGVyTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICBmbi5jYWxsKF90aGlzMywgcmVzb3VyY2UsIG5leHQpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcbiAgICAgIF90aGlzMy5wcm9ncmVzcyA9IE1hdGgubWluKE1BWF9QUk9HUkVTUywgX3RoaXMzLnByb2dyZXNzICsgcmVzb3VyY2UucHJvZ3Jlc3NDaHVuayk7XG5cbiAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgX3RoaXMzLm9uRXJyb3IuZGlzcGF0Y2gocmVzb3VyY2UuZXJyb3IsIF90aGlzMywgcmVzb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMzLm9uTG9hZC5kaXNwYXRjaChfdGhpczMsIHJlc291cmNlKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLnNwbGljZShfdGhpczMuX3Jlc291cmNlc1BhcnNpbmcuaW5kZXhPZihyZXNvdXJjZSksIDEpOyAvLyBkbyBjb21wbGV0aW9uIGNoZWNrXG5cblxuICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgX3RoaXMzLl9vbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gIH07XG5cbiAgX2NyZWF0ZUNsYXNzKExvYWRlciwgW3tcbiAgICBrZXk6IFwiY29uY3VycmVuY3lcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZXF1aXJlLWpzZG9jXG4gICAgLFxuICAgIHNldDogZnVuY3Rpb24gc2V0KGNvbmN1cnJlbmN5KSB7XG4gICAgICB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeSA9IGNvbmN1cnJlbmN5O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59KCk7XG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLlxuICogRWFjaCBvZiB0aGVzZSBtaWRkbGV3YXJlcyBhcmUgYWRkZWQgdG8gYW55IG5ldyBMb2FkZXIgaW5zdGFuY2VzIHdoZW4gdGhleSBhcmUgY3JlYXRlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAqL1xuXG5cbkxvYWRlci5fZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUgPSBbXTtcbi8qKlxuICogQSBkZWZhdWx0IGFycmF5IG9mIG1pZGRsZXdhcmUgdG8gcnVuIGFmdGVyIGxvYWRpbmcgZWFjaCByZXNvdXJjZS5cbiAqIEVhY2ggb2YgdGhlc2UgbWlkZGxld2FyZXMgYXJlIGFkZGVkIHRvIGFueSBuZXcgTG9hZGVyIGluc3RhbmNlcyB3aGVuIHRoZXkgYXJlIGNyZWF0ZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gKi9cblxuTG9hZGVyLl9kZWZhdWx0QWZ0ZXJNaWRkbGV3YXJlID0gW107XG4vKipcbiAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblxuTG9hZGVyLnByZSA9IGZ1bmN0aW9uIExvYWRlclByZVN0YXRpYyhmbikge1xuICBMb2FkZXIuX2RlZmF1bHRCZWZvcmVNaWRkbGV3YXJlLnB1c2goZm4pO1xuXG4gIHJldHVybiBMb2FkZXI7XG59O1xuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICphZnRlciogdGhlXG4gKiByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAqIEByZXR1cm4ge0xvYWRlcn0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblxuXG5Mb2FkZXIudXNlID0gZnVuY3Rpb24gTG9hZGVyVXNlU3RhdGljKGZuKSB7XG4gIExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICByZXR1cm4gTG9hZGVyO1xufTtcblxuZXhwb3J0IHsgTG9hZGVyLCBSZXNvdXJjZSwgYXN5bmMsIGVuY29kZUJpbmFyeSwgaW5kZXggYXMgbWlkZGxld2FyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb3VyY2UtbG9hZGVyLmVzbS5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbG9hZGVycyAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9sb2FkZXJzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVzb3VyY2UsIExvYWRlciBhcyBMb2FkZXIkMSwgbWlkZGxld2FyZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgVGV4dHVyZSByZXNvdXJjZXMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIFRleHR1cmVMb2FkZXIgPSBmdW5jdGlvbiBUZXh0dXJlTG9hZGVyICgpIHt9O1xuXG5UZXh0dXJlTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIHVzZSAocmVzb3VyY2UsIG5leHQpXG57XG4gICAgLy8gY3JlYXRlIGEgbmV3IHRleHR1cmUgaWYgdGhlIGRhdGEgaXMgYW4gSW1hZ2Ugb2JqZWN0XG4gICAgaWYgKHJlc291cmNlLmRhdGEgJiYgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRSlcbiAgICB7XG4gICAgICAgIHJlc291cmNlLnRleHR1cmUgPSBUZXh0dXJlLmZyb21Mb2FkZXIoXG4gICAgICAgICAgICByZXNvdXJjZS5kYXRhLFxuICAgICAgICAgICAgcmVzb3VyY2UudXJsLFxuICAgICAgICAgICAgcmVzb3VyY2UubmFtZVxuICAgICAgICApO1xuICAgIH1cbiAgICBuZXh0KCk7XG59O1xuXG4vKipcbiAqIFRoZSBuZXcgbG9hZGVyLCBleHRlbmRzIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLkxvYWRlci5zaGFyZWQ7IC8vIFBpeGlKUyBleHBvc2VzIGEgcHJlbWFkZSBpbnN0YW5jZSBmb3IgeW91IHRvIHVzZS5cbiAqIC8vb3JcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBQSVhJLkxvYWRlcigpOyAvLyB5b3UgY2FuIGFsc28gY3JlYXRlIHlvdXIgb3duIGlmIHlvdSB3YW50XG4gKlxuICogY29uc3Qgc3ByaXRlcyA9IHt9O1xuICpcbiAqIC8vIENoYWluYWJsZSBgYWRkYCB0byBlbnF1ZXVlIGEgcmVzb3VyY2VcbiAqIGxvYWRlci5hZGQoJ2J1bm55JywgJ2RhdGEvYnVubnkucG5nJylcbiAqICAgICAgIC5hZGQoJ3NwYWNlc2hpcCcsICdhc3NldHMvc3ByaXRlc2hlZXQuanNvbicpO1xuICogbG9hZGVyLmFkZCgnc2NvcmVGb250JywgJ2Fzc2V0cy9zY29yZS5mbnQnKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHByZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICpiZWZvcmUqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gY2FjaGluZyBtb2R1bGVzICh1c2luZyBmaWxlc3lzdGVtLCBpbmRleGVkZGIsIG1lbW9yeSwgZXRjKS5cbiAqIGxvYWRlci5wcmUoY2FjaGluZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgdXNlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmFmdGVyKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIHBhcnNpbmcgbW9kdWxlcyAobGlrZSBzcHJpdGVzaGVldCBwYXJzZXJzLCBzcGluZSBwYXJzZXIsIGV0YykuXG4gKiBsb2FkZXIudXNlKHBhcnNpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBUaGUgYGxvYWRgIG1ldGhvZCBsb2FkcyB0aGUgcXVldWUgb2YgcmVzb3VyY2VzLCBhbmQgY2FsbHMgdGhlIHBhc3NlZCBpbiBjYWxsYmFjayBjYWxsZWQgb25jZSBhbGxcbiAqIC8vIHJlc291cmNlcyBoYXZlIGxvYWRlZC5cbiAqIGxvYWRlci5sb2FkKChsb2FkZXIsIHJlc291cmNlcykgPT4ge1xuICogICAgIC8vIHJlc291cmNlcyBpcyBhbiBvYmplY3Qgd2hlcmUgdGhlIGtleSBpcyB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIHJlc291cmNlIG9iamVjdC5cbiAqICAgICAvLyBUaGV5IGhhdmUgYSBjb3VwbGUgZGVmYXVsdCBwcm9wZXJ0aWVzOlxuICogICAgIC8vIC0gYHVybGA6IFRoZSBVUkwgdGhhdCB0aGUgcmVzb3VyY2Ugd2FzIGxvYWRlZCBmcm9tXG4gKiAgICAgLy8gLSBgZXJyb3JgOiBUaGUgZXJyb3IgdGhhdCBoYXBwZW5lZCB3aGVuIHRyeWluZyB0byBsb2FkIChpZiBhbnkpXG4gKiAgICAgLy8gLSBgZGF0YWA6IFRoZSByYXcgZGF0YSB0aGF0IHdhcyBsb2FkZWRcbiAqICAgICAvLyBhbHNvIG1heSBjb250YWluIG90aGVyIHByb3BlcnRpZXMgYmFzZWQgb24gdGhlIG1pZGRsZXdhcmUgdGhhdCBydW5zLlxuICogICAgIHNwcml0ZXMuYnVubnkgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLmJ1bm55LnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc3BhY2VzaGlwID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zcGFjZXNoaXAudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zY29yZUZvbnQgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNjb3JlRm9udC50ZXh0dXJlKTtcbiAqIH0pO1xuICpcbiAqIC8vIHRocm91Z2hvdXQgdGhlIHByb2Nlc3MgbXVsdGlwbGUgc2lnbmFscyBjYW4gYmUgZGlzcGF0Y2hlZC5cbiAqIGxvYWRlci5vblByb2dyZXNzLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQvZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25FcnJvci5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgZXJyb3JlZCBmaWxlXG4gKiBsb2FkZXIub25Mb2FkLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBsb2FkZWQgZmlsZVxuICogbG9hZGVyLm9uQ29tcGxldGUuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2Ugd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAqIGBgYFxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIEBjbGFzcyBMb2FkZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbY29uY3VycmVuY3k9MTBdIC0gVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gKi9cbnZhciBMb2FkZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChSZXNvdXJjZUxvYWRlcikge1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSlcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIFJlc291cmNlTG9hZGVyLmNhbGwodGhpcywgYmFzZVVybCwgY29uY3VycmVuY3kpO1xuICAgICAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IExvYWRlci5fcGx1Z2lucy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHBsdWdpbiA9IExvYWRlci5fcGx1Z2luc1tpXTtcbiAgICAgICAgICAgIHZhciBwcmUgPSBwbHVnaW4ucHJlO1xuICAgICAgICAgICAgdmFyIHVzZSA9IHBsdWdpbi51c2U7XG5cbiAgICAgICAgICAgIGlmIChwcmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmUocHJlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHVzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZSh1c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29tcGF0IGxheWVyLCB0cmFuc2xhdGUgdGhlIG5ldyB2MiBzaWduYWxzIGludG8gb2xkIHYxIGV2ZW50cy5cbiAgICAgICAgdGhpcy5vblN0YXJ0LmFkZChmdW5jdGlvbiAobCkgeyByZXR1cm4gdGhpcyQxLmVtaXQoJ3N0YXJ0JywgbCk7IH0pO1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuYWRkKGZ1bmN0aW9uIChsLCByKSB7IHJldHVybiB0aGlzJDEuZW1pdCgncHJvZ3Jlc3MnLCBsLCByKTsgfSk7XG4gICAgICAgIHRoaXMub25FcnJvci5hZGQoZnVuY3Rpb24gKGUsIGwsIHIpIHsgcmV0dXJuIHRoaXMkMS5lbWl0KCdlcnJvcicsIGUsIGwsIHIpOyB9KTtcbiAgICAgICAgdGhpcy5vbkxvYWQuYWRkKGZ1bmN0aW9uIChsLCByKSB7IHJldHVybiB0aGlzJDEuZW1pdCgnbG9hZCcsIGwsIHIpOyB9KTtcbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlLmFkZChmdW5jdGlvbiAobCwgcikgeyByZXR1cm4gdGhpcyQxLmVtaXQoJ2NvbXBsZXRlJywgbCwgcik7IH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGxvYWRlciBjYW5ub3QgYmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCBSZXNvdXJjZUxvYWRlciApIExvYWRlci5fX3Byb3RvX18gPSBSZXNvdXJjZUxvYWRlcjtcbiAgICBMb2FkZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUmVzb3VyY2VMb2FkZXIgJiYgUmVzb3VyY2VMb2FkZXIucHJvdG90eXBlICk7XG4gICAgTG9hZGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvYWRlcjtcblxuICAgIHZhciBzdGF0aWNBY2Nlc3NvcnMgPSB7IHNoYXJlZDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgbG9hZGVyLCByZW1vdmVzIHJlZmVyZW5jZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLlxuICAgICAqIEBuYW1lIHNoYXJlZFxuICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICovXG4gICAgc3RhdGljQWNjZXNzb3JzLnNoYXJlZC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdmFyIHNoYXJlZCA9IExvYWRlci5fc2hhcmVkO1xuXG4gICAgICAgIGlmICghc2hhcmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFyZWQgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICBMb2FkZXIuX3NoYXJlZCA9IHNoYXJlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaGFyZWQ7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBMb2FkZXIsIHN0YXRpY0FjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIExvYWRlcjtcbn0oTG9hZGVyJDEpKTtcblxuLy8gQ29weSBFRTMgcHJvdG90eXBlIChtaXhpbilcbk9iamVjdC5hc3NpZ24oTG9hZGVyLnByb3RvdHlwZSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBhbGwgaW5zdGFsbGVkIGB1c2VgIG1pZGRsZXdhcmUgZm9yIExvYWRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtBcnJheTxQSVhJLklMb2FkZXJQbHVnaW4+fSBfcGx1Z2luc1xuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAcHJpdmF0ZVxuICovXG5Mb2FkZXIuX3BsdWdpbnMgPSBbXTtcblxuLyoqXG4gKiBBZGRzIGEgTG9hZGVyIHBsdWdpbiBmb3IgdGhlIGdsb2JhbCBzaGFyZWQgbG9hZGVyIGFuZCBhbGxcbiAqIG5ldyBMb2FkZXIgaW5zdGFuY2VzIGNyZWF0ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1ldGhvZCByZWdpc3RlclBsdWdpblxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAcGFyYW0ge1BJWEkuSUxvYWRlclBsdWdpbn0gcGx1Z2luIC0gVGhlIHBsdWdpbiB0byBhZGRcbiAqIEByZXR1cm4ge1BJWEkuTG9hZGVyfSBSZWZlcmVuY2UgdG8gUElYSS5Mb2FkZXIgZm9yIGNoYWluaW5nXG4gKi9cbkxvYWRlci5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbilcbntcbiAgICBMb2FkZXIuX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuXG4gICAgaWYgKHBsdWdpbi5hZGQpXG4gICAge1xuICAgICAgICBwbHVnaW4uYWRkKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvYWRlcjtcbn07XG5cbi8vIHBhcnNlIGFueSBibG9iIGludG8gbW9yZSB1c2FibGUgb2JqZWN0cyAoZS5nLiBJbWFnZSlcbkxvYWRlci5yZWdpc3RlclBsdWdpbih7IHVzZTogbWlkZGxld2FyZS5wYXJzaW5nIH0pO1xuXG4vLyBwYXJzZSBhbnkgSW1hZ2Ugb2JqZWN0cyBpbnRvIHRleHR1cmVzXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oVGV4dHVyZUxvYWRlcik7XG5cbi8qKlxuICogUGx1Z2luIHRvIGJlIGluc3RhbGxlZCBmb3IgaGFuZGxpbmcgc3BlY2lmaWMgTG9hZGVyIHJlc291cmNlcy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYgSUxvYWRlclBsdWdpblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gW2FkZF0gLSBGdW5jdGlvbiB0byBjYWxsIGltbWVkaWF0ZSBhZnRlciByZWdpc3RlcmluZyBwbHVnaW4uXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmV9IFtwcmVdIC0gTWlkZGxld2FyZSBmdW5jdGlvbiB0byBydW4gYmVmb3JlIGxvYWQsIHRoZVxuICogICAgICAgICAgIGFyZ3VtZW50cyBmb3IgdGhpcyBhcmUgYChyZXNvdXJjZSwgbmV4dClgXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmV9IFt1c2VdIC0gTWlkZGxld2FyZSBmdW5jdGlvbiB0byBydW4gYWZ0ZXIgbG9hZCwgdGhlXG4gKiAgICAgICAgICAgYXJndW1lbnRzIGZvciB0aGlzIGFyZSBgKHJlc291cmNlLCBuZXh0KWBcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICogQGNhbGxiYWNrIGxvYWRlck1pZGRsZXdhcmVcbiAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25TdGFydFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvblByb2dyZXNzXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uRXJyb3JcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25Mb2FkXG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uQ29tcGxldGVcbiAqL1xuXG4vKipcbiAqIEFwcGxpY2F0aW9uIHBsdWdpbiBmb3Igc3VwcG9ydGluZyBsb2FkZXIgb3B0aW9uLiBJbnN0YWxsaW5nIHRoZSBMb2FkZXJQbHVnaW5cbiAqIGlzIG5vdCBuZWNlc3NhcnkgaWYgdXNpbmcgKipwaXhpLmpzKiogb3IgKipwaXhpLmpzLWxlZ2FjeSoqLlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7QXBwTG9hZGVyUGx1Z2lufSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihBcHBMb2FkZXJQbHVnaW4pO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXBwTG9hZGVyUGx1Z2luID0gZnVuY3Rpb24gQXBwTG9hZGVyUGx1Z2luICgpIHt9O1xuXG5BcHBMb2FkZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIGluaXQgKG9wdGlvbnMpXG57XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlLFxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICAgICAqIEBuYW1lIFBJWEkuQXBwbGljYXRpb24jbG9hZGVyXG4gICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMubG9hZGVyID0gb3B0aW9ucy5zaGFyZWRMb2FkZXIgPyBMb2FkZXIuc2hhcmVkIDogbmV3IExvYWRlcigpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiBhcHBsaWNhdGlvbiBkZXN0cm95ZWRcbiAqIEBwcml2YXRlXG4gKi9cbkFwcExvYWRlclBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIGlmICh0aGlzLmxvYWRlcilcbiAgICB7XG4gICAgICAgIHRoaXMubG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogUmVmZXJlbmNlIHRvICoqe0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqIHJlc291cmNlLWxvYWRlcn0qKidzIFJlc291cmNlIGNsYXNzLlxuICogQHNlZSBodHRwOi8vZW5nbGVyY2ouZ2l0aHViLmlvL3Jlc291cmNlLWxvYWRlci9SZXNvdXJjZS5odG1sXG4gKiBAY2xhc3MgTG9hZGVyUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBMb2FkZXJSZXNvdXJjZSA9IFJlc291cmNlO1xuXG5leHBvcnQgeyBBcHBMb2FkZXJQbHVnaW4sIExvYWRlciwgTG9hZGVyUmVzb3VyY2UsIFRleHR1cmVMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlcnMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3BhcnRpY2xlcyAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9wYXJ0aWNsZXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBCTEVORF9NT0RFUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgaGV4MnJnYiwgY3JlYXRlSW5kaWNlc0ZvclF1YWRzLCBjb3JyZWN0QmxlbmRNb2RlLCBwcmVtdWx0aXBseVJnYmEsIHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgR2VvbWV0cnksIEJ1ZmZlciwgT2JqZWN0UmVuZGVyZXIsIFNoYWRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogVGhlIFBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGlzIGEgcmVhbGx5IGZhc3QgdmVyc2lvbiBvZiB0aGUgQ29udGFpbmVyIGJ1aWx0IHNvbGVseSBmb3Igc3BlZWQsXG4gKiBzbyB1c2Ugd2hlbiB5b3UgbmVlZCBhIGxvdCBvZiBzcHJpdGVzIG9yIHBhcnRpY2xlcy5cbiAqXG4gKiBUaGUgdHJhZGVvZmYgb2YgdGhlIFBhcnRpY2xlQ29udGFpbmVyIGlzIHRoYXQgbW9zdCBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IHdpbGwgbm90IHdvcmsuXG4gKiBQYXJ0aWNsZUNvbnRhaW5lciBpbXBsZW1lbnRzIHRoZSBiYXNpYyBvYmplY3QgdHJhbnNmb3JtIChwb3NpdGlvbiwgc2NhbGUsIHJvdGF0aW9uKVxuICogYW5kIHNvbWUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHRpbnQgKGFzIG9mIHY0LjUuNikuXG4gKlxuICogT3RoZXIgbW9yZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgbWFza2luZywgY2hpbGRyZW4sIGZpbHRlcnMsIGV0YyB3aWxsIG5vdCB3b3JrIG9uIHNwcml0ZXMgaW4gdGhpcyBiYXRjaC5cbiAqXG4gKiBJdCdzIGV4dHJlbWVseSBlYXN5IHRvIHVzZTpcbiAqIGBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBhcnRpY2xlQ29udGFpbmVyKCk7XG4gKlxuICogZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7ICsraSlcbiAqIHtcbiAqICAgICBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVDb250YWluZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChDb250YWluZXIpIHtcbiAgICBmdW5jdGlvbiBQYXJ0aWNsZUNvbnRhaW5lcihtYXhTaXplLCBwcm9wZXJ0aWVzLCBiYXRjaFNpemUsIGF1dG9SZXNpemUpXG4gICAge1xuICAgICAgICBpZiAoIG1heFNpemUgPT09IHZvaWQgMCApIG1heFNpemUgPSAxNTAwO1xuICAgICAgICBpZiAoIGJhdGNoU2l6ZSA9PT0gdm9pZCAwICkgYmF0Y2hTaXplID0gMTYzODQ7XG4gICAgICAgIGlmICggYXV0b1Jlc2l6ZSA9PT0gdm9pZCAwICkgYXV0b1Jlc2l6ZSA9IGZhbHNlO1xuXG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIE1ha2luZyBzdXJlIHRoZSBiYXRjaCBzaXplIGlzIHZhbGlkXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIHZhciBtYXhCYXRjaFNpemUgPSAxNjM4NDtcblxuICAgICAgICBpZiAoYmF0Y2hTaXplID4gbWF4QmF0Y2hTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBtYXhCYXRjaFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHByb3BlcnRpZXMgdG8gYmUgZHluYW1pYyAodHJ1ZSkgLyBzdGF0aWMgKGZhbHNlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFuW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gW2ZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4U2l6ZSA9IG1heFNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CdWZmZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZvciBldmVyeSBiYXRjaCBzdG9yZXMgX3VwZGF0ZUlEIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxhc3QgY2hhbmdlIGluIHRoYXQgYmF0Y2hcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogd2hlbiBjaGlsZCBpbnNlcnRlZCwgcmVtb3ZlZCBvciBjaGFuZ2VzIHBvc2l0aW9uIHRoaXMgbnVtYmVyIGdvZXMgdXBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGBcbiAgICAgICAgICogdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZSB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9SZXNpemUgPSBhdXRvUmVzaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIERlZmF1bHQgdG8gdHJ1ZSBoZXJlIGFzIHBlcmZvcm1hbmNlIGlzIHVzdWFsbHkgdGhlIHByaW9yaXR5IGZvciBwYXJ0aWNsZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucm91bmRQaXhlbHMgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIHRvIHJlbmRlciB0aGUgY2hpbGRyZW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgICAqIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW50ID0gMDtcbiAgICAgICAgdGhpcy50aW50UmdiID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG4gICAgfVxuXG4gICAgaWYgKCBDb250YWluZXIgKSBQYXJ0aWNsZUNvbnRhaW5lci5fX3Byb3RvX18gPSBDb250YWluZXI7XG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29udGFpbmVyICYmIENvbnRhaW5lci5wcm90b3R5cGUgKTtcbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQYXJ0aWNsZUNvbnRhaW5lcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHRpbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgcHJvcGVydGllcyBhcnJheSB0byBkeW5hbWljIC8gc3RhdGljIGJhc2VkIG9uIHRoZSBwYXNzZWQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uIHNldFByb3BlcnRpZXMgKHByb3BlcnRpZXMpXG4gICAge1xuICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1swXSA9ICd2ZXJ0aWNlcycgaW4gcHJvcGVydGllcyB8fCAnc2NhbGUnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy52ZXJ0aWNlcyB8fCAhIXByb3BlcnRpZXMuc2NhbGUgOiB0aGlzLl9wcm9wZXJ0aWVzWzBdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1sxXSA9ICdwb3NpdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5wb3NpdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMV07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzJdID0gJ3JvdGF0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnJvdGF0aW9uIDogdGhpcy5fcHJvcGVydGllc1syXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbM10gPSAndXZzJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnV2cyA6IHRoaXMuX3Byb3BlcnRpZXNbM107XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzRdID0gJ3RpbnQnIGluIHByb3BlcnRpZXMgfHwgJ2FscGhhJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudGludCB8fCAhIXByb3BlcnRpZXMuYWxwaGEgOiB0aGlzLl9wcm9wZXJ0aWVzWzRdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICAvLyBUT0RPIGRvbid0IG5lZWQgdG8hXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvLyAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKCB0aGlzICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKiogSU1QT1JUQU5UOiBUaGlzIGlzIGEgV2ViR0wgb25seSBmZWF0dXJlIGFuZCB3aWxsIGJlIGlnbm9yZWQgYnkgdGhlIGNhbnZhcyByZW5kZXJlci5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMudGludFJnYik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNvbnRhaW5lciB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlclxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IHRoaXMuY2hpbGRyZW5bMF0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5vbmNlKCd1cGRhdGUnLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEub25DaGlsZHJlbkNoYW5nZSgwKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZmxhZyB0aGF0IHN0YXRpYyBkYXRhIHNob3VsZCBiZSB1cGRhdGVkIHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNtYWxsZXN0Q2hpbGRJbmRleCAtIFRoZSBzbWFsbGVzdCBjaGlsZCBpbmRleFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gb25DaGlsZHJlbkNoYW5nZSAoc21hbGxlc3RDaGlsZEluZGV4KVxuICAgIHtcbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4ID0gTWF0aC5mbG9vcihzbWFsbGVzdENoaWxkSW5kZXggLyB0aGlzLl9iYXRjaFNpemUpO1xuXG4gICAgICAgIHdoaWxlICh0aGlzLl9idWZmZXJVcGRhdGVJRHMubGVuZ3RoIDwgYnVmZmVySW5kZXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5wdXNoKDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlEc1tidWZmZXJJbmRleF0gPSArK3RoaXMuX3VwZGF0ZUlEO1xuICAgIH07XG5cbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBudWxsO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBQYXJ0aWNsZUNvbnRhaW5lcjtcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdFxuICogdGhleSBub3cgc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVCdWZmZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlQnVmZmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUJ1ZmZlciA9IGZ1bmN0aW9uIFBhcnRpY2xlQnVmZmVyKHByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBzaXplKVxue1xuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcblxuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhlIGJ1ZmZlciBjYW4gaG9sZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zaXplID0gc2l6ZTtcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBkeW5hbWljLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgKi9cbiAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgc3RhdGljLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgKi9cbiAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHByb3BlcnRpZXNbaV07XG5cbiAgICAgICAgLy8gTWFrZSBjb3B5IG9mIHByb3BlcnRpZXMgb2JqZWN0IHNvIHRoYXQgd2hlbiB3ZSBlZGl0IHRoZSBvZmZzZXQgaXQgZG9lc24ndFxuICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgcHJvcGVydHkgPSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiBwcm9wZXJ0eS5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbixcbiAgICAgICAgICAgIHR5cGU6IHByb3BlcnR5LnR5cGUgfHwgVFlQRVMuRkxPQVQsXG4gICAgICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldCxcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZHluYW1pY1Byb3BlcnR5RmxhZ3NbaV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgIHRoaXMuaW5pdEJ1ZmZlcnMoKTtcbn07XG5cbi8qKlxuICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gaW5pdEJ1ZmZlcnMgKClcbntcbiAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgdmFyIGR5bmFtaWNPZmZzZXQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogSG9sZHMgdGhlIGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAqXG4gICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihjcmVhdGVJbmRpY2VzRm9yUXVhZHModGhpcy5zaXplKSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgZ2VvbWV0cnkuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcik7XG5cbiAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICBkeW5hbWljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSArPSBwcm9wZXJ0eS5zaXplO1xuICAgIH1cblxuICAgIHZhciBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgdGhpcy5keW5hbWljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgdGhpcy5keW5hbWljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmR5bmFtaWNEYXRhLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgLy8gc3RhdGljIC8vXG4gICAgdmFyIHN0YXRpY09mZnNldCA9IDA7XG5cbiAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kkMSlcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSQxID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2kkMV07XG5cbiAgICAgICAgcHJvcGVydHkkMS5vZmZzZXQgPSBzdGF0aWNPZmZzZXQ7XG4gICAgICAgIHN0YXRpY09mZnNldCArPSBwcm9wZXJ0eSQxLnNpemU7XG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IHByb3BlcnR5JDEuc2l6ZTtcbiAgICB9XG5cbiAgICB2YXIgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnN0YXRpY0RhdGEsIHRydWUsIGZhbHNlKTtcblxuICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kkMilcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSQyID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpJDJdO1xuXG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIHByb3BlcnR5JDIuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlcixcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBwcm9wZXJ0eSQyLnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICBwcm9wZXJ0eSQyLnR5cGUsXG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0LFxuICAgICAgICAgICAgcHJvcGVydHkkMi5vZmZzZXQgKiA0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSQzID0gMDsgaSQzIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpJDMpXG4gICAge1xuICAgICAgICB2YXIgcHJvcGVydHkkMyA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpJDNdO1xuXG4gICAgICAgIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIHByb3BlcnR5JDMuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGljQnVmZmVyLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIHByb3BlcnR5JDMudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIHByb3BlcnR5JDMudHlwZSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICogNCxcbiAgICAgICAgICAgIHByb3BlcnR5JDMub2Zmc2V0ICogNFxuICAgICAgICApO1xuICAgIH1cbn07XG5cbi8qKlxuICogVXBsb2FkcyB0aGUgZHluYW1pYyBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAqL1xuUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZER5bmFtaWMgPSBmdW5jdGlvbiB1cGxvYWREeW5hbWljIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KVxue1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbaV07XG5cbiAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCxcbiAgICAgICAgICAgIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLmR5bmFtaWNEYXRhVWludDMyIDogdGhpcy5keW5hbWljRGF0YSxcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSwgcHJvcGVydHkub2Zmc2V0KTtcbiAgICB9XG5cbiAgICB0aGlzLmR5bmFtaWNCdWZmZXIuX3VwZGF0ZUlEKys7XG59O1xuXG4vKipcbiAqIFVwbG9hZHMgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAqL1xuUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZFN0YXRpYyA9IGZ1bmN0aW9uIHVwbG9hZFN0YXRpYyAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudClcbntcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMuc3RhdGljUHJvcGVydGllc1tpXTtcblxuICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LFxuICAgICAgICAgICAgcHJvcGVydHkudHlwZSA9PT0gVFlQRVMuVU5TSUdORURfQllURSA/IHRoaXMuc3RhdGljRGF0YVVpbnQzMiA6IHRoaXMuc3RhdGljRGF0YSxcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGljQnVmZmVyLl91cGRhdGVJRCsrO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAvLyB0aGlzLmR5bmFtaWNCdWZmZXIuZGVzdHJveSgpO1xuICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5keW5hbWljRGF0YVVpbnQzMiA9IG51bGw7XG5cbiAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgIC8vIHRoaXMuc3RhdGljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLnN0YXRpY0J1ZmZlciA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuICAgIC8vIGFsbCBidWZmZXJzIGFyZSBkZXN0cm95ZWQgaW5zaWRlIGdlb21ldHJ5XG4gICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG59O1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5hdHRyaWJ1dGUgdmVjNCBhQ29sb3I7XFxuXFxuYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uQ29vcmQ7XFxuYXR0cmlidXRlIGZsb2F0IGFSb3RhdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSB2ZWM0IHVDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZmxvYXQgeCA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBjb3MoYVJvdGF0aW9uKSAtIChhVmVydGV4UG9zaXRpb24ueSkgKiBzaW4oYVJvdGF0aW9uKTtcXG4gICAgZmxvYXQgeSA9IChhVmVydGV4UG9zaXRpb24ueCkgKiBzaW4oYVJvdGF0aW9uKSArIChhVmVydGV4UG9zaXRpb24ueSkgKiBjb3MoYVJvdGF0aW9uKTtcXG5cXG4gICAgdmVjMiB2ID0gdmVjMih4LCB5KTtcXG4gICAgdiA9IHYgKyBhUG9zaXRpb25Db29yZDtcXG5cXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCh0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzModiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZDb2xvciA9IGFDb2xvciAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdkNvbG9yO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG59XCI7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVSZW5kZXJlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBSZW5kZXJlciBmb3IgUGFydGljbGVzIHRoYXQgaXMgZGVzaWduZXIgZm9yIHNwZWVkIG92ZXIgZmVhdHVyZSBzZXQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUGFydGljbGVSZW5kZXJlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKE9iamVjdFJlbmRlcmVyKSB7XG4gICAgZnVuY3Rpb24gUGFydGljbGVSZW5kZXJlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIE9iamVjdFJlbmRlcmVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIC8vIGFuZCBtYXggbnVtYmVyIG9mIGVsZW1lbnQgaW4gdGhlIGluZGV4IGJ1ZmZlciBpcyAxNjM4NCAqIDYgPSA5ODMwNFxuICAgICAgICAvLyBDcmVhdGluZyBhIGZ1bGwgaW5kZXggYnVmZmVyLCBvdmVyaGVhZCBpcyA5ODMwNCAqIDIgPSAxOTZLb1xuICAgICAgICAvLyBsZXQgbnVtSW5kaWNlcyA9IDk4MzA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgc3ByaXRlIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAvLyB2ZXJ0aWNlc0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVZlcnRleFBvc2l0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBwb3NpdGlvbkRhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVBvc2l0aW9uQ29vcmQnLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHJvdGF0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhUm90YXRpb24nLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHV2c0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVRleHR1cmVDb29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRVdnMsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHRpbnREYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FDb2xvcicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFRpbnQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSBdO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwge30pO1xuICAgIH1cblxuICAgIGlmICggT2JqZWN0UmVuZGVyZXIgKSBQYXJ0aWNsZVJlbmRlcmVyLl9fcHJvdG9fXyA9IE9iamVjdFJlbmRlcmVyO1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggT2JqZWN0UmVuZGVyZXIgJiYgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlICk7XG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQYXJ0aWNsZVJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChjb250YWluZXIpXG4gICAge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIHZhciBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0b3RhbENoaWxkcmVuID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG90YWxDaGlsZHJlbiA+IG1heFNpemUgJiYgIWNvbnRhaW5lci5hdXRvUmVzaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b3RhbENoaWxkcmVuID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzO1xuXG4gICAgICAgIGlmICghYnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycyA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBjaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAvLyBpZiB0aGUgdXZzIGhhdmUgbm90IHVwZGF0ZWQgdGhlbiBubyBwb2ludCByZW5kZXJpbmcganVzdCB5ZXQhXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGNvcnJlY3RCbGVuZE1vZGUoY29udGFpbmVyLmJsZW5kTW9kZSwgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSkpO1xuXG4gICAgICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHZhciBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0aGlzLnRlbXBNYXRyaXgpO1xuXG4gICAgICAgIG0ucHJlcGVuZChyZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4KTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IG0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVJnYmEoY29udGFpbmVyLnRpbnRSZ2IsXG4gICAgICAgICAgICBjb250YWluZXIud29ybGRBbHBoYSwgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5zaGFkZXIpO1xuXG4gICAgICAgIHZhciB1cGRhdGVTdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICAvLyBub3cgbGV0cyB1cGxvYWQgYW5kIHJlbmRlciB0aGUgYnVmZmVycy4uXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSAodG90YWxDaGlsZHJlbiAtIGkpO1xuXG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFtb3VudCA9IGJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVycy5wdXNoKHRoaXMuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG5cbiAgICAgICAgICAgIC8vIHdlIGFsd2F5cyB1cGxvYWQgdGhlIGR5bmFtaWNcbiAgICAgICAgICAgIGJ1ZmZlci51cGxvYWREeW5hbWljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuXG4gICAgICAgICAgICB2YXIgYmlkID0gY29udGFpbmVyLl9idWZmZXJVcGRhdGVJRHNbal0gfHwgMDtcblxuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fdXBkYXRlSUQgPSBjb250YWluZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIHBhcnRpY2xlIGJ1ZmZlciBmb3IgZWFjaCBjaGlsZCBpbiB0aGUgY29udGFpbmVyIHdlIHdhbnQgdG8gcmVuZGVyIGFuZCB1cGRhdGVzIGludGVybmFsIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcltdfSBUaGUgYnVmZmVyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZ2VuZXJhdGVCdWZmZXJzID0gZnVuY3Rpb24gZ2VuZXJhdGVCdWZmZXJzIChjb250YWluZXIpXG4gICAge1xuICAgICAgICB2YXIgYnVmZmVycyA9IFtdO1xuICAgICAgICB2YXIgc2l6ZSA9IGNvbnRhaW5lci5fbWF4U2l6ZTtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpICs9IGJhdGNoU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBtb3JlIHBhcnRpY2xlIGJ1ZmZlciwgYmVjYXVzZSBjb250YWluZXIgaGFzIGF1dG9SZXNpemUgZmVhdHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyfSBnZW5lcmF0ZWQgYnVmZmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyID0gZnVuY3Rpb24gX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciAoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwbG9hZFZlcnRpY2VzIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgdmFyIHN5ID0gc3ByaXRlLnNjYWxlLnk7XG4gICAgICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgICAgICBpZiAodHJpbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3MCA9IChvcmlnLndpZHRoKSAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IChvcmlnLndpZHRoKSAqIC1zcHJpdGUuYW5jaG9yLng7XG5cbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciBwb3NpdGlvbnMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFBvc2l0aW9uID0gZnVuY3Rpb24gdXBsb2FkUG9zaXRpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHJvdGlhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRSb3RhdGlvbiA9IGZ1bmN0aW9uIHVwbG9hZFJvdGF0aW9uIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlUm90YXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucm90YXRpb247XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBzcHJpdGVSb3RhdGlvbjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVSb3RhdGlvbjtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgVXZzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciByb3RhdGlvbiB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUudXBsb2FkVXZzID0gZnVuY3Rpb24gdXBsb2FkVXZzIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5fdGV4dHVyZS5fdXZzO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZVV2cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdGV4dHVyZVV2cy54MDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHRleHR1cmVVdnMueTA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gdGV4dHVyZVV2cy54MTtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IHRleHR1cmVVdnMueTE7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gdGV4dHVyZVV2cy54MjtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IHRleHR1cmVVdnMueTI7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdGV4dHVyZVV2cy54MztcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHRleHR1cmVVdnMueTM7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIHlvdSBrbm93IHRoaXMgY2FuIGJlIGVhc2llciFcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gMDtcbiAgICAgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IDA7XG5cbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB0aW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFRpbnQgPSBmdW5jdGlvbiB1cGxvYWRUaW50IChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHByZW11bHRpcGxpZWQgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IHNwcml0ZS5hbHBoYTtcbiAgICAgICAgICAgIC8vIHdlIGRvbnQgY2FsbCBleHRyYSBmdW5jdGlvbiBpZiBhbHBoYSBpcyAxLjAsIHRoYXQncyBmYXN0ZXJcbiAgICAgICAgICAgIHZhciBhcmdiID0gYWxwaGEgPCAxLjAgJiYgcHJlbXVsdGlwbGllZCA/IHByZW11bHRpcGx5VGludChzcHJpdGUuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgICAgIDogc3ByaXRlLl90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IGFyZ2I7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhcnRpY2xlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFBhcnRpY2xlQ29udGFpbmVyLCBQYXJ0aWNsZVJlbmRlcmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0aWNsZXMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IC0gdjUuMS4xXG4gKiBDb21waWxlZCBGcmksIDAyIEF1ZyAyMDE5IDIzOjIwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBnZXRSZXNvbHV0aW9uT2ZVcmwsIHVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qKlxuICogVXRpbGl0eSBjbGFzcyBmb3IgbWFpbnRhaW5pbmcgcmVmZXJlbmNlIHRvIGEgY29sbGVjdGlvblxuICogb2YgVGV4dHVyZXMgb24gYSBzaW5nbGUgU3ByaXRlc2hlZXQuXG4gKlxuICogVG8gYWNjZXNzIGEgc3ByaXRlIHNoZWV0IGZyb20geW91ciBjb2RlIHBhc3MgaXRzIEpTT04gZGF0YSBmaWxlIHRvIFBpeGkncyBsb2FkZXI6XG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJpbWFnZXMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICogV2l0aCB0aGUgYHNoZWV0LnRleHR1cmVzYCB5b3UgY2FuIGNyZWF0ZSBTcHJpdGUgb2JqZWN0cyxgc2hlZXQuYW5pbWF0aW9uc2AgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIEFuaW1hdGVkU3ByaXRlLlxuICpcbiAqIFNwcml0ZSBzaGVldHMgY2FuIGJlIHBhY2tlZCB1c2luZyB0b29scyBsaWtlIHtAbGluayBodHRwczovL2NvZGVhbmR3ZWIuY29tL3RleHR1cmVwYWNrZXJ8VGV4dHVyZVBhY2tlcn0sXG4gKiB7QGxpbmsgaHR0cHM6Ly9yZW5kZXJoanMubmV0L3Nob2Vib3gvfFNob2Vib3h9IG9yIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20va3J6eXN6dG9mLW8vc3ByaXRlc2hlZXQuanN8U3ByaXRlc2hlZXQuanN9LlxuICogRGVmYXVsdCBhbmNob3IgcG9pbnRzIChzZWUge0BsaW5rIFBJWEkuVGV4dHVyZSNkZWZhdWx0QW5jaG9yfSkgYW5kIGdyb3VwaW5nIG9mIGFuaW1hdGlvbiBzcHJpdGVzIGFyZSBjdXJyZW50bHkgb25seVxuICogc3VwcG9ydGVkIGJ5IFRleHR1cmVQYWNrZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3ByaXRlc2hlZXQgPSBmdW5jdGlvbiBTcHJpdGVzaGVldChiYXNlVGV4dHVyZSwgZGF0YSwgcmVzb2x1dGlvbkZpbGVuYW1lKVxue1xuICAgIGlmICggcmVzb2x1dGlvbkZpbGVuYW1lID09PSB2b2lkIDAgKSByZXNvbHV0aW9uRmlsZW5hbWUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRocyBzb3VyY2UgdGV4dHVyZVxuICAgICAqIEB0eXBlIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqL1xuICAgIHRoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgYWxsIHRleHR1cmVzIG9mIHRoZSBzcHJpdGUgc2hlZXQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFBJWEkuU3ByaXRlfFNwcml0ZX06XG4gICAgICogYGBganNcbiAgICAgKiBuZXcgUElYSS5TcHJpdGUoc2hlZXQudGV4dHVyZXNbXCJpbWFnZS5wbmdcIl0pO1xuICAgICAqIGBgYFxuICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBBIG1hcCBjb250YWluaW5nIHRoZSB0ZXh0dXJlcyBmb3IgZWFjaCBhbmltYXRpb24uXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfEFuaW1hdGVkU3ByaXRlfTpcbiAgICAgKiBgYGBqc1xuICAgICAqIG5ldyBQSVhJLkFuaW1hdGVkU3ByaXRlKHNoZWV0LmFuaW1hdGlvbnNbXCJhbmltX25hbWVcIl0pXG4gICAgICogYGBgXG4gICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCBKU09OIGRhdGEuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlc29sdXRpb24gb2YgdGhlIHNwcml0ZXNoZWV0LlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHV0aW9uID0gdGhpcy5fdXBkYXRlUmVzb2x1dGlvbihcbiAgICAgICAgcmVzb2x1dGlvbkZpbGVuYW1lXG4gICAgICAgIHx8ICh0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlID8gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwgOiBudWxsKVxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgZnJhbWVzLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9mcmFtZXMgPSB0aGlzLmRhdGEuZnJhbWVzO1xuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBmcmFtZSBuYW1lcy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9mcmFtZUtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9mcmFtZXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBiYXRjaCBpbmRleCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2JhdGNoSW5kZXggPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgd2hlbiBwYXJzZSBpcyBjb21wbGV0ZWQuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xufTtcblxudmFyIHN0YXRpY0FjY2Vzc29ycyA9IHsgQkFUQ0hfU0laRTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIEdlbmVyYXRlIHRoZSByZXNvbHV0aW9uIGZyb20gdGhlIGZpbGVuYW1lIG9yIGZhbGxiYWNrXG4gKiB0byB0aGUgbWV0YS5zY2FsZSBmaWVsZCBvZiB0aGUgSlNPTiBkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzb2x1dGlvbkZpbGVuYW1lIC0gVGhlIGZpbGVuYW1lIHRvIHVzZSBmb3IgcmVzb2x2aW5nXG4gKiAgICB0aGUgZGVmYXVsdCByZXNvbHV0aW9uLlxuICogQHJldHVybiB7bnVtYmVyfSBSZXNvbHV0aW9uIHRvIHVzZSBmb3Igc3ByaXRlc2hlZXQuXG4gKi9cbnN0YXRpY0FjY2Vzc29ycy5CQVRDSF9TSVpFLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIDEwMDA7XG59O1xuXG5TcHJpdGVzaGVldC5wcm90b3R5cGUuX3VwZGF0ZVJlc29sdXRpb24gPSBmdW5jdGlvbiBfdXBkYXRlUmVzb2x1dGlvbiAocmVzb2x1dGlvbkZpbGVuYW1lKVxue1xuICAgIHZhciBzY2FsZSA9IHRoaXMuZGF0YS5tZXRhLnNjYWxlO1xuXG4gICAgLy8gVXNlIGEgZGVmYXVsdFZhbHVlIG9mIGBudWxsYCB0byBjaGVjayBpZiBhIHVybC1iYXNlZCByZXNvbHV0aW9uIGlzIHNldFxuICAgIHZhciByZXNvbHV0aW9uID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHJlc29sdXRpb25GaWxlbmFtZSwgbnVsbCk7XG5cbiAgICAvLyBObyByZXNvbHV0aW9uIGZvdW5kIHZpYSBVUkxcbiAgICBpZiAocmVzb2x1dGlvbiA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIC8vIFVzZSB0aGUgc2NhbGUgdmFsdWUgb3IgZGVmYXVsdCB0byAxXG4gICAgICAgIHJlc29sdXRpb24gPSBzY2FsZSAhPT0gdW5kZWZpbmVkID8gcGFyc2VGbG9hdChzY2FsZSkgOiAxO1xuICAgIH1cblxuICAgIC8vIEZvciBub24tMSByZXNvbHV0aW9ucywgdXBkYXRlIGJhc2VUZXh0dXJlXG4gICAgaWYgKHJlc29sdXRpb24gIT09IDEpXG4gICAge1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc29sdXRpb247XG59O1xuXG4vKipcbiAqIFBhcnNlciBzcHJpdGVzaGVldCBmcm9tIGxvYWRlZCBkYXRhLiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHlcbiAqIHRvIHByZXZlbnQgY3JlYXRpbmcgdG9vIG1hbnkgVGV4dHVyZSB3aXRoaW4gYSBzaW5nbGUgcHJvY2Vzcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIENhbGxiYWNrIHdoZW4gY29tcGxldGUgcmV0dXJuc1xuICogICAgYSBtYXAgb2YgdGhlIFRleHR1cmVzIGZvciB0aGlzIHNwcml0ZXNoZWV0LlxuICovXG5TcHJpdGVzaGVldC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSAoY2FsbGJhY2spXG57XG4gICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcblxuICAgIGlmICh0aGlzLl9mcmFtZUtleXMubGVuZ3RoIDw9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkUpXG4gICAge1xuICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKDApO1xuICAgICAgICB0aGlzLl9wcm9jZXNzQW5pbWF0aW9ucygpO1xuICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMuX25leHRCYXRjaCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogUHJvY2VzcyBhIGJhdGNoIG9mIGZyYW1lc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbEZyYW1lSW5kZXggLSBUaGUgaW5kZXggb2YgZnJhbWUgdG8gc3RhcnQuXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcHJvY2Vzc0ZyYW1lcyA9IGZ1bmN0aW9uIF9wcm9jZXNzRnJhbWVzIChpbml0aWFsRnJhbWVJbmRleClcbntcbiAgICB2YXIgZnJhbWVJbmRleCA9IGluaXRpYWxGcmFtZUluZGV4O1xuICAgIHZhciBtYXhGcmFtZXMgPSBTcHJpdGVzaGVldC5CQVRDSF9TSVpFO1xuXG4gICAgd2hpbGUgKGZyYW1lSW5kZXggLSBpbml0aWFsRnJhbWVJbmRleCA8IG1heEZyYW1lcyAmJiBmcmFtZUluZGV4IDwgdGhpcy5fZnJhbWVLZXlzLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHZhciBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgdmFyIHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgIGlmIChyZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgdmFyIHNvdXJjZVNpemUgPSBkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc291cmNlU2l6ZVxuICAgICAgICAgICAgICAgID8gZGF0YS5zb3VyY2VTaXplIDogZGF0YS5mcmFtZTtcblxuICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHNvdXJjZVNpemUudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vcihzb3VyY2VTaXplLmgpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5yb3RhdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMucmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICBDaGVjayB0byBzZWUgaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkXG4gICAgICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHJpbSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGRhdGEuc3ByaXRlU291cmNlU2l6ZS55KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUoXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSxcbiAgICAgICAgICAgICAgICBmcmFtZSxcbiAgICAgICAgICAgICAgICBvcmlnLFxuICAgICAgICAgICAgICAgIHRyaW0sXG4gICAgICAgICAgICAgICAgZGF0YS5yb3RhdGVkID8gMiA6IDAsXG4gICAgICAgICAgICAgICAgZGF0YS5hbmNob3JcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yICdmcm9tJyBhbmQgJ2Zyb21Mb2FkZXInIGZ1bmN0aW9uc1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogUGFyc2UgYW5pbWF0aW9ucyBjb25maWdcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5TcHJpdGVzaGVldC5wcm90b3R5cGUuX3Byb2Nlc3NBbmltYXRpb25zID0gZnVuY3Rpb24gX3Byb2Nlc3NBbmltYXRpb25zICgpXG57XG4gICAgdmFyIGFuaW1hdGlvbnMgPSB0aGlzLmRhdGEuYW5pbWF0aW9ucyB8fCB7fTtcblxuICAgIGZvciAodmFyIGFuaW1OYW1lIGluIGFuaW1hdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNbYW5pbU5hbWVdID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uc1thbmltTmFtZV0ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBmcmFtZU5hbWUgPSBhbmltYXRpb25zW2FuaW1OYW1lXVtpXTtcblxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXS5wdXNoKHRoaXMudGV4dHVyZXNbZnJhbWVOYW1lXSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBwYXJzZSBoYXMgY29tcGxldGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcGFyc2VDb21wbGV0ZSA9IGZ1bmN0aW9uIF9wYXJzZUNvbXBsZXRlICgpXG57XG4gICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG5cbiAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbn07XG5cbi8qKlxuICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuU3ByaXRlc2hlZXQucHJvdG90eXBlLl9uZXh0QmF0Y2ggPSBmdW5jdGlvbiBfbmV4dEJhdGNoICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSk7XG4gICAgdGhpcy5fYmF0Y2hJbmRleCsrO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcyQxLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IHRoaXMkMS5fZnJhbWVLZXlzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMkMS5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgIHRoaXMkMS5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfSwgMCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgU3ByaXRlc2hlZXQgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoZGVzdHJveUJhc2UpXG57XG4gICAgICAgIGlmICggZGVzdHJveUJhc2UgPT09IHZvaWQgMCApIGRlc3Ryb3lCYXNlID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpIGluIHRoaXMudGV4dHVyZXMpXG4gICAge1xuICAgICAgICB0aGlzLnRleHR1cmVzW2ldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICB0aGlzLl9mcmFtZUtleXMgPSBudWxsO1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgaWYgKGRlc3Ryb3lCYXNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNwcml0ZXNoZWV0LCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nIHRleHR1cmUgYXRsYXNlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAqIFRleHR1cmVQYWNrZXIgb3Igc2ltaWxhciBKU09OLWJhc2VkIHNwcml0ZXNoZWV0LlxuICpcbiAqIFRoaXMgbWlkZGxld2FyZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBUZXh0dXJlIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIFNwcml0ZXNoZWV0TG9hZGVyID0gZnVuY3Rpb24gU3ByaXRlc2hlZXRMb2FkZXIgKCkge307XG5cblNwcml0ZXNoZWV0TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIHVzZSAocmVzb3VyY2UsIG5leHQpXG57XG4gICAgdmFyIGltYWdlUmVzb3VyY2VOYW1lID0gKHJlc291cmNlLm5hbWUpICsgXCJfaW1hZ2VcIjtcblxuICAgIC8vIHNraXAgaWYgbm8gZGF0YSwgaXRzIG5vdCBqc29uLCBpdCBpc24ndCBzcHJpdGVzaGVldCBkYXRhLCBvciB0aGUgaW1hZ2UgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHNcbiAgICBpZiAoIXJlc291cmNlLmRhdGFcbiAgICAgICAgfHwgcmVzb3VyY2UudHlwZSAhPT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5KU09OXG4gICAgICAgIHx8ICFyZXNvdXJjZS5kYXRhLmZyYW1lc1xuICAgICAgICB8fCB0aGlzLnJlc291cmNlc1tpbWFnZVJlc291cmNlTmFtZV1cbiAgICApXG4gICAge1xuICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBsb2FkT3B0aW9ucyA9IHtcbiAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICBtZXRhZGF0YTogcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSxcbiAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgIH07XG5cbiAgICB2YXIgcmVzb3VyY2VQYXRoID0gU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCB0aGlzLmJhc2VVcmwpO1xuXG4gICAgLy8gbG9hZCB0aGUgaW1hZ2UgZm9yIHRoaXMgc2hlZXRcbiAgICB0aGlzLmFkZChpbWFnZVJlc291cmNlTmFtZSwgcmVzb3VyY2VQYXRoLCBsb2FkT3B0aW9ucywgZnVuY3Rpb24gb25JbWFnZUxvYWQocmVzKVxuICAgIHtcbiAgICAgICAgaWYgKHJlcy5lcnJvcilcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChyZXMuZXJyb3IpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ByaXRlc2hlZXQgPSBuZXcgU3ByaXRlc2hlZXQoXG4gICAgICAgICAgICByZXMudGV4dHVyZS5iYXNlVGV4dHVyZSxcbiAgICAgICAgICAgIHJlc291cmNlLmRhdGEsXG4gICAgICAgICAgICByZXNvdXJjZS51cmxcbiAgICAgICAgKTtcblxuICAgICAgICBzcHJpdGVzaGVldC5wYXJzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNvdXJjZS5zcHJpdGVzaGVldCA9IHNwcml0ZXNoZWV0O1xuICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZXMgPSBzcHJpdGVzaGVldC50ZXh0dXJlcztcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIEdldCB0aGUgc3ByaXRlc2hlZXRzIHJvb3QgcGF0aFxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZSAtIFJlc291cmNlIHRvIGNoZWNrIHBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVXJsIC0gQmFzZSByb290IHVybFxuICovXG5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGggPSBmdW5jdGlvbiBnZXRSZXNvdXJjZVBhdGggKHJlc291cmNlLCBiYXNlVXJsKVxue1xuICAgIC8vIFByZXBlbmQgdXJsIHBhdGggdW5sZXNzIHRoZSByZXNvdXJjZSBpbWFnZSBpcyBhIGRhdGEgdXJsXG4gICAgaWYgKHJlc291cmNlLmlzRGF0YVVybClcbiAgICB7XG4gICAgICAgIHJldHVybiByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVybC5yZXNvbHZlKHJlc291cmNlLnVybC5yZXBsYWNlKGJhc2VVcmwsICcnKSwgcmVzb3VyY2UuZGF0YS5tZXRhLmltYWdlKTtcbn07XG5cbmV4cG9ydCB7IFNwcml0ZXNoZWV0LCBTcHJpdGVzaGVldExvYWRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlc2hlZXQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS10aWxpbmcgLSB2NS4xLjFcbiAqIENvbXBpbGVkIEZyaSwgMDIgQXVnIDIwMTkgMjM6MjA6MjMgVVRDXG4gKlxuICogQHBpeGkvc3ByaXRlLXRpbGluZyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUsIFRleHR1cmVNYXRyaXgsIE9iamVjdFJlbmRlcmVyLCBTaGFkZXIsIFF1YWRVdiB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgUG9pbnQsIFJlY3RhbmdsZSwgVHJhbnNmb3JtLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRleHR1cmVDYWNoZSwgcHJlbXVsdGlwbHlUaW50VG9SZ2JhLCBjb3JyZWN0QmxlbmRNb2RlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbGluZ1Nwcml0ZSA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKFNwcml0ZSkge1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAxMDA7XG4gICAgICAgIGlmICggaGVpZ2h0ID09PSB2b2lkIDAgKSBoZWlnaHQgPSAxMDA7XG5cbiAgICAgICAgU3ByaXRlLmNhbGwodGhpcywgdGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbGUgdHJhbnNmb3JtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIC8vIC8vLyBwcml2YXRlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW52YXMgcGF0dGVyblxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUGF0dGVybn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbnZhc1BhdHRlcm4gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYXRyaXggdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgY29vcmRzIGluIFRleHR1cmUgbm9ybWFsaXplZCBzcGFjZSB0byBjb29yZHMgaW4gQmFzZVRleHR1cmUgc3BhY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IHRleHR1cmUudXZNYXRyaXggfHwgbmV3IFRleHR1cmVNYXRyaXgodGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IGFuY2hvciBhZmZlY3RzIHV2c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dlJlc3BlY3RBbmNob3IgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIFNwcml0ZSApIFRpbGluZ1Nwcml0ZS5fX3Byb3RvX18gPSBTcHJpdGU7XG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNwcml0ZSAmJiBTcHJpdGUucHJvdG90eXBlICk7XG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRpbGluZ1Nwcml0ZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGNsYW1wTWFyZ2luOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRpbGVTY2FsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aWxlUG9zaXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmNsYW1wTWFyZ2luLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmNsYW1wTWFyZ2luLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKHRydWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVTY2FsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVTY2FsZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVQb3NpdGlvbi5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVQb3NpdGlvbi5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSgpO1xuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIG1pblgsIG1pblksIG1heFgsIG1heFkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzIChyZWN0KVxuICAgIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IHRoaXMuX2hlaWdodCAqIC10aGlzLl9hbmNob3IuX3k7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgICAgIGlmICghcmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBTcHJpdGUucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gdGhlIHBvaW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHNwcml0ZSBjb250YWlucyB0aGUgcG9pbnQuXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb250YWluc1BvaW50ID0gZnVuY3Rpb24gY29udGFpbnNQb2ludCAocG9pbnQpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IuX3g7XG5cbiAgICAgICAgaWYgKHRlbXBQb2ludC54ID49IHgxICYmIHRlbXBQb2ludC54IDwgeDEgKyB3aWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgdGlsaW5nIHNwcml0ZSBiYXNlZCBvbiB0aGUgc291cmNlIHlvdSBwcm92aWRlLlxuICAgICAqIFRoZSBzb3VyY2UgY2FuIGJlIC0gZnJhbWUgaWQsIGltYWdlIHVybCwgdmlkZW8gdXJsLCBjYW52YXMgZWxlbWVudCwgdmlkZW8gZWxlbWVudCwgYmFzZSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFBJWEkuVGV4dHVyZXxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHNvdXJjZSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShzb3VyY2UpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHRpbGluZyBzcHJpdGUgdGhhdCB3aWxsIHVzZSBhIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZUNhY2hlIGJhc2VkIG9uIHRoZSBmcmFtZUlkXG4gICAgICogVGhlIGZyYW1lIGlkcyBhcmUgY3JlYXRlZCB3aGVuIGEgVGV4dHVyZSBwYWNrZXIgZmlsZSBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnJhbWVJZCAtIFRoZSBmcmFtZSBJZCBvZiB0aGUgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lIChmcmFtZUlkLCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiVGhlIGZyYW1lSWQgXFxcIlwiICsgZnJhbWVJZCArIFwiXFxcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBcIiArICh0aGlzKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUodGV4dHVyZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgaW1hZ2UgaWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlIChpbWFnZUlkLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgc3VwcG9ydCBmb3IgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSBwYXJhbWV0ZXJzXG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JylcbiAgICAgICAge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGFyZ3VtZW50c1s0XSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46IGFyZ3VtZW50c1szXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShpbWFnZUlkLCBvcHRpb25zKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZTtcbn0oU3ByaXRlKSk7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSBtb2QodlRleHR1cmVDb29yZCAtIHVDbGFtcE9mZnNldCwgdmVjMigxLjAsIDEuMCkpICsgdUNsYW1wT2Zmc2V0O1xcbiAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcXG4gICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcXG5cXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gc2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50U2ltcGxlID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcblxuLyoqXG4gKiBXZWJHTCByZW5kZXJlciBwbHVnaW4gZm9yIHRpbGluZyBzcHJpdGVzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG52YXIgVGlsaW5nU3ByaXRlUmVuZGVyZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChPYmplY3RSZW5kZXJlcikge1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgT2JqZWN0UmVuZGVyZXIuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgdmFyIHVuaWZvcm1zID0geyBnbG9iYWxzOiB0aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zIH07XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgdGhpcy5zaW1wbGVTaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50U2ltcGxlLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgdGhpcy5xdWFkID0gbmV3IFF1YWRVdigpO1xuICAgIH1cblxuICAgIGlmICggT2JqZWN0UmVuZGVyZXIgKSBUaWxpbmdTcHJpdGVSZW5kZXJlci5fX3Byb3RvX18gPSBPYmplY3RSZW5kZXJlcjtcbiAgICBUaWxpbmdTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPYmplY3RSZW5kZXJlciAmJiBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUgKTtcbiAgICBUaWxpbmdTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUaWxpbmdTcHJpdGVSZW5kZXJlcjtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRpbGluZ1Nwcml0ZX0gdHMgdGlsaW5nU3ByaXRlIHRvIGJlIHJlbmRlcmVkXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAodHMpXG4gICAge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgcXVhZCA9IHRoaXMucXVhZDtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSBxdWFkLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAodHMuX3dpZHRoKSAqIC10cy5hbmNob3IueDtcbiAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IHRzLl9oZWlnaHQgKiAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9ICh0cy5fd2lkdGgpICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuXG4gICAgICAgIGlmICh0cy51dlJlc3BlY3RBbmNob3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gLXRzLmFuY2hvci55O1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gMS4wIC0gdHMuYW5jaG9yLnk7XG4gICAgICAgIH1cblxuICAgICAgICBxdWFkLmludmFsaWRhdGUoKTtcblxuICAgICAgICB2YXIgdGV4ID0gdHMuX3RleHR1cmU7XG4gICAgICAgIHZhciBiYXNlVGV4ID0gdGV4LmJhc2VUZXh0dXJlO1xuICAgICAgICB2YXIgbHQgPSB0cy50aWxlVHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICB2YXIgdXYgPSB0cy51dk1hdHJpeDtcbiAgICAgICAgdmFyIGlzU2ltcGxlID0gYmFzZVRleC5pc1Bvd2VyT2ZUd29cbiAgICAgICAgICAgICYmIHRleC5mcmFtZS53aWR0aCA9PT0gYmFzZVRleC53aWR0aCAmJiB0ZXguZnJhbWUuaGVpZ2h0ID09PSBiYXNlVGV4LmhlaWdodDtcblxuICAgICAgICAvLyBhdXRvLCBmb3JjZSByZXBlYXQgd3JhcE1vZGUgZm9yIGJpZyB0aWxpbmcgdGV4dHVyZXNcbiAgICAgICAgaWYgKGlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWJhc2VUZXguX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChiYXNlVGV4LndyYXBNb2RlID09PSBXUkFQX01PREVTLkNMQU1QKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzZVRleC53cmFwTW9kZSA9IFdSQVBfTU9ERVMuUkVQRUFUO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpc1NpbXBsZSA9IGJhc2VUZXgud3JhcE1vZGUgIT09IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2hhZGVyID0gaXNTaW1wbGUgPyB0aGlzLnNpbXBsZVNoYWRlciA6IHRoaXMuc2hhZGVyO1xuXG4gICAgICAgIHZhciB3ID0gdGV4LndpZHRoO1xuICAgICAgICB2YXIgaCA9IHRleC5oZWlnaHQ7XG4gICAgICAgIHZhciBXID0gdHMuX3dpZHRoO1xuICAgICAgICB2YXIgSCA9IHRzLl9oZWlnaHQ7XG5cbiAgICAgICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLFxuICAgICAgICAgICAgbHQuYiAqIHcgLyBILFxuICAgICAgICAgICAgbHQuYyAqIGggLyBXLFxuICAgICAgICAgICAgbHQuZCAqIGggLyBILFxuICAgICAgICAgICAgbHQudHggLyBXLFxuICAgICAgICAgICAgbHQudHkgLyBIKTtcblxuICAgICAgICAvLyB0aGF0IHBhcnQgaXMgdGhlIHNhbWUgYXMgYWJvdmU6XG4gICAgICAgIC8vIHRlbXBNYXQuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSh0ZXgud2lkdGgsIHRleC5oZWlnaHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnByZXBlbmQobHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKDEuMCAvIHRzLl93aWR0aCwgMS4wIC8gdHMuX2hlaWdodCk7XG5cbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5VGludFRvUmdiYSh0cy50aW50LCB0cy53b3JsZEFscGhhLFxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleC5wcmVtdWx0aXBseUFscGhhKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdHMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHRleDtcblxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpOy8vICwgcmVuZGVyZXIuc2hhZGVyLmdldEdMU2hhZGVyKCkpO1xuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShjb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgYmFzZVRleC5wcmVtdWx0aXBseUFscGhhKSk7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IFRpbGluZ1Nwcml0ZSwgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwcml0ZS10aWxpbmcuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3RleHQtYml0bWFwIC0gdjUuMS4xXG4gKiBDb21waWxlZCBGcmksIDAyIEF1ZyAyMDE5IDIzOjIwOjIzIFVUQ1xuICpcbiAqIEBwaXhpL3RleHQtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBQb2ludCwgUmVjdGFuZ2xlLCBPYnNlcnZhYmxlUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IHJlbW92ZUl0ZW1zLCBnZXRSZXNvbHV0aW9uT2ZVcmwgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBUZXh0IGlzIHRoYXQgYWxsIG9mIHlvdXIgdGV4dHVyZXMgYXJlIHByZS1nZW5lcmF0ZWQgYW5kIGxvYWRpbmcsXG4gKiBtZWFuaW5nIHRoYXQgcmVuZGVyaW5nIGlzIGZhc3QsIGFuZCBjaGFuZ2luZyB0ZXh0IGhhcyBubyBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlIGlzIHRoYXQgeW91IG5lZWQgdG8gcHJlbG9hZCB0aGUgYml0bWFwIGZvbnQgYXNzZXRzLCBhbmQgdGh1cyB0aGUgc3R5bGluZyBpcyBzZXQgaW4gc3RvbmUuXG4gKiBTdXBwb3J0aW5nIGNoYXJhY3RlciBzZXRzIG90aGVyIHRoYW4gbGF0aW4sIHN1Y2ggYXMgQ0pLIGxhbmd1YWdlcywgbWF5IGJlIGltcHJhY3RpY2FsIGR1ZSB0byB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy5cbiAqXG4gKiBZb3UgY2FuIGdlbmVyYXRlIHRoZSBmbnQgZmlsZXMgdXNpbmdcbiAqIGh0dHA6Ly93d3cuYW5nZWxjb2RlLmNvbS9wcm9kdWN0cy9ibWZvbnQvIGZvciBXaW5kb3dzIG9yXG4gKiBodHRwOi8vd3d3LmJtZ2x5cGguY29tLyBmb3IgTWFjLlxuICpcbiAqIEEgQml0bWFwVGV4dCBjYW4gb25seSBiZSBjcmVhdGVkIHdoZW4gdGhlIGZvbnQgaXMgbG9hZGVkLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBpbiB0aGlzIGNhc2UgdGhlIGZvbnQgaXMgaW4gYSBmaWxlIGNhbGxlZCAnZGVzeXJlbC5mbnQnXG4gKiBsZXQgYml0bWFwVGV4dCA9IG5ldyBQSVhJLkJpdG1hcFRleHQoXCJ0ZXh0IHVzaW5nIGEgZmFuY3kgZm9udCFcIiwge2ZvbnQ6IFwiMzVweCBEZXN5cmVsXCIsIGFsaWduOiBcInJpZ2h0XCJ9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBUZXh0ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoQ29udGFpbmVyKSB7XG4gICAgZnVuY3Rpb24gQml0bWFwVGV4dCh0ZXh0LCBzdHlsZSlcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgICAgICBpZiAoIHN0eWxlID09PSB2b2lkIDAgKSBzdHlsZSA9IHt9O1xuXG4gICAgICAgIENvbnRhaW5lci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHRIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBsZXR0ZXIgc3ByaXRlIHBvb2wuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9nbHlwaHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBzdHlsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZm9udCA9IHtcbiAgICAgICAgICAgIHRpbnQ6IHN0eWxlLnRpbnQgIT09IHVuZGVmaW5lZCA/IHN0eWxlLnRpbnQgOiAweEZGRkZGRixcbiAgICAgICAgICAgIGFsaWduOiBzdHlsZS5hbGlnbiB8fCAnbGVmdCcsXG4gICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgc2l6ZTogMCxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnQgPSBzdHlsZS5mb250OyAvLyBydW4gZm9udCBzZXR0ZXJcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHZhbHVlIHRvIDBcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4V2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaWU6IHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZXR0ZXIgc3BhY2luZy4gVGhpcyBpcyB1c2VmdWwgZm9yIHNldHRpbmcgdGhlIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgYW5jaG9yLiByZWFkLW9ubHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KGZ1bmN0aW9uICgpIHsgdGhpcyQxLmRpcnR5ID0gdHJ1ZTsgfSwgdGhpcywgMCwgMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXJ0eSBzdGF0ZSBvZiB0aGlzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yb3VuZFBpeGVscyA9IHNldHRpbmdzLlJPVU5EX1BJWEVMUztcblxuICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciApIEJpdG1hcFRleHQuX19wcm90b19fID0gQ29udGFpbmVyO1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29udGFpbmVyICYmIENvbnRhaW5lci5wcm90b3R5cGUgKTtcbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJpdG1hcFRleHQ7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFsaWduOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGFuY2hvcjogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWF4V2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWF4TGluZUhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0V2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGV0dGVyU3BhY2luZzogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0SGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uIHVwZGF0ZVRleHQgKClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdO1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9mb250LnNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgdmFyIGNoYXJzID0gW107XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gW107XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fdGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJykgfHwgJyAnO1xuICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIHRoaXMuX2ZvbnQuc2l6ZTtcblxuICAgICAgICB2YXIgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgIHZhciBsYXN0QnJlYWtXaWR0aCA9IDA7XG4gICAgICAgIHZhciBzcGFjZXNSZW1vdmVkID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVIZWlnaHQgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dExlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICB2YXIgY2hhciA9IHRleHQuY2hhckF0KGkpO1xuXG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChjaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgICsrbGluZTtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuXG4gICAgICAgICAgICBpZiAoIWNoYXJEYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoYXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IGNoYXJEYXRhLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgbGluZTogbGluZSxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQb2ludChwb3MueCArIGNoYXJEYXRhLnhPZmZzZXQgKyAodGhpcy5fbGV0dGVyU3BhY2luZyAvIDIpLCBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS54QWR2YW5jZSArIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gcG9zLng7XG4gICAgICAgICAgICBtYXhMaW5lSGVpZ2h0ID0gTWF0aC5tYXgobWF4TGluZUhlaWdodCwgKGNoYXJEYXRhLnlPZmZzZXQgKyBjaGFyRGF0YS50ZXh0dXJlLmhlaWdodCkpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG5cbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyhjaGFycywgMSArIGxhc3RCcmVha1BvcyAtIHNwYWNlc1JlbW92ZWQsIDEgKyBpIC0gbGFzdEJyZWFrUG9zKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdEJyZWFrUG9zO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IC0xO1xuXG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdENoYXIgPSB0ZXh0LmNoYXJBdCh0ZXh0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gJ1xccicgJiYgbGFzdENoYXIgIT09ICdcXG4nKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChsYXN0Q2hhcikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IGxhc3RCcmVha1dpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxpbmVBbGlnbk9mZnNldHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPD0gbGluZTsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBhbGlnbk9mZnNldCA9IDA7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250LmFsaWduID09PSAncmlnaHQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ2NlbnRlcicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpJDFdKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVuQ2hhcnMgPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHZhciB0aW50ID0gdGhpcy50aW50O1xuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGxlbkNoYXJzOyBpJDIrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGMgPSB0aGlzLl9nbHlwaHNbaSQyXTsgLy8gZ2V0IHRoZSBuZXh0IGdseXBoIHNwcml0ZVxuXG4gICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjLnRleHR1cmUgPSBjaGFyc1tpJDJdLnRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYyA9IG5ldyBTcHJpdGUoY2hhcnNbaSQyXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBjLnJvdW5kUGl4ZWxzID0gdGhpcy5yb3VuZFBpeGVscztcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYy5wb3NpdGlvbi54ID0gKGNoYXJzW2kkMl0ucG9zaXRpb24ueCArIGxpbmVBbGlnbk9mZnNldHNbY2hhcnNbaSQyXS5saW5lXSkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMucG9zaXRpb24ueSA9IGNoYXJzW2kkMl0ucG9zaXRpb24ueSAqIHNjYWxlO1xuICAgICAgICAgICAgYy5zY2FsZS54ID0gYy5zY2FsZS55ID0gc2NhbGU7XG4gICAgICAgICAgICBjLnRpbnQgPSB0aW50O1xuXG4gICAgICAgICAgICBpZiAoIWMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgdW5uZWNlc3NhcnkgY2hpbGRyZW4uXG4gICAgICAgIGZvciAodmFyIGkkMyA9IGxlbkNoYXJzOyBpJDMgPCB0aGlzLl9nbHlwaHMubGVuZ3RoOyArK2kkMylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLl9nbHlwaHNbaSQzXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSBtYXhMaW5lV2lkdGggKiBzY2FsZTtcbiAgICAgICAgdGhpcy5fdGV4dEhlaWdodCA9IChwb3MueSArIGRhdGEubGluZUhlaWdodCkgKiBzY2FsZTtcblxuICAgICAgICAvLyBhcHBseSBhbmNob3JcbiAgICAgICAgaWYgKHRoaXMuYW5jaG9yLnggIT09IDAgfHwgdGhpcy5hbmNob3IueSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSQ0ID0gMDsgaSQ0IDwgbGVuQ2hhcnM7IGkkNCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2dseXBoc1tpJDRdLnggLT0gdGhpcy5fdGV4dFdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHNbaSQ0XS55IC09IHRoaXMuX3RleHRIZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSBtYXhMaW5lSGVpZ2h0ICogc2NhbGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0gKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRleHQgYmVmb3JlIGNhbGxpbmcgcGFyZW50J3MgZ2V0TG9jYWxCb3VuZHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gZ2V0TG9jYWxCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQudGludDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnQudGludCA9ICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlID49IDApID8gdmFsdWUgOiAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFsaWdubWVudCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQGRlZmF1bHQgJ2xlZnQnXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFsaWduLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udC5hbGlnbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFsaWduLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9mb250LmFsaWduID0gdmFsdWUgfHwgJ2xlZnQnO1xuXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGlzIGAoMCwwKWAsIHRoaXMgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgdGhlIHRvcCBsZWZ0LlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludCB8IG51bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5jaG9yLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYW5jaG9yLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLnNldCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbmNob3IuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IGRlc2NyaXB0b3Igb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5mb250LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmZvbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWUuc2xpY2UoMSkuam9pbignICcpO1xuICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdmFsdWUubGVuZ3RoID49IDIgPyBwYXJzZUludCh2YWx1ZVswXSwgMTApIDogQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInID8gdmFsdWUuc2l6ZSA6IHBhcnNlSW50KHZhbHVlLnNpemUsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dC5zZXQgPSBmdW5jdGlvbiAodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJycgOiB0ZXh0KTtcblxuICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB0aGUgdmFsdWUgdG8gMC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF4V2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1heFdpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWF4V2lkdGggPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF4V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAqIGkuZS4gd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF4TGluZUhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhMaW5lSGVpZ2h0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0V2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRpdGlvbmFsIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubGV0dGVyU3BhY2luZy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5sZXR0ZXJTcGFjaW5nLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0SGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRIZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgYml0bWFwIGZvbnQgd2l0aCBkYXRhIGFuZCBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudH0geG1sIC0gVGhlIFhNTCBkb2N1bWVudCBkYXRhLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT58UElYSS5UZXh0dXJlfFBJWEkuVGV4dHVyZVtdfSB0ZXh0dXJlcyAtIExpc3Qgb2YgdGV4dHVyZXMgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiAgSWYgcHJvdmlkaW5nIGFuIG9iamVjdCwgdGhlIGtleSBpcyB0aGUgYDxwYWdlPmAgZWxlbWVudCdzIGBmaWxlYCBhdHRyaWJ1dGUgaW4gdGhlIEZOVCBmaWxlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gUmVzdWx0IGZvbnQgb2JqZWN0IHdpdGggZm9udCwgc2l6ZSwgbGluZUhlaWdodCBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5yZWdpc3RlckZvbnQgPSBmdW5jdGlvbiByZWdpc3RlckZvbnQgKHhtbCwgdGV4dHVyZXMpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICB2YXIgaW5mbyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdO1xuICAgICAgICB2YXIgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb21tb24nKVswXTtcbiAgICAgICAgdmFyIHBhZ2VzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciByZXMgPSBnZXRSZXNvbHV0aW9uT2ZVcmwocGFnZXNbMF0uZ2V0QXR0cmlidXRlKCdmaWxlJyksIHNldHRpbmdzLlJFU09MVVRJT04pO1xuICAgICAgICB2YXIgcGFnZXNUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIGRhdGEuZm9udCA9IGluZm8uZ2V0QXR0cmlidXRlKCdmYWNlJyk7XG4gICAgICAgIGRhdGEuc2l6ZSA9IHBhcnNlSW50KGluZm8uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKTtcbiAgICAgICAgZGF0YS5saW5lSGVpZ2h0ID0gcGFyc2VJbnQoY29tbW9uLmdldEF0dHJpYnV0ZSgnbGluZUhlaWdodCcpLCAxMCkgLyByZXM7XG4gICAgICAgIGRhdGEuY2hhcnMgPSB7fTtcblxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGlkID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdpZCcpO1xuICAgICAgICAgICAgdmFyIGZpbGUgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcblxuICAgICAgICAgICAgcGFnZXNUZXh0dXJlc1tpZF0gPSB0ZXh0dXJlcyBpbnN0YW5jZW9mIEFycmF5ID8gdGV4dHVyZXNbaV0gOiB0ZXh0dXJlc1tmaWxlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgdmFyIGxldHRlcnMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NoYXInKTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsZXR0ZXJzLmxlbmd0aDsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBsZXR0ZXIgPSBsZXR0ZXJzW2kkMV07XG4gICAgICAgICAgICB2YXIgY2hhckNvZGUgPSBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCk7XG4gICAgICAgICAgICB2YXIgcGFnZSA9IGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSB8fCAwO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVSZWN0ID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAocGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCkgLyByZXMpICsgKHBhZ2VzVGV4dHVyZXNbcGFnZV0uZnJhbWUueCAvIHJlcyksXG4gICAgICAgICAgICAgICAgKHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApIC8gcmVzKSArIChwYWdlc1RleHR1cmVzW3BhZ2VdLmZyYW1lLnkgLyByZXMpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApIC8gcmVzXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBkYXRhLmNoYXJzW2NoYXJDb2RlXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB4QWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneGFkdmFuY2UnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKHBhZ2VzVGV4dHVyZXNbcGFnZV0uYmFzZVRleHR1cmUsIHRleHR1cmVSZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIHZhciBrZXJuaW5ncyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgna2VybmluZycpO1xuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGtlcm5pbmdzLmxlbmd0aDsgaSQyKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBrZXJuaW5nID0ga2VybmluZ3NbaSQyXTtcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdmaXJzdCcpLCAxMCkgLyByZXM7XG4gICAgICAgICAgICB2YXIgc2Vjb25kID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCkgLyByZXM7XG4gICAgICAgICAgICB2YXIgYW1vdW50ID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ2Ftb3VudCcpLCAxMCkgLyByZXM7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLmNoYXJzW3NlY29uZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YS5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSSdtIGxlYXZpbmcgdGhpcyBhcyBhIHRlbXBvcmFyeSBmaXggc28gd2UgY2FuIHRlc3QgdGhlIGJpdG1hcCBmb250cyBpbiB2M1xuICAgICAgICAvLyBidXQgaXQncyB2ZXJ5IGxpa2VseSB0byBjaGFuZ2VcbiAgICAgICAgQml0bWFwVGV4dC5mb250c1tkYXRhLmZvbnRdID0gZGF0YTtcblxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJpdG1hcFRleHQucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBCaXRtYXBUZXh0O1xufShDb250YWluZXIpKTtcblxuQml0bWFwVGV4dC5mb250cyA9IHt9O1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmdcbiAqIGJpdG1hcC1iYXNlZCBmb250cyBzdWl0YWJsZSBmb3IgdXNpbmcgd2l0aCB7QGxpbmsgUElYSS5CaXRtYXBUZXh0fS5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBpbXBsZW1lbnRzIFBJWEkuSUxvYWRlclBsdWdpblxuICovXG52YXIgQml0bWFwRm9udExvYWRlciA9IGZ1bmN0aW9uIEJpdG1hcEZvbnRMb2FkZXIgKCkge307XG5cbkJpdG1hcEZvbnRMb2FkZXIucGFyc2UgPSBmdW5jdGlvbiBwYXJzZSAocmVzb3VyY2UsIHRleHR1cmUpXG57XG4gICAgcmVzb3VyY2UuYml0bWFwRm9udCA9IEJpdG1hcFRleHQucmVnaXN0ZXJGb250KHJlc291cmNlLmRhdGEsIHRleHR1cmUpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiB0aGUgcGx1Z2luIGlzIGluc3RhbGxlZC5cbiAqXG4gKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gKi9cbkJpdG1hcEZvbnRMb2FkZXIuYWRkID0gZnVuY3Rpb24gYWRkICgpXG57XG4gICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnZm50JywgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpO1xufTtcblxuLyoqXG4gKiBSZXBsYWNlbWVudCBmb3IgTm9kZUpTJ3MgcGF0aC5kaXJuYW1lXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBQYXRoIHRvIGdldCBkaXJlY3RvcnkgZm9yXG4gKi9cbkJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZSA9IGZ1bmN0aW9uIGRpcm5hbWUgKHVybClcbntcbiAgICB2YXIgZGlyID0gdXJsXG4gICAgICAgIC5yZXBsYWNlKC9cXC8kLywgJycpIC8vIHJlcGxhY2UgdHJhaWxpbmcgc2xhc2hcbiAgICAgICAgLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpOyAvLyByZW1vdmUgZXZlcnl0aGluZyBhZnRlciB0aGUgbGFzdFxuXG4gICAgLy8gRmlsZSByZXF1ZXN0IGlzIHJlbGF0aXZlLCB1c2UgY3VycmVudCBkaXJlY3RvcnlcbiAgICBpZiAoZGlyID09PSB1cmwpXG4gICAge1xuICAgICAgICByZXR1cm4gJy4nO1xuICAgIH1cbiAgICAvLyBTdGFydGVkIHdpdGggYSBzbGFzaFxuICAgIGVsc2UgaWYgKGRpciA9PT0gJycpXG4gICAge1xuICAgICAgICByZXR1cm4gJy8nO1xuICAgIH1cblxuICAgIHJldHVybiBkaXI7XG59O1xuXG4vKipcbiAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG5CaXRtYXBGb250TG9hZGVyLnVzZSA9IGZ1bmN0aW9uIHVzZSAocmVzb3VyY2UsIG5leHQpXG57XG4gICAgLy8gc2tpcCBpZiBubyBkYXRhIG9yIG5vdCB4bWwgZGF0YVxuICAgIGlmICghcmVzb3VyY2UuZGF0YSB8fCByZXNvdXJjZS50eXBlICE9PSBMb2FkZXJSZXNvdXJjZS5UWVBFLlhNTClcbiAgICB7XG4gICAgICAgIG5leHQoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gc2tpcCBpZiBub3QgYml0bWFwIGZvbnQgZGF0YSwgdXNpbmcgc29tZSBzaWxseSBkdWNrLXR5cGluZ1xuICAgIGlmIChyZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJykubGVuZ3RoID09PSAwXG4gICAgICAgIHx8IHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKS5sZW5ndGggPT09IDBcbiAgICAgICAgfHwgcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5mbycpWzBdLmdldEF0dHJpYnV0ZSgnZmFjZScpID09PSBudWxsXG4gICAgKVxuICAgIHtcbiAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgeG1sVXJsID0gIXJlc291cmNlLmlzRGF0YVVybCA/IEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZShyZXNvdXJjZS51cmwpIDogJyc7XG5cbiAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKVxuICAgIHtcbiAgICAgICAgaWYgKHhtbFVybCA9PT0gJy4nKVxuICAgICAgICB7XG4gICAgICAgICAgICB4bWxVcmwgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmJhc2VVcmwgJiYgeG1sVXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiBiYXNldXJsIGhhcyBhIHRyYWlsaW5nIHNsYXNoIHRoZW4gYWRkIG9uZSB0byB4bWxVcmwgc28gdGhlIHJlcGxhY2Ugd29ya3MgYmVsb3dcbiAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwuY2hhckF0KHRoaXMuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZW1vdmUgYmFzZVVybCBmcm9tIHhtbFVybFxuICAgIHhtbFVybCA9IHhtbFVybC5yZXBsYWNlKHRoaXMuYmFzZVVybCwgJycpO1xuXG4gICAgLy8gaWYgdGhlcmUgaXMgYW4geG1sVXJsIG5vdywgaXQgbmVlZHMgYSB0cmFpbGluZyBzbGFzaC4gRW5zdXJlIHRoYXQgaXQgZG9lcyBpZiB0aGUgc3RyaW5nIGlzbid0IGVtcHR5LlxuICAgIGlmICh4bWxVcmwgJiYgeG1sVXJsLmNoYXJBdCh4bWxVcmwubGVuZ3RoIC0gMSkgIT09ICcvJylcbiAgICB7XG4gICAgICAgIHhtbFVybCArPSAnLyc7XG4gICAgfVxuXG4gICAgdmFyIHBhZ2VzID0gcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgIHZhciB0ZXh0dXJlcyA9IHt9O1xuXG4gICAgLy8gSGFuZGxlIGNvbXBsZXRlZCwgd2hlbiB0aGUgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgLy8gbG9hZCBpcyB0aGUgc2FtZSBudW1iZXIgYXMgcmVmZXJlbmNlcyBpbiB0aGUgZm50IGZpbGVcbiAgICB2YXIgY29tcGxldGVkID0gZnVuY3Rpb24gKHBhZ2UpIHtcbiAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRleHR1cmVzKS5sZW5ndGggPT09IHBhZ2VzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgQml0bWFwRm9udExvYWRlci5wYXJzZShyZXNvdXJjZSwgdGV4dHVyZXMpO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyArK2kpXG4gICAge1xuICAgICAgICB2YXIgcGFnZUZpbGUgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTtcbiAgICAgICAgdmFyIHVybCA9IHhtbFVybCArIHBhZ2VGaWxlO1xuICAgICAgICB2YXIgZXhpc3RzID0gZmFsc2U7XG5cbiAgICAgICAgLy8gaW5jYXNlIHRoZSBpbWFnZSBpcyBsb2FkZWQgb3V0c2lkZVxuICAgICAgICAvLyB1c2luZyB0aGUgc2FtZSBsb2FkZXIsIHJlc291cmNlIHdpbGwgYmUgYXZhaWxhYmxlXG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5yZXNvdXJjZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBiaXRtYXBSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuXG4gICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudXJsID09PSB1cmwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2UubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZChiaXRtYXBSZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJpdG1hcFJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmFkZChjb21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGV4dHVyZSBpcyBub3QgbG9hZGVkLCB3ZSdsbCBhdHRlbXB0IHRvIGFkZFxuICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgIGlmICghZXhpc3RzKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTdGFuZGFyZCBsb2FkaW5nIG9wdGlvbnMgZm9yIGltYWdlc1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgIGxvYWRUeXBlOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgIHsgcGFnZUZpbGU6IHBhZ2VGaWxlIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGFcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuYWRkKHVybCwgb3B0aW9ucywgY29tcGxldGVkKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCB7IEJpdG1hcEZvbnRMb2FkZXIsIEJpdG1hcFRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQtYml0bWFwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItYmx1ciAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItYmx1ciBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbnZhciB2ZXJ0VGVtcGxhdGUgPSBcIlxcbiAgICBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxuICAgIHVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbiAgICB1bmlmb3JtIGZsb2F0IHN0cmVuZ3RoO1xcblxcbiAgICB2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTtcXG5cXG4gICAgdW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG4gICAgdW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcbiAgICBcXG4gICAgdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcbiAgICBcXG4gICAgICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICAgfVxcbiAgICBcXG4gICAgdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbiAgICB7XFxuICAgICAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG4gICAgfVxcblxcbiAgICB2b2lkIG1haW4odm9pZClcXG4gICAge1xcbiAgICAgICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcbiAgICAgICAgdmVjMiB0ZXh0dXJlQ29vcmQgPSBmaWx0ZXJUZXh0dXJlQ29vcmQoKTtcXG4gICAgICAgICVibHVyJVxcbiAgICB9XCI7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgeClcbntcbiAgICB2YXIgaGFsZkxlbmd0aCA9IE1hdGguY2VpbChrZXJuZWxTaXplIC8gMik7XG5cbiAgICB2YXIgdmVydFNvdXJjZSA9IHZlcnRUZW1wbGF0ZTtcblxuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZTtcbiAgICAvLyBsZXQgdmFsdWU7XG5cbiAgICBpZiAoeClcbiAgICB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoLCAwLjApOyc7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRlbXBsYXRlID0gJ3ZCbHVyVGV4Q29vcmRzWyVpbmRleCVdID0gIHRleHR1cmVDb29yZCArIHZlYzIoMC4wLCAlc2FtcGxlSW5kZXglICogc3RyZW5ndGgpOyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoJyVpbmRleCUnLCBpKTtcblxuICAgICAgICAvLyB2YWx1ZSA9IGk7XG5cbiAgICAgICAgLy8gaWYoaSA+PSBoYWxmTGVuZ3RoKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyVzYW1wbGVJbmRleCUnLCAoKGkgLSAoaGFsZkxlbmd0aCAtIDEpKSArIFwiLjBcIikpO1xuXG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cblxuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplKTtcblxuICAgIHJldHVybiB2ZXJ0U291cmNlO1xufVxuXG52YXIgR0FVU1NJQU5fVkFMVUVTID0ge1xuICAgIDU6IFswLjE1MzM4OCwgMC4yMjE0NjEsIDAuMjUwMzAxXSxcbiAgICA3OiBbMC4wNzEzMDMsIDAuMTMxNTE0LCAwLjE4OTg3OSwgMC4yMTQ2MDddLFxuICAgIDk6IFswLjAyODUzMiwgMC4wNjcyMzQsIDAuMTI0MDA5LCAwLjE3OTA0NCwgMC4yMDIzNl0sXG4gICAgMTE6IFswLjAwOTMsIDAuMDI4MDAyLCAwLjA2NTk4NCwgMC4xMjE3MDMsIDAuMTc1NzEzLCAwLjE5ODU5Nl0sXG4gICAgMTM6IFswLjAwMjQwNiwgMC4wMDkyNTUsIDAuMDI3ODY3LCAwLjA2NTY2NiwgMC4xMjExMTcsIDAuMTc0ODY4LCAwLjE5NzY0MV0sXG4gICAgMTU6IFswLjAwMDQ4OSwgMC4wMDI0MDMsIDAuMDA5MjQ2LCAwLjAyNzg0LCAwLjA2NTYwMiwgMC4xMjA5OTksIDAuMTc0Njk3LCAwLjE5NzQ0OF0sXG59O1xuXG52YXIgZnJhZ1RlbXBsYXRlID0gW1xuICAgICd2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTsnLFxuICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLFxuXG4gICAgJ3ZvaWQgbWFpbih2b2lkKScsXG4gICAgJ3snLFxuICAgICcgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJyAgICAlYmx1ciUnLFxuICAgICd9JyBdLmpvaW4oJ1xcbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZUJsdXJGcmFnU291cmNlKGtlcm5lbFNpemUpXG57XG4gICAgdmFyIGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgICB2YXIgaGFsZkxlbmd0aCA9IGtlcm5lbC5sZW5ndGg7XG5cbiAgICB2YXIgZnJhZ1NvdXJjZSA9IGZyYWdUZW1wbGF0ZTtcblxuICAgIHZhciBibHVyTG9vcCA9ICcnO1xuICAgIHZhciB0ZW1wbGF0ZSA9ICdnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2Qmx1clRleENvb3Jkc1slaW5kZXglXSkgKiAldmFsdWUlOyc7XG4gICAgdmFyIHZhbHVlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXJuZWxTaXplOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgYmx1ciA9IHRlbXBsYXRlLnJlcGxhY2UoJyVpbmRleCUnLCBpKTtcblxuICAgICAgICB2YWx1ZSA9IGk7XG5cbiAgICAgICAgaWYgKGkgPj0gaGFsZkxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCcldmFsdWUlJywga2VybmVsW3ZhbHVlXSk7XG5cbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuXG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUpO1xuXG4gICAgcmV0dXJuIGZyYWdTb3VyY2U7XG59XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXJQYXNzIGFwcGxpZXMgYSBob3Jpem9udGFsIG9yIHZlcnRpY2FsIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEJsdXJGaWx0ZXJQYXNzID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlclBhc3MoaG9yaXpvbnRhbCwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpXG4gICAge1xuICAgICAgICBrZXJuZWxTaXplID0ga2VybmVsU2l6ZSB8fCA1O1xuICAgICAgICB2YXIgdmVydFNyYyA9IGdlbmVyYXRlQmx1clZlcnRTb3VyY2Uoa2VybmVsU2l6ZSwgaG9yaXpvbnRhbCk7XG4gICAgICAgIHZhciBmcmFnU3JjID0gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKTtcblxuICAgICAgICBGaWx0ZXIuY2FsbChcbiAgICAgICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgICAgIHRoaXMsIHZlcnRTcmMsXG4gICAgICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgICAgIGZyYWdTcmNcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmhvcml6b250YWwgPSBob3Jpem9udGFsO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICB0aGlzLl9xdWFsaXR5ID0gMDtcblxuICAgICAgICB0aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG5cbiAgICAgICAgdGhpcy5ibHVyID0gc3RyZW5ndGggfHwgODtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciApIEJsdXJGaWx0ZXJQYXNzLl9fcHJvdG9fXyA9IEZpbHRlcjtcbiAgICBCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJsdXJGaWx0ZXJQYXNzO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYmx1cjogeyBjb25maWd1cmFibGU6IHRydWUgfSxxdWFsaXR5OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICBCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseSAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICBpZiAob3V0cHV0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC53aWR0aCkgKiAob3V0cHV0LndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC5oZWlnaHQpICogKG91dHB1dC5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGgpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG5cbiAgICAgICAgaWYgKHRoaXMucGFzc2VzID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUoKTtcbiAgICAgICAgICAgIHZhciByZW5kZXJlciA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXI7XG5cbiAgICAgICAgICAgIHZhciBmbGlwID0gaW5wdXQ7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHJlbmRlclRhcmdldDtcblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZsaXAsIGZsaXAuZmlsdGVyRnJhbWUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IGZsb3A7XG5cbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGZsb3A7XG5cbiAgICAgICAgICAgICAgICBmbG9wID0gZmxpcDtcbiAgICAgICAgICAgICAgICBmbGlwID0gdGVtcDtcblxuICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoNSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGUuYmxlbmQgPSB0cnVlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbG9wLCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDE2XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXIuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1ci5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5wYWRkaW5nID0gMSArIChNYXRoLmFicyh2YWx1ZSkgKiAyKTtcbiAgICAgICAgdGhpcy5zdHJlbmd0aCA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGJ5IG1vZGlmeWluZyB0aGUgbnVtYmVyIG9mIHBhc3Nlcy4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyXG4gICAgICogcXVhaWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA0XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnF1YWxpdHkuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWFsaXR5O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucXVhbGl0eS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQmx1ckZpbHRlclBhc3MucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBCbHVyRmlsdGVyUGFzcztcbn0oRmlsdGVyKSk7XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXIgYXBwbGllcyBhIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB0aGUgeC1heGlzIGFuZCB5LWF4aXMgc2VwYXJhdGVseS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBCbHVyRmlsdGVyID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICB7XG4gICAgICAgIEZpbHRlci5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3ModHJ1ZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICB0aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG4gICAgICAgIHRoaXMuYmx1ciA9IHN0cmVuZ3RoIHx8IDg7XG5cbiAgICAgICAgdGhpcy5yZXBlYXRFZGdlUGl4ZWxzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCBGaWx0ZXIgKSBCbHVyRmlsdGVyLl9fcHJvdG9fXyA9IEZpbHRlcjtcbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciAmJiBGaWx0ZXIucHJvdG90eXBlICk7XG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCbHVyRmlsdGVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYmx1cjogeyBjb25maWd1cmFibGU6IHRydWUgfSxxdWFsaXR5OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsdXJYOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsdXJZOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxyZXBlYXRFZGdlUGl4ZWxzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKi9cbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5IChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIHZhciB4U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKTtcbiAgICAgICAgdmFyIHlTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1cllGaWx0ZXIuc3RyZW5ndGgpO1xuXG4gICAgICAgIGlmICh4U3RyZW5ndGggJiYgeVN0cmVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIHJlbmRlclRhcmdldCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBjbGVhcik7XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHlTdHJlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS51cGRhdGVQYWRkaW5nID0gZnVuY3Rpb24gdXBkYXRlUGFkZGluZyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyWCBhbmQgYmx1clkgcHJvcGVydGllcyBzaW11bHRhbmVvdXNseVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1ci5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXIuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhc3NlcyBmb3IgYmx1ci4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyIHF1YWlsaXR5IGJsdXJpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5xdWFsaXR5LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucXVhbGl0eS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5ID0gdGhpcy5ibHVyWUZpbHRlci5xdWFsaXR5ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWCBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1clguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyWC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clkgcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXJZLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1clkuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUgdGhlIGVkZ2Ugb2YgdGhlIHRhcmdldCB3aWxsIGJlIGNsYW1wZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2x9XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmVwZWF0RWRnZVBpeGVscy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHM7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZXBlYXRFZGdlUGl4ZWxzLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBCbHVyRmlsdGVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQmx1ckZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IEJsdXJGaWx0ZXIsIEJsdXJGaWx0ZXJQYXNzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItYmx1ci5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0RmlsdGVyVmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCBtWzIwXTtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgYyA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuXFxuICAgIGlmICh1QWxwaGEgPT0gMC4wKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSBjO1xcbiAgICAgICAgcmV0dXJuO1xcbiAgICB9XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjLmEgPiAwLjApIHtcXG4gICAgICBjLnJnYiAvPSBjLmE7XFxuICAgIH1cXG5cXG4gICAgdmVjNCByZXN1bHQ7XFxuXFxuICAgIHJlc3VsdC5yID0gKG1bMF0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMV0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMl0gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bM10gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gbVs0XTtcXG5cXG4gICAgcmVzdWx0LmcgPSAobVs1XSAqIGMucik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs2XSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs3XSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs4XSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuZyArPSBtWzldO1xcblxcbiAgICByZXN1bHQuYiA9IChtWzEwXSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzExXSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEyXSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEzXSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5iICs9IG1bMTRdO1xcblxcbiAgICByZXN1bHQuYSA9IChtWzE1XSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE2XSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE3XSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE4XSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5hICs9IG1bMTldO1xcblxcbiAgICB2ZWMzIHJnYiA9IG1peChjLnJnYiwgcmVzdWx0LnJnYiwgdUFscGhhKTtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIHJnYiAqPSByZXN1bHQuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChyZ2IsIHJlc3VsdC5hKTtcXG59XFxuXCI7XG5cbi8qKlxuICogVGhlIENvbG9yTWF0cml4RmlsdGVyIGNsYXNzIGxldHMgeW91IGFwcGx5IGEgNXg0IG1hdHJpeCB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgUkdCQVxuICogY29sb3IgYW5kIGFscGhhIHZhbHVlcyBvZiBldmVyeSBwaXhlbCBvbiB5b3VyIGRpc3BsYXlPYmplY3QgdG8gcHJvZHVjZSBhIHJlc3VsdFxuICogd2l0aCBhIG5ldyBzZXQgb2YgUkdCQSBjb2xvciBhbmQgYWxwaGEgdmFsdWVzLiBJdCdzIHByZXR0eSBwb3dlcmZ1bCFcbiAqXG4gKiBgYGBqc1xuICogIGxldCBjb2xvck1hdHJpeCA9IG5ldyBQSVhJLmZpbHRlcnMuQ29sb3JNYXRyaXhGaWx0ZXIoKTtcbiAqICBjb250YWluZXIuZmlsdGVycyA9IFtjb2xvck1hdHJpeF07XG4gKiAgY29sb3JNYXRyaXguY29udHJhc3QoMik7XG4gKiBgYGBcbiAqIEBhdXRob3IgQ2zDqW1lbnQgQ2hlbmViYXVsdCA8Y2xlbWVudEBnb29kYm95ZGlnaXRhbC5jb20+XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBDb2xvck1hdHJpeEZpbHRlciA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKEZpbHRlcikge1xuICAgIGZ1bmN0aW9uIENvbG9yTWF0cml4RmlsdGVyKClcbiAgICB7XG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIG06IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDEsIDBdKSxcbiAgICAgICAgICAgIHVBbHBoYTogMSxcbiAgICAgICAgfTtcblxuICAgICAgICBGaWx0ZXIuY2FsbCh0aGlzLCBkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgIH1cblxuICAgIGlmICggRmlsdGVyICkgQ29sb3JNYXRyaXhGaWx0ZXIuX19wcm90b19fID0gRmlsdGVyO1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciAmJiBGaWx0ZXIucHJvdG90eXBlICk7XG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29sb3JNYXRyaXhGaWx0ZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBtYXRyaXg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYWxwaGE6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY3VycmVudCBtYXRyaXggYW5kIHNldCB0aGUgbmV3IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbG9hZE1hdHJpeCA9IGZ1bmN0aW9uIF9sb2FkTWF0cml4IChtYXRyaXgsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgaWYgKCBtdWx0aXBseSA9PT0gdm9pZCAwICkgbXVsdGlwbHkgPSBmYWxzZTtcblxuICAgICAgICB2YXIgbmV3TWF0cml4ID0gbWF0cml4O1xuXG4gICAgICAgIGlmIChtdWx0aXBseSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbXVsdGlwbHkobmV3TWF0cml4LCB0aGlzLnVuaWZvcm1zLm0sIG1hdHJpeCk7XG4gICAgICAgICAgICBuZXdNYXRyaXggPSB0aGlzLl9jb2xvck1hdHJpeChuZXdNYXRyaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHRoZSBuZXcgbWF0cml4XG4gICAgICAgIHRoaXMudW5pZm9ybXMubSA9IG5ld01hdHJpeDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0d28gbWF0NSdzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG91dCAtIDV4NCBtYXRyaXggdGhlIHJlY2VpdmluZyBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhIC0gNXg0IG1hdHJpeCB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGIgLSA1eDQgbWF0cml4IHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJbXX0gNXg0IG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fbXVsdGlwbHkgPSBmdW5jdGlvbiBfbXVsdGlwbHkgKG91dCwgYSwgYilcbiAgICB7XG4gICAgICAgIC8vIFJlZCBDaGFubmVsXG4gICAgICAgIG91dFswXSA9IChhWzBdICogYlswXSkgKyAoYVsxXSAqIGJbNV0pICsgKGFbMl0gKiBiWzEwXSkgKyAoYVszXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzFdID0gKGFbMF0gKiBiWzFdKSArIChhWzFdICogYls2XSkgKyAoYVsyXSAqIGJbMTFdKSArIChhWzNdICogYlsxNl0pO1xuICAgICAgICBvdXRbMl0gPSAoYVswXSAqIGJbMl0pICsgKGFbMV0gKiBiWzddKSArIChhWzJdICogYlsxMl0pICsgKGFbM10gKiBiWzE3XSk7XG4gICAgICAgIG91dFszXSA9IChhWzBdICogYlszXSkgKyAoYVsxXSAqIGJbOF0pICsgKGFbMl0gKiBiWzEzXSkgKyAoYVszXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzRdID0gKGFbMF0gKiBiWzRdKSArIChhWzFdICogYls5XSkgKyAoYVsyXSAqIGJbMTRdKSArIChhWzNdICogYlsxOV0pICsgYVs0XTtcblxuICAgICAgICAvLyBHcmVlbiBDaGFubmVsXG4gICAgICAgIG91dFs1XSA9IChhWzVdICogYlswXSkgKyAoYVs2XSAqIGJbNV0pICsgKGFbN10gKiBiWzEwXSkgKyAoYVs4XSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzZdID0gKGFbNV0gKiBiWzFdKSArIChhWzZdICogYls2XSkgKyAoYVs3XSAqIGJbMTFdKSArIChhWzhdICogYlsxNl0pO1xuICAgICAgICBvdXRbN10gPSAoYVs1XSAqIGJbMl0pICsgKGFbNl0gKiBiWzddKSArIChhWzddICogYlsxMl0pICsgKGFbOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFs4XSA9IChhWzVdICogYlszXSkgKyAoYVs2XSAqIGJbOF0pICsgKGFbN10gKiBiWzEzXSkgKyAoYVs4XSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzldID0gKGFbNV0gKiBiWzRdKSArIChhWzZdICogYls5XSkgKyAoYVs3XSAqIGJbMTRdKSArIChhWzhdICogYlsxOV0pICsgYVs5XTtcblxuICAgICAgICAvLyBCbHVlIENoYW5uZWxcbiAgICAgICAgb3V0WzEwXSA9IChhWzEwXSAqIGJbMF0pICsgKGFbMTFdICogYls1XSkgKyAoYVsxMl0gKiBiWzEwXSkgKyAoYVsxM10gKiBiWzE1XSk7XG4gICAgICAgIG91dFsxMV0gPSAoYVsxMF0gKiBiWzFdKSArIChhWzExXSAqIGJbNl0pICsgKGFbMTJdICogYlsxMV0pICsgKGFbMTNdICogYlsxNl0pO1xuICAgICAgICBvdXRbMTJdID0gKGFbMTBdICogYlsyXSkgKyAoYVsxMV0gKiBiWzddKSArIChhWzEyXSAqIGJbMTJdKSArIChhWzEzXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzEzXSA9IChhWzEwXSAqIGJbM10pICsgKGFbMTFdICogYls4XSkgKyAoYVsxMl0gKiBiWzEzXSkgKyAoYVsxM10gKiBiWzE4XSk7XG4gICAgICAgIG91dFsxNF0gPSAoYVsxMF0gKiBiWzRdKSArIChhWzExXSAqIGJbOV0pICsgKGFbMTJdICogYlsxNF0pICsgKGFbMTNdICogYlsxOV0pICsgYVsxNF07XG5cbiAgICAgICAgLy8gQWxwaGEgQ2hhbm5lbFxuICAgICAgICBvdXRbMTVdID0gKGFbMTVdICogYlswXSkgKyAoYVsxNl0gKiBiWzVdKSArIChhWzE3XSAqIGJbMTBdKSArIChhWzE4XSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzE2XSA9IChhWzE1XSAqIGJbMV0pICsgKGFbMTZdICogYls2XSkgKyAoYVsxN10gKiBiWzExXSkgKyAoYVsxOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxN10gPSAoYVsxNV0gKiBiWzJdKSArIChhWzE2XSAqIGJbN10pICsgKGFbMTddICogYlsxMl0pICsgKGFbMThdICogYlsxN10pO1xuICAgICAgICBvdXRbMThdID0gKGFbMTVdICogYlszXSkgKyAoYVsxNl0gKiBiWzhdKSArIChhWzE3XSAqIGJbMTNdKSArIChhWzE4XSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE5XSA9IChhWzE1XSAqIGJbNF0pICsgKGFbMTZdICogYls5XSkgKyAoYVsxN10gKiBiWzE0XSkgKyAoYVsxOF0gKiBiWzE5XSkgKyBhWzE5XTtcblxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IG1hdHJpeCAtIDV4NCBtYXRyaXhcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJbXX0gNXg0IG1hdHJpeCB3aXRoIGFsbCB2YWx1ZXMgYmV0d2VlbiAwLTFcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuX2NvbG9yTWF0cml4ID0gZnVuY3Rpb24gX2NvbG9yTWF0cml4IChtYXRyaXgpXG4gICAge1xuICAgICAgICAvLyBDcmVhdGUgYSBGbG9hdDMyIEFycmF5IGFuZCBub3JtYWxpemUgdGhlIG9mZnNldCBjb21wb25lbnQgdG8gMC0xXG4gICAgICAgIHZhciBtID0gbmV3IEZsb2F0MzJBcnJheShtYXRyaXgpO1xuXG4gICAgICAgIG1bNF0gLz0gMjU1O1xuICAgICAgICBtWzldIC89IDI1NTtcbiAgICAgICAgbVsxNF0gLz0gMjU1O1xuICAgICAgICBtWzE5XSAvPSAyNTU7XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSB2YWx1ZSBvZiB0aGUgYnJpZ3RobmVzcyAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icmlnaHRuZXNzID0gZnVuY3Rpb24gYnJpZ2h0bmVzcyAoYiwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgYiwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIGIsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCBiLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbWF0cmljZXMgaW4gZ3JleSBzY2FsZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHZhbHVlIG9mIHRoZSBncmV5ICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZSA9IGZ1bmN0aW9uIGdyZXlzY2FsZSAoc2NhbGUsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGJsYWNrIGFuZCB3aGl0ZSBtYXRyaWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJsYWNrQW5kV2hpdGUgPSBmdW5jdGlvbiBibGFja0FuZFdoaXRlIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBodWUgcHJvcGVydHkgb2YgdGhlIGNvbG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBpbiBkZWdyZWVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmh1ZSA9IGZ1bmN0aW9uIGh1ZSAocm90YXRpb24sIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgcm90YXRpb24gPSAocm90YXRpb24gfHwgMCkgLyAxODAgKiBNYXRoLlBJO1xuXG4gICAgICAgIHZhciBjb3NSID0gTWF0aC5jb3Mocm90YXRpb24pO1xuICAgICAgICB2YXIgc2luUiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICAgICAgdmFyIHNxcnQgPSBNYXRoLnNxcnQ7XG5cbiAgICAgICAgLyogYSBnb29kIGFwcHJveGltYXRpb24gZm9yIGh1ZSByb3RhdGlvblxuICAgICAgICAgVGhpcyBtYXRyaXggaXMgZmFyIGJldHRlciB0aGFuIHRoZSB2ZXJzaW9ucyB3aXRoIG1hZ2ljIGx1bWluYW5jZSBjb25zdGFudHNcbiAgICAgICAgIGZvcm1lcmx5IHVzZWQgaGVyZSwgYnV0IGFsc28gdXNlZCBpbiB0aGUgc3RhcmxpbmcgZnJhbWV3b3JrIChmbGFzaCkgYW5kIGtub3duIGZyb20gdGhpc1xuICAgICAgICAgb2xkIHBhcnQgb2YgdGhlIGludGVybmV0OiBxdWFzaW1vbmRvLmNvbS9hcmNoaXZlcy8wMDA1NjUucGhwXG5cbiAgICAgICAgIFRoaXMgbmV3IG1hdHJpeCBpcyBiYXNlZCBvbiByZ2IgY3ViZSByb3RhdGlvbiBpbiBzcGFjZS4gTG9vayBoZXJlIGZvciBhIG1vcmUgZGVzY3JpcHRpdmVcbiAgICAgICAgIGltcGxlbWVudGF0aW9uIGFzIGEgc2hhZGVyIG5vdCBhIGdlbmVyYWwgbWF0cml4OlxuICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi81ODg0MWMyMzkxOWJkNTk3ODdlZmZjMDMzM2E0ODk3YjQzODM1NDEyL3NyYy9maWx0ZXJzL2FkanVzdC9odWVzYXR1cmF0aW9uLmpzXG5cbiAgICAgICAgIFRoaXMgaXMgdGhlIHNvdXJjZSBmb3IgdGhlIGNvZGU6XG4gICAgICAgICBzZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NTA3ODg1L3NoaWZ0LWh1ZS1vZi1hbi1yZ2ItY29sb3IvODUxMDc1MSM4NTEwNzUxXG4gICAgICAgICAqL1xuXG4gICAgICAgIHZhciB3ID0gMSAvIDM7XG4gICAgICAgIHZhciBzcXJXID0gc3FydCh3KTsgLy8gd2VpZ2h0IGlzXG5cbiAgICAgICAgdmFyIGEwMCA9IGNvc1IgKyAoKDEuMCAtIGNvc1IpICogdyk7XG4gICAgICAgIHZhciBhMDEgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTAyID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcblxuICAgICAgICB2YXIgYTEwID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGExMSA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG4gICAgICAgIHZhciBhMTIgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuXG4gICAgICAgIHZhciBhMjAgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIxID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcbiAgICAgICAgdmFyIGEyMiA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGEwMCwgYTAxLCBhMDIsIDAsIDAsXG4gICAgICAgICAgICBhMTAsIGExMSwgYTEyLCAwLCAwLFxuICAgICAgICAgICAgYTIwLCBhMjEsIGEyMiwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbnRyYXN0IG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBkYXJrIGFuZCBicmlnaHRcbiAgICAgKiBJbmNyZWFzZSBjb250cmFzdCA6IHNoYWRvd3MgZGFya2VyIGFuZCBoaWdobGlnaHRzIGJyaWdodGVyXG4gICAgICogRGVjcmVhc2UgY29udHJhc3QgOiBicmluZyB0aGUgc2hhZG93cyB1cCBhbmQgdGhlIGhpZ2hsaWdodHMgZG93blxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHZhbHVlIG9mIHRoZSBjb250cmFzdCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb250cmFzdCA9IGZ1bmN0aW9uIGNvbnRyYXN0IChhbW91bnQsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICAgICAgdmFyIG8gPSAtMC41ICogKHYgLSAxKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgdiwgMCwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIHYsIDAsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCB2LCAwLCBvLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2F0dXJhdGlvbiBtYXRyaXgsIGluY3JlYXNlIHRoZSBzZXBhcmF0aW9uIGJldHdlZW4gY29sb3JzXG4gICAgICogSW5jcmVhc2Ugc2F0dXJhdGlvbiA6IGluY3JlYXNlIGNvbnRyYXN0LCBicmlnaHRuZXNzLCBhbmQgc2hhcnBuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gVGhlIHNhdHVyYXRpb24gYW1vdW50ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnNhdHVyYXRlID0gZnVuY3Rpb24gc2F0dXJhdGUgKGFtb3VudCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBpZiAoIGFtb3VudCA9PT0gdm9pZCAwICkgYW1vdW50ID0gMDtcblxuICAgICAgICB2YXIgeCA9IChhbW91bnQgKiAyIC8gMykgKyAxO1xuICAgICAgICB2YXIgeSA9ICgoeCAtIDEpICogLTAuNSk7XG5cbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHgsIHksIHksIDAsIDAsXG4gICAgICAgICAgICB5LCB4LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeSwgeCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNhdHVyYXRlIGltYWdlIChyZW1vdmUgY29sb3IpXG4gICAgICpcbiAgICAgKiBDYWxsIHRoZSBzYXR1cmF0ZSBmdW5jdGlvblxuICAgICAqXG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmRlc2F0dXJhdGUgPSBmdW5jdGlvbiBkZXNhdHVyYXRlICgpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIHRoaXMuc2F0dXJhdGUoLTEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOZWdhdGl2ZSBpbWFnZSAoaW52ZXJzZSBvZiBjbGFzc2ljIHJnYiBtYXRyaXgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUubmVnYXRpdmUgPSBmdW5jdGlvbiBuZWdhdGl2ZSAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgLTEsIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAtMSwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIC0xLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNlcGlhIGltYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2VwaWEgPSBmdW5jdGlvbiBzZXBpYSAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zOTMsIDAuNzY4OTk5OSwgMC4xODg5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMzQ5LCAwLjY4NTk5OTksIDAuMTY3OTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLjI3MiwgMC41MzM5OTk5LCAwLjEzMDk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG1vdGlvbiBwaWN0dXJlIHByb2Nlc3MgaW52ZW50ZWQgaW4gMTkxNiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS50ZWNobmljb2xvciA9IGZ1bmN0aW9uIHRlY2huaWNvbG9yIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjkxMjUyNzc4OTE0NTYwODMsIC0wLjg1NDUzNDQ5NzY5NTE2NDUsIC0wLjA5MTU1NTA4NDgyNzU1NTg1LCAwLCAxMS43OTM2MDM0MzQzNzczMzcsXG4gICAgICAgICAgICAtMC4zMDg3ODMzMzg1OTI4MDk3LCAxLjc2NTg5MDg1NTU0NTg0MjgsIC0wLjEwNjAxNzQzMDc0NzIyMjQ1LCAwLCAtNzAuMzUyMDUxNjE0NjEzOTgsXG4gICAgICAgICAgICAtMC4yMzExMDMzNzc1NDg2MTYsIC0wLjc1MDE4OTkxOTc0NDAyMTIsIDEuODQ3NTk3ODE2MTA4MTg5LCAwLCAzMC45NTA5NDA4Njk0OTExMzgsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9sYXJvaWQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucG9sYXJvaWQgPSBmdW5jdGlvbiBwb2xhcm9pZCAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS40MzgsIC0wLjA2MiwgLTAuMDYyLCAwLCAwLFxuICAgICAgICAgICAgLTAuMTIyLCAxLjM3OCwgLTAuMTIyLCAwLCAwLFxuICAgICAgICAgICAgLTAuMDE2LCAtMC4wMTYsIDEuNDgzLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB3aG8gdHJhbnNmb3JtcyA6IFJlZCAtPiBCbHVlIGFuZCBCbHVlIC0+IFJlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRvQkdSID0gZnVuY3Rpb24gdG9CR1IgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb2xvciByZXZlcnNhbCBmaWxtIGludHJvZHVjZWQgYnkgRWFzdG1hbiBLb2RhayBpbiAxOTM1LiAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5rb2RhY2hyb21lID0gZnVuY3Rpb24ga29kYWNocm9tZSAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMS4xMjg1NTgyMzk2NTkzNTI1LCAtMC4zOTY3MzgyMjgzNjAxMzQ4LCAtMC4wMzk5MjU1OTE3MjkyMTc5MywgMCwgNjMuNzI5NTg3NjIxOTY1MDIsXG4gICAgICAgICAgICAtMC4xNjQwNDMzOTk2MjI0NDYxNiwgMS4wODM1MjUxNTY2MjkxMzA0LCAtMC4wNTQ5ODgwNTExNTYzMzEzMiwgMCwgMjQuNzMyNDA3ODk2NzA2MjAzLFxuICAgICAgICAgICAgLTAuMTY3ODYwMTA3MDYxNTU3NjMsIC0wLjU2MDM0MTYyNzc2OTUyNDgsIDEuNjAxNDg1MDc2MTk2NDk0MywgMCwgMzUuNjI5ODI4MDc0NjA5NDYsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQnJvd24gZGVsaWNpb3VzIGJyb3duaSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYnJvd25pID0gZnVuY3Rpb24gYnJvd25pIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjU5OTcwMjM0OTgxNTk3MTUsIDAuMzQ1NTMyNDMwNDgzOTEyNjMsIC0wLjI3MDgyOTg2NzQ1MzgwNDIsIDAsIDQ3LjQzMTkyODU1NjAwODczLFxuICAgICAgICAgICAgLTAuMDM3NzAzMjQ5ODM3NzgzMTU3LCAwLjg2MDk1Nzc1ODc5OTI2NDEsIDAuMTUwNTk1NTIzODg0NTk5MTMsIDAsIC0zNi45Njg0MTQ5ODMxOTEyNyxcbiAgICAgICAgICAgIDAuMjQxMTM2MzUxMjgxNTMzMzUsIC0wLjA3NDQxMDM3OTA4NDIyNDkyLCAwLjQ0OTcyMTgyMDY0ODc3MTUzLCAwLCAtNy41NjIwNzUyNzc1OTEyODMsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmludGFnZSBmaWx0ZXIgKHRoYW5rcyBEb21pbmljIFN6YWJsZXdza2kpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudmludGFnZSA9IGZ1bmN0aW9uIHZpbnRhZ2UgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNjI3OTM0NTYzNTYwNTk5NCwgMC4zMjAyMTgzNDIwODE5MzY3LCAtMC4wMzk2NTQwODIxMTMxMjQ1MywgMCwgOS42NTEyODU4MzUyOTQxMjMsXG4gICAgICAgICAgICAwLjAyNTc4Mzk3NzA0ODA4ODY4LCAwLjY0NDExODg2NDQzNzQ3NzEsIDAuMDMyNTkxMjc2MTYxNDkyOTQsIDAsIDcuNDYyODI5MTc2NDcwNTkxLFxuICAgICAgICAgICAgMC4wNDY2MDU1NTU2NzgyNzE5LCAtMC4wODUxMjMyOTg3MjQ3ODkxLCAwLjUyNDE2NDgwMTg3MDA0NjUsIDAsIDUuMTU5MTkwNTg4MjM1Mjk2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdlIGRvbid0IGtub3cgZXhhY3RseSB3aGF0IGl0IGRvZXMsIGtpbmQgb2YgZ3JhZGllbnQgbWFwLCBidXQgZnVubnkgdG8gcGxheSB3aXRoIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlc2F0dXJhdGlvbiAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b25lZCAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaWdodENvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGFya0NvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29sb3JUb25lID0gZnVuY3Rpb24gY29sb3JUb25lIChkZXNhdHVyYXRpb24sIHRvbmVkLCBsaWdodENvbG9yLCBkYXJrQ29sb3IsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgZGVzYXR1cmF0aW9uID0gZGVzYXR1cmF0aW9uIHx8IDAuMjtcbiAgICAgICAgdG9uZWQgPSB0b25lZCB8fCAwLjE1O1xuICAgICAgICBsaWdodENvbG9yID0gbGlnaHRDb2xvciB8fCAweEZGRTU4MDtcbiAgICAgICAgZGFya0NvbG9yID0gZGFya0NvbG9yIHx8IDB4MzM4MDAwO1xuXG4gICAgICAgIHZhciBsUiA9ICgobGlnaHRDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxHID0gKChsaWdodENvbG9yID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBsQiA9IChsaWdodENvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgdmFyIGRSID0gKChkYXJrQ29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkRyA9ICgoZGFya0NvbG9yID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIHZhciBkQiA9IChkYXJrQ29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjU5LCAwLjExLCAwLCAwLFxuICAgICAgICAgICAgbFIsIGxHLCBsQiwgZGVzYXR1cmF0aW9uLCAwLFxuICAgICAgICAgICAgZFIsIGRHLCBkQiwgdG9uZWQsIDAsXG4gICAgICAgICAgICBsUiAtIGRSLCBsRyAtIGRHLCBsQiAtIGRCLCAwLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTmlnaHQgZWZmZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZW5zaXR5IC0gVGhlIGludGVuc2l0eSBvZiB0aGUgbmlnaHQgZWZmZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uaWdodCA9IGZ1bmN0aW9uIG5pZ2h0IChpbnRlbnNpdHksIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgaW50ZW5zaXR5ID0gaW50ZW5zaXR5IHx8IDAuMTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIGludGVuc2l0eSAqICgtMi4wKSwgLWludGVuc2l0eSwgMCwgMCwgMCxcbiAgICAgICAgICAgIC1pbnRlbnNpdHksIDAsIGludGVuc2l0eSwgMCwgMCxcbiAgICAgICAgICAgIDAsIGludGVuc2l0eSwgaW50ZW5zaXR5ICogMi4wLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByZWRhdG9yIGVmZmVjdFxuICAgICAqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgYSBuZXcgaW5kZXBlbnQgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gaG93IG11Y2ggdGhlIHByZWRhdG9yIGZlZWxzIGhpcyBmdXR1cmUgdmljdGltXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnByZWRhdG9yID0gZnVuY3Rpb24gcHJlZGF0b3IgKGFtb3VudCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgLy8gcm93IDFcbiAgICAgICAgICAgIDExLjIyNDEzMDYzMDQ5MzE2NCAqIGFtb3VudCxcbiAgICAgICAgICAgIC00Ljc5NDQ4Njk5OTUxMTcxOSAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjg3NDYxMTg1NDU1MzIyMjcgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC40MDM0MjQzODIyMDk3Nzc4MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC8vIHJvdyAyXG4gICAgICAgICAgICAtMy42MzMwNjk3NTM2NDY4NTA2ICogYW1vdW50LFxuICAgICAgICAgICAgOS4xOTMxNTcxOTYwNDQ5MjIgKiBhbW91bnQsXG4gICAgICAgICAgICAtMi45NTE4MTA4MzY3OTE5OTIgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgLTEuMzE2MTM1MDQ4ODY2MjcyICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDNcbiAgICAgICAgICAgIC0zLjIxODQxOTc5MDI2Nzk0NDMgKiBhbW91bnQsXG4gICAgICAgICAgICAtNC4yMzc1MDMwNTE3NTc4MTI1ICogYW1vdW50LFxuICAgICAgICAgICAgNy40NzY0NDgwNTkwODIwMzEgKiBhbW91bnQsXG4gICAgICAgICAgICAwICogYW1vdW50LFxuICAgICAgICAgICAgMC44MDQ0NDU5MjIzNzQ3MjUzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDRcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMU0QgZWZmZWN0XG4gICAgICpcbiAgICAgKiBNdWx0aXBseSB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5sc2QgPSBmdW5jdGlvbiBsc2QgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDIsIC0wLjQsIDAuNSwgMCwgMCxcbiAgICAgICAgICAgIC0wLjUsIDIsIC0wLjQsIDAsIDAsXG4gICAgICAgICAgICAtMC40LCAtMC41LCAzLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIHRoZSBkZWZhdWx0IG9uZVxuICAgICAqXG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1hdHJpeCBvZiB0aGUgY29sb3IgbWF0cml4IGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICogQGRlZmF1bHQgWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hdHJpeC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hdHJpeC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcGFjaXR5IHZhbHVlIHRvIHVzZSB3aGVuIG1peGluZyB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdGFudCBjb2xvcnMuXG4gICAgICpcbiAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAwLCB0aGUgb3JpZ2luYWwgY29sb3IgaXMgdXNlZCB3aXRob3V0IG1vZGlmaWNhdGlvbi5cbiAgICAgKiBXaGVuIHRoZSB2YWx1ZSBpcyAxLCB0aGUgcmVzdWx0IGNvbG9yIGlzIHVzZWQuXG4gICAgICogV2hlbiBpbiB0aGUgcmFuZ2UgKDAsIDEpIHRoZSBjb2xvciBpcyBpbnRlcnBvbGF0ZWQgYmV0d2VlbiB0aGUgb3JpZ2luYWwgYW5kIHJlc3VsdCBieSB0aGlzIGFtb3VudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFscGhhLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbHBoYS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQ29sb3JNYXRyaXhGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG4vLyBBbWVyaWNhbml6ZWQgYWxpYXNcbkNvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmF5c2NhbGUgPSBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlO1xuXG5leHBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWNvbG9yLW1hdHJpeC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXgsIFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgZmlsdGVyTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2RmlsdGVyQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuXFxudmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXFxue1xcbiAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcXG5cXG4gICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbn1cXG5cXG52ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxue1xcbiAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcXG59XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcblxcdGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG5cXHR2VGV4dHVyZUNvb3JkID0gZmlsdGVyVGV4dHVyZUNvb3JkKCk7XFxuXFx0dkZpbHRlckNvb3JkID0gKCBmaWx0ZXJNYXRyaXggKiB2ZWMzKCB2VGV4dHVyZUNvb3JkLCAxLjApICApLnh5O1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gdmVjMiBzY2FsZTtcXG51bmlmb3JtIG1hdDIgcm90YXRpb247XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwU2FtcGxlcjtcXG5cXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBpbnB1dENsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gIHZlYzQgbWFwID0gIHRleHR1cmUyRChtYXBTYW1wbGVyLCB2RmlsdGVyQ29vcmQpO1xcblxcbiAgbWFwIC09IDAuNTtcXG4gIG1hcC54eSA9IHNjYWxlICogaW5wdXRTaXplLnp3ICogKHJvdGF0aW9uICogbWFwLnh5KTtcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAodmVjMih2VGV4dHVyZUNvb3JkLnggKyBtYXAueCwgdlRleHR1cmVDb29yZC55ICsgbWFwLnkpLCBpbnB1dENsYW1wLnh5LCBpbnB1dENsYW1wLnp3KSk7XFxufVxcblwiO1xuXG4vKipcbiAqIFRoZSBEaXNwbGFjZW1lbnRGaWx0ZXIgY2xhc3MgdXNlcyB0aGUgcGl4ZWwgdmFsdWVzIGZyb20gdGhlIHNwZWNpZmllZCB0ZXh0dXJlXG4gKiAoY2FsbGVkIHRoZSBkaXNwbGFjZW1lbnQgbWFwKSB0byBwZXJmb3JtIGEgZGlzcGxhY2VtZW50IG9mIGFuIG9iamVjdC5cbiAqXG4gKiBZb3UgY2FuIHVzZSB0aGlzIGZpbHRlciB0byBhcHBseSBhbGwgbWFub3Igb2YgY3Jhenkgd2FycGluZyBlZmZlY3RzLlxuICogQ3VycmVudGx5IHRoZSBgcmAgcHJvcGVydHkgb2YgdGhlIHRleHR1cmUgaXMgdXNlZCB0byBvZmZzZXQgdGhlIGB4YFxuICogYW5kIHRoZSBgZ2AgcHJvcGVydHkgb2YgdGhlIHRleHR1cmUgaXMgdXNlZCB0byBvZmZzZXQgdGhlIGB5YC5cbiAqXG4gKiBUaGUgd2F5IGl0IHdvcmtzIGlzIGl0IHVzZXMgdGhlIHZhbHVlcyBvZiB0aGUgZGlzcGxhY2VtZW50IG1hcCB0byBsb29rIHVwIHRoZVxuICogY29ycmVjdCBwaXhlbHMgdG8gb3V0cHV0LiBUaGlzIG1lYW5zIGl0J3Mgbm90IHRlY2huaWNhbGx5IG1vdmluZyB0aGUgb3JpZ2luYWwuXG4gKiBJbnN0ZWFkLCBpdCdzIHN0YXJ0aW5nIGF0IHRoZSBvdXRwdXQgYW5kIGFza2luZyBcIndoaWNoIHBpeGVsIGZyb20gdGhlIG9yaWdpbmFsIGdvZXMgaGVyZVwiLlxuICogRm9yIGV4YW1wbGUsIGlmIGEgZGlzcGxhY2VtZW50IG1hcCBwaXhlbCBoYXMgYHJlZCA9IDFgIGFuZCB0aGUgZmlsdGVyIHNjYWxlIGlzIGAyMGAsXG4gKiB0aGlzIGZpbHRlciB3aWxsIG91dHB1dCB0aGUgcGl4ZWwgYXBwcm94aW1hdGVseSAyMCBwaXhlbHMgdG8gdGhlIHJpZ2h0IG9mIHRoZSBvcmlnaW5hbC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBEaXNwbGFjZW1lbnRGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChGaWx0ZXIpIHtcbiAgICBmdW5jdGlvbiBEaXNwbGFjZW1lbnRGaWx0ZXIoc3ByaXRlLCBzY2FsZSlcbiAgICB7XG4gICAgICAgIHZhciBtYXNrTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIHNwcml0ZS5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgRmlsdGVyLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgbWFwU2FtcGxlcjogc3ByaXRlLl90ZXh0dXJlLFxuICAgICAgICAgICAgZmlsdGVyTWF0cml4OiBtYXNrTWF0cml4LFxuICAgICAgICAgICAgc2NhbGU6IHsgeDogMSwgeTogMSB9LFxuICAgICAgICAgICAgcm90YXRpb246IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDFdKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5tYXNrU3ByaXRlID0gc3ByaXRlO1xuICAgICAgICB0aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuXG4gICAgICAgIGlmIChzY2FsZSA9PT0gbnVsbCB8fCBzY2FsZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBzY2FsZSA9IDIwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNjYWxlWCwgc2NhbGVZIGZvciBkaXNwbGFjZW1lbnRzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlID0gbmV3IFBvaW50KHNjYWxlLCBzY2FsZSk7XG4gICAgfVxuXG4gICAgaWYgKCBGaWx0ZXIgKSBEaXNwbGFjZW1lbnRGaWx0ZXIuX19wcm90b19fID0gRmlsdGVyO1xuICAgIERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIgJiYgRmlsdGVyLnByb3RvdHlwZSApO1xuICAgIERpc3BsYWNlbWVudEZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEaXNwbGFjZW1lbnRGaWx0ZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBtYXA6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXQuXG4gICAgICovXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5IChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIC8vIGZpbGwgbWFza01hdHJpeCB3aXRoIF9ub3JtYWxpemVkIHNwcml0ZSB0ZXh0dXJlIGNvb3Jkc19cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIHRoaXMubWFza1Nwcml0ZSk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueCA9IHRoaXMuc2NhbGUueDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS55ID0gdGhpcy5zY2FsZS55O1xuXG4gICAgICAgIC8vIEV4dHJhY3Qgcm90YXRpb24gZnJvbSB3b3JsZCB0cmFuc2Zvcm1cbiAgICAgICAgdmFyIHd0ID0gdGhpcy5tYXNrU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgdmFyIGxlblggPSBNYXRoLnNxcnQoKHd0LmEgKiB3dC5hKSArICh3dC5iICogd3QuYikpO1xuICAgICAgICB2YXIgbGVuWSA9IE1hdGguc3FydCgod3QuYyAqIHd0LmMpICsgKHd0LmQgKiB3dC5kKSk7XG5cbiAgICAgICAgaWYgKGxlblggIT09IDAgJiYgbGVuWSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblswXSA9IHd0LmEgLyBsZW5YO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblsxXSA9IHd0LmIgLyBsZW5YO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblsyXSA9IHd0LmMgLyBsZW5ZO1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5yb3RhdGlvblszXSA9IHd0LmQgLyBsZW5ZO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZHJhdyB0aGUgZmlsdGVyLi4uXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gTXVzdCBiZSBwb3dlciBvZiAyIHNpemVkIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hcC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlcjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hcC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBEaXNwbGFjZW1lbnRGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1kaXNwbGFjZW1lbnQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlLCBCYXNlVGV4dHVyZSwgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgdWlkIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbnZhciBfdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXAgPSBmYWxzZTtcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWNoZURhdGEgPSBmYWxzZTtcblxuLy8gZmlndXJlZCB0aGVyZXMgbm8gcG9pbnQgYWRkaW5nIEFMTCB0aGUgZXh0cmEgdmFyaWFibGVzIHRvIHByb3RvdHlwZS5cbi8vIHRoaXMgbW9kZWwgY2FuIGhvbGQgdGhlIGluZm9ybWF0aW9uIG5lZWRlZC4gVGhpcyBjYW4gYWxzbyBiZSBnZW5lcmF0ZWQgb24gZGVtYW5kIGFzXG4vLyBtb3N0IG9iamVjdHMgYXJlIG5vdCBjYWNoZWQgYXMgYml0bWFwcy5cbi8qKlxuICogQGNsYXNzXG4gKiBAaWdub3JlXG4gKi9cbnZhciBDYWNoZURhdGEgPSBmdW5jdGlvbiBDYWNoZURhdGEoKVxue1xuICAgIHRoaXMudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xuXG4gICAgdGhpcy5vcmlnaW5hbFJlbmRlciA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gbnVsbDtcblxuICAgIHRoaXMub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxIaXRUZXN0ID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsRGVzdHJveSA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbE1hc2sgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxGaWx0ZXJBcmVhID0gbnVsbDtcbiAgICB0aGlzLnNwcml0ZSA9IG51bGw7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwge1xuICAgIC8qKlxuICAgICAqIFNldCB0aGlzIHRvIHRydWUgaWYgeW91IHdhbnQgdGhpcyBkaXNwbGF5IG9iamVjdCB0byBiZSBjYWNoZWQgYXMgYSBiaXRtYXAuXG4gICAgICogVGhpcyBiYXNpY2FsbHkgdGFrZXMgYSBzbmFwIHNob3Qgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IGFzIGl0IGlzIGF0IHRoYXQgbW9tZW50LiBJdCBjYW5cbiAgICAgKiBwcm92aWRlIGEgcGVyZm9ybWFuY2UgYmVuZWZpdCBmb3IgY29tcGxleCBzdGF0aWMgZGlzcGxheU9iamVjdHMuXG4gICAgICogVG8gcmVtb3ZlIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgZmFsc2VgXG4gICAgICpcbiAgICAgKiBJTVBPUlRBTlQgR09UQ0hBIC0gTWFrZSBzdXJlIHRoYXQgYWxsIHlvdXIgdGV4dHVyZXMgYXJlIHByZWxvYWRlZCBCRUZPUkUgc2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIHRydWVcbiAgICAgKiBhcyBpdCB3aWxsIHRha2UgYSBzbmFwc2hvdCBvZiB3aGF0IGlzIGN1cnJlbnRseSB0aGVyZS4gSWYgdGhlIHRleHR1cmVzIGhhdmUgbm90IGxvYWRlZCB0aGVuIHRoZXkgd2lsbCBub3QgYXBwZWFyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGNhY2hlQXNCaXRtYXA6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVBc0JpdG1hcDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUFzQml0bWFwID09PSB2YWx1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQXNCaXRtYXAgPSB2YWx1ZTtcblxuICAgICAgICAgICAgdmFyIGRhdGE7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhY2hlRGF0YSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlRGF0YSA9IG5ldyBDYWNoZURhdGEoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRhID0gdGhpcy5fY2FjaGVEYXRhO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlciA9IHRoaXMucmVuZGVyO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXMgPSB0aGlzLnJlbmRlckNhbnZhcztcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0gPSB0aGlzLnVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gdGhpcy5jYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcztcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxEZXN0cm95ID0gdGhpcy5kZXN0cm95O1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSB0aGlzLmNvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsTWFzayA9IHRoaXMuX21hc2s7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEZpbHRlckFyZWEgPSB0aGlzLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMuX3JlbmRlckNhY2hlZDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zcHJpdGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gZGF0YS5vcmlnaW5hbFJlbmRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMgPSBkYXRhLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSBkYXRhLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBkYXRhLm9yaWdpbmFsRGVzdHJveTtcblxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBkYXRhLm9yaWdpbmFsQ29udGFpbnNQb2ludDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX21hc2sgPSBkYXRhLm9yaWdpbmFsTWFzaztcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBkYXRhLm9yaWdpbmFsRmlsdGVyQXJlYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9LFxufSk7XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBXZWJHTFxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX3JlbmRlckNhY2hlZFxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZCA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWQocmVuZGVyZXIpXG57XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcik7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXIocmVuZGVyZXIpO1xufTtcblxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgV2ViR0wgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpXG57XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG1ha2Ugc3VyZSBhbHBoYSBpcyBzZXQgdG8gMSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWQgYXMgaW52aXNpYmxlIVxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcblxuICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgLy8gZmlyc3Qgd2UgZmx1c2ggYW55dGhpbmcgbGVmdCBpbiB0aGUgcmVuZGVyZXIgKG90aGVyd2lzZSBpdCB3b3VsZCBnZXQgcmVuZGVyZWQgdG8gdGhlIGNhY2hlZCB0ZXh0dXJlKVxuICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgLy8gdGhpcy5maWx0ZXJzPSBbXTtcblxuICAgIC8vIG5leHQgd2UgZmluZCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdW50cmFuc2Zvcm1lZCBvYmplY3RcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFsc28gY2FsbHMgdXBkYXRldHJhbnNmb3JtIG9uIGFsbCBpdHMgY2hpbGRyZW4gYXMgcGFydCBvZiB0aGUgbWVhc3VyaW5nLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHRyYW5zZm9ybSBhZ2FpbiBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gVE9ETyBwYXNzIGFuIG9iamVjdCB0byBjbG9uZSB0b28/IHNhdmVzIGhhdmluZyB0byBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmNsb25lKCk7XG5cbiAgICAvLyBhZGQgc29tZSBwYWRkaW5nIVxuICAgIGlmICh0aGlzLmZpbHRlcnMpXG4gICAge1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuZmlsdGVyc1swXS5wYWRkaW5nO1xuXG4gICAgICAgIGJvdW5kcy5wYWQocGFkZGluZyk7XG4gICAgfVxuXG4gICAgYm91bmRzLmNlaWwoc2V0dGluZ3MuUkVTT0xVVElPTik7XG5cbiAgICAvLyBmb3Igbm93IHdlIGNhY2hlIHRoZSBjdXJyZW50IHJlbmRlclRhcmdldCB0aGF0IHRoZSBXZWJHTCByZW5kZXJlciBpcyBjdXJyZW50bHkgdXNpbmcuXG4gICAgLy8gdGhpcyBjb3VsZCBiZSBtb3JlIGVsZWdhbnQuLlxuICAgIHZhciBjYWNoZWRSZW5kZXJUZXh0dXJlID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jdXJyZW50O1xuICAgIHZhciBjYWNoZWRTb3VyY2VGcmFtZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuc291cmNlRnJhbWU7XG4gICAgdmFyIGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm0gPSByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybTtcblxuICAgIC8vIFdlIGFsc28gc3RvcmUgdGhlIGZpbHRlciBzdGFjayAtIEkgd2lsbCBkZWZpbml0ZWx5IGxvb2sgdG8gY2hhbmdlIGhvdyB0aGlzIHdvcmtzIGEgbGl0dGxlIGxhdGVyIGRvd24gdGhlIGxpbmUuXG4gICAgLy8gY29uc3Qgc3RhY2sgPSByZW5kZXJlci5maWx0ZXJNYW5hZ2VyLmZpbHRlclN0YWNrO1xuXG4gICAgLy8gdGhpcyByZW5kZXJUZXh0dXJlIHdpbGwgYmUgdXNlZCB0byBzdG9yZSB0aGUgY2FjaGVkIERpc3BsYXlPYmplY3RcbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCk7XG5cbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSBcImNhY2hlQXNCaXRtYXBfXCIgKyAodWlkKCkpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG5cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgbS50eCA9IC1ib3VuZHMueDtcbiAgICBtLnR5ID0gLWJvdW5kcy55O1xuXG4gICAgLy8gcmVzZXRcbiAgICB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS5pZGVudGl0eSgpO1xuXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXI7XG5cbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgdHJ1ZSk7XG5cbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcbiAgICByZW5kZXJlci5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IGNhY2hlZFByb2plY3Rpb25UcmFuc2Zvcm07XG4gICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGNhY2hlZFJlbmRlclRleHR1cmUsIGNhY2hlZFNvdXJjZUZyYW1lKTtcblxuICAgIC8vIHJlbmRlcmVyLmZpbHRlck1hbmFnZXIuZmlsdGVyU3RhY2sgPSBzdGFjaztcblxuICAgIHRoaXMucmVuZGVyID0gdGhpcy5fcmVuZGVyQ2FjaGVkO1xuICAgIC8vIHRoZSByZXN0IGlzIHRoZSBzYW1lIGFzIGZvciBDYW52YXNcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG5cbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuXG4gICAgdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgLy8gcmVzdG9yZSB0aGUgdHJhbnNmb3JtIG9mIHRoZSBjYWNoZWQgc3ByaXRlIHRvIGF2b2lkIHRoZSBuYXN0eSBmbGlja2VyLi5cbiAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICAvLyBtYXAgdGhlIGhpdCB0ZXN0Li5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuXG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggY2FudmFzXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBfcmVuZGVyQ2FjaGVkQ2FudmFzXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVuZGVyQ2FjaGVkQ2FudmFzID0gZnVuY3Rpb24gX3JlbmRlckNhY2hlZENhbnZhcyhyZW5kZXJlcilcbntcbiAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXJDYW52YXMocmVuZGVyZXIpO1xufTtcblxuLy8gVE9ETyB0aGlzIGNhbiBiZSB0aGUgc2FtZSBhcyB0aGUgV2ViR0wgdmVyc2lvbi4uIHdpbGwgbmVlZCB0byBkbyBhIGxpdHRsZSB0d2Vha2luZyBmaXJzdCB0aG91Z2guLlxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgQ2FudmFzIHJlbmRlcmVyIHRvIGNhY2hlIHRoZSBzcHJpdGVcbiAqXG4gKiBAcHJpdmF0ZVxuICogQGZ1bmN0aW9uIF9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhc1xuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzID0gZnVuY3Rpb24gX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzKHJlbmRlcmVyKVxue1xuICAgIGlmICh0aGlzLl9jYWNoZURhdGEgJiYgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgYm91bmRzIGFjdHVhbGx5IHRyYW5zZm9ybXMgdGhlIG9iamVjdCBmb3IgdXMgYWxyZWFkeSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgdmFyIGNhY2hlQWxwaGEgPSB0aGlzLmFscGhhO1xuXG4gICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuY29udGV4dDtcblxuICAgIGJvdW5kcy5jZWlsKHNldHRpbmdzLlJFU09MVVRJT04pO1xuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpO1xuXG4gICAgdmFyIHRleHR1cmVDYWNoZUlkID0gXCJjYWNoZUFzQml0bWFwX1wiICsgKHVpZCgpKTtcblxuICAgIHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCA9IHRleHR1cmVDYWNoZUlkO1xuXG4gICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG4gICAgVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcblxuICAgIC8vIG5lZWQgdG8gc2V0IC8vXG4gICAgdmFyIG0gPSBfdGVtcE1hdHJpeDtcblxuICAgIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtLmNvcHlUbyhtKTtcbiAgICBtLmludmVydCgpO1xuXG4gICAgbS50eCAtPSBib3VuZHMueDtcbiAgICBtLnR5IC09IGJvdW5kcy55O1xuXG4gICAgLy8gbS5hcHBlbmQodGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0uKVxuICAgIC8vIHNldCBhbGwgcHJvcGVydGllcyB0byB0aGVyZSBvcmlnaW5hbCBzbyB3ZSBjYW4gcmVuZGVyIHRvIGEgdGV4dHVyZVxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fY2FjaGVEYXRhLm9yaWdpbmFsUmVuZGVyQ2FudmFzO1xuXG4gICAgLy8gcmVuZGVyVGV4dHVyZS5yZW5kZXIodGhpcywgbSwgdHJ1ZSk7XG4gICAgcmVuZGVyZXIucmVuZGVyKHRoaXMsIHJlbmRlclRleHR1cmUsIHRydWUsIG0sIGZhbHNlKTtcblxuICAgIC8vIG5vdyByZXN0b3JlIHRoZSBzdGF0ZSBiZSBzZXR0aW5nIHRoZSBuZXcgcHJvcGVydGllc1xuICAgIHJlbmRlcmVyLmNvbnRleHQgPSBjYWNoZWRSZW5kZXJUYXJnZXQ7XG5cbiAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcbiAgICAvLyB0aGUgcmVzdCBpcyB0aGUgc2FtZSBhcyBmb3IgV2ViR0xcbiAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybTtcbiAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcbiAgICB0aGlzLmdldExvY2FsQm91bmRzID0gdGhpcy5fZ2V0Q2FjaGVkTG9jYWxCb3VuZHM7XG5cbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gY2FjaGVkU3ByaXRlO1xuXG4gICAgdGhpcy50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgLy8gcmVzdG9yZSB0aGUgdHJhbnNmb3JtIG9mIHRoZSBjYWNoZWQgc3ByaXRlIHRvIGF2b2lkIHRoZSBuYXN0eSBmbGlja2VyLi5cbiAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSByZW5kZXJlci5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9XG5cbiAgICAvLyBtYXAgdGhlIGhpdCB0ZXN0Li5cbiAgICB0aGlzLmNvbnRhaW5zUG9pbnQgPSBjYWNoZWRTcHJpdGUuY29udGFpbnNQb2ludC5iaW5kKGNhY2hlZFNwcml0ZSk7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY2FjaGVkIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLl9jYWxjdWxhdGVDYWNoZWRCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQ2FjaGVkQm91bmRzKClcbntcbiAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnRyYW5zZm9ybS5fd29ybGRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IHRoaXMuX2JvdW5kc0lEO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGxvY2FsIGJvdW5kcy5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKClcbntcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5nZXRMb2NhbEJvdW5kcygpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKVxue1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gbnVsbDtcblxuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAqICBVc2VkIHdoZW4gZGVzdHJveWluZyBjb250YWluZXJzLCBzZWUgdGhlIENvbnRhaW5lci5kZXN0cm95IG1ldGhvZC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBEZXN0cm95ID0gZnVuY3Rpb24gX2NhY2hlQXNCaXRtYXBEZXN0cm95KG9wdGlvbnMpXG57XG4gICAgdGhpcy5jYWNoZUFzQml0bWFwID0gZmFsc2U7XG4gICAgdGhpcy5kZXN0cm95KG9wdGlvbnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWNhY2hlLWFzLWJpdG1hcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgLSB2NS4xLjFcbiAqIENvbXBpbGVkIEZyaSwgMDIgQXVnIDIwMTkgMjM6MjA6MjMgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0LCBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBUaGUgaW5zdGFuY2UgbmFtZSBvZiB0aGUgb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gKiBAbWVtYmVyIHtzdHJpbmd9IG5hbWVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUubmFtZSA9IG51bGw7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGlzcGxheSBvYmplY3QgaW4gdGhlIGNvbnRhaW5lci5cbiAqXG4gKiBAbWV0aG9kIGdldENoaWxkQnlOYW1lXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIEluc3RhbmNlIG5hbWUuXG4gKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAqL1xuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDaGlsZEJ5TmFtZSA9IGZ1bmN0aW9uIGdldENoaWxkQnlOYW1lKG5hbWUpXG57XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0ubmFtZSA9PT0gbmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1nZXQtY2hpbGQtYnktbmFtZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbiAtIHY1LjEuMVxuICogQ29tcGlsZWQgRnJpLCAwMiBBdWcgMjAxOSAyMzoyMDoyMyBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3QuIERvZXMgbm90IGRlcGVuZCBvbiBvYmplY3Qgc2NhbGUsIHJvdGF0aW9uIGFuZCBwaXZvdC5cbiAqXG4gKiBAbWV0aG9kIGdldEdsb2JhbFBvc2l0aW9uXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnQ9bmV3IFBJWEkuUG9pbnQoKV0gLSBUaGUgcG9pbnQgdG8gd3JpdGUgdGhlIGdsb2JhbCB2YWx1ZSB0by5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSB1cGRhdGVkIHBvaW50LlxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRHbG9iYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldEdsb2JhbFBvc2l0aW9uKHBvaW50LCBza2lwVXBkYXRlKVxue1xuICAgIGlmICggcG9pbnQgPT09IHZvaWQgMCApIHBvaW50ID0gbmV3IFBvaW50KCk7XG4gICAgaWYgKCBza2lwVXBkYXRlID09PSB2b2lkIDAgKSBza2lwVXBkYXRlID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudC50b0dsb2JhbCh0aGlzLnBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHBvaW50LnggPSB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIHBvaW50LnkgPSB0aGlzLnBvc2l0aW9uLnk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWdldC1nbG9iYWwtcG9zaXRpb24uZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2ggLSB2NS4xLjFcbiAqIENvbXBpbGVkIEZyaSwgMDIgQXVnIDIwMTkgMjM6MjA6MjMgVVRDXG4gKlxuICogQHBpeGkvbWVzaCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFN0YXRlLCBTaGFkZXIsIFByb2dyYW0sIFRleHR1cmVNYXRyaXgsIEdlb21ldHJ5LCBCdWZmZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBQb2x5Z29uLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IERSQVdfTU9ERVMsIEJMRU5EX01PREVTLCBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgcHJlbXVsdGlwbHlUaW50VG9SZ2JhIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIGNhY2hlIGZvciBVViBtYXBwaW5nIGZyb20gVGV4dHVyZSBub3JtYWwgc3BhY2UgdG8gQmFzZVRleHR1cmUgbm9ybWFsIHNwYWNlLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIE1lc2hCYXRjaFV2cyA9IGZ1bmN0aW9uIE1lc2hCYXRjaFV2cyh1dkJ1ZmZlciwgdXZNYXRyaXgpXG57XG4gICAgLyoqXG4gICAgICogQnVmZmVyIHdpdGggbm9ybWFsaXplZCBVVidzXG4gICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy51dkJ1ZmZlciA9IHV2QnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogTWF0ZXJpYWwgVVYgbWF0cml4XG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAqL1xuICAgIHRoaXMudXZNYXRyaXggPSB1dk1hdHJpeDtcblxuICAgIC8qKlxuICAgICAqIFVWIEJ1ZmZlciBkYXRhXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICB0aGlzLl9idWZmZXJVcGRhdGVJZCA9IC0xO1xuXG4gICAgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID0gLTE7XG5cbiAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG59O1xuXG4vKipcbiAqIHVwZGF0ZXNcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGZvcmNlVXBkYXRlIC0gZm9yY2UgdGhlIHVwZGF0ZVxuICovXG5NZXNoQmF0Y2hVdnMucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZm9yY2VVcGRhdGUpXG57XG4gICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAmJiB0aGlzLl9idWZmZXJVcGRhdGVJZCA9PT0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSURcbiAgICAgICAgJiYgdGhpcy5fdGV4dHVyZVVwZGF0ZUlkID09PSB0aGlzLnV2TWF0cml4Ll91cGRhdGVJRClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9idWZmZXJVcGRhdGVJZCA9IHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEO1xuICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEO1xuXG4gICAgdmFyIGRhdGEgPSB0aGlzLnV2QnVmZmVyLmRhdGE7XG5cbiAgICBpZiAoIXRoaXMuZGF0YSB8fCB0aGlzLmRhdGEubGVuZ3RoICE9PSBkYXRhLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgIH1cblxuICAgIHRoaXMudXZNYXRyaXgubXVsdGlwbHlVdnMoZGF0YSwgdGhpcy5kYXRhKTtcblxuICAgIHRoaXMuX3VwZGF0ZUlEKys7XG59O1xuXG52YXIgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG52YXIgdGVtcFBvbHlnb24gPSBuZXcgUG9seWdvbigpO1xuXG4vKipcbiAqIEJhc2UgbWVzaCBjbGFzcy5cbiAqXG4gKiBUaGlzIGNsYXNzIGVtcG93ZXJzIHlvdSB0byBoYXZlIG1heGltdW0gZmxleGliaWxpdHkgdG8gcmVuZGVyIGFueSBraW5kIG9mIFdlYkdMIHZpc3VhbHMgeW91IGNhbiB0aGluayBvZi5cbiAqIFRoaXMgY2xhc3MgYXNzdW1lcyBhIGNlcnRhaW4gbGV2ZWwgb2YgV2ViR0wga25vd2xlZGdlLlxuICogSWYgeW91IGtub3cgYSBiaXQgdGhpcyBzaG91bGQgYWJzdHJhY3QgZW5vdWdoIGF3YXkgdG8gbWFrZSB5b3UgbGlmZSBlYXNpZXIhXG4gKlxuICogUHJldHR5IG11Y2ggQUxMIFdlYkdMIGNhbiBiZSBicm9rZW4gZG93biBpbnRvIHRoZSBmb2xsb3dpbmc6XG4gKiAtIEdlb21ldHJ5IC0gVGhlIHN0cnVjdHVyZSBhbmQgZGF0YSBmb3IgdGhlIG1lc2guIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy4uXG4gKiAtIFNoYWRlciAtIFRoaXMgaXMgdGhlIHNoYWRlciB0aGF0IFBpeGlKUyB3aWxsIHJlbmRlciB0aGUgZ2VvbWV0cnkgd2l0aCAoYXR0cmlidXRlcyBpbiB0aGUgc2hhZGVyIG11c3QgbWF0Y2ggdGhlIGdlb21ldHJ5KVxuICogLSBTdGF0ZSAtIFRoaXMgaXMgdGhlIHN0YXRlIG9mIFdlYkdMIHJlcXVpcmVkIHRvIHJlbmRlciB0aGUgbWVzaC5cbiAqXG4gKiBUaHJvdWdoIGEgY29tYmluYXRpb24gb2YgdGhlIGFib3ZlIGVsZW1lbnRzIHlvdSBjYW4gcmVuZGVyIGFueXRoaW5nIHlvdSB3YW50LCAyRCBvciAzRCFcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTWVzaCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKENvbnRhaW5lcikge1xuICAgIGZ1bmN0aW9uIE1lc2goZ2VvbWV0cnksIHNoYWRlciwgc3RhdGUsIGRyYXdNb2RlKS8vIHZlcnRpY2VzLCB1dnMsIGluZGljZXMsIGRyYXdNb2RlKVxuICAgIHtcbiAgICAgICAgaWYgKCBkcmF3TW9kZSA9PT0gdm9pZCAwICkgZHJhd01vZGUgPSBEUkFXX01PREVTLlRSSUFOR0xFUztcblxuICAgICAgICBDb250YWluZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HZW9tZXRyeX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG5cbiAgICAgICAgZ2VvbWV0cnkucmVmQ291bnQrKztcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcnxQSVhJLk1lc2hNYXRlcmlhbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgTWVzaCByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlIHx8IFN0YXRlLmZvcjJkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3YXkgdGhlIE1lc2ggc2hvdWxkIGJlIGRyYXduLCBjYW4gYmUgYW55IG9mIHRoZSB7QGxpbmsgUElYSS5EUkFXX01PREVTfSBjb25zdGFudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkRSQVdfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd01vZGUgPSBkcmF3TW9kZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwaWNhbGx5IHRoZSBpbmRleCBvZiB0aGUgSW5kZXhCdWZmZXIgd2hlcmUgdG8gc3RhcnQgZHJhd2luZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG11Y2ggb2YgdGhlIGdlb21ldHJ5IHRvIGRyYXcsIGJ5IGRlZmF1bHQgYDBgIHJlbmRlcnMgZXZlcnl0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGVhc2UgYXJlIHVzZWQgYXMgZWFzeSBhY2Nlc3MgZm9yIGJhdGNoaW5nXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlYXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdGhlIGNhY2hpbmcgbGF5ZXIgdXNlZCBieSB0aGUgYmF0Y2hlclxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDEpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBnZW9tZXRyeSBpcyBjaGFuZ2VkIHVzZWQgdG8gZGVjaWRlIHRvIHJlLXRyYW5zZm9ybVxuICAgICAgICAgKiB0aGUgdmVydGV4RGF0YS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEaXJ0eSA9IDA7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcblxuICAgICAgICAvLyBJbmhlcml0ZWQgZnJvbSBEaXNwbGF5TW9kZSwgc2V0IGRlZmF1bHRzXG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaGVkIFVWJ3MgYXJlIGNhY2hlZCBmb3IgYXRsYXMgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NZXNoQmF0Y2hVdnN9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoVXZzID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciApIE1lc2guX19wcm90b19fID0gQ29udGFpbmVyO1xuICAgIE1lc2gucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29udGFpbmVyICYmIENvbnRhaW5lci5wcm90b3R5cGUgKTtcbiAgICBNZXNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1lc2g7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB1dkJ1ZmZlcjogeyBjb25maWd1cmFibGU6IHRydWUgfSx2ZXJ0aWNlc0J1ZmZlcjogeyBjb25maWd1cmFibGU6IHRydWUgfSxtYXRlcmlhbDogeyBjb25maWd1cmFibGU6IHRydWUgfSxibGVuZE1vZGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scm91bmRQaXhlbHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGludDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0dXJlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBUbyBjaGFuZ2UgbWVzaCB1didzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy51dkJ1ZmZlci5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVG8gY2hhbmdlIG1lc2ggdmVydGljZXMsIGNoYW5nZSBpdHMgdXZCdWZmZXIgZGF0YSBhbmQgaW5jcmVtZW50IGl0cyBfdXBkYXRlSUQuXG4gICAgICogSW5jcmVtZW50aW5nIF91cGRhdGVJRCBpcyBvcHRpb25hbCBiZWNhdXNlIG1vc3Qgb2YgTWVzaCBvYmplY3RzIGRvIGl0IGFueXdheS5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudmVydGljZXNCdWZmZXIuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciB7QGxpbmsgUElYSS5NZXNoI3NoYWRlcn0uXG4gICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ8UElYSS5NZXNoTWF0ZXJpYWx9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hdGVyaWFsLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gdmFsdWU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXRlcmlhbC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBNZXNoLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICogYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTDtcbiAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmxlbmRNb2RlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yb3VuZFBpeGVscy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gdmFsdWU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yb3VuZFBpeGVscy5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbXVsdGlwbHkgdGludCBhcHBsaWVkIHRvIHRoZSBNZXNoLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICogYDB4RkZGRkZGYCB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnRpbnQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc2hhZGVyLnRpbnQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgTWVzaCB1c2VzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFkZXIudGV4dHVyZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCByZW5kZXJlciBkcmF3LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCB1c2UgYSBkaWZmZXJlbnQgd2F5IHRvIGdyYWIgdmVydHM/XG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1swXS5kYXRhO1xuXG4gICAgICAgIC8vIFRPRE8gYmVuY2htYXJrIGNoZWNrIGZvciBhdHRyaWJ1dGUgc2l6ZS4uXG4gICAgICAgIGlmICh0aGlzLnNoYWRlci5iYXRjaGFibGUgJiYgdGhpcy5kcmF3TW9kZSA9PT0gRFJBV19NT0RFUy5UUklBTkdMRVMgJiYgdmVydGljZXMubGVuZ3RoIDwgTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclRvQmF0Y2gocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyRGVmYXVsdChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhbmRhcmQgbm9uLWJhdGNoaW5nIHdheSBvZiByZW5kZXJpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBJbnN0YW5jZSB0byByZW5kZXJlci5cbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fcmVuZGVyRGVmYXVsdCA9IGZ1bmN0aW9uIF9yZW5kZXJEZWZhdWx0IChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHZhciBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcblxuICAgICAgICBzaGFkZXIuYWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIGlmIChzaGFkZXIudXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFkZXIudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChzaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YS50cmFuc2xhdGlvbk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuXG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldCh0aGlzLnN0YXRlKTtcblxuICAgICAgICAvLyBiaW5kIHRoZSBnZW9tZXRyeS4uLlxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMuZ2VvbWV0cnksIHNoYWRlcik7XG5cbiAgICAgICAgLy8gdGhlbiByZW5kZXIgaXRcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLmRyYXdNb2RlLCB0aGlzLnNpemUsIHRoaXMuc3RhcnQsIHRoaXMuZ2VvbWV0cnkuaW5zdGFuY2VDb3VudCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcmluZyBieSB1c2luZyB0aGUgQmF0Y2ggc3lzdGVtLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlclRvQmF0Y2ggPSBmdW5jdGlvbiBfcmVuZGVyVG9CYXRjaCAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlci51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVV2cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gdGhpcy5zaGFkZXIuX3RpbnRSR0I7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLnNoYWRlci50ZXh0dXJlO1xuXG4gICAgICAgIHZhciBwbHVnaW5OYW1lID0gdGhpcy5tYXRlcmlhbC5wbHVnaW5OYW1lO1xuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3BsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB2ZXJ0ZXhEYXRhIGZpZWxkIGJhc2VkIG9uIHRyYW5zZm9ybSBhbmQgdmVydGljZXNcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICB2YXIgdmVydGljZXMgPSBnZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LnZlcnRleERpcnR5SWQgPT09IHRoaXMudmVydGV4RGlydHkgJiYgdGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuXG4gICAgICAgIGlmICh0aGlzLnZlcnRleERhdGEubGVuZ3RoICE9PSB2ZXJ0aWNlcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcblxuICAgICAgICB2YXIgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoIC8gMjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgeCA9IHZlcnRpY2VzWyhpICogMildO1xuICAgICAgICAgICAgdmFyIHkgPSB2ZXJ0aWNlc1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHZlcnRleERhdGFbKGkgKiAyKV0gPSAoYSAqIHgpICsgKGMgKiB5KSArIHR4O1xuICAgICAgICAgICAgdmVydGV4RGF0YVsoaSAqIDIpICsgMV0gPSAoYiAqIHgpICsgKGQgKiB5KSArIHR5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSQxKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpJDFdID0gTWF0aC5yb3VuZCh2ZXJ0ZXhEYXRhW2kkMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhEaXJ0eSA9IGdlb21ldHJ5LnZlcnRleERpcnR5SWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdXYgZmllbGQgYmFzZWQgb24gZnJvbSBnZW9tZXRyeSB1didzIG9yIGJhdGNoVXZzXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY2FsY3VsYXRlVXZzID0gZnVuY3Rpb24gY2FsY3VsYXRlVXZzICgpXG4gICAge1xuICAgICAgICB2YXIgZ2VvbVV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXTtcblxuICAgICAgICBpZiAoIXRoaXMuc2hhZGVyLnV2TWF0cml4LmlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmF0Y2hVdnMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaFV2cyA9IG5ldyBNZXNoQmF0Y2hVdnMoZ2VvbVV2cywgdGhpcy5zaGFkZXIudXZNYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYXRjaFV2cy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdGhpcy5iYXRjaFV2cy5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dnMgPSBnZW9tVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBtZXNoIGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICogdGhlcmUgbXVzdCBiZSBhIGFWZXJ0ZXhQb3NpdGlvbiBhdHRyaWJ1dGUgcHJlc2VudCBpbiB0aGUgZ2VvbWV0cnkgZm9yIGJvdW5kcyB0byBiZSBjYWxjdWxhdGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBNZXNoLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRWZXJ0ZXhEYXRhKHRoaXMudmVydGV4RGF0YSwgMCwgdGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRlc3RzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgbWVzaC4gV29ya3Mgb25seSBmb3IgUElYSS5EUkFXX01PREVTLlRSSUFOR0xFUy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQgKHBvaW50KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50LngsIHBvaW50LnkpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcblxuICAgICAgICB2YXIgcG9pbnRzID0gdGVtcFBvbHlnb24ucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9ICB0aGlzLmdlb21ldHJ5LmdldEluZGV4KCkuZGF0YTtcbiAgICAgICAgdmFyIGxlbiA9IGluZGljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgc3RlcCA9IHRoaXMuZHJhd01vZGUgPT09IDQgPyAzIDogMTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSArIDIgPCBsZW47IGkgKz0gc3RlcClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGluZDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgICAgICAgIHZhciBpbmQxID0gaW5kaWNlc1tpICsgMV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDIgPSBpbmRpY2VzW2kgKyAyXSAqIDI7XG5cbiAgICAgICAgICAgIHBvaW50c1swXSA9IHZlcnRpY2VzW2luZDBdO1xuICAgICAgICAgICAgcG9pbnRzWzFdID0gdmVydGljZXNbaW5kMCArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzJdID0gdmVydGljZXNbaW5kMV07XG4gICAgICAgICAgICBwb2ludHNbM10gPSB2ZXJ0aWNlc1tpbmQxICsgMV07XG4gICAgICAgICAgICBwb2ludHNbNF0gPSB2ZXJ0aWNlc1tpbmQyXTtcbiAgICAgICAgICAgIHBvaW50c1s1XSA9IHZlcnRpY2VzW2luZDIgKyAxXTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2x5Z29uLmNvbnRhaW5zKHRlbXBQb2ludC54LCB0ZW1wUG9pbnQueSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgTWVzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LnJlZkNvdW50LS07XG4gICAgICAgIGlmICh0aGlzLmdlb21ldHJ5LnJlZkNvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBNZXNoLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gTWVzaDtcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHZlcnRpY2VzIHRvIGNvbnNpZGVyIGJhdGNoYWJsZS4gR2VuZXJhbGx5LCB0aGUgY29tcGxleGl0eVxuICogb2YgdGhlIGdlb21ldHJ5LlxuICogQG1lbWJlcm9mIFBJWEkuTWVzaFxuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfSBCQVRDSEFCTEVfU0laRVxuICovXG5NZXNoLkJBVENIQUJMRV9TSVpFID0gMTAwO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHVUZXh0dXJlTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9ICh1VGV4dHVyZU1hdHJpeCAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpICogdUNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBTbGlnaHRseSBvcGluaW9uYXRlZCBkZWZhdWx0IHNoYWRlciBmb3IgUGl4aUpTIDJEIG9iamVjdHMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgTWVzaE1hdGVyaWFsID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoU2hhZGVyKSB7XG4gICAgZnVuY3Rpb24gTWVzaE1hdGVyaWFsKHVTYW1wbGVyLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgdVNhbXBsZXI6IHVTYW1wbGVyLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICB1VGV4dHVyZU1hdHJpeDogTWF0cml4LklERU5USVRZLFxuICAgICAgICAgICAgdUNvbG9yOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHRzXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBwbHVnaW5OYW1lOiAnYmF0Y2gnLFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAob3B0aW9ucy51bmlmb3JtcylcbiAgICAgICAge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih1bmlmb3Jtcywgb3B0aW9ucy51bmlmb3Jtcyk7XG4gICAgICAgIH1cblxuICAgICAgICBTaGFkZXIuY2FsbCh0aGlzLCBvcHRpb25zLnByb2dyYW0gfHwgUHJvZ3JhbS5mcm9tKHZlcnRleCwgZnJhZ21lbnQpLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9ubHkgZG8gdXBkYXRlIGlmIHRpbnQgb3IgYWxwaGEgY2hhbmdlcy5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyBNZXNoLCB1c2VkIHRvIHRyYWNrIFRleHR1cmUgY2hhbmdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG5ldyBUZXh0dXJlTWF0cml4KHVTYW1wbGVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHNoYWRlciBjYW4gYmUgYmF0Y2ggd2l0aCB0aGUgcmVuZGVyZXIncyBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hhYmxlID0gb3B0aW9ucy5wcm9ncmFtID09PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlcmVyIHBsdWdpbiBmb3IgYmF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnYmF0Y2gnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbk5hbWUgPSBvcHRpb25zLnBsdWdpbk5hbWU7XG5cbiAgICAgICAgdGhpcy50aW50ID0gb3B0aW9ucy50aW50O1xuICAgICAgICB0aGlzLmFscGhhID0gb3B0aW9ucy5hbHBoYTtcbiAgICB9XG5cbiAgICBpZiAoIFNoYWRlciApIE1lc2hNYXRlcmlhbC5fX3Byb3RvX18gPSBTaGFkZXI7XG4gICAgTWVzaE1hdGVyaWFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNoYWRlciAmJiBTaGFkZXIucHJvdG90eXBlICk7XG4gICAgTWVzaE1hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1lc2hNYXRlcmlhbDtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHRleHR1cmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYWxwaGE6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGludDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIGJlaW5nIHJlbmRlcmVkLlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNhbXBsZXI7XG4gICAgfTtcbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51bmlmb3Jtcy51U2FtcGxlciAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgZ2V0cyBhdXRvbWF0aWNhbGx5IHNldCBieSB0aGUgb2JqZWN0IHVzaW5nIHRoaXMuXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbHBoYS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX2FscGhhKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMuX2FscGhhID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgIH07XG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFscGhhLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxwaGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRpbnQgZm9yIHRoZSBtYXRlcmlhbC5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGludC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuX3RpbnQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyBjYWxsZWQgYXV0b21hdGljYWxseSBieSB0aGUgTWVzaC4gSW50ZW5kZWQgdG8gYmUgb3ZlcnJpZGRlbiBmb3IgY3VzdG9tXG4gICAgICogTWVzaE1hdGVyaWFsIG9iamVjdHMuXG4gICAgICovXG4gICAgTWVzaE1hdGVyaWFsLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9jb2xvckRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSB0aGlzLnRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHByZW11bHRpcGx5VGludFRvUmdiYSh0aGlzLl90aW50LCB0aGlzLl9hbHBoYSwgdGhpcy51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnV2TWF0cml4LnVwZGF0ZSgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ID0gdGhpcy51dk1hdHJpeC5tYXBDb29yZDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gTWVzaE1hdGVyaWFsO1xufShTaGFkZXIpKTtcblxuLyoqXG4gKiBTdGFuZGFyZCAyRCBnZW9tZXRyeSB1c2VkIGluIFBpeGlKUy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pO1xuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG52YXIgTWVzaEdlb21ldHJ5ID0gLypAX19QVVJFX18qLyhmdW5jdGlvbiAoR2VvbWV0cnkpIHtcbiAgICBmdW5jdGlvbiBNZXNoR2VvbWV0cnkodmVydGljZXMsIHV2cywgaW5kZXgpXG4gICAge1xuICAgICAgICBHZW9tZXRyeS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlc0J1ZmZlciA9IG5ldyBCdWZmZXIodmVydGljZXMpO1xuICAgICAgICB2YXIgdXZzQnVmZmVyID0gbmV3IEJ1ZmZlcih1dnMsIHRydWUpO1xuICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBuZXcgQnVmZmVyKGluZGV4LCB0cnVlLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgdmVydGljZXNCdWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCB1dnNCdWZmZXIsIDIsIGZhbHNlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRJbmRleChpbmRleEJ1ZmZlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpcnR5IGZsYWcgdG8gbGltaXQgdXBkYXRlIGNhbGxzIG9uIE1lc2guIEZvciBleGFtcGxlLFxuICAgICAgICAgKiBsaW1pdGluZyB1cGRhdGVzIG9uIGEgc2luZ2xlIE1lc2ggaW5zdGFuY2Ugd2l0aCBhIHNoYXJlZCBHZW9tZXRyeVxuICAgICAgICAgKiB3aXRoaW4gdGhlIHJlbmRlciBsb29wLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91cGRhdGVJZCA9IC0xO1xuICAgIH1cblxuICAgIGlmICggR2VvbWV0cnkgKSBNZXNoR2VvbWV0cnkuX19wcm90b19fID0gR2VvbWV0cnk7XG4gICAgTWVzaEdlb21ldHJ5LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEdlb21ldHJ5ICYmIEdlb21ldHJ5LnByb3RvdHlwZSApO1xuICAgIE1lc2hHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNZXNoR2VvbWV0cnk7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB2ZXJ0ZXhEaXJ0eUlkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdmVydGV4IHBvc2l0aW9uIGlzIHVwZGF0ZWQuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnZlcnRleERpcnR5SWQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbMF0uX3VwZGF0ZUlEO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTWVzaEdlb21ldHJ5LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gTWVzaEdlb21ldHJ5O1xufShHZW9tZXRyeSkpO1xuXG5leHBvcnQgeyBNZXNoLCBNZXNoQmF0Y2hVdnMsIE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNoLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBwaXhpLmpzIC0gdjUuMS4xXG4gKiBDb21waWxlZCBGcmksIDAyIEF1ZyAyMDE5IDIzOjIwOjIzIFVUQ1xuICpcbiAqIHBpeGkuanMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgJ0BwaXhpL3BvbHlmaWxsJztcbmltcG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyIH0gZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5pbXBvcnQgKiBhcyBhY2Nlc3NpYmlsaXR5IGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuZXhwb3J0IHsgYWNjZXNzaWJpbGl0eSB9O1xuaW1wb3J0IHsgRXh0cmFjdCB9IGZyb20gJ0BwaXhpL2V4dHJhY3QnO1xuaW1wb3J0ICogYXMgZXh0cmFjdCBmcm9tICdAcGl4aS9leHRyYWN0JztcbmV4cG9ydCB7IGV4dHJhY3QgfTtcbmltcG9ydCB7IEludGVyYWN0aW9uTWFuYWdlciB9IGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmltcG9ydCAqIGFzIGludGVyYWN0aW9uIGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmV4cG9ydCB7IGludGVyYWN0aW9uIH07XG5pbXBvcnQgeyBQcmVwYXJlIH0gZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5pbXBvcnQgKiBhcyBwcmVwYXJlIGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuZXhwb3J0IHsgcHJlcGFyZSB9O1xuaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAcGl4aS91dGlscyc7XG5leHBvcnQgeyB1dGlscyB9O1xuaW1wb3J0IHsgQXBwbGljYXRpb24gfSBmcm9tICdAcGl4aS9hcHAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvYXBwJztcbmltcG9ydCB7IFJlbmRlcmVyLCBCYXRjaFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IExvYWRlciwgQXBwTG9hZGVyUGx1Z2luIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCB7IFBhcnRpY2xlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmltcG9ydCB7IFNwcml0ZXNoZWV0TG9hZGVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuaW1wb3J0IHsgQml0bWFwRm9udExvYWRlciB9IGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmltcG9ydCB7IFRpY2tlclBsdWdpbiB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgQWxwaGFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItYWxwaGEnO1xuaW1wb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfSBmcm9tICdAcGl4aS9maWx0ZXItYmx1cic7XG5pbXBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgnO1xuaW1wb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCc7XG5pbXBvcnQgeyBGWEFBRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWZ4YWEnO1xuaW1wb3J0IHsgTm9pc2VGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItbm9pc2UnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24nO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWF0aCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gtZXh0cmFzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3J1bm5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLWFuaW1hdGVkJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG52YXIgdjUgPSAnNS4wLjAnO1xuXG4vKipcbiAqIERlcHJlY2F0aW9ucyAoYmFja3dhcmQgY29tcGF0aWJpbGl0aWVzKSBhcmUgYXV0b21hdGljYWxseSBhcHBsaWVkIGZvciBicm93c2VyIGJ1bmRsZXNcbiAqIGluIHRoZSBVTUQgbW9kdWxlIGZvcm1hdC4gSWYgdXNpbmcgV2VicGFjayBvciBSb2xsdXAsIHlvdSdsbCBuZWVkIHRvIGFwcGx5IHRoZXNlXG4gKiBkZXByZWNhdGlvbnMgbWFudWFsbHkgYnkgZG9pbmcgc29tZXRoaW5nIGxpa2UgdGhpczpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuICogUElYSS51c2VEZXByZWNhdGVkKCk7IC8vIE1VU1QgYmUgYm91bmQgdG8gbmFtZXNwYWNlXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIHVzZURlcHJlY2F0ZWRcbiAqL1xuZnVuY3Rpb24gdXNlRGVwcmVjYXRlZCgpXG57XG4gICAgdmFyIFBJWEkgPSB0aGlzO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLlNWR19TSVpFXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBTVkdfU0laRToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5TVkdfU0laRSBwcm9wZXJ0eSBoYXMgbW92ZWQgdG8gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuU1ZHX1NJWkUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNWR1Jlc291cmNlLlNWR19TSVpFO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuVHJhbnNmb3JtU3RhdGljXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybVN0YXRpYzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UcmFuc2Zvcm1TdGF0aWMgY2xhc3MgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuVHJhbnNmb3JtJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UcmFuc2Zvcm07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5UcmFuc2Zvcm1CYXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybUJhc2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVHJhbnNmb3JtQmFzZSBjbGFzcyBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5UcmFuc2Zvcm0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRyYW5zZm9ybTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgdGhlIHRyYW5zZm9ybSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBUUkFOU0ZPUk1fTU9ERVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAZW51bSB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gU1RBVElDXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEWU5BTUlDXG4gICAgICAgICAqL1xuICAgICAgICBUUkFOU0ZPUk1fTU9ERToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyBTVEFUSUM6IDAsIERZTkFNSUM6IDEgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLldlYkdMUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBXZWJHTFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLldlYkdMUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuQ2FudmFzUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBzZWUgUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc1JlbmRlclRhcmdldDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5DYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAbmFtZSBsb2FkZXJcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnNoYXJlZFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlciBpbnN0YW5jZSBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXIuc2hhcmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuRmlsdGVyTWFuYWdlclxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEZpbHRlck1hbmFnZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRmlsdGVyTWFuYWdlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZC4gQWxsIGNsYXNzZXMgcHJldmlvdXMgbmVzdGVkXG4gICAgICogdW5kZXIgdGhpcyBuYW1lc3BhY2UgaGF2ZSBiZWVuIG1vdmVkIHRvIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkuZXh0cmFzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLmV4dHJhcyA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5leHRyYXMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVcbiAgICAgICAgICogQHNlZSBQSVhJLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlRpbGluZ1Nwcml0ZVJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGVcbiAgICAgICAgICogQHNlZSBQSVhJLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBBbmltYXRlZFNwcml0ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQW5pbWF0ZWRTcHJpdGUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkFuaW1hdGVkU3ByaXRlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmV4dHJhcy5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBUZXh0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBCaXRtYXBUZXh0OiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5CaXRtYXBUZXh0IGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcFRleHQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcFRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS51dGlscywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkudXRpbHMuZ2V0U3ZnU2l6ZVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldFN2Z1NpemU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMuZ2V0U3ZnU2l6ZSBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2UuZ2V0U2l6ZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU1ZHUmVzb3VyY2UuZ2V0U2l6ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBbGwgY2xhc3NlcyBvbiB0aGlzIG5hbWVzcGFjZSBoYXZlIG1vdmVkIHRvIHRoZSBoaWdoLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLm1lc2hcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkubWVzaCA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5tZXNoLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZU1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2g6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5NZXNoIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZU1lc2gnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZU1lc2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTmluZVNsaWNlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE5pbmVTbGljZVBsYW5lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTmluZVNsaWNlUGxhbmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTmluZVNsaWNlUGxhbmUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk5pbmVTbGljZVBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUGxhbmVcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZVBsYW5lXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBQbGFuZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlBsYW5lIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZVBsYW5lJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TaW1wbGVQbGFuZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlJvcGVcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZVJvcGVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJvcGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5Sb3BlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlNpbXBsZVJvcGUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNpbXBsZVJvcGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5SYXdNZXNoXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSYXdNZXNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUmF3TWVzaCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5NZXNoJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5DYW52YXNNZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc01lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLkNhbnZhc01lc2hSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5DYW52YXNNZXNoUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkNhbnZhc01lc2hSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk1lc2hSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNZXNoUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5NZXNoUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTWVzaFJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBuYW1lc3BhY2UgaGFzIGJlZW4gcmVtb3ZlZCBhbmQgaXRlbXMgaGF2ZSBiZWVuIG1vdmVkIHRvXG4gICAgICogdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5wYXJ0aWNsZXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkucGFydGljbGVzID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnBhcnRpY2xlcywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5QYXJ0aWNsZUNvbnRhaW5lclxuICAgICAgICAgKi9cbiAgICAgICAgUGFydGljbGVDb250YWluZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlBhcnRpY2xlQ29udGFpbmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QYXJ0aWNsZUNvbnRhaW5lcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVSZW5kZXJlclxuICAgICAgICAgKi9cbiAgICAgICAgUGFydGljbGVSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5QYXJ0aWNsZVJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QYXJ0aWNsZVJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudGlja2VyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnRpY2tlciA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS50aWNrZXIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnRpY2tlci5UaWNrZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlclxuICAgICAgICAgKi9cbiAgICAgICAgVGlja2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnRpY2tlci5UaWNrZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlja2VyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWNrZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS50aWNrZXIuc2hhcmVkXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlci5zaGFyZWRcbiAgICAgICAgICovXG4gICAgICAgIHNoYXJlZDoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS50aWNrZXIuc2hhcmVkIGluc3RhbmNlIGhhcyBtb3ZlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWxsIGNsYXNzZXMgb24gdGhpcyBuYW1lc3BhY2UgaGF2ZSBtb3ZlZCB0byB0aGUgaGlnaC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5sb2FkZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLmxvYWRlcnMgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkubG9hZGVycywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubG9hZGVycy5Mb2FkZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuTG9hZGVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmxvYWRlcnMuUmVzb3VyY2VcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclJlc291cmNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSZXNvdXJjZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLlJlc291cmNlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlclJlc291cmNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXJSZXNvdXJjZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLmJpdG1hcEZvbnRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBiaXRtYXBGb250UGFyc2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuYml0bWFwRm9udFBhcnNlciBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQml0bWFwRm9udExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5wYXJzZUJpdG1hcEZvbnREYXRhXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBwYXJzZUJpdG1hcEZvbnREYXRhOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMucGFyc2VCaXRtYXBGb250RGF0YSBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgc3ByaXRlc2hlZXRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5zcHJpdGVzaGVldFBhcnNlciBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2UnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgKiBAc2VlIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZXNvdXJjZVBhdGg6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGggcHJvcGVydHkgaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmVcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtaWRkbGV3YXJlXG4gICAgICovXG4gICAgUElYSS5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmUgPSBmdW5jdGlvbiBhZGRQaXhpTWlkZGxld2FyZShtaWRkbGV3YXJlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsXG4gICAgICAgICAgICAnUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5sb2FkZXJzLkxvYWRlci5yZWdpc3RlclBsdWdpbidcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gUElYSS5sb2FkZXJzLkxvYWRlci5yZWdpc3RlclBsdWdpbih7IHVzZTogbWlkZGxld2FyZSgpIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmV4dHJhY3QuRXh0cmFjdFxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLmV4dHJhY3QsICdXZWJHTEV4dHJhY3QnLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0IG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5leHRyYWN0LkV4dHJhY3QnKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBJWEkuZXh0cmFjdC5FeHRyYWN0O1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBJWEkucHJlcGFyZS5XZWJHTFByZXBhcmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5wcmVwYXJlLlByZXBhcmVcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5wcmVwYXJlLCAnV2ViR0xQcmVwYXJlJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5wcmVwYXJlLldlYkdMUHJlcGFyZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5wcmVwYXJlLlByZXBhcmUnKTtcblxuICAgICAgICAgICAgcmV0dXJuIFBJWEkucHJlcGFyZS5QcmVwYXJlO1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNfcmVuZGVyV2ViR0xcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIF9yZW5kZXJXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIuX3JlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIuX3JlbmRlcicpO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjcmVuZGVyV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5Db250YWluZXIjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlcldlYkdMKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLnJlbmRlcicpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkRpc3BsYXlPYmplY3QjcmVuZGVyV2ViR0xcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5EaXNwbGF5T2JqZWN0I3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkRpc3BsYXlPYmplY3QucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuRGlzcGxheU9iamVjdC5yZW5kZXJXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuRGlzcGxheU9iamVjdC5yZW5kZXInKTtcblxuICAgICAgICB0aGlzLnJlbmRlcihyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWRXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWRXZWJHTCA9IGZ1bmN0aW9uIHJlbmRlckFkdmFuY2VkV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLnJlbmRlckFkdmFuY2VkV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5yZW5kZXJBZHZhbmNlZCcpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLnNldHRpbmdzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IHRyYW5zZm9ybSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlRSQU5TRk9STV9NT0RFfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlRSQU5TRk9STV9NT0RFLlNUQVRJQ1xuICAgICAgICAgKi9cbiAgICAgICAgVFJBTlNGT1JNX01PREU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc2V0dGluZ3MuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zZXR0aW5ncy5UUkFOU0ZPUk1fTU9ERSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIEJhc2VUZXh0dXJlID0gUElYSS5CYXNlVGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgbG9hZFNvdXJjZVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlI1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmxvYWRTb3VyY2UgPSBmdW5jdGlvbiBsb2FkU291cmNlKGltYWdlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmxvYWRTb3VyY2UgbWV0aG9kIGhhcyBiZWVuIGRlcHJlY2F0ZWQnKTtcblxuICAgICAgICB2YXIgcmVzb3VyY2UgPSBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2UoaW1hZ2UpO1xuXG4gICAgICAgIHJlc291cmNlLmludGVybmFsID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQmFzZVRleHR1cmUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI2hhc0xvYWRlZFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSN2YWxpZFxuICAgICAgICAgKi9cbiAgICAgICAgaGFzTG9hZGVkOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmhhc0xvYWRlZCBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5CYXNlVGV4dHVyZS52YWxpZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5CYXNlVGV4dHVyZSNpbWFnZVVybFxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2UuSW1hZ2VSZXNvdXJjZSN1cmxcbiAgICAgICAgICovXG4gICAgICAgIGltYWdlVXJsOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLkJhc2VUZXh0dXJlLnJlc291cmNlLnVybCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2UgJiYgdGhpcy5yZXNvdXJjZS51cmw7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChpbWFnZVVybClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuaW1hZ2VVcmwgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2UudXJsJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjc291cmNlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2Ujc291cmNlXG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuc291cmNlIHByb3BlcnR5IGhhcyBiZWVuIG1vdmVkLCB1c2UgYFBJWEkuQmFzZVRleHR1cmUucmVzb3VyY2Uuc291cmNlYCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzb3VyY2UgJiYgdGhpcy5yZXNvdXJjZS5zb3VyY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoc291cmNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgUElYSS5CYXNlVGV4dHVyZS5yZXNvdXJjZS5zb3VyY2VgICdcbiAgICAgICAgICAgICAgICAgICAgKyAnaWYgeW91IHdhbnQgdG8gc2V0IEhUTUxDYW52YXNFbGVtZW50LiBPdGhlcndpc2UsIGNyZWF0ZSBuZXcgQmFzZVRleHR1cmUuJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2Uuc291cmNlID0gc291cmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21JbWFnZVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tSW1hZ2UgPSBmdW5jdGlvbiBmcm9tSW1hZ2UoY2FudmFzLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzY2FsZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tSW1hZ2UgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG5cbiAgICAgICAgdmFyIHJlc291cmNlT3B0aW9ucyA9IHsgc2NhbGU6IHNjYWxlLCBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4gfTtcblxuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc291cmNlT3B0aW9uczogcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21DYW52YXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUNhbnZhcyBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcblxuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlOiBzY2FsZU1vZGUgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbVNWR1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tU1ZHID0gZnVuY3Rpb24gZnJvbVNWRyhjYW52YXMsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmZyb21TVkcgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5CYXNlVGV4dHVyZS5mcm9tJyk7XG5cbiAgICAgICAgdmFyIHJlc291cmNlT3B0aW9ucyA9IHsgc2NhbGU6IHNjYWxlLCBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4gfTtcblxuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc291cmNlT3B0aW9uczogcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUG9pbnQjY29weVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5Qb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Qb2ludC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuUG9pbnQuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk9ic2VydmFibGVQb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuT2JzZXJ2YWJsZVBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLlJlY3RhbmdsZSNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUmVjdGFuZ2xlI2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5SZWN0YW5nbGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVjdGFuZ2xlLmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5SZWN0YW5nbGUuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk1hdHJpeCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuTWF0cml4I2NvcHlUb1xuICAgICAqL1xuICAgIFBJWEkuTWF0cml4LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLk1hdHJpeC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuTWF0cml4LmNvcHlUbycpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlUbyhwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW0jc2V0U3RhdGVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjEuMFxuICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLlN0YXRlU3lzdGVtI3NldFxuICAgICAqL1xuICAgIFBJWEkuc3lzdGVtcy5TdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiBzZXRTdGF0ZShzKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJ3Y1LjEuMCcsICdTdGF0ZVN5c3RlbS5zZXRTdGF0ZSBoYXMgYmVlbiByZW5hbWVkIHRvIFN0YXRlU3lzdGVtLnNldCcpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNldChzKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjZ2V0UmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZW5kZXJUYXJnZXQ6IGZ1bmN0aW9uIGdldFJlbmRlclRhcmdldChjbGVhciwgcmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsXG4gICAgICAgICAgICAgICAgJ1BJWEkuRmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlJ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmlsdGVyVGV4dHVyZShyZXNvbHV0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjcmV0dXJuUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNyZXR1cm5GaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm5SZW5kZXJUYXJnZXQ6IGZ1bmN0aW9uIHJldHVyblJlbmRlclRhcmdldChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSxcbiAgICAgICAgICAgICAgICAnUElYSS5GaWx0ZXJNYW5hZ2VyLnJldHVyblJlbmRlclRhcmdldCBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCAnXG4gICAgICAgICAgICAgICAgKyAnUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5yZXR1cm5GaWx0ZXJUZXh0dXJlJ1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRleHR1cmUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gdGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgICAgICovXG4gICAgICAgIGNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4OiBmdW5jdGlvbiBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbS5jYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHlgIGluc3RlYWQnKTtcblxuICAgICAgICAgICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuICAgICAgICAgICAgdmFyIHJlZiA9IHRoaXMuYWN0aXZlU3RhdGU7XG4gICAgICAgICAgICB2YXIgc291cmNlRnJhbWUgPSByZWYuc291cmNlRnJhbWU7XG4gICAgICAgICAgICB2YXIgZGVzdGluYXRpb25GcmFtZSA9IHJlZi5kZXN0aW5hdGlvbkZyYW1lO1xuXG4gICAgICAgICAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKHNvdXJjZUZyYW1lLnggLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBzb3VyY2VGcmFtZS55IC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnNjYWxlKGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2NhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4OiBmdW5jdGlvbiBjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeCBtZXRob2QgaXMgcmVtb3ZlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBgKCh2VGV4dHVyZUNvb3JkICogaW5wdXRTaXplLnh5KSArIG91dHB1dEZyYW1lLnh5KSAvIG91dHB1dEZyYW1lLnp3YCBpbnN0ZWFkLicpO1xuXG4gICAgICAgICAgICB2YXIgcmVmID0gdGhpcy5hY3RpdmVTdGF0ZTtcbiAgICAgICAgICAgIHZhciBzb3VyY2VGcmFtZSA9IHJlZi5zb3VyY2VGcmFtZTtcbiAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbkZyYW1lID0gcmVmLmRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG5cbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc291cmNlRnJhbWUueCAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIHNvdXJjZUZyYW1lLnkgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVTY2FsZVggPSAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHNvdXJjZUZyYW1lLndpZHRoKTtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGVTY2FsZVkgPSAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyBzb3VyY2VGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUodHJhbnNsYXRlU2NhbGVYLCB0cmFuc2xhdGVTY2FsZVkpO1xuXG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NvdXJjZUZyYW1lXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2VGcmFtZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlckZyYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyVGV4dHVyZSNzaXplXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlJlbmRlclRleHR1cmUuc2l6ZSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZnJhbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIEJsdXJYRmlsdGVyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3NcbiAgICAgKi9cbiAgICB2YXIgQmx1clhGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChzdXBlcmNsYXNzKSB7XG4gICAgICAgIGZ1bmN0aW9uIEJsdXJYRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZmlsdGVycy5CbHVyWEZpbHRlciBjbGFzcyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzJyk7XG5cbiAgICAgICAgICAgIHN1cGVyY2xhc3MuY2FsbCh0aGlzLCB0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHN1cGVyY2xhc3MgKSBCbHVyWEZpbHRlci5fX3Byb3RvX18gPSBzdXBlcmNsYXNzO1xuICAgICAgICBCbHVyWEZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBzdXBlcmNsYXNzICYmIHN1cGVyY2xhc3MucHJvdG90eXBlICk7XG4gICAgICAgIEJsdXJYRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJsdXJYRmlsdGVyO1xuXG4gICAgICAgIHJldHVybiBCbHVyWEZpbHRlcjtcbiAgICB9KFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcykpO1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIEJsdXJZRmlsdGVyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3NcbiAgICAgKi9cbiAgICB2YXIgQmx1cllGaWx0ZXIgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uIChzdXBlcmNsYXNzKSB7XG4gICAgICAgIGZ1bmN0aW9uIEJsdXJZRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuZmlsdGVycy5CbHVyWUZpbHRlciBjbGFzcyBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzJyk7XG5cbiAgICAgICAgICAgIHN1cGVyY2xhc3MuY2FsbCh0aGlzLCBmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBzdXBlcmNsYXNzICkgQmx1cllGaWx0ZXIuX19wcm90b19fID0gc3VwZXJjbGFzcztcbiAgICAgICAgQmx1cllGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggc3VwZXJjbGFzcyAmJiBzdXBlcmNsYXNzLnByb3RvdHlwZSApO1xuICAgICAgICBCbHVyWUZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCbHVyWUZpbHRlcjtcblxuICAgICAgICByZXR1cm4gQmx1cllGaWx0ZXI7XG4gICAgfShQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MpKTtcblxuICAgIE9iamVjdC5hc3NpZ24oUElYSS5maWx0ZXJzLCB7XG4gICAgICAgIEJsdXJYRmlsdGVyOiBCbHVyWEZpbHRlcixcbiAgICAgICAgQmx1cllGaWx0ZXI6IEJsdXJZRmlsdGVyLFxuICAgIH0pO1xuXG4gICAgdmFyIFNwcml0ZSA9IFBJWEkuU3ByaXRlO1xuICAgIHZhciBUZXh0dXJlID0gUElYSS5UZXh0dXJlO1xuICAgIHZhciBHcmFwaGljcyA9IFBJWEkuR3JhcGhpY3M7XG5cbiAgICAvLyBTdXBwb3J0IGZvciBwaXhpLmpzLWxlZ2FjeSBiaWZ1cmNhdGlvblxuICAgIC8vIGdpdmUgdXNlcnMgYSBmcmllbmRseSBhc3Npc3QgdG8gdXNlIGxlZ2FjeVxuICAgIGlmICghR3JhcGhpY3MucHJvdG90eXBlLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIEdyYXBoaWNzLnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUgPSBmdW5jdGlvbiBnZW5lcmF0ZUNhbnZhc1RleHR1cmUoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuR3JhcGhpY3MuZ2VuZXJhdGVDYW52YXNUZXh0dXJlIG1ldGhvZCBpcyBvbmx5IGF2YWlsYWJsZSBpbiBcInBpeGkuanMtbGVnYWN5XCInKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N9IFBJWEkuR3JhcGhpY3MjZ3JhcGhpY3NEYXRhXG4gICAgICogQHNlZSBQSVhJLkdyYXBoaWNzI2dlb21ldHJ5XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuR3JhcGhpY3MucHJvdG90eXBlLCAnZ3JhcGhpY3NEYXRhJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5HcmFwaGljcy5ncmFwaGljc0RhdGEgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuR3JhcGhpY3MuZ2VvbWV0cnkuZ3JhcGhpY3NEYXRhJyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmdyYXBoaWNzRGF0YTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIFVzZSB0aGVzZSB0byBkZXByZWNhdGUgYWxsIHRoZSBTcHJpdGUgZnJvbSogbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHNwcml0ZUZyb20obmFtZSwgc291cmNlLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsIChcIlBJWEkuU3ByaXRlLlwiICsgbmFtZSArIFwiIG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5TcHJpdGUuZnJvbVwiKSk7XG5cbiAgICAgICAgcmV0dXJuIFNwcml0ZS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUltYWdlXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21JbWFnZSA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUltYWdlJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbVNWR1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tU1ZHID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUNhbnZhc1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tQ2FudmFzID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tQ2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbVZpZGVvXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21WaWRlbyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbVZpZGVvJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUZyYW1lXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21GcmFtZSA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG5cbiAgICAvLyBVc2UgdGhlc2UgdG8gZGVwcmVjYXRlIGFsbCB0aGUgVGV4dHVyZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gdGV4dHVyZUZyb20obmFtZSwgc291cmNlLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsIChcIlBJWEkuVGV4dHVyZS5cIiArIG5hbWUgKyBcIiBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuVGV4dHVyZS5mcm9tXCIpKTtcblxuICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21JbWFnZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tSW1hZ2UgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tSW1hZ2UnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVNWR1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tU1ZHID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbVNWRycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tQ2FudmFzXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21DYW52YXMgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tQ2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21WaWRlb1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tVmlkZW8gPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tVmlkZW8nKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUZyYW1lXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21GcmFtZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21GcmFtZScpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufSBQSVhJLkFic3RyYWN0UmVuZGVyZXIjYXV0b1Jlc2l6ZVxuICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdFJlbmRlcmVyI2F1dG9EZW5zaXR5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsICdhdXRvUmVzaXplJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgJ1xuICAgICAgICAgICAgICAgICsgJ3VzZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIuYXV0b0RlbnNpdHknKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b0RlbnNpdHk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQWJzdHJhY3RSZW5kZXJlci5hdXRvUmVzaXplIHByb3BlcnR5IGlzIGRlcHJlY2F0ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9EZW5zaXR5Jyk7XG5cbiAgICAgICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLlRleHR1cmVTeXN0ZW19IFBJWEkuUmVuZGVyZXIjdGV4dHVyZU1hbmFnZXJcbiAgICAgKiBAc2VlIFBJWEkuUmVuZGVyZXIjdGV4dHVyZVxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLlJlbmRlcmVyLnByb3RvdHlwZSwgJ3RleHR1cmVNYW5hZ2VyJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5SZW5kZXJlci50ZXh0dXJlTWFuYWdlciBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5SZW5kZXJlci50ZXh0dXJlJyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHR1cmU7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnV0aWxzLm1peGlucyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gbWl4aW5cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIG1peGluOiBmdW5jdGlvbiBtaXhpbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMubWl4aW4gZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBkZWxheU1peGluXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBkZWxheU1peGluOiBmdW5jdGlvbiBkZWxheU1peGluKClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLm1peGlucy5kZWxheU1peGluIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gcGVyZm9ybU1peGluc1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgcGVyZm9ybU1peGluczogZnVuY3Rpb24gcGVyZm9ybU1peGlucygpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMucGVyZm9ybU1peGlucyBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cblxuLy8gSW5zdGFsbCByZW5kZXJlciBwbHVnaW5zXG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignYWNjZXNzaWJpbGl0eScsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgRXh0cmFjdCk7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW50ZXJhY3Rpb24nLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3BhcnRpY2xlJywgUGFydGljbGVSZW5kZXJlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIFByZXBhcmUpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2JhdGNoJywgQmF0Y2hSZW5kZXJlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigndGlsaW5nU3ByaXRlJywgVGlsaW5nU3ByaXRlUmVuZGVyZXIpO1xuXG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oQml0bWFwRm9udExvYWRlcik7XG5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oU3ByaXRlc2hlZXRMb2FkZXIpO1xuXG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcblxuLyoqXG4gKiBTdHJpbmcgb2YgdGhlIGN1cnJlbnQgUElYSSB2ZXJzaW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFZFUlNJT05cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciBWRVJTSU9OID0gJzUuMS4xJztcblxuLyoqXG4gKiBAbmFtZXNwYWNlIFBJWElcbiAqL1xuXG4vKipcbiAqIFRoaXMgbmFtZXNwYWNlIGNvbnRhaW5zIFdlYkdMLW9ubHkgZGlzcGxheSBmaWx0ZXJzIHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAqIHRvIERpc3BsYXlPYmplY3RzIHVzaW5nIHRoZSB7QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2ZpbHRlcnMgZmlsdGVyc30gcHJvcGVydHkuXG4gKlxuICogU2luY2UgUGl4aUpTIG9ubHkgaGFkIGEgaGFuZGZ1bCBvZiBidWlsdC1pbiBmaWx0ZXJzLCBhZGRpdGlvbmFsIGZpbHRlcnNcbiAqIGNhbiBiZSBkb3dubG9hZGVkIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZmlsdGVycyBoZXJlfSBmcm9tIHRoZVxuICogUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBBbGwgZmlsdGVycyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5GaWx0ZXJ9LlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgYSBuZXcgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gRHJhdyBhIGdyZWVuIHJlY3RhbmdsZVxuICogY29uc3QgcmVjdCA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAqICAgICAuYmVnaW5GaWxsKDB4MDBmZjAwKVxuICogICAgIC5kcmF3UmVjdCg0MCwgNDAsIDIwMCwgMjAwKTtcbiAqXG4gKiAvLyBBZGQgYSBibHVyIGZpbHRlclxuICogcmVjdC5maWx0ZXJzID0gW25ldyBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlcigpXTtcbiAqXG4gKiAvLyBEaXNwbGF5IHJlY3RhbmdsZVxuICogYXBwLnN0YWdlLmFkZENoaWxkKHJlY3QpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhcHAudmlldyk7XG4gKiBAbmFtZXNwYWNlIFBJWEkuZmlsdGVyc1xuICovXG52YXIgZmlsdGVycyA9IHtcbiAgICBBbHBoYUZpbHRlcjogQWxwaGFGaWx0ZXIsXG4gICAgQmx1ckZpbHRlcjogQmx1ckZpbHRlcixcbiAgICBCbHVyRmlsdGVyUGFzczogQmx1ckZpbHRlclBhc3MsXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXI6IENvbG9yTWF0cml4RmlsdGVyLFxuICAgIERpc3BsYWNlbWVudEZpbHRlcjogRGlzcGxhY2VtZW50RmlsdGVyLFxuICAgIEZYQUFGaWx0ZXI6IEZYQUFGaWx0ZXIsXG4gICAgTm9pc2VGaWx0ZXI6IE5vaXNlRmlsdGVyLFxufTtcblxuZXhwb3J0IHsgVkVSU0lPTiwgZmlsdGVycywgdXNlRGVwcmVjYXRlZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGl4aS5lcy5qcy5tYXBcbiIsImV4cG9ydCBjbGFzcyBDb21wb25lbnQge31cbiIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4vQ29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9zaXRpb25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBwdWJsaWMgeDogbnVtYmVyID0gMDtcbiAgcHVibGljIHk6IG51bWJlciA9IDA7XG59XG4iLCJpbXBvcnQgeyBHZW5lcmF0aW9uYWxJbmRleCBhcyBFbnRpdHkgfSBmcm9tICcuLi9VdGlscy9pbmRleCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwcmluZ0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHB1YmxpYyBmcm9tOiBFbnRpdHk7XG4gIHB1YmxpYyB0bzogRW50aXR5O1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9Db21wb25lbnQnO1xuaW1wb3J0IHsgU2hhcGUgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYXBlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcHVibGljIHNoYXBlOiBTaGFwZSA9ICdyZWN0YW5nbGUnO1xufVxuIiwiaW1wb3J0IHtcbiAgUmVuZGVyZXIsXG4gIGF1dG9EZXRlY3RSZW5kZXJlcixcbiAgQ29udGFpbmVyLFxuICBUaWNrZXIsXG4gIEdyYXBoaWNzLFxuICBUZXh0LFxuICBSZWN0YW5nbGVcbn0gZnJvbSAncGl4aS5qcyc7XG5pbXBvcnQgeyBCb3VuZHMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgUG9zaXRpb25Db21wb25lbnQgZnJvbSAnLi4vQ29tcG9uZW50cy9Qb3NpdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgU3ByaW5nQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvU3ByaW5nQ29tcG9uZW50JztcbmltcG9ydCBFZGdlTWFuYWdlciBmcm9tICcuLi9NYW5hZ2Vycy9FZGdlTWFuYWdlcic7XG5pbXBvcnQgTm9kZU1hbmFnZXIgZnJvbSAnLi4vTWFuYWdlcnMvTm9kZU1hbmFnZXInO1xuaW1wb3J0IFNoYXBlQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvU2hhcGVDb21wb25lbnQnO1xuaW1wb3J0IHsgUXVhZFRyZWUgfSBmcm9tICcuLi9VdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlclN5c3RlbSB7XG4gIHB1YmxpYyBfY2FudmFzQ29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgcHVibGljIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICBwdWJsaWMgX3JlbmRlcmVyOiBSZW5kZXJlcjtcbiAgcHVibGljIF9ncmFwaGljc0NvbnRhaW5lcjogQ29udGFpbmVyO1xuICBwcml2YXRlIF9ub2Rlc0NvbnRhaW5lcjogQ29udGFpbmVyO1xuICBwcml2YXRlIF9lZGdlc0NvbnRhaW5lcjogQ29udGFpbmVyO1xuICBwcml2YXRlIF90aWNrZXI6IFRpY2tlcjtcbiAgcHVibGljIF9ncmFwaGljczogR3JhcGhpY3M7XG5cbiAgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xuICAgIC8vIENyZWF0ZSByZW5kZXJlciBhbmQga2VlcCByZWZlcmVuY2UgdG8gY2FudmFzXG4gICAgdGhpcy5fcmVuZGVyZXIgPSBhdXRvRGV0ZWN0UmVuZGVyZXIoe1xuICAgICAgaGVpZ2h0OiBjb250YWluZXIuY2xpZW50SGVpZ2h0LFxuICAgICAgd2lkdGg6IGNvbnRhaW5lci5jbGllbnRXaWR0aCxcbiAgICAgIGF1dG9EZW5zaXR5OiB0cnVlLFxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXG4gICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICByZXNvbHV0aW9uOiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY2FudmFzQ29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuX2NhbnZhcyA9IHRoaXMuX3JlbmRlcmVyLnZpZXc7XG4gICAgdGhpcy5fY2FudmFzQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuX3JlbmRlcmVyLnZpZXcpO1xuXG4gICAgLy8gQ3JlYXRlIHRpY2tlciBhbmQgZ3JhcGhpY3NcbiAgICB0aGlzLl90aWNrZXIgPSBuZXcgVGlja2VyKCk7XG4gICAgdGhpcy5fZ3JhcGhpY3MgPSBuZXcgR3JhcGhpY3MoKTtcbiAgICAvLyB0aGlzLl9ncmFwaGljcy5zY2FsZS5zZXQoMC41LCAwLjUpO1xuICAgIC8qXG4gICAgICAgIENyZWF0ZSBnbG9iYWwgY29udGFpbmVyXG4gICAgICAgIFBhbm5pbmcgd2lsbCBiZSBkb25lIG9uIHRoaXMgY29udGFpbmVyXG4gICAgKi9cbiAgICB0aGlzLl9ncmFwaGljc0NvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcbiAgICB0aGlzLl9ncmFwaGljc0NvbnRhaW5lci5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5fZ3JhcGhpY3NDb250YWluZXIuYnV0dG9uTW9kZSA9IHRydWU7XG5cbiAgICAvLyBDcmVhdGUgTm9kZSBjb250YWluZXJcbiAgICB0aGlzLl9ub2Rlc0NvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcbiAgICB0aGlzLl9ub2Rlc0NvbnRhaW5lci5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5fbm9kZXNDb250YWluZXIuYnV0dG9uTW9kZSA9IHRydWU7XG5cbiAgICAvLyBDcmVhdGUgRWRnZS9MaW5rIGNvbnRhaW5lclxuICAgIHRoaXMuX2VkZ2VzQ29udGFpbmVyID0gbmV3IENvbnRhaW5lcigpO1xuICAgIHRoaXMuX2VkZ2VzQ29udGFpbmVyLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICB0aGlzLl9lZGdlc0NvbnRhaW5lci5idXR0b25Nb2RlID0gdHJ1ZTtcblxuICAgIC8vIEFkZCBOb2RlIGFuZCBFZGdlIGNvbnRhaW5lcnMgdG8gZ2xvYmFsIGNvbnRhaW5lclxuICAgIHRoaXMuX2dyYXBoaWNzQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuX25vZGVzQ29udGFpbmVyKTtcbiAgICB0aGlzLl9ncmFwaGljc0NvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9lZGdlc0NvbnRhaW5lcik7XG4gICAgdGhpcy5fZ3JhcGhpY3NDb250YWluZXIuYWRkQ2hpbGQodGhpcy5fZ3JhcGhpY3MpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX29uUmVzaXplLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcHVibGljIGdldEJvdW5kcygpOiBCb3VuZHMge1xuICAgIGNvbnN0IHsgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tIH0gPSB0aGlzLl9ncmFwaGljc0NvbnRhaW5lci5nZXRCb3VuZHMoKTtcbiAgICByZXR1cm4geyBsZWZ0LCByaWdodCwgdG9wLCBib3R0b20gfTtcbiAgfVxuXG4gIHB1YmxpYyByZW5kZXIoXG4gICAgZWRnZU1hbmFnZXI6IEVkZ2VNYW5hZ2VyLFxuICAgIG5vZGVNYW5hZ2VyOiBOb2RlTWFuYWdlcixcbiAgICB0cmVlOiBRdWFkVHJlZSxcbiAgICBkZWJ1ZyA9IGZhbHNlXG4gICkge1xuICAgIGNvbnN0IGVkZ2VzID0gZWRnZU1hbmFnZXIuZWRnZXM7XG4gICAgY29uc3Qgbm9kZXMgPSBub2RlTWFuYWdlci5ub2RlcztcbiAgICBjb25zdCBzcHJpbmdzID0gZWRnZU1hbmFnZXIuZ2V0Q29tcG9uZW50c09mVHlwZShTcHJpbmdDb21wb25lbnQpO1xuXG4gICAgY29uc3Qgbm9kZVBvc2l0aW9ucyA9IG5vZGVNYW5hZ2VyLmdldENvbXBvbmVudHNPZlR5cGUoUG9zaXRpb25Db21wb25lbnQpO1xuICAgIGNvbnN0IHNoYXBlcyA9IG5vZGVNYW5hZ2VyLmdldENvbXBvbmVudHNPZlR5cGUoU2hhcGVDb21wb25lbnQpO1xuXG4gICAgY29uc3QgZUxlbiA9IGVkZ2VzLmxlbmd0aDtcbiAgICBjb25zdCBuTGVuID0gbm9kZXMubGVuZ3RoO1xuICAgIGxldCBpO1xuICAgIHRoaXMuX2dyYXBoaWNzLmNsZWFyKCk7XG5cbiAgICAvLyBkcmF3IG5vZGVzXG4gICAgdGhpcy5fZ3JhcGhpY3MuYmVnaW5GaWxsKDB4MDAzM2ZmLCAxKTtcbiAgICB0aGlzLl9ncmFwaGljcy5saW5lU3R5bGUoMCk7XG4gICAgZm9yIChpID0gMDsgaSA8IG5MZW47IGkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgY29uc3QgeyB4LCB5IH0gPSBub2RlUG9zaXRpb25zW25vZGUuaW5kZXhdO1xuICAgICAgdGhpcy5fZ3JhcGhpY3MuZHJhd1JlY3QoeCAtIDEwLCB5IC0gMTAsIDIwLCAyMCk7XG4gICAgfVxuXG4gICAgLy8gZHJhdyBlZGdlc1xuICAgIHRoaXMuX2dyYXBoaWNzLmJlZ2luRmlsbCgweGZmMDAwMCwgMSk7XG4gICAgdGhpcy5fZ3JhcGhpY3MubGluZVN0eWxlKDEsIDB4ZmYwMDAwLCAxKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZUxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBlZGdlID0gZWRnZXNbaV07XG4gICAgICBjb25zdCBzcHJpbmcgPSBzcHJpbmdzW2VkZ2UuaW5kZXhdO1xuICAgICAgdGhpcy5fZ3JhcGhpY3MubW92ZVRvKFxuICAgICAgICBub2RlUG9zaXRpb25zW3NwcmluZy5mcm9tLmluZGV4XS54LFxuICAgICAgICBub2RlUG9zaXRpb25zW3NwcmluZy5mcm9tLmluZGV4XS55XG4gICAgICApO1xuICAgICAgdGhpcy5fZ3JhcGhpY3MubGluZVRvKFxuICAgICAgICBub2RlUG9zaXRpb25zW3NwcmluZy50by5pbmRleF0ueCxcbiAgICAgICAgbm9kZVBvc2l0aW9uc1tzcHJpbmcudG8uaW5kZXhdLnlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gdGhpcy5fZ3JhcGhpY3MuYmVnaW5GaWxsKDB4MDAzM2ZmLCAwKTtcbiAgICAvLyB0aGlzLl9ncmFwaGljcy5saW5lU3R5bGUoMSwgMHgwMGZmMDApO1xuXG4gICAgLy8gZGVidWcgZHJhdyBiYXJuZXMgaHV0IHRyZWVcbiAgICBpZiAoZGVidWcpIHtcbiAgICAgIGxldCBpID0gLTE7XG4gICAgICBjb25zdCBjb2xvcnMgPSBbXG4gICAgICAgICcjNzliYWYyJyxcbiAgICAgICAgJyM3Yjk2ODYnLFxuICAgICAgICAnIzNjNGRmZicsXG4gICAgICAgICcjZGQ3MDNlJyxcbiAgICAgICAgJyNjZTY3ZWEnLFxuICAgICAgICAnI2RhMGMzZCcsXG4gICAgICAgICcjOGMyNDk2JyxcbiAgICAgICAgJyM5MDk4YWQnLFxuICAgICAgICAnI2YxNDYwYicsXG4gICAgICAgICcjRURGRkFCJyxcbiAgICAgICAgJyNGREI4MzMnLFxuICAgICAgICAnIzNCQzE0QSdcbiAgICAgIF07XG4gICAgICBjb25zdCByZW5kZXJUcmVlID0gKGJyYW5jaDogUXVhZFRyZWUpID0+IHtcbiAgICAgICAgaSsrO1xuICAgICAgICBpZiAoaSA+PSBjb2xvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgaSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJyYW5jaC5kaXZpZGVkKSB7XG4gICAgICAgICAgcmVuZGVyVHJlZShicmFuY2guVEwpO1xuICAgICAgICAgIHJlbmRlclRyZWUoYnJhbmNoLlRSKTtcbiAgICAgICAgICByZW5kZXJUcmVlKGJyYW5jaC5CTCk7XG4gICAgICAgICAgcmVuZGVyVHJlZShicmFuY2guQlIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2dyYXBoaWNzLmJlZ2luRmlsbCgweDAwMzNmZiwgMCk7XG4gICAgICAgIHRoaXMuX2dyYXBoaWNzLmxpbmVTdHlsZShcbiAgICAgICAgICAxLFxuICAgICAgICAgIHBhcnNlSW50KGNvbG9yc1tpXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJyMnLCAnMHgnKSwgMTYpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2dyYXBoaWNzLmRyYXdSZWN0KFxuICAgICAgICAgIGJyYW5jaC5ib3VuZHMucG9zaXRpb24ueCxcbiAgICAgICAgICBicmFuY2guYm91bmRzLnBvc2l0aW9uLnksXG4gICAgICAgICAgYnJhbmNoLmJvdW5kcy5zaXplLngsXG4gICAgICAgICAgYnJhbmNoLmJvdW5kcy5zaXplLnlcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fZ3JhcGhpY3MuYmVnaW5GaWxsKFxuICAgICAgICAgIHBhcnNlSW50KGNvbG9yc1tpXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJyMnLCAnMHgnKSwgMTYpLFxuICAgICAgICAgIDFcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fZ3JhcGhpY3MubGluZVN0eWxlKFxuICAgICAgICAgIDEsXG4gICAgICAgICAgcGFyc2VJbnQoY29sb3JzW2ldLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnIycsICcweCcpLCAxNilcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fZ3JhcGhpY3MuZHJhd0NpcmNsZShcbiAgICAgICAgICBicmFuY2guY2VudGVyT2ZNYXNzLngsXG4gICAgICAgICAgYnJhbmNoLmNlbnRlck9mTWFzcy55LFxuICAgICAgICAgIDVcbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIHJlbmRlclRyZWUodHJlZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyKHRoaXMuX2dyYXBoaWNzQ29udGFpbmVyKTtcbiAgfVxuXG4gIHByaXZhdGUgX29uUmVzaXplKCkge1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlc2l6ZShcbiAgICAgIHRoaXMuX2NhbnZhc0NvbnRhaW5lci5jbGllbnRXaWR0aCxcbiAgICAgIHRoaXMuX2NhbnZhc0NvbnRhaW5lci5jbGllbnRIZWlnaHRcbiAgICApO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgdXVpZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gKChuZXcgRGF0ZSgpLmdldFRpbWUoKSArICtNYXRoLnJhbmRvbSAqIDMwKSA+Pj4gMCkgKyBcIlwiO1xufTtcbiIsImltcG9ydCB7IFZlY3RvcjJEIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkVmVjcyh2ZWMxOiBWZWN0b3IyRCwgdmVjMjogVmVjdG9yMkQpOiBWZWN0b3IyRCB7XG4gIHJldHVybiB7XG4gICAgeDogdmVjMS54ICsgdmVjMi54LFxuICAgIHk6IHZlYzEueSArIHZlYzIueVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWlkcG9pbnRCZXR3ZWVuVmVjcyhcbiAgdmVjMTogVmVjdG9yMkQsXG4gIHZlYzI6IFZlY3RvcjJEXG4pOiBWZWN0b3IyRCB7XG4gIHJldHVybiBkaXZpZGVWZWNCeVNjYWxhcihhZGRWZWNzKHZlYzEsIHZlYzIpLCAyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YlZlY3ModmVjMTogVmVjdG9yMkQsIHZlYzI6IFZlY3RvcjJEKTogVmVjdG9yMkQge1xuICByZXR1cm4ge1xuICAgIHg6IHZlYzEueCAtIHZlYzIueCxcbiAgICB5OiB2ZWMxLnkgLSB2ZWMyLnlcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YlZlY0J5U2NhbGFyKHZlYzogVmVjdG9yMkQsIHNjYWxhcjogbnVtYmVyKTogVmVjdG9yMkQge1xuICByZXR1cm4ge1xuICAgIHg6IHZlYy54IC0gc2NhbGFyLFxuICAgIHk6IHZlYy55IC0gc2NhbGFyXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXZpZGVWZWNCeVZlYyh2ZWMxOiBWZWN0b3IyRCwgdmVjMjogVmVjdG9yMkQpOiBWZWN0b3IyRCB7XG4gIHJldHVybiB7XG4gICAgeDogdmVjMS54IC8gdmVjMi54LFxuICAgIHk6IHZlYzEueSAvIHZlYzIueVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlwbHlWZWNCeVNjYWxhcih2ZWM6IFZlY3RvcjJELCBzY2FsYXI6IG51bWJlcik6IFZlY3RvcjJEIHtcbiAgcmV0dXJuIHtcbiAgICB4OiB2ZWMueCAqIHNjYWxhcixcbiAgICB5OiB2ZWMueSAqIHNjYWxhclxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJ0VmVjKHZlYzogVmVjdG9yMkQpOiBWZWN0b3IyRCB7XG4gIHJldHVybiBtdWx0aXBseVZlY0J5U2NhbGFyKHZlYywgLTEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGl2aWRlVmVjQnlTY2FsYXIodmVjOiBWZWN0b3IyRCwgc2NhbGFyOiBudW1iZXIpOiBWZWN0b3IyRCB7XG4gIGlmIChzY2FsYXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogdmVjLnggLyBzY2FsYXIsXG4gICAgICB5OiB2ZWMueSAvIHNjYWxhclxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHZlYy54LFxuICAgICAgeTogdmVjLnlcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWZWNMZW5ndGgodmVjOiBWZWN0b3IyRCk6IG51bWJlciB7XG4gIHJldHVybiBNYXRoLnNxcnQodmVjLnggKiB2ZWMueCArIHZlYy55ICogdmVjLnkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplVmVjKHZlYzogVmVjdG9yMkQpOiBWZWN0b3IyRCB7XG4gIHJldHVybiBkaXZpZGVWZWNCeVNjYWxhcih2ZWMsIGdldFZlY0xlbmd0aCh2ZWMpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERpc3RhbmNlQmV0d2VlblZlY3ModmVjMTogVmVjdG9yMkQsIHZlYzI6IFZlY3RvcjJEKSB7XG4gIGNvbnN0IGR4ID0gdmVjMi54IC0gdmVjMS54O1xuICBjb25zdCBkeSA9IHZlYzIueSAtIHZlYzEueTtcblxuICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRvdFZlY3ModmVjMTogVmVjdG9yMkQsIHZlYzI6IFZlY3RvcjJEKTogbnVtYmVyIHtcbiAgcmV0dXJuIHZlYzEueCAqIHZlYzIueCArIHZlYzEueSAqIHZlYzIueTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyb3NzVmVjcyh2ZWMxOiBWZWN0b3IyRCwgdmVjMjogVmVjdG9yMkQpOiBudW1iZXIge1xuICByZXR1cm4gdmVjMS54ICogdmVjMi55IC0gdmVjMS55ICogdmVjMi54O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QW5nbGVCZXR3ZWVuVmVjcyh2ZWMxOiBWZWN0b3IyRCwgdmVjMjogVmVjdG9yMkQpIHtcbiAgY29uc3QgdmVjMUxlbiA9IGdldFZlY0xlbmd0aCh2ZWMxKTtcbiAgY29uc3QgdmVjMkxlbiA9IGdldFZlY0xlbmd0aCh2ZWMyKTtcblxuICBjb25zdCBkb3QgPSBkb3RWZWNzKHZlYzEsIHZlYzIpO1xuICBjb25zdCB0aGV0YSA9IGRvdCAvICh2ZWMxTGVuICogdmVjMkxlbik7XG4gIHJldHVybiByYWRzVG9EZWdyZWVzKE1hdGguYWNvcyh0aGV0YSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFkc1RvRGVncmVlcyhyYWRzOiBudW1iZXIpIHtcbiAgcmV0dXJuIChyYWRzICogMTgwKSAvIE1hdGguUEk7XG59XG4iLCJsZXQgcHJlZml4ID0gJycsXG4gIF9hZGRFdmVudExpc3RlbmVyOiBzdHJpbmcsXG4gIG9uV2hlZWwsXG4gIHN1cHBvcnQ6IHN0cmluZztcblxuaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XG4gIF9hZGRFdmVudExpc3RlbmVyID0gJ2FkZEV2ZW50TGlzdGVuZXInO1xufSBlbHNlIHtcbiAgX2FkZEV2ZW50TGlzdGVuZXIgPSAnYXR0YWNoRXZlbnQnO1xuICBwcmVmaXggPSAnb24nO1xufVxuXG5zdXBwb3J0ID1cbiAgJ29ud2hlZWwnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgPyAnd2hlZWwnXG4gICAgOiAoZG9jdW1lbnQgYXMgYW55KS5vbm1vdXNld2hlZWwgIT09IHVuZGVmaW5lZFxuICAgID8gJ21vdXNld2hlZWwnXG4gICAgOiAnRE9NTW91c2VTY3JvbGwnO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkV2hlZWxMaXN0ZW5lcihcbiAgZWxlbTogSFRNTEVsZW1lbnQsXG4gIGNhbGxiYWNrOiBhbnksXG4gIHVzZUNhcHR1cmU6IGJvb2xlYW5cbikge1xuICBfYWRkV2hlZWxMaXN0ZW5lcihlbGVtLCBzdXBwb3J0LCBjYWxsYmFjaywgdXNlQ2FwdHVyZSk7XG5cbiAgaWYgKHN1cHBvcnQgPT0gJ0RPTU1vdXNlU2Nyb2xsJykge1xuICAgIF9hZGRXaGVlbExpc3RlbmVyKGVsZW0sICdNb3pNb3VzZVBpeGVsU2Nyb2xsJywgY2FsbGJhY2ssIHVzZUNhcHR1cmUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9hZGRXaGVlbExpc3RlbmVyKFxuICBlbGVtOiBIVE1MRWxlbWVudCxcbiAgZXZlbnROYW1lOiBzdHJpbmcsXG4gIGNhbGxiYWNrOiBhbnksXG4gIHVzZUNhcHR1cmU6IGJvb2xlYW5cbikge1xuICAoZWxlbSBhcyBhbnkpW19hZGRFdmVudExpc3RlbmVyXShcbiAgICBwcmVmaXggKyBldmVudE5hbWUsXG4gICAgc3VwcG9ydCA9PSAnd2hlZWwnXG4gICAgICA/IGNhbGxiYWNrXG4gICAgICA6IGZ1bmN0aW9uKG9yaWdpbmFsRXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgICAgIW9yaWdpbmFsRXZlbnQgJiYgKG9yaWdpbmFsRXZlbnQgPSB3aW5kb3cuZXZlbnQpO1xuXG4gICAgICAgICAgbGV0IGV2ZW50ID0ge1xuICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogb3JpZ2luYWxFdmVudCxcbiAgICAgICAgICAgIHRhcmdldDogb3JpZ2luYWxFdmVudC50YXJnZXQgfHwgb3JpZ2luYWxFdmVudC5zcmNFbGVtZW50LFxuICAgICAgICAgICAgdHlwZTogJ3doZWVsJyxcbiAgICAgICAgICAgIGRlbHRhTW9kZTogb3JpZ2luYWxFdmVudC50eXBlID09PSAnTW96TW91c2VQaXhlbFNjcm9sbCcgPyAwIDogMSxcbiAgICAgICAgICAgIGRlbHRhWDogMCxcbiAgICAgICAgICAgIGRlbHRhWTogMCxcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdFxuICAgICAgICAgICAgICAgID8gb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgOiAob3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKHN1cHBvcnQgPT09ICdtb3VzZXdoZWVsJykge1xuICAgICAgICAgICAgZXZlbnQuZGVsdGFZID0gKC0xIC8gNDApICogKG9yaWdpbmFsRXZlbnQgYXMgYW55KS53aGVlbERlbHRhO1xuICAgICAgICAgICAgKG9yaWdpbmFsRXZlbnQgYXMgYW55KS53aGVlbERlbHRhWCAmJlxuICAgICAgICAgICAgICAoZXZlbnQuZGVsdGFYID0gKC0xIC8gNDApICogKG9yaWdpbmFsRXZlbnQgYXMgYW55KS53aGVlbERlbHRhWCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV2ZW50LmRlbHRhWSA9IChvcmlnaW5hbEV2ZW50IGFzIGFueSkuZGV0YWlsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhldmVudCk7XG4gICAgICAgIH0sXG4gICAgdXNlQ2FwdHVyZSB8fCBmYWxzZVxuICApO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJhdGlvbmFsSW5kZXgge1xuICBwcml2YXRlIF9pbmRleDogbnVtYmVyO1xuICBwcml2YXRlIF9nZW5lcmF0aW9uOiBudW1iZXI7XG5cbiAgZ2V0IGluZGV4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2luZGV4O1xuICB9XG5cbiAgZ2V0IGdlbmVyYXRpb24oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fZ2VuZXJhdGlvbjtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGluZGV4OiBudW1iZXIsIGdlbmVyYXRpb246IG51bWJlcikge1xuICAgIHRoaXMuX2luZGV4ID0gaW5kZXg7XG4gICAgdGhpcy5fZ2VuZXJhdGlvbiA9IGdlbmVyYXRpb247XG4gIH1cbn1cbiIsImltcG9ydCB7IEdlbmVyYXRpb25hbEluZGV4IH0gZnJvbSBcIi4vaW5kZXhcIjtcblxuaW50ZXJmYWNlIEFsbG9jRW50cnkge1xuICBnZW5lcmF0aW9uOiBudW1iZXI7XG4gIGlzX2FsaXZlOiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW5lcmF0aW9uYWxJbmRleEFsbG9jYXRvciB7XG4gIHByaXZhdGUgX2VudHJpZXM6IEFycmF5PEFsbG9jRW50cnk+O1xuICBwcml2YXRlIF9mcmVlOiBBcnJheTxudW1iZXI+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2VudHJpZXMgPSBbXTtcbiAgICB0aGlzLl9mcmVlID0gW107XG4gIH1cblxuICBwdWJsaWMgYWxsb2NhdGUoKTogR2VuZXJhdGlvbmFsSW5kZXgge1xuICAgIGlmICh0aGlzLl9mcmVlLmxlbmd0aCkge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9mcmVlLnBvcCgpITtcbiAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5fZW50cmllc1tpbmRleF07XG5cbiAgICAgIGVudHJ5LmdlbmVyYXRpb24gKz0gMTtcbiAgICAgIGVudHJ5LmlzX2FsaXZlID0gdHJ1ZTtcblxuICAgICAgcmV0dXJuIG5ldyBHZW5lcmF0aW9uYWxJbmRleChpbmRleCwgZW50cnkuZ2VuZXJhdGlvbik7XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9lbnRyaWVzLmxlbmd0aDtcbiAgICBjb25zdCBlbnRyeSA9IDxBbGxvY0VudHJ5PnsgZ2VuZXJhdGlvbjogMCwgaXNfYWxpdmU6IHRydWUgfTtcblxuICAgIHRoaXMuX2VudHJpZXMucHVzaChlbnRyeSk7XG5cbiAgICByZXR1cm4gbmV3IEdlbmVyYXRpb25hbEluZGV4KGluZGV4LCAwKTtcbiAgfVxuXG4gIHB1YmxpYyBkZWFsbG9jYXRlKHsgaW5kZXgsIGdlbmVyYXRpb24gfTogR2VuZXJhdGlvbmFsSW5kZXgpOiBib29sZWFuIHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMuX2VudHJpZXNbaW5kZXhdO1xuXG4gICAgaWYgKCFlbnRyeS5pc19hbGl2ZSB8fCBlbnRyeS5nZW5lcmF0aW9uICE9PSBnZW5lcmF0aW9uKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZW50cnkuaXNfYWxpdmUgPSBmYWxzZTtcbiAgICB0aGlzLl9mcmVlLnB1c2goaW5kZXgpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwdWJsaWMgaXNfYWxpdmUoeyBpbmRleCwgZ2VuZXJhdGlvbiB9OiBHZW5lcmF0aW9uYWxJbmRleCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVudHJ5ID0gdGhpcy5fZW50cmllc1tpbmRleF07XG4gICAgcmV0dXJuIGdlbmVyYXRpb24gPT09IGVudHJ5LmdlbmVyYXRpb24gJiYgZW50cnkuaXNfYWxpdmU7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdlbmVyYXRpb25hbEluZGV4IH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7IE9wdGlvbiB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5pbnRlcmZhY2UgQXJyYXlFbGVtZW50PFQ+IHtcbiAgdmFsdWU6IFQ7XG4gIGdlbmVyYXRpb246IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VuZXJhdGlvbmFsSW5kZXhBcnJheTxUPiBpbXBsZW1lbnRzIEl0ZXJhYmxlSXRlcmF0b3I8VD4ge1xuICBwcml2YXRlIF9pbmRpY2VzOiBBcnJheTxHZW5lcmF0aW9uYWxJbmRleD47XG4gIHByaXZhdGUgX2VsZW1lbnRzOiBBcnJheTxPcHRpb248QXJyYXlFbGVtZW50PFQ+Pj47XG4gIHByaXZhdGUgX2l0ZXI6IG51bWJlcjtcblxuICBnZXQgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzLmxlbmd0aDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2luZGljZXMgPSBbXTtcbiAgICB0aGlzLl9lbGVtZW50cyA9IFtdO1xuICAgIHRoaXMuX2l0ZXIgPSAwO1xuICB9XG5cbiAgcHVibGljIGluZGljZXMoKTogQXJyYXk8R2VuZXJhdGlvbmFsSW5kZXg+IHtcbiAgICByZXR1cm4gdGhpcy5faW5kaWNlcztcbiAgfVxuXG4gIHB1YmxpYyBoYXMoZ2k6IEdlbmVyYXRpb25hbEluZGV4KTogYm9vbGVhbiB7XG4gICAgY29uc3QgeyBpbmRleCwgZ2VuZXJhdGlvbiB9ID0gZ2k7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX2luZGljZXNbaW5kZXhdICYmIGdlbmVyYXRpb24gPT09IHRoaXMuX2luZGljZXNbaW5kZXhdLmdlbmVyYXRpb25cbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdldCh7IGluZGV4LCBnZW5lcmF0aW9uIH06IEdlbmVyYXRpb25hbEluZGV4KTogVCB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLl9lbGVtZW50c1tpbmRleF07XG5cbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkluZGV4IHRvIG51bGwgZWxlbWVudCBvciBvdXQgb2YgYm91bmRzXCIpO1xuICAgIH1cblxuICAgIGlmIChnZW5lcmF0aW9uICE9PSBlbnRyeS5nZW5lcmF0aW9uKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkdlbmVyYXRpb24gbWlzbWF0Y2hcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICB9XG5cbiAgcHVibGljIHNldChnaTogR2VuZXJhdGlvbmFsSW5kZXgsIHZhbHVlOiBUKTogdm9pZCB7XG4gICAgY29uc3QgeyBpbmRleCwgZ2VuZXJhdGlvbiB9ID0gZ2k7XG5cbiAgICB0aGlzLl9pbmRpY2VzW2luZGV4XSA9IGdpO1xuICAgIHRoaXMuX2VsZW1lbnRzW2luZGV4XSA9IHsgZ2VuZXJhdGlvbiwgdmFsdWUgfTtcbiAgfVxuXG4gIHB1YmxpYyBkZWxldGUoZ2k6IEdlbmVyYXRpb25hbEluZGV4KTogdm9pZCB7XG4gICAgY29uc3QgeyBpbmRleCB9ID0gZ2k7XG5cbiAgICB0aGlzLl9pbmRpY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgdGhpcy5fZWxlbWVudHNbaW5kZXhdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuX2luZGljZXMgPSBbXTtcbiAgICB0aGlzLl9lbGVtZW50cyA9IFtdO1xuICAgIHRoaXMuX2l0ZXIgPSAwO1xuICB9XG5cbiAgcHVibGljIG5leHQoKTogSXRlcmF0b3JSZXN1bHQ8VD4ge1xuICAgIGxldCBlbnRyeTogT3B0aW9uPEFycmF5RWxlbWVudDxUPj47XG5cbiAgICB3aGlsZSAoIWVudHJ5ICYmIHRoaXMuX2l0ZXIgPCB0aGlzLl9lbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIGVudHJ5ID0gdGhpcy5fZWxlbWVudHNbdGhpcy5faXRlcisrXTtcbiAgICB9XG5cbiAgICBpZiAoIWVudHJ5KSB7XG4gICAgICB0aGlzLl9pdGVyID0gMDtcbiAgICAgIHJldHVybiAoe1xuICAgICAgICBkb25lOiB0cnVlLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSBhcyBhbnkpIGFzIEl0ZXJhdG9yUmVzdWx0PFQ+O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBkb25lOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBlbnRyeS52YWx1ZVxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgW1N5bWJvbC5pdGVyYXRvcl0oKTogSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cbiIsImltcG9ydCB7IFZlY3RvcjJEIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBQUJCIHtcbiAgcHVibGljIHBvc2l0aW9uOiBWZWN0b3IyRDtcbiAgcHVibGljIHNpemU6IFZlY3RvcjJEO1xuXG4gIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBWZWN0b3IyRCwgc2l6ZTogVmVjdG9yMkQpIHtcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgfVxuXG4gIGdldCBoYWxmV2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2l6ZS54IC8gMjtcbiAgfVxuXG4gIGdldCBoYWxmSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLnNpemUueSAvIDI7XG4gIH1cblxuICBnZXQgaG9yaXpvbnRhbE1pZHBvaW50KCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnggKyB0aGlzLmhhbGZXaWR0aDtcbiAgfVxuXG4gIGdldCB2ZXJ0aWNhbE1pZHBvaW50KCkge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLmhhbGZIZWlnaHQ7XG4gIH1cblxuICBwdWJsaWMgb3ZlcmxhcHNWZWModmVjOiBWZWN0b3IyRCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnBvc2l0aW9uLnggLSB0aGlzLnNpemUueCA8PSB2ZWMueCAmJlxuICAgICAgdmVjLnggPD0gdGhpcy5wb3NpdGlvbi54ICsgdGhpcy5zaXplLnggJiZcbiAgICAgIHRoaXMucG9zaXRpb24ueSAtIHRoaXMuc2l6ZS55IDw9IHZlYy55ICYmXG4gICAgICB2ZWMueSA8PSB0aGlzLnBvc2l0aW9uLnkgKyB0aGlzLnNpemUueVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgb3ZlcmxhcHNBQUJCKGFhYmI6IEFBQkIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIShcbiAgICAgIGFhYmIucG9zaXRpb24ueCAtIGFhYmIuc2l6ZS54ID4gdGhpcy5wb3NpdGlvbi54ICsgdGhpcy5zaXplLnggfHxcbiAgICAgIGFhYmIucG9zaXRpb24ueCArIGFhYmIuc2l6ZS54IDwgdGhpcy5wb3NpdGlvbi54IC0gdGhpcy5zaXplLnggfHxcbiAgICAgIGFhYmIucG9zaXRpb24ueSAtIGFhYmIuc2l6ZS55ID4gdGhpcy5wb3NpdGlvbi55ICsgdGhpcy5zaXplLnkgfHxcbiAgICAgIGFhYmIucG9zaXRpb24ueSArIGFhYmIuc2l6ZS55IDwgdGhpcy5wb3NpdGlvbi55IC0gdGhpcy5zaXplLnlcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBWZWN0b3IyRCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IEdlbmVyYXRpb25hbEluZGV4IGFzIEVudGl0eSwgQUFCQiB9IGZyb20gJy4nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWFkVHJlZSB7XG4gIHN0YXRpYyBNYXhFbGVtZW50cyA9IDQ7XG4gIHN0YXRpYyBNYXhEZXB0aCA9IDEwMDtcblxuICBwdWJsaWMgYm91bmRzOiBBQUJCO1xuICBwdWJsaWMgZGVwdGg6IG51bWJlcjtcbiAgcHVibGljIGRpdmlkZWQ6IGJvb2xlYW47XG4gIHB1YmxpYyBlbGVtZW50czogTWFwPEVudGl0eSwgVmVjdG9yMkQ+O1xuICBwdWJsaWMgbWFzczogbnVtYmVyO1xuICBwdWJsaWMgY2VudGVyT2ZNYXNzOiBWZWN0b3IyRDtcblxuICAvLyBUb3AgTGVmdCwgVG9wIFJpZ2h0LCBCb3R0b20gTGVmdCwgQm90dHRvbSBSaWdodFxuICBwdWJsaWMgVEw6IFF1YWRUcmVlO1xuICBwdWJsaWMgVFI6IFF1YWRUcmVlO1xuICBwdWJsaWMgQkw6IFF1YWRUcmVlO1xuICBwdWJsaWMgQlI6IFF1YWRUcmVlO1xuXG4gIGNvbnN0cnVjdG9yKGJvdW5kczogQUFCQiwgZGVwdGg6IG51bWJlciA9IDApIHtcbiAgICB0aGlzLmJvdW5kcyA9IGJvdW5kcztcbiAgICB0aGlzLmRlcHRoID0gZGVwdGg7XG4gICAgdGhpcy5kaXZpZGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbGVtZW50cyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLm1hc3MgPSAwO1xuICAgIHRoaXMuY2VudGVyT2ZNYXNzID0geyB4OiAwLCB5OiAwIH07XG4gIH1cblxuICBwdWJsaWMgaW5zZXJ0KG5vZGU6IEVudGl0eSwgcG9zaXRpb246IFZlY3RvcjJEKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmJvdW5kcy5vdmVybGFwc1ZlYyhwb3NpdGlvbikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5kZXB0aCA9PT0gUXVhZFRyZWUuTWF4RGVwdGggfHxcbiAgICAgICghdGhpcy5kaXZpZGVkICYmIHRoaXMuZWxlbWVudHMuc2l6ZSA9PT0gMClcbiAgICApIHtcbiAgICAgIHRoaXMuZWxlbWVudHMuc2V0KG5vZGUsIHBvc2l0aW9uKTtcbiAgICAgIHRoaXMudXBkYXRlTWFzcyhwb3NpdGlvbiwgMSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLmRpdmlkZWQpIHtcbiAgICAgICAgdGhpcy5kaXZpZGUoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5UTC5pbnNlcnQobm9kZSwgcG9zaXRpb24pIHx8XG4gICAgICAgIHRoaXMuVFIuaW5zZXJ0KG5vZGUsIHBvc2l0aW9uKSB8fFxuICAgICAgICB0aGlzLkJMLmluc2VydChub2RlLCBwb3NpdGlvbikgfHxcbiAgICAgICAgdGhpcy5CUi5pbnNlcnQobm9kZSwgcG9zaXRpb24pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVNYXNzKHBvczogVmVjdG9yMkQsIG1hc3M6IG51bWJlcikge1xuICAgIGxldCBjb20gPSB0aGlzLmNlbnRlck9mTWFzcztcbiAgICBsZXQgdG90YWxNYXNzID0gdGhpcy5tYXNzICsgbWFzcztcbiAgICBsZXQgdG90YWxNYXNzSW52ID0gMSAvIHRvdGFsTWFzcztcblxuICAgIGNvbS54ID0gY29tLnggKiB0aGlzLm1hc3MgKyBwb3MueCAqIG1hc3M7XG4gICAgY29tLnggKj0gdG90YWxNYXNzSW52O1xuXG4gICAgY29tLnkgPSBjb20ueSAqIHRoaXMubWFzcyArIHBvcy55ICogbWFzcztcbiAgICBjb20ueSAqPSB0b3RhbE1hc3NJbnY7XG5cbiAgICB0aGlzLm1hc3MgPSB0b3RhbE1hc3M7XG4gIH1cblxuICAvLyBkaXZpZGUgdHJlZSBpbnRvIDQgYnJhbmNoZXMgYW5kIHJlY3Vyc2l2ZWx5IGluc2VydCBjdXJyZW50IGVsZW1lbnRzIGludG8gYnJhbmNoZXNcbiAgcHVibGljIGRpdmlkZSgpIHtcbiAgICBjb25zdCBodyA9IHRoaXMuYm91bmRzLmhhbGZXaWR0aDtcbiAgICBjb25zdCBoaCA9IHRoaXMuYm91bmRzLmhhbGZIZWlnaHQ7XG4gICAgY29uc3QgbmV3RGVwdGggPSB0aGlzLmRlcHRoICsgMTtcbiAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMuYm91bmRzLnBvc2l0aW9uO1xuXG4gICAgdGhpcy5UTCA9IG5ldyBRdWFkVHJlZShuZXcgQUFCQih7IHgsIHkgfSwgeyB4OiBodywgeTogaGggfSksIG5ld0RlcHRoKTtcbiAgICB0aGlzLlRSID0gbmV3IFF1YWRUcmVlKFxuICAgICAgbmV3IEFBQkIoeyB4OiB4ICsgaHcsIHkgfSwgeyB4OiBodywgeTogaGggfSksXG4gICAgICBuZXdEZXB0aFxuICAgICk7XG4gICAgdGhpcy5CTCA9IG5ldyBRdWFkVHJlZShcbiAgICAgIG5ldyBBQUJCKHsgeCwgeTogeSArIGhoIH0sIHsgeDogaHcsIHk6IGhoIH0pLFxuICAgICAgbmV3RGVwdGhcbiAgICApO1xuICAgIHRoaXMuQlIgPSBuZXcgUXVhZFRyZWUoXG4gICAgICBuZXcgQUFCQih7IHg6IHggKyBodywgeTogeSArIGhoIH0sIHsgeDogaHcsIHk6IGhoIH0pLFxuICAgICAgbmV3RGVwdGhcbiAgICApO1xuXG4gICAgdGhpcy5lbGVtZW50cy5mb3JFYWNoKChwb3MsIG5vZGUpID0+IHtcbiAgICAgIHRoaXMuVEwuaW5zZXJ0KG5vZGUsIHBvcykgfHxcbiAgICAgICAgdGhpcy5UUi5pbnNlcnQobm9kZSwgcG9zKSB8fFxuICAgICAgICB0aGlzLkJMLmluc2VydChub2RlLCBwb3MpIHx8XG4gICAgICAgIHRoaXMuQlIuaW5zZXJ0KG5vZGUsIHBvcyk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmVsZW1lbnRzLmNsZWFyKCk7XG4gICAgdGhpcy5kaXZpZGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHB1YmxpYyBxdWVyeShcbiAgICBhcmVhOiBBQUJCLFxuICAgIG91dDogTWFwPEVudGl0eSwgVmVjdG9yMkQ+ID0gbmV3IE1hcCgpXG4gICk6IE1hcDxFbnRpdHksIFZlY3RvcjJEPiB7XG4gICAgaWYgKCF0aGlzLmJvdW5kcy5vdmVybGFwc0FBQkIoYXJlYSkpIHtcbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5kaXZpZGVkKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHMuZm9yRWFjaCgocG9zLCBub2RlKSA9PiB7XG4gICAgICAgICAgaWYgKGFyZWEub3ZlcmxhcHNWZWMocG9zKSkge1xuICAgICAgICAgICAgb3V0LnNldChub2RlLCBwb3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLlRMLnF1ZXJ5KGFyZWEsIG91dCk7XG4gICAgICAgIHRoaXMuVFIucXVlcnkoYXJlYSwgb3V0KTtcbiAgICAgICAgdGhpcy5CTC5xdWVyeShhcmVhLCBvdXQpO1xuICAgICAgICB0aGlzLkJSLnF1ZXJ5KGFyZWEsIG91dCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpemVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBoZWlnaHQ6IG51bWJlciA9IDIwO1xuICB3aWR0aDogbnVtYmVyID0gMjA7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhYmVsQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcHVibGljIHRleHQ6IHN0cmluZyA9ICcnO1xuICBwdWJsaWMgYWxpZ25tZW50OiAndG9wJyB8ICdtaWRkbGUnIHwgJ2JvdHRvbScgfCAnbGVmdCcgfCAncmlnaHQnID0gJ2JvdHRvbSc7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlbG9jaXR5Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcHVibGljIHg6IG51bWJlciA9IDA7XG4gIHB1YmxpYyB5OiBudW1iZXIgPSAwO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9Db21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2xvckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHB1YmxpYyB0ZXh0Q29sb3I6IHN0cmluZyA9ICcjMDAwMDAwJztcbiAgcHVibGljIGZpbGxDb2xvcjogc3RyaW5nID0gJyNmZWZlZmUnO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9Db21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZUNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHB1YmxpYyBpbWFnZTogc3RyaW5nID0gJyc7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBwdWJsaWMgZGF0YTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9Db21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NlbGVyYXRpb25Db21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBwdWJsaWMgeDogbnVtYmVyID0gMDtcbiAgcHVibGljIHk6IG51bWJlciA9IDA7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcmNlQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgcHVibGljIHggPSAwO1xuICBwdWJsaWMgeSA9IDA7XG59XG4iLCJpbXBvcnQge1xuICBHZW5lcmF0aW9uYWxJbmRleEFsbG9jYXRvciBhcyBFbnRpdHlBbGxvY2F0b3IsXG4gIEdlbmVyYXRpb25hbEluZGV4IGFzIEVudGl0eSxcbiAgR2VuZXJhdGlvbmFsSW5kZXhBcnJheSBhcyBFbnRpdHlNYXAsXG4gIHV1aWRcbn0gZnJvbSAnLi4vVXRpbHMvaW5kZXgnO1xuaW1wb3J0IFNoYXBlQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvU2hhcGVDb21wb25lbnQnO1xuaW1wb3J0IFBvc2l0aW9uQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvUG9zaXRpb25Db21wb25lbnQnO1xuaW1wb3J0IFNpemVDb21wb25lbnQgZnJvbSAnLi4vQ29tcG9uZW50cy9TaXplQ29tcG9uZW50JztcbmltcG9ydCBMYWJlbENvbXBvbmVudCBmcm9tICcuLi9Db21wb25lbnRzL0xhYmVsQ29tcG9uZW50JztcbmltcG9ydCBWZWxvY2l0eUNvbXBvbmVudCBmcm9tICcuLi9Db21wb25lbnRzL1ZlbG9jaXR5Q29tcG9uZW50JztcbmltcG9ydCBDb2xvckNvbXBvbmVudCBmcm9tICcuLi9Db21wb25lbnRzL0NvbG9yQ29tcG9uZW50JztcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi9Db21wb25lbnRzL0ltYWdlQ29tcG9uZW50JztcbmltcG9ydCBEYXRhQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvRGF0YUNvbXBvbmVudCc7XG5pbXBvcnQgQWNjZWxlcmF0aW9uQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvQWNjZWxlcmF0aW9uQ29tcG9uZW50JztcbmltcG9ydCB7IE5ld2FibGUsIE5vZGVPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vQ29tcG9uZW50cy9Db21wb25lbnQnO1xuaW1wb3J0IFVzZXJDb250cm9sbGVkQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvVXNlckNvbnRyb2xsZWRDb21wb25lbnQnO1xuaW1wb3J0IEZvcmNlQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvRm9yY2VDb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb2RlTWFuYWdlciB7XG4gIHByaXZhdGUgX2FsbG9jYXRvcjogRW50aXR5QWxsb2NhdG9yO1xuICBwcml2YXRlIF9ub2RlczogRW50aXR5W107XG4gIHByaXZhdGUgX2lkVG9FbnRpdHlNYXA6IE1hcDxzdHJpbmcgfCBudW1iZXIsIEVudGl0eT47XG4gIHByaXZhdGUgX2VudGl0eVRvSWRNYXA6IE1hcDxFbnRpdHksIHN0cmluZyB8IG51bWJlcj47XG4gIHByaXZhdGUgX2NvbXBvbmVudFN0b3JlczogTWFwPHN0cmluZywgRW50aXR5TWFwPENvbXBvbmVudD4+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2FsbG9jYXRvciA9IG5ldyBFbnRpdHlBbGxvY2F0b3IoKTtcbiAgICB0aGlzLl9pZFRvRW50aXR5TWFwID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuX2VudGl0eVRvSWRNYXAgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fbm9kZXMgPSBbXTtcbiAgICB0aGlzLl9jb21wb25lbnRTdG9yZXMgPSBuZXcgTWFwPHN0cmluZywgRW50aXR5TWFwPENvbXBvbmVudD4+KCk7XG4gIH1cblxuICBwdWJsaWMgY3JlYXRlTm9kZShvcHRpb25zOiBOb2RlT3B0aW9ucykge1xuICAgIGxldCB7IGlkLCBzaGFwZSwgY29sb3IsIHNpemUsIGxhYmVsLCBkYXRhIH0gPSBvcHRpb25zO1xuICAgIGlmIChpZCA9PT0gbnVsbCB8fCBpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZCA9IHV1aWQoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2lkVG9FbnRpdHlNYXAuaGFzKGlkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2RlIGFscmVhZHkgZXhpc3RzJyk7XG4gICAgfVxuICAgIGNvbnN0IF9ub2RlID0gdGhpcy5fYWxsb2NhdG9yLmFsbG9jYXRlKCk7XG4gICAgdGhpcy5faWRUb0VudGl0eU1hcC5zZXQoaWQsIF9ub2RlKTtcbiAgICB0aGlzLl9lbnRpdHlUb0lkTWFwLnNldChfbm9kZSwgaWQpO1xuICAgIHRoaXMuX25vZGVzLnB1c2goX25vZGUpO1xuXG4gICAgLy9DcmVhdGUgY29tcG9uZW50c1xuICAgIC8vIE1hbmRhdG9yeSBjb21wb25lbnRzXG4gICAgY29uc3QgcG9zID0gdGhpcy5hZGRDb21wb25lbnQoX25vZGUsIG5ldyBQb3NpdGlvbkNvbXBvbmVudCgpKTtcbiAgICB0aGlzLmFkZENvbXBvbmVudChfbm9kZSwgbmV3IFZlbG9jaXR5Q29tcG9uZW50KCkpO1xuICAgIHRoaXMuYWRkQ29tcG9uZW50KF9ub2RlLCBuZXcgQWNjZWxlcmF0aW9uQ29tcG9uZW50KCkpO1xuICAgIHRoaXMuYWRkQ29tcG9uZW50KF9ub2RlLCBuZXcgRm9yY2VDb21wb25lbnQoKSk7XG5cbiAgICBwb3MueCA9IDIwICsgTWF0aC5yYW5kb20oKSAqIDExMzA7XG4gICAgcG9zLnkgPSAyMCArIE1hdGgucmFuZG9tKCkgKiA5NDQ7XG5cbiAgICAvL0NvbXBvbmVudHMgdGhhdCBjYW4gaGF2ZSB2YWx1ZXMgaW4gJ29wdGlvbnMnXG4gICAgY29uc3QgY29sb3JDb21wb25lbnQgPSB0aGlzLmFkZENvbXBvbmVudChfbm9kZSwgbmV3IENvbG9yQ29tcG9uZW50KCkpO1xuICAgIGNvbnN0IHNoYXBlQ29tcG9uZW50ID0gdGhpcy5hZGRDb21wb25lbnQoX25vZGUsIG5ldyBTaGFwZUNvbXBvbmVudCgpKTtcbiAgICBjb25zdCBzaXplQ29tcG9uZW50ID0gdGhpcy5hZGRDb21wb25lbnQoX25vZGUsIG5ldyBTaXplQ29tcG9uZW50KCkpO1xuXG4gICAgaWYgKHNoYXBlID09PSAnaW1hZ2UnIHx8IHNoYXBlID09PSAnaW1hZ2VDaXJjdWxhcicpIHtcbiAgICAgIGNvbnN0IGltYWdlQ29tcG9uZW50ID0gdGhpcy5hZGRDb21wb25lbnQoX25vZGUsIG5ldyBJbWFnZUNvbXBvbmVudCgpKTtcbiAgICAgIGltYWdlQ29tcG9uZW50LmltYWdlID0gb3B0aW9ucy5pbWFnZTtcbiAgICB9XG4gICAgaWYgKHNoYXBlKSB7XG4gICAgICBzaGFwZUNvbXBvbmVudC5zaGFwZSA9IHNoYXBlO1xuICAgIH1cblxuICAgIGlmIChzaXplKSB7XG4gICAgICBzaXplQ29tcG9uZW50LmhlaWdodCA9IHNpemUuaGVpZ2h0IHx8IHNpemVDb21wb25lbnQuaGVpZ2h0O1xuICAgICAgc2l6ZUNvbXBvbmVudC53aWR0aCA9IHNpemUud2lkdGggfHwgc2l6ZUNvbXBvbmVudC53aWR0aDtcbiAgICB9XG5cbiAgICBpZiAoY29sb3IpIHtcbiAgICAgIGNvbG9yQ29tcG9uZW50LmZpbGxDb2xvciA9IGNvbG9yLmZpbGxDb2xvciB8fCBjb2xvckNvbXBvbmVudC5maWxsQ29sb3I7XG4gICAgICBjb2xvckNvbXBvbmVudC50ZXh0Q29sb3IgPSBjb2xvci50ZXh0Q29sb3IgfHwgY29sb3JDb21wb25lbnQudGV4dENvbG9yO1xuICAgIH1cblxuICAgIC8vIE9wdGlvbmFsIENvbXBvbmVudHNcbiAgICBpZiAoZGF0YSkge1xuICAgICAgY29uc3QgZGF0YUNvbXBvbmVudCA9IHRoaXMuYWRkQ29tcG9uZW50KF9ub2RlLCBuZXcgRGF0YUNvbXBvbmVudCgpKTtcbiAgICAgIGRhdGFDb21wb25lbnQuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIGlmIChsYWJlbCkge1xuICAgICAgY29uc3QgbGFiZWxDb21wb25lbnQgPSB0aGlzLmFkZENvbXBvbmVudChfbm9kZSwgbmV3IExhYmVsQ29tcG9uZW50KCkpO1xuICAgICAgbGFiZWxDb21wb25lbnQudGV4dCA9IGxhYmVsLnRleHQ7XG4gICAgICBsYWJlbENvbXBvbmVudC5hbGlnbm1lbnQgPSBsYWJlbC5hbGlnbm1lbnQ7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGJ1bGtDcmVhdGVOb2Rlcyhub2RlczogTm9kZU9wdGlvbnNbXSkge1xuICAgIG5vZGVzLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICB0aGlzLmNyZWF0ZU5vZGUobm9kZSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYWRkQ29tcG9uZW50PFQgZXh0ZW5kcyBDb21wb25lbnQ+KG5vZGU6IEVudGl0eSwgY29tcG9uZW50OiBUKTogVCB7XG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5uYW1lO1xuXG4gICAgbGV0IHN0b3JlID0gdGhpcy5fY29tcG9uZW50U3RvcmVzLmdldChjb21wb25lbnROYW1lKTtcblxuICAgIGlmIChzdG9yZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdG9yZSA9IG5ldyBFbnRpdHlNYXA8VD4oKTtcbiAgICAgIHRoaXMuX2NvbXBvbmVudFN0b3Jlcy5zZXQoY29tcG9uZW50TmFtZSwgc3RvcmUpO1xuICAgIH1cblxuICAgIHN0b3JlLnNldChub2RlLCBjb21wb25lbnQpO1xuXG4gICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVDb21wb25lbnQ8VCBleHRlbmRzIENvbXBvbmVudD4oXG4gICAgbm9kZTogRW50aXR5LFxuICAgIGNvbXBvbmVudDogTmV3YWJsZTxUPlxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCBzdG9yZSA9IHRoaXMuX2NvbXBvbmVudFN0b3Jlcy5nZXQoY29tcG9uZW50Lm5hbWUpO1xuICAgIGlmIChzdG9yZSAmJiBzdG9yZS5oYXMobm9kZSkpIHtcbiAgICAgIHN0b3JlLmRlbGV0ZShub2RlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb21wb25lbnQ8VCBleHRlbmRzIENvbXBvbmVudD4oXG4gICAgbm9kZTogRW50aXR5LFxuICAgIGNvbXBvbmVudDogTmV3YWJsZTxUPlxuICApOiBUIHwgbnVsbCB7XG4gICAgY29uc3Qgc3RvcmUgPSB0aGlzLl9jb21wb25lbnRTdG9yZXMuZ2V0KGNvbXBvbmVudC5uYW1lKTtcblxuICAgIGlmICghc3RvcmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZW50aXRpZXMgd2l0aCBhdHRhY2hlZCBjb21wb25lbnQ6ICR7Y29tcG9uZW50Lm5hbWV9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5zdGFuY2UgPSBzdG9yZS5nZXQobm9kZSkgYXMgVDtcblxuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYE5vZGUgJHtKU09OLnN0cmluZ2lmeShub2RlKX0gZG9lcyBub3QgaGF2ZSBjb21wb25lbnQ6ICR7XG4gICAgICAgICAgY29tcG9uZW50Lm5hbWVcbiAgICAgICAgfWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG5cbiAgcHVibGljIGdldENvbXBvbmVudHNPZlR5cGU8VCBleHRlbmRzIENvbXBvbmVudD4oXG4gICAgY29tcG9uZW50OiBOZXdhYmxlPFQ+XG4gICk6IEFycmF5PFQ+IHtcbiAgICBjb25zdCBzdG9yZSA9IHRoaXMuX2NvbXBvbmVudFN0b3Jlcy5nZXQoY29tcG9uZW50Lm5hbWUpIGFzIEVudGl0eU1hcDxUPjtcblxuICAgIGlmIChzdG9yZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIEFycmF5LmZyb20oc3RvcmUpO1xuICB9XG5cbiAgcHVibGljIGdldE5vblVzZXJDb250cm9sbGVkTm9kZXNXaXRoQ29tcG9uZW50PFQgZXh0ZW5kcyBDb21wb25lbnQ+KFxuICAgIGNvbXBvbmVudDogTmV3YWJsZTxUPlxuICApOiBBcnJheTxUPiB7XG4gICAgY29uc3Qgc3RvcmUgPSB0aGlzLl9jb21wb25lbnRTdG9yZXMuZ2V0KGNvbXBvbmVudC5uYW1lKSBhcyBFbnRpdHlNYXA8VD47XG4gICAgY29uc3QgY29udHJvbGxlZFN0b3JlID0gdGhpcy5fY29tcG9uZW50U3RvcmVzLmdldChcbiAgICAgICd1c2VyY29udHJvbGxlZCdcbiAgICApIGFzIEVudGl0eU1hcDxVc2VyQ29udHJvbGxlZENvbXBvbmVudD47XG5cbiAgICBpZiAoc3RvcmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGlmICghY29udHJvbGxlZFN0b3JlIHx8ICFjb250cm9sbGVkU3RvcmUubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShzdG9yZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBzdG9yZUFyciA9IEFycmF5LmZyb20oc3RvcmUpO1xuICAgICAgY29udHJvbGxlZFN0b3JlLmluZGljZXMoKS5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICBpZiAoc3RvcmUuaGFzKG5vZGUpICYmIGNvbnRyb2xsZWRTdG9yZS5nZXQobm9kZSkuaXNDb250cm9sbGVkKSB7XG4gICAgICAgICAgc3RvcmVBcnIgPSBzdG9yZUFyci5zcGxpY2Uobm9kZS5pbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN0b3JlQXJyO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRBbGxOb2Rlc1dpdGhDb21wb25lbnQ8VCBleHRlbmRzIENvbXBvbmVudD4oXG4gICAgY29tcG9uZW50OiBOZXdhYmxlPFQ+XG4gICk6IEFycmF5PEVudGl0eT4ge1xuICAgIGNvbnN0IHN0b3JlID0gdGhpcy5fY29tcG9uZW50U3RvcmVzLmdldChjb21wb25lbnQubmFtZSkgYXMgRW50aXR5TWFwPFQ+O1xuXG4gICAgaWYgKHN0b3JlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RvcmUuaW5kaWNlcygpO1xuICB9XG5cbiAgcHVibGljIGRlbGV0ZU5vZGUobm9kZTogRW50aXR5KSB7XG4gICAgaWYgKHRoaXMuX2FsbG9jYXRvci5kZWFsbG9jYXRlKG5vZGUpKSB7XG4gICAgICB0aGlzLl9jb21wb25lbnRTdG9yZXMuZm9yRWFjaChzdG9yZSA9PiB7XG4gICAgICAgIGlmIChzdG9yZS5oYXMobm9kZSkpIHtcbiAgICAgICAgICBzdG9yZS5kZWxldGUobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXROb2RlRW50aXR5KGlkOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5faWRUb0VudGl0eU1hcC5nZXQoaWQpO1xuICB9XG5cbiAgZ2V0IG5vZGVzKCk6IEVudGl0eVtdIHtcbiAgICByZXR1cm4gdGhpcy5fbm9kZXM7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEdlbmVyYXRpb25hbEluZGV4QWxsb2NhdG9yIGFzIEVudGl0eUFsbG9jYXRvcixcbiAgR2VuZXJhdGlvbmFsSW5kZXggYXMgRW50aXR5LFxuICBHZW5lcmF0aW9uYWxJbmRleEFycmF5IGFzIEVudGl0eU1hcFxufSBmcm9tICcuLi9VdGlscy9pbmRleCc7XG5pbXBvcnQgU3ByaW5nQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvU3ByaW5nQ29tcG9uZW50JztcbmltcG9ydCBMYWJlbENvbXBvbmVudCBmcm9tICcuLi9Db21wb25lbnRzL0xhYmVsQ29tcG9uZW50JztcbmltcG9ydCBDb2xvckNvbXBvbmVudCBmcm9tICcuLi9Db21wb25lbnRzL0NvbG9yQ29tcG9uZW50JztcbmltcG9ydCBEYXRhQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvRGF0YUNvbXBvbmVudCc7XG5pbXBvcnQgeyBOZXdhYmxlLCBFZGdlQ29tcG9uZW50cywgRWRnZUNvbXBvbmVudCwgRWRnZU9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9Db21wb25lbnRzL0NvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkZ2VNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBfYWxsb2NhdG9yOiBFbnRpdHlBbGxvY2F0b3I7XG4gIHByaXZhdGUgX2VkZ2VzOiBFbnRpdHlbXTtcbiAgcHJpdmF0ZSBfY29tcG9uZW50U3RvcmVzOiBNYXA8c3RyaW5nLCBFbnRpdHlNYXA8Q29tcG9uZW50Pj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fYWxsb2NhdG9yID0gbmV3IEVudGl0eUFsbG9jYXRvcigpO1xuICAgIHRoaXMuX2VkZ2VzID0gW107XG4gICAgdGhpcy5fY29tcG9uZW50U3RvcmVzID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgcHVibGljIGNyZWF0ZUVkZ2UodG86IEVudGl0eSwgZnJvbTogRW50aXR5LCBvcHRpb25zOiBFZGdlT3B0aW9ucykge1xuICAgIGNvbnN0IHsgbGFiZWwsIGNvbG9yIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IF9lZGdlID0gdGhpcy5fYWxsb2NhdG9yLmFsbG9jYXRlKCk7XG4gICAgdGhpcy5lZGdlcy5wdXNoKF9lZGdlKTtcblxuICAgIC8vIENyZWF0ZSBjb21wb25lbnRzXG4gICAgY29uc3QgX3NwcmluZyA9IHRoaXMuYWRkQ29tcG9uZW50KF9lZGdlLCBuZXcgU3ByaW5nQ29tcG9uZW50KCkpO1xuICAgIGNvbnN0IF9sYWJlbCA9IHRoaXMuYWRkQ29tcG9uZW50KF9lZGdlLCBuZXcgTGFiZWxDb21wb25lbnQoKSk7XG4gICAgY29uc3QgX2NvbG9yID0gdGhpcy5hZGRDb21wb25lbnQoX2VkZ2UsIG5ldyBDb2xvckNvbXBvbmVudCgpKTtcbiAgICBjb25zdCBfZGF0YSA9IHRoaXMuYWRkQ29tcG9uZW50KF9lZGdlLCBuZXcgRGF0YUNvbXBvbmVudCgpKTtcblxuICAgIC8vIFNldCBjb21wb25lbnQgZGF0YVxuICAgIF9zcHJpbmcuZnJvbSA9IGZyb207XG4gICAgX3NwcmluZy50byA9IHRvO1xuXG4gICAgaWYgKGxhYmVsKSB7XG4gICAgICBfbGFiZWwudGV4dCA9IGxhYmVsLnRleHQgfHwgX2xhYmVsLnRleHQ7XG4gICAgICBfbGFiZWwuYWxpZ25tZW50ID0gbGFiZWwuYWxpZ25tZW50IHx8IF9sYWJlbC5hbGlnbm1lbnQ7XG4gICAgfVxuXG4gICAgaWYgKGNvbG9yKSB7XG4gICAgICBfY29sb3IuZmlsbENvbG9yID0gY29sb3IuZmlsbENvbG9yIHx8IF9jb2xvci5maWxsQ29sb3I7XG4gICAgICBfY29sb3IudGV4dENvbG9yID0gY29sb3IudGV4dENvbG9yIHx8IF9jb2xvci50ZXh0Q29sb3I7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRlbGV0ZUVkZ2UoZWRnZTogRW50aXR5KTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuX2FsbG9jYXRvci5kZWFsbG9jYXRlKGVkZ2UpKSB7XG4gICAgICB0aGlzLl9jb21wb25lbnRTdG9yZXMuZm9yRWFjaChzdG9yZSA9PiB7XG4gICAgICAgIGlmIChzdG9yZS5oYXMoZWRnZSkpIHtcbiAgICAgICAgICBzdG9yZS5kZWxldGUoZWRnZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGFkZENvbXBvbmVudDxUIGV4dGVuZHMgQ29tcG9uZW50PihlZGdlOiBFbnRpdHksIGNvbXBvbmVudDogVCk6IFQge1xuICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQuY29uc3RydWN0b3IubmFtZTtcblxuICAgIGxldCBzdG9yZSA9IHRoaXMuX2NvbXBvbmVudFN0b3Jlcy5nZXQoY29tcG9uZW50TmFtZSk7XG5cbiAgICBpZiAoc3RvcmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgc3RvcmUgPSBuZXcgRW50aXR5TWFwPFQ+KCk7XG4gICAgICB0aGlzLl9jb21wb25lbnRTdG9yZXMuc2V0KGNvbXBvbmVudE5hbWUsIHN0b3JlKTtcbiAgICB9XG5cbiAgICBzdG9yZS5zZXQoZWRnZSwgY29tcG9uZW50KTtcbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9XG5cbiAgcHVibGljIHJlbW92ZUNvbXBvbmVudDxUIGV4dGVuZHMgQ29tcG9uZW50PihcbiAgICBlZGdlOiBFbnRpdHksXG4gICAgY29tcG9uZW50OiBOZXdhYmxlPFQ+XG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHN0b3JlID0gdGhpcy5fY29tcG9uZW50U3RvcmVzLmdldChjb21wb25lbnQubmFtZSk7XG5cbiAgICBpZiAoc3RvcmUgJiYgc3RvcmUuaGFzKGVkZ2UpKSB7XG4gICAgICBzdG9yZS5kZWxldGUoZWRnZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgYnVsa0NyZWF0ZUVkZ2VzKGVkZ2VzOiBTcHJpbmdDb21wb25lbnRbXSwgb3B0aW9uczogRWRnZU9wdGlvbnMpIHtcbiAgICBlZGdlcy5mb3JFYWNoKGVkZ2UgPT4ge1xuICAgICAgdGhpcy5jcmVhdGVFZGdlKGVkZ2UudG8sIGVkZ2UuZnJvbSwgb3B0aW9ucyk7XG4gICAgfSk7XG4gIH1cblxuICBnZXQgZWRnZXMoKTogRW50aXR5W10ge1xuICAgIHJldHVybiB0aGlzLl9lZGdlcztcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb21wb25lbnQ8VCBleHRlbmRzIENvbXBvbmVudD4oXG4gICAgZWRnZTogRW50aXR5LFxuICAgIGNvbXBvbmVudDogTmV3YWJsZTxUPlxuICApOiBUIHwgbnVsbCB7XG4gICAgY29uc3Qgc3RvcmUgPSB0aGlzLl9jb21wb25lbnRTdG9yZXMuZ2V0KGNvbXBvbmVudC5uYW1lKTtcblxuICAgIGlmICghc3RvcmUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZW50aXRpZXMgd2l0aCBhdHRhY2hlZCBjb21wb25lbnQ6ICR7Y29tcG9uZW50Lm5hbWV9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgaW5zdGFuY2UgPSBzdG9yZS5nZXQoZWRnZSkgYXMgVDtcblxuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEVkZ2UgJHtKU09OLnN0cmluZ2lmeShlZGdlKX0gZG9lcyBub3QgaGF2ZSBjb21wb25lbnQ6ICR7XG4gICAgICAgICAgY29tcG9uZW50Lm5hbWVcbiAgICAgICAgfWBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG5cbiAgcHVibGljIGdldENvbXBvbmVudHNPZlR5cGU8VCBleHRlbmRzIENvbXBvbmVudD4oXG4gICAgY29tcG9uZW50OiBOZXdhYmxlPFQ+XG4gICk6IEFycmF5PFQ+IHtcbiAgICBjb25zdCBzdG9yZSA9IHRoaXMuX2NvbXBvbmVudFN0b3Jlcy5nZXQoY29tcG9uZW50Lm5hbWUpIGFzIEVudGl0eU1hcDxUPjtcblxuICAgIGlmIChzdG9yZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcmV0dXJuIEFycmF5LmZyb20oc3RvcmUpO1xuICB9XG5cbiAgcHVibGljIGdldEVkZ2VDb21wb25lbnRzKGVkZ2U6IEVudGl0eSk6IEVkZ2VDb21wb25lbnRzIHtcbiAgICBjb25zdCBjb21wb25lbnRzOiB7IFtrZXk6IHN0cmluZ106IENvbXBvbmVudCB9ID0ge307XG4gICAgdGhpcy5fY29tcG9uZW50U3RvcmVzLmZvckVhY2goKHN0b3JlLCBzdG9yZU5hbWUpID0+IHtcbiAgICAgIGlmIChzdG9yZS5oYXMoZWRnZSkpIHtcbiAgICAgICAgY29tcG9uZW50c1tzdG9yZU5hbWVdID0gc3RvcmUuZ2V0KGVkZ2UpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjb21wb25lbnRzO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBRdWFkVHJlZSxcbiAgQUFCQixcbiAgR2VuZXJhdGlvbmFsSW5kZXggYXMgRW50aXR5LFxuICBhZGRWZWNzLFxuICBtdWx0aXBseVZlY0J5U2NhbGFyXG59IGZyb20gJy4uL1V0aWxzJztcbmltcG9ydCBOb2RlTWFuYWdlciBmcm9tICcuLi9NYW5hZ2Vycy9Ob2RlTWFuYWdlcic7XG5pbXBvcnQgeyBCb3VuZHMsIFZlY3RvcjJELCBPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IFBvc2l0aW9uQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvUG9zaXRpb25Db21wb25lbnQnO1xuaW1wb3J0IEFjY2VsZXJhdGlvbkNvbXBvbmVudCBmcm9tICcuLi9Db21wb25lbnRzL0FjY2VsZXJhdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgVmVsb2NpdHlDb21wb25lbnQgZnJvbSAnLi4vQ29tcG9uZW50cy9WZWxvY2l0eUNvbXBvbmVudCc7XG5pbXBvcnQgRm9yY2VDb21wb25lbnQgZnJvbSAnLi4vQ29tcG9uZW50cy9Gb3JjZUNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcmNlU3lzdGVtIHtcbiAgcHVibGljIGJhcm5lc0h1dFRyZWU6IFF1YWRUcmVlO1xuICBwdWJsaWMgdGhldGE6IG51bWJlciA9IDAuNTtcbiAgLy8gdGhldGEgPSBudW1iZXIgdXNlZCBmb3IgYmFybmVzIGh1dCBjb25kaXRpb24gKGJldHdlZW4gMCBhbmQgMSkgbG93ZXIgbWVhbnMgbW9yZSBhY2N1cmF0ZSBidXQgbGVzcyBwZXJmb3JtYW50IGFuZCBoaWdoZXIgaXMgbGVzcyBhY2N1cmF0ZSBidXQgbW9yZSBwZXJmb3JtYW50XG4gIHByaXZhdGUgb3B0aW9ucyA9IHtcbiAgICBncmF2aXRhdGlvbmFsQ29uc3RhbnQ6IC0yMDAwXG4gIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgYm91bmRzOiBCb3VuZHMsXG4gICAgbm9kZU1hbmFnZXI6IE5vZGVNYW5hZ2VyLFxuICAgIHRoZXRhOiBudW1iZXIsXG4gICAgb3B0aW9uczogT3B0aW9uc1xuICApIHtcbiAgICB0aGlzLnRoZXRhID0gdGhldGEgfHwgdGhpcy50aGV0YTtcbiAgICB0aGlzLm9wdGlvbnMuZ3Jhdml0YXRpb25hbENvbnN0YW50ID1cbiAgICAgIG9wdGlvbnMuZ3Jhdml0YXRpb25hbENvbnN0YW50IHx8IHRoaXMub3B0aW9ucy5ncmF2aXRhdGlvbmFsQ29uc3RhbnQ7XG4gICAgdGhpcy5jb25zdHJ1Y3RUcmVlKGJvdW5kcywgbm9kZU1hbmFnZXIpO1xuICB9XG5cbiAgcHVibGljIGNvbnN0cnVjdFRyZWUoYm91bmRzOiBCb3VuZHMsIG5vZGVNYW5hZ2VyOiBOb2RlTWFuYWdlcikge1xuICAgIGNvbnN0IHNpemVYID0gYm91bmRzLnJpZ2h0IC0gYm91bmRzLmxlZnQ7XG4gICAgY29uc3Qgc2l6ZVkgPSBib3VuZHMuYm90dG9tIC0gYm91bmRzLnRvcDtcbiAgICBjb25zdCBzaXplID0gc2l6ZVggPiBzaXplWSA/IHNpemVYIDogc2l6ZVk7IC8vIGl6emEgc3F1YXJlIG5vd1xuICAgIHRoaXMuYmFybmVzSHV0VHJlZSA9IG5ldyBRdWFkVHJlZShcbiAgICAgIG5ldyBBQUJCKFxuICAgICAgICB7IHg6IGJvdW5kcy5sZWZ0LCB5OiBib3VuZHMudG9wIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB4OiBzaXplLFxuICAgICAgICAgIHk6IHNpemVcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gICAgY29uc3Qgbm9kZXMgPSBub2RlTWFuYWdlci5ub2RlcztcbiAgICBjb25zdCBub2RlUG9zaXRpb25zID0gbm9kZU1hbmFnZXIuZ2V0Q29tcG9uZW50c09mVHlwZShQb3NpdGlvbkNvbXBvbmVudCk7XG4gICAgY29uc3QgbkxlbiA9IG5vZGVzLmxlbmd0aDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbkxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICBjb25zdCBwb3MgPSBub2RlUG9zaXRpb25zW25vZGUuaW5kZXhdO1xuICAgICAgdGhpcy5iYXJuZXNIdXRUcmVlLmluc2VydChub2RlLCBwb3MpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0Rm9yY2VDb250cmlidXRpb25zKFxuICAgIG5vZGU6IEVudGl0eSxcbiAgICBwb3M6IFBvc2l0aW9uQ29tcG9uZW50LFxuICAgIGJyYW5jaDogUXVhZFRyZWVcbiAgKTogVmVjdG9yMkQge1xuICAgIGxldCBmb3JjZXM6IFZlY3RvcjJEID0geyB4OiAwLCB5OiAwIH07XG5cbiAgICBpZiAoYnJhbmNoLmRpdmlkZWQgfHwgYnJhbmNoLmVsZW1lbnRzLnNpemUpIHtcbiAgICAgIGNvbnN0IGR4ID0gYnJhbmNoLmNlbnRlck9mTWFzcy54IC0gcG9zLng7XG4gICAgICBjb25zdCBkeSA9IGJyYW5jaC5jZW50ZXJPZk1hc3MueSAtIHBvcy55O1xuXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICBjb25zdCBzID1cbiAgICAgICAgYnJhbmNoLmJvdW5kcy5zaXplLnggPiBicmFuY2guYm91bmRzLnNpemUueVxuICAgICAgICAgID8gYnJhbmNoLmJvdW5kcy5zaXplLnhcbiAgICAgICAgICA6IGJyYW5jaC5ib3VuZHMuc2l6ZS55O1xuICAgICAgY29uc3Qgc2QgPSBzIC8gZGlzdGFuY2U7XG4gICAgICBpZiAoc2QgPCB0aGlzLnRoZXRhKSB7XG4gICAgICAgIGZvcmNlcyA9IGFkZFZlY3MoZm9yY2VzLCB0aGlzLmNhbGNGb3JjZShkaXN0YW5jZSwgZHgsIGR5LCBicmFuY2gubWFzcykpO1xuICAgICAgfSBlbHNlIGlmIChicmFuY2guZGl2aWRlZCkge1xuICAgICAgICBmb3JjZXMgPSBhZGRWZWNzKFxuICAgICAgICAgIGZvcmNlcyxcbiAgICAgICAgICB0aGlzLmdldEZvcmNlQ29udHJpYnV0aW9ucyhub2RlLCBwb3MsIGJyYW5jaC5UTClcbiAgICAgICAgKTtcbiAgICAgICAgZm9yY2VzID0gYWRkVmVjcyhcbiAgICAgICAgICBmb3JjZXMsXG4gICAgICAgICAgdGhpcy5nZXRGb3JjZUNvbnRyaWJ1dGlvbnMobm9kZSwgcG9zLCBicmFuY2guVFIpXG4gICAgICAgICk7XG4gICAgICAgIGZvcmNlcyA9IGFkZFZlY3MoXG4gICAgICAgICAgZm9yY2VzLFxuICAgICAgICAgIHRoaXMuZ2V0Rm9yY2VDb250cmlidXRpb25zKG5vZGUsIHBvcywgYnJhbmNoLkJMKVxuICAgICAgICApO1xuICAgICAgICBmb3JjZXMgPSBhZGRWZWNzKFxuICAgICAgICAgIGZvcmNlcyxcbiAgICAgICAgICB0aGlzLmdldEZvcmNlQ29udHJpYnV0aW9ucyhub2RlLCBwb3MsIGJyYW5jaC5CUilcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghYnJhbmNoLmVsZW1lbnRzLmhhcyhub2RlKSkge1xuICAgICAgICAgIGZvcmNlcyA9IGFkZFZlY3MoXG4gICAgICAgICAgICBmb3JjZXMsXG4gICAgICAgICAgICB0aGlzLmNhbGNGb3JjZShkaXN0YW5jZSwgZHgsIGR5LCBicmFuY2gubWFzcylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcmNlcztcbiAgfVxuXG4gIHByaXZhdGUgY2FsY0ZvcmNlKFxuICAgIGRpc3RhbmNlOiBudW1iZXIsXG4gICAgZHg6IG51bWJlcixcbiAgICBkeTogbnVtYmVyLFxuICAgIG1hc3M6IG51bWJlclxuICApOiBWZWN0b3IyRCB7XG4gICAgaWYgKGRpc3RhbmNlIDwgMC4xKSB7XG4gICAgICBkaXN0YW5jZSA9IDAuMTtcbiAgICAgIGR4ID0gZGlzdGFuY2U7XG4gICAgfVxuICAgIGNvbnN0IGdyYXZpdHlGb3JjZSA9XG4gICAgICAodGhpcy5vcHRpb25zLmdyYXZpdGF0aW9uYWxDb25zdGFudCAqIG1hc3MpIC9cbiAgICAgIChkaXN0YW5jZSAqIGRpc3RhbmNlICogZGlzdGFuY2UpO1xuXG4gICAgY29uc3QgZm9yY2UgPSB7XG4gICAgICB4OiBkeCAqIGdyYXZpdHlGb3JjZSxcbiAgICAgIHk6IGR5ICogZ3Jhdml0eUZvcmNlXG4gICAgfTtcbiAgICByZXR1cm4gZm9yY2U7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlKGJvdW5kczogQm91bmRzLCBub2RlTWFuYWdlcjogTm9kZU1hbmFnZXIpIHtcbiAgICBjb25zdCBub2RlcyA9IG5vZGVNYW5hZ2VyLm5vZGVzO1xuICAgIGNvbnN0IG5vZGVQb3NpdGlvbnMgPSBub2RlTWFuYWdlci5nZXRDb21wb25lbnRzT2ZUeXBlKFBvc2l0aW9uQ29tcG9uZW50KTtcbiAgICBjb25zdCBub2RlRm9yY2VzID0gbm9kZU1hbmFnZXIuZ2V0Q29tcG9uZW50c09mVHlwZShGb3JjZUNvbXBvbmVudCk7XG4gICAgdGhpcy5jb25zdHJ1Y3RUcmVlKGJvdW5kcywgbm9kZU1hbmFnZXIpO1xuICAgIGNvbnN0IG5MZW4gPSBub2Rlcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuTGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgIGNvbnN0IG5vZGVQb3MgPSBub2RlUG9zaXRpb25zW25vZGUuaW5kZXhdO1xuICAgICAgY29uc3Qgbm9kZUZvcmNlID0gbm9kZUZvcmNlc1tub2RlLmluZGV4XTtcblxuICAgICAgY29uc3QgZm9yY2UgPSB0aGlzLmdldEZvcmNlQ29udHJpYnV0aW9ucyhcbiAgICAgICAgbm9kZSxcbiAgICAgICAgbm9kZVBvcyxcbiAgICAgICAgdGhpcy5iYXJuZXNIdXRUcmVlXG4gICAgICApO1xuXG4gICAgICAvLyBjb25zb2xlLmxvZygnYmVmb3JlICcsIG5vZGVGb3JjZSk7XG4gICAgICBub2RlRm9yY2UueCArPSBmb3JjZS54O1xuICAgICAgbm9kZUZvcmNlLnkgKz0gZm9yY2UueTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdhZnRlciAnLCBub2RlRm9yY2UpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IE5vZGVNYW5hZ2VyIGZyb20gJy4uL01hbmFnZXJzL05vZGVNYW5hZ2VyJztcbmltcG9ydCB7IFZlY3RvcjJEIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IFBvc2l0aW9uQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvUG9zaXRpb25Db21wb25lbnQnO1xuaW1wb3J0IEZvcmNlQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvRm9yY2VDb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDZW50cmFsR3Jhdml0eShcbiAgbm9kZU1hbmFnZXI6IE5vZGVNYW5hZ2VyLFxuICBjZW50ZXI6IFZlY3RvcjJEXG4pIHtcbiAgY29uc3Qgbm9kZXMgPSBub2RlTWFuYWdlci5ub2RlcztcbiAgY29uc3Qgbm9kZVBvc2l0aW9ucyA9IG5vZGVNYW5hZ2VyLmdldENvbXBvbmVudHNPZlR5cGUoUG9zaXRpb25Db21wb25lbnQpO1xuICBjb25zdCBub2RlRm9yY2VzID0gbm9kZU1hbmFnZXIuZ2V0Q29tcG9uZW50c09mVHlwZShGb3JjZUNvbXBvbmVudCk7XG4gIGNvbnN0IG5MZW4gPSBub2Rlcy5sZW5ndGg7XG4gIGxldCBub2RlLCBwb3MsIGR4LCBkeSwgZGlzdGFuY2UsIGZvcmNlLCBub2RlRm9yY2U7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuTGVuOyBpKyspIHtcbiAgICBub2RlID0gbm9kZXNbaV07XG4gICAgcG9zID0gbm9kZVBvc2l0aW9uc1tub2RlLmluZGV4XTtcbiAgICBub2RlRm9yY2UgPSBub2RlRm9yY2VzW25vZGUuaW5kZXhdO1xuXG4gICAgZHggPSBjZW50ZXIueCAtIHBvcy54O1xuICAgIGR5ID0gY2VudGVyLnkgLSBwb3MueTtcbiAgICBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICBmb3JjZSA9IGNhbGNGb3JjZShkaXN0YW5jZSwgZHgsIGR5LCAxKTtcbiAgICBub2RlRm9yY2UueCArPSBmb3JjZS54O1xuICAgIG5vZGVGb3JjZS55ICs9IGZvcmNlLnk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsY0ZvcmNlKGRpc3RhbmNlOiBudW1iZXIsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIsIG1hc3M6IG51bWJlcikge1xuICBpZiAoZGlzdGFuY2UgPCAwLjEpIHtcbiAgICBkaXN0YW5jZSA9IDAuMTtcbiAgICBkeCA9IGRpc3RhbmNlO1xuICB9XG4gIGNvbnN0IGdyYXZpdHlGb3JjZSA9ICgwLjMgKiBtYXNzKSAvIGRpc3RhbmNlO1xuICByZXR1cm4ge1xuICAgIHg6IGdyYXZpdHlGb3JjZSAqIGR4LFxuICAgIHk6IGdyYXZpdHlGb3JjZSAqIGR5XG4gIH07XG59XG4iLCJpbXBvcnQgTm9kZU1hbmFnZXIgZnJvbSAnLi4vTWFuYWdlcnMvTm9kZU1hbmFnZXInO1xuaW1wb3J0IHsgVmVjdG9yMkQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgVmVsb2NpdHlDb21wb25lbnQgZnJvbSAnLi4vQ29tcG9uZW50cy9WZWxvY2l0eUNvbXBvbmVudCc7XG5pbXBvcnQgRm9yY2VDb21wb25lbnQgZnJvbSAnLi4vQ29tcG9uZW50cy9Gb3JjZUNvbXBvbmVudCc7XG5pbXBvcnQgUG9zaXRpb25Db21wb25lbnQgZnJvbSAnLi4vQ29tcG9uZW50cy9Qb3NpdGlvbkNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZlbG9jaXR5VmVybGV0KG5vZGVNYW5hZ2VyOiBOb2RlTWFuYWdlciwgZHQ6IG51bWJlcikge1xuICBjb25zdCBub2RlcyA9IG5vZGVNYW5hZ2VyLm5vZGVzO1xuICBjb25zdCBub2RlVmVsb2NpdGllcyA9IG5vZGVNYW5hZ2VyLmdldENvbXBvbmVudHNPZlR5cGUoVmVsb2NpdHlDb21wb25lbnQpO1xuICBjb25zdCBub2RlUG9zaXRpb25zID0gbm9kZU1hbmFnZXIuZ2V0Q29tcG9uZW50c09mVHlwZShQb3NpdGlvbkNvbXBvbmVudCk7XG4gIGNvbnN0IG5vZGVGb3JjZXMgPSBub2RlTWFuYWdlci5nZXRDb21wb25lbnRzT2ZUeXBlKEZvcmNlQ29tcG9uZW50KTtcbiAgY29uc3QgbkxlbiA9IG5vZGVzLmxlbmd0aDtcbiAgbGV0IGksIG5vZGUsIHZlbCwgZm9yY2UsIHBvcztcblxuICBmb3IgKGkgPSAwOyBpIDwgbkxlbjsgaSsrKSB7XG4gICAgbm9kZSA9IG5vZGVzW2ldO1xuICAgIHBvcyA9IG5vZGVQb3NpdGlvbnNbbm9kZS5pbmRleF07XG4gICAgZm9yY2UgPSBub2RlRm9yY2VzW25vZGUuaW5kZXhdO1xuICAgIHZlbCA9IG5vZGVWZWxvY2l0aWVzW25vZGUuaW5kZXhdO1xuXG4gICAgdmVsLnggPSBjYWxjdWxhdGVWZWxvY2l0eSh2ZWwueCwgZm9yY2UueCwgMSk7XG4gICAgdmVsLnkgPSBjYWxjdWxhdGVWZWxvY2l0eSh2ZWwueSwgZm9yY2UueSwgMSk7XG5cbiAgICBwb3MueCArPSB2ZWwueCAqIGR0O1xuICAgIHBvcy55ICs9IHZlbC55ICogZHQ7XG5cbiAgICBmb3JjZS54ID0gMDtcbiAgICBmb3JjZS55ID0gMDtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVWZWxvY2l0eSh2ZWxvY2l0eTogbnVtYmVyLCBmb3JjZTogbnVtYmVyLCBtYXNzOiBudW1iZXIpIHtcbiAgY29uc3QgZGFtcGluZ0ZvcmNlID0gMC41ICogdmVsb2NpdHk7XG4gIGxldCBhID0gKGZvcmNlIC0gZGFtcGluZ0ZvcmNlKSAvIG1hc3M7XG4gIHZlbG9jaXR5ICs9IGE7XG5cbiAgaWYgKE1hdGguYWJzKHZlbG9jaXR5KSA+IDFlOSkge1xuICAgIHZlbG9jaXR5ID0gdmVsb2NpdHkgPCAwID8gLTFlOSA6IDFlOTtcbiAgfVxuXG4gIHJldHVybiB2ZWxvY2l0eTtcbn1cbiIsImltcG9ydCB7IGFkZFdoZWVsTGlzdGVuZXIgfSBmcm9tICcuLi9VdGlscyc7XG5pbXBvcnQgeyBSZW5kZXJlciwgR3JhcGhpY3MsIGludGVyYWN0aW9uLCBDb250YWluZXIgfSBmcm9tICdwaXhpLmpzJztcbmltcG9ydCBSZW5kZXJTeXN0ZW0gZnJvbSAnLi9SZW5kZXJTeXN0ZW0nO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnB1dFN5c3RlbSB7XG4gIHB1YmxpYyBncmFwaFJlbmRlcmVyOiBSZW5kZXJlcjtcbiAgcHVibGljIGdyYXBoR3JhcGhpY3M6IEdyYXBoaWNzO1xuICBwdWJsaWMgZ3JhcGhTdGFnZTogQ29udGFpbmVyO1xuICBwdWJsaWMgaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBSZW5kZXJTeXN0ZW0pIHtcbiAgICB0aGlzLmdyYXBoUmVuZGVyZXIgPSByZW5kZXJlci5fcmVuZGVyZXI7XG4gICAgdGhpcy5ncmFwaEdyYXBoaWNzID0gcmVuZGVyZXIuX2dyYXBoaWNzO1xuICAgIHRoaXMuZ3JhcGhTdGFnZSA9IHJlbmRlcmVyLl9ncmFwaGljc0NvbnRhaW5lcjtcblxuICAgIGFkZFdoZWVsTGlzdGVuZXIoXG4gICAgICByZW5kZXJlci5fY2FudmFzQ29udGFpbmVyLFxuICAgICAgKGU6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLnpvb20oZS5jbGllbnRYLCBlLmNsaWVudFksIGUuZGVsdGFZIDwgMCk7XG4gICAgICB9LFxuICAgICAgZmFsc2VcbiAgICApO1xuXG4gICAgdGhpcy5hZGRQYW5uaW5nKCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0R3JhcGhDb29yZGluYXRlcyh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIGxldCBjdHggPSB7XG4gICAgICBnbG9iYWw6IHtcbiAgICAgICAgeDogMCxcbiAgICAgICAgeTogMFxuICAgICAgfVxuICAgIH07XG4gICAgY3R4Lmdsb2JhbC54ID0geDtcbiAgICBjdHguZ2xvYmFsLnkgPSB5O1xuICAgIHJldHVybiBpbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb24uY2FsbChcbiAgICAgIGN0eCxcbiAgICAgIHRoaXMuZ3JhcGhHcmFwaGljc1xuICAgICk7XG4gIH1cblxuICBwdWJsaWMgem9vbSh4OiBudW1iZXIsIHk6IG51bWJlciwgaXNab29tSW46IGJvb2xlYW4pIHtcbiAgICBsZXQgZGlyZWN0aW9uID0gaXNab29tSW4gPyAxIDogLTE7XG4gICAgbGV0IGZhY3RvciA9IDEgKyBkaXJlY3Rpb24gKiAwLjE7XG4gICAgdGhpcy5ncmFwaEdyYXBoaWNzLnNjYWxlLnggKj0gZmFjdG9yO1xuICAgIHRoaXMuZ3JhcGhHcmFwaGljcy5zY2FsZS55ICo9IGZhY3RvcjtcblxuICAgIGxldCBiZWZvcmVUcmFuc2Zvcm0gPSB0aGlzLmdldEdyYXBoQ29vcmRpbmF0ZXMoeCwgeSk7XG4gICAgdGhpcy5ncmFwaEdyYXBoaWNzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIGxldCBhZnRlclRyYW5zZm9ybSA9IHRoaXMuZ2V0R3JhcGhDb29yZGluYXRlcyh4LCB5KTtcblxuICAgIHRoaXMuZ3JhcGhHcmFwaGljcy5wb3NpdGlvbi54ICs9XG4gICAgICAoYWZ0ZXJUcmFuc2Zvcm0ueCAtIGJlZm9yZVRyYW5zZm9ybS54KSAqIHRoaXMuZ3JhcGhHcmFwaGljcy5zY2FsZS54O1xuICAgIHRoaXMuZ3JhcGhHcmFwaGljcy5wb3NpdGlvbi55ICs9XG4gICAgICAoYWZ0ZXJUcmFuc2Zvcm0ueSAtIGJlZm9yZVRyYW5zZm9ybS55KSAqIHRoaXMuZ3JhcGhHcmFwaGljcy5zY2FsZS55O1xuICAgIHRoaXMuZ3JhcGhHcmFwaGljcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRQYW5uaW5nKCkge1xuICAgIGNvbnNvbGUubG9nKCdhZGQgcGFubmluZycpO1xuICAgIGxldCBzdGFnZSA9IHRoaXMuZ3JhcGhTdGFnZTtcblxuICAgIHN0YWdlLmludGVyYWN0aXZlID0gdHJ1ZTtcblxuICAgIGxldCBpc0RyYWdnaW5nID0gZmFsc2UsXG4gICAgICBwcmV2WDogbnVtYmVyLFxuICAgICAgcHJldlk6IG51bWJlcjtcblxuICAgIHN0YWdlLm9uKCdwb2ludGVyZG93bicsIChtb3ZlRGF0YTogaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ3BvaW50ZXJkb3duJyk7XG4gICAgICBsZXQgcG9zID0gbW92ZURhdGEuZGF0YS5nbG9iYWw7XG4gICAgICBwcmV2WCA9IHBvcy54O1xuICAgICAgcHJldlkgPSBwb3MueTtcbiAgICAgIGlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgc3RhZ2Uub24oJ3BvaW50ZXJtb3ZlJywgKG1vdmVEYXRhOiBpbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzRHJhZ2dpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHBvcyA9IG1vdmVEYXRhLmRhdGEuZ2xvYmFsO1xuICAgICAgbGV0IGR4ID0gcG9zLnggLSBwcmV2WDtcbiAgICAgIGxldCBkeSA9IHBvcy55IC0gcHJldlk7XG5cbiAgICAgIHRoaXMuZ3JhcGhHcmFwaGljcy5wb3NpdGlvbi54ICs9IGR4O1xuICAgICAgdGhpcy5ncmFwaEdyYXBoaWNzLnBvc2l0aW9uLnkgKz0gZHk7XG4gICAgICBwcmV2WCA9IHBvcy54O1xuICAgICAgcHJldlkgPSBwb3MueTtcbiAgICB9KTtcblxuICAgIHN0YWdlLm9uKCdwb2ludGVydXAnLCAobW92ZURhdGE6IGludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdwb2ludGVydXAnKTtcbiAgICAgIGlzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlbmRlclN5c3RlbSBmcm9tICcuL1N5c3RlbXMvUmVuZGVyU3lzdGVtJztcbmltcG9ydCBOb2RlTWFuYWdlciBmcm9tICcuL01hbmFnZXJzL05vZGVNYW5hZ2VyJztcbmltcG9ydCBFZGdlTWFuYWdlciBmcm9tICcuL01hbmFnZXJzL0VkZ2VNYW5hZ2VyJztcbmltcG9ydCB7IE9wdGlvbnMsIE5vZGVPcHRpb25zLCBFZGdlT3B0aW9ucywgQm91bmRzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBTcHJpbmdTeXN0ZW0gfSBmcm9tICcuL1N5c3RlbXMvU3ByaW5nU3lzdGVtJztcbmltcG9ydCBGb3JjZVN5c3RlbSBmcm9tICcuL1N5c3RlbXMvRm9yY2VTeXN0ZW0nO1xuaW1wb3J0IFBvc2l0aW9uQ29tcG9uZW50IGZyb20gJy4vQ29tcG9uZW50cy9Qb3NpdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgVmVsb2NpdHlDb21wb25lbnQgZnJvbSAnLi9Db21wb25lbnRzL1ZlbG9jaXR5Q29tcG9uZW50JztcbmltcG9ydCBBY2NlbGVyYXRpb25Db21wb25lbnQgZnJvbSAnLi9Db21wb25lbnRzL0FjY2VsZXJhdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgQ2VudHJhbEdyYXZpdHkgZnJvbSAnLi9TeXN0ZW1zL0NlbnRyYWxHcmF2aXR5JztcbmltcG9ydCBWZWxvY2l0eVZlcmxldCBmcm9tICcuL1N5c3RlbXMvVmVsb2NpdHlWZXJsZXQnO1xuaW1wb3J0IEZvcmNlQ29tcG9uZW50IGZyb20gJy4vQ29tcG9uZW50cy9Gb3JjZUNvbXBvbmVudCc7XG5pbXBvcnQgSW5wdXRTeXN0ZW0gZnJvbSAnLi9TeXN0ZW1zL0lucHV0U3lzdGVtJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVk5ldEdyYXBoIHtcbiAgcHJpdmF0ZSBfcmVuZGVyZXI6IFJlbmRlclN5c3RlbTtcbiAgcHJpdmF0ZSBfbm9kZU1hbmFnZXI6IE5vZGVNYW5hZ2VyO1xuICBwcml2YXRlIF9lZGdlTWFuYWdlcjogRWRnZU1hbmFnZXI7XG4gIHByaXZhdGUgX2ZvcmNlU3lzdGVtOiBGb3JjZVN5c3RlbTtcbiAgcHJpdmF0ZSBfaW5wdXRTeXRlbTogSW5wdXRTeXN0ZW07XG4gIHByaXZhdGUgX3J1bnMgPSAwO1xuICBwcml2YXRlIF93b3JsZEJvdW5kczogQm91bmRzO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsXG4gICAgbm9kZXM6IE5vZGVPcHRpb25zW10sXG4gICAgZWRnZXM6IEVkZ2VPcHRpb25zW10sXG4gICAgb3B0aW9uczogT3B0aW9uc1xuICApIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG5ldyBSZW5kZXJTeXN0ZW0oY29udGFpbmVyKTtcbiAgICB0aGlzLl9ub2RlTWFuYWdlciA9IG5ldyBOb2RlTWFuYWdlcigpO1xuICAgIHRoaXMuX2VkZ2VNYW5hZ2VyID0gbmV3IEVkZ2VNYW5hZ2VyKCk7XG4gICAgdGhpcy5fc2V0dXAobm9kZXMsIGVkZ2VzLCBvcHRpb25zKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGFydCgpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIF9zZXR1cChub2RlczogTm9kZU9wdGlvbnNbXSwgZWRnZXM6IEVkZ2VPcHRpb25zW10sIG9wdGlvbnM6IE9wdGlvbnMpIHtcbiAgICAvLyBUT0RPOiBzZXR1cCBhbGwgc3lzdGVtcyBhbmQgY29tcG9uZW50c1xuICAgIGNvbnN0IG5MZW4gPSBub2Rlcy5sZW5ndGg7XG4gICAgY29uc3QgZUxlbiA9IGVkZ2VzLmxlbmd0aDtcbiAgICBsZXQgaTtcblxuICAgIHRoaXMuX25vZGVNYW5hZ2VyLmJ1bGtDcmVhdGVOb2Rlcyhub2Rlcyk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZUxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBlZGdlID0gZWRnZXNbaV07XG4gICAgICBjb25zdCB0byA9IHRoaXMuX25vZGVNYW5hZ2VyLmdldE5vZGVFbnRpdHkoZWRnZS50byk7XG4gICAgICBjb25zdCBmcm9tID0gdGhpcy5fbm9kZU1hbmFnZXIuZ2V0Tm9kZUVudGl0eShlZGdlLmZyb20pO1xuICAgICAgdGhpcy5fZWRnZU1hbmFnZXIuY3JlYXRlRWRnZSh0bywgZnJvbSwgZWRnZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fZm9yY2VTeXN0ZW0gPSBuZXcgRm9yY2VTeXN0ZW0oXG4gICAgICB7XG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgYm90dG9tOiB0aGlzLl9yZW5kZXJlci5fY2FudmFzLmhlaWdodCxcbiAgICAgICAgcmlnaHQ6IHRoaXMuX3JlbmRlcmVyLl9jYW52YXMud2lkdGhcbiAgICAgIH0sXG4gICAgICB0aGlzLl9ub2RlTWFuYWdlcixcbiAgICAgIDAuNSxcbiAgICAgIHtcbiAgICAgICAgZ3Jhdml0YXRpb25hbENvbnN0YW50OiAtMzAwMDBcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5fd29ybGRCb3VuZHMgPSB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiB0aGlzLl9yZW5kZXJlci5fY2FudmFzLmhlaWdodCxcbiAgICAgIHJpZ2h0OiB0aGlzLl9yZW5kZXJlci5fY2FudmFzLndpZHRoXG4gICAgfTtcblxuICAgIHRoaXMuX2lucHV0U3l0ZW0gPSBuZXcgSW5wdXRTeXN0ZW0odGhpcy5fcmVuZGVyZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBfdXBkYXRlV29ybGRCb3VuZHMoKSB7XG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLl9ub2RlTWFuYWdlci5ub2RlcztcbiAgICBjb25zdCBub2RlUG9zaXRpb25zID0gdGhpcy5fbm9kZU1hbmFnZXIuZ2V0Q29tcG9uZW50c09mVHlwZShcbiAgICAgIFBvc2l0aW9uQ29tcG9uZW50XG4gICAgKTtcbiAgICB0aGlzLl93b3JsZEJvdW5kcyA9IHsgbGVmdDogMCwgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwIH07XG4gICAgY29uc3QgbkxlbiA9IG5vZGVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5MZW47IGkrKykge1xuICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgY29uc3QgcG9zID0gbm9kZVBvc2l0aW9uc1tub2RlLmluZGV4XTtcblxuICAgICAgaWYgKHBvcy54IDwgdGhpcy5fd29ybGRCb3VuZHMubGVmdCkge1xuICAgICAgICB0aGlzLl93b3JsZEJvdW5kcy5sZWZ0ID0gcG9zLng7XG4gICAgICB9IGVsc2UgaWYgKHBvcy54ID4gdGhpcy5fd29ybGRCb3VuZHMucmlnaHQpIHtcbiAgICAgICAgdGhpcy5fd29ybGRCb3VuZHMucmlnaHQgPSBwb3MueDtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvcy55IDwgdGhpcy5fd29ybGRCb3VuZHMudG9wKSB7XG4gICAgICAgIHRoaXMuX3dvcmxkQm91bmRzLnRvcCA9IHBvcy55O1xuICAgICAgfSBlbHNlIGlmIChwb3MueSA+IHRoaXMuX3dvcmxkQm91bmRzLmJvdHRvbSkge1xuICAgICAgICB0aGlzLl93b3JsZEJvdW5kcy5ib3R0b20gPSBwb3MueTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF91cGRhdGUoKSB7XG4gICAgLy8gaWYgKHRoaXMuX3J1bnMgPCAxMDAwKSB7XG4gICAgLy8gICB0aGlzLl9ydW5zKys7XG4gICAgLy8gICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIC8vICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAvLyAgIH0pO1xuICAgIC8vIH1cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgfSk7XG4gICAgLy8gY29uc29sZS5sb2coJ3J1bjogJywgdGhpcy5fcnVucyk7XG4gICAgY29uc29sZS50aW1lKCdwaHlzaWNzJyk7XG4gICAgdGhpcy5fdXBkYXRlV29ybGRCb3VuZHMoKTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl93b3JsZEJvdW5kcyk7XG4gICAgQ2VudHJhbEdyYXZpdHkodGhpcy5fbm9kZU1hbmFnZXIsIHtcbiAgICAgIHg6IHRoaXMuX3JlbmRlcmVyLl9jYW52YXMud2lkdGggLyAyLFxuICAgICAgeTogdGhpcy5fcmVuZGVyZXIuX2NhbnZhcy5oZWlnaHQgLyAyXG4gICAgfSk7XG4gICAgdGhpcy5fZm9yY2VTeXN0ZW0udXBkYXRlKHRoaXMuX3dvcmxkQm91bmRzLCB0aGlzLl9ub2RlTWFuYWdlcik7XG4gICAgU3ByaW5nU3lzdGVtKHRoaXMuX2VkZ2VNYW5hZ2VyLCB0aGlzLl9ub2RlTWFuYWdlcik7XG4gICAgVmVsb2NpdHlWZXJsZXQodGhpcy5fbm9kZU1hbmFnZXIsIDAuNSk7XG4gICAgY29uc29sZS50aW1lRW5kKCdwaHlzaWNzJyk7XG4gICAgY29uc29sZS50aW1lKCdyZW5kZXInKTtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXIoXG4gICAgICB0aGlzLl9lZGdlTWFuYWdlcixcbiAgICAgIHRoaXMuX25vZGVNYW5hZ2VyLFxuICAgICAgdGhpcy5fZm9yY2VTeXN0ZW0uYmFybmVzSHV0VHJlZSxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBjb25zb2xlLnRpbWVFbmQoJ3JlbmRlcicpO1xuICB9XG59XG5cbmlmICghKHdpbmRvdyBhcyBhbnkpLlZOZXRHcmFwaCkge1xuICAod2luZG93IGFzIGFueSkuVk5ldEdyYXBoID0gVk5ldEdyYXBoO1xufVxuIiwiaW1wb3J0IEVkZ2VNYW5hZ2VyIGZyb20gJy4uL01hbmFnZXJzL0VkZ2VNYW5hZ2VyJztcbmltcG9ydCBOb2RlTWFuYWdlciBmcm9tICcuLi9NYW5hZ2Vycy9Ob2RlTWFuYWdlcic7XG5pbXBvcnQgUG9zaXRpb25Db21wb25lbnQgZnJvbSAnLi4vQ29tcG9uZW50cy9Qb3NpdGlvbkNvbXBvbmVudCc7XG5pbXBvcnQgVmVsb2NpdHlDb21wb25lbnQgZnJvbSAnLi4vQ29tcG9uZW50cy9WZWxvY2l0eUNvbXBvbmVudCc7XG5pbXBvcnQgQWNjZWxlcmF0aW9uQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvQWNjZWxlcmF0aW9uQ29tcG9uZW50JztcbmltcG9ydCBTcHJpbmdDb21wb25lbnQgZnJvbSAnLi4vQ29tcG9uZW50cy9TcHJpbmdDb21wb25lbnQnO1xuaW1wb3J0IHsgZ2V0RGlzdGFuY2VCZXR3ZWVuVmVjcywgbm9ybWFsaXplVmVjLCBzdWJWZWNzIH0gZnJvbSAnLi4vVXRpbHMvaW5kZXgnO1xuaW1wb3J0IEZvcmNlQ29tcG9uZW50IGZyb20gJy4uL0NvbXBvbmVudHMvRm9yY2VDb21wb25lbnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gU3ByaW5nU3lzdGVtKFxuICBlZGdlTWFuYWdlcjogRWRnZU1hbmFnZXIsXG4gIG5vZGVNYW5hZ2VyOiBOb2RlTWFuYWdlcixcbiAgb3B0aW9ucz86IHtcbiAgICBzdGlmZm5lc3M6IG51bWJlcjtcbiAgICBkYW1waW5nOiBudW1iZXI7XG4gICAgcmVzdERpc3RhbmNlOiBudW1iZXI7XG4gIH1cbikge1xuICBjb25zdCBzdGlmZm5lc3MgPSAob3B0aW9ucyAmJiBvcHRpb25zLnN0aWZmbmVzcykgfHwgMjA7XG4gIGNvbnN0IGRhbXBpbmcgPSAob3B0aW9ucyAmJiBvcHRpb25zLmRhbXBpbmcpIHx8IDAuMDAzO1xuICBjb25zdCByZXN0RGlzdGFuY2UgPSAob3B0aW9ucyAmJiBvcHRpb25zLnJlc3REaXN0YW5jZSkgfHwgMTUwO1xuXG4gIGNvbnN0IGVkZ2VzID0gZWRnZU1hbmFnZXIuZ2V0Q29tcG9uZW50c09mVHlwZShTcHJpbmdDb21wb25lbnQpO1xuICBjb25zdCBub2RlUG9zaXRpb25zID0gbm9kZU1hbmFnZXIuZ2V0Q29tcG9uZW50c09mVHlwZShQb3NpdGlvbkNvbXBvbmVudCk7XG4gIGNvbnN0IG5vZGVWZWxzID0gbm9kZU1hbmFnZXIuZ2V0Q29tcG9uZW50c09mVHlwZShWZWxvY2l0eUNvbXBvbmVudCk7XG4gIGNvbnN0IG5vZGVGb3JjZXMgPSBub2RlTWFuYWdlci5nZXRDb21wb25lbnRzT2ZUeXBlKEZvcmNlQ29tcG9uZW50KTtcbiAgY29uc3QgbnVtRWRnZXMgPSBlZGdlcy5sZW5ndGg7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1FZGdlczsgaSsrKSB7XG4gICAgbGV0IF9lZGdlID0gZWRnZXNbaV07XG5cbiAgICBsZXQgbm9kZTFwb3MgPSBub2RlUG9zaXRpb25zW19lZGdlLmZyb20uaW5kZXhdO1xuICAgIGxldCBub2RlMXZlbCA9IG5vZGVWZWxzW19lZGdlLmZyb20uaW5kZXhdO1xuICAgIGxldCBub2RlMWZvcmNlID0gbm9kZUZvcmNlc1tfZWRnZS5mcm9tLmluZGV4XTtcblxuICAgIGxldCBub2RlMnBvcyA9IG5vZGVQb3NpdGlvbnNbX2VkZ2UudG8uaW5kZXhdO1xuICAgIGxldCBub2RlMnZlbCA9IG5vZGVWZWxzW19lZGdlLnRvLmluZGV4XTtcbiAgICBsZXQgbm9kZTJmb3JjZSA9IG5vZGVGb3JjZXNbX2VkZ2UudG8uaW5kZXhdO1xuXG4gICAgbGV0IGRpc3RhbmNlID0gZ2V0RGlzdGFuY2VCZXR3ZWVuVmVjcyhub2RlMXBvcyEsIG5vZGUycG9zISk7XG4gICAgZGlzdGFuY2UgPSBkaXN0YW5jZSA+PSAxID8gZGlzdGFuY2UgOiAxO1xuXG4gICAgY29uc3Qgbm9ybTEgPSBub3JtYWxpemVWZWMoc3ViVmVjcyhub2RlMnBvcyEsIG5vZGUxcG9zISkpO1xuICAgIGNvbnN0IG5vcm0yID0gbm9ybWFsaXplVmVjKHN1YlZlY3Mobm9kZTFwb3MhLCBub2RlMnBvcyEpKTtcblxuICAgIGNvbnN0IHYxID0gc3ViVmVjcyhub2RlMXZlbCEsIG5vZGUydmVsISk7XG4gICAgY29uc3QgdjIgPSBzdWJWZWNzKG5vZGUydmVsISwgbm9kZTF2ZWwhKTtcblxuICAgIGNvbnN0IHN0aWZmbmVzc1hkID0gc3RpZmZuZXNzICogKGRpc3RhbmNlIC0gcmVzdERpc3RhbmNlKTtcblxuICAgIGNvbnN0IGZ4MSA9IHN0aWZmbmVzc1hkICogKG5vcm0xLnggLyBkaXN0YW5jZSkgLSBkYW1waW5nICogdjEueDtcbiAgICBjb25zdCBmeTEgPSBzdGlmZm5lc3NYZCAqIChub3JtMS55IC8gZGlzdGFuY2UpIC0gZGFtcGluZyAqIHYxLnk7XG5cbiAgICBjb25zdCBmeDIgPSBzdGlmZm5lc3NYZCAqIChub3JtMi54IC8gZGlzdGFuY2UpIC0gZGFtcGluZyAqIHYyLng7XG4gICAgY29uc3QgZnkyID0gc3RpZmZuZXNzWGQgKiAobm9ybTIueSAvIGRpc3RhbmNlKSAtIGRhbXBpbmcgKiB2Mi55O1xuXG4gICAgbm9kZTFmb3JjZS54ICs9IGZ4MTtcbiAgICBub2RlMWZvcmNlLnkgKz0gZnkxO1xuXG4gICAgbm9kZTJmb3JjZS54ICs9IGZ4MjtcbiAgICBub2RlMmZvcmNlLnkgKz0gZnkyO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9